{"version":3,"sources":["../node_modules/three/build/three.module.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../src/raf.ts","helpers.ts","globals.ts","FrameLoop.ts","colorMatchers.ts","normalizeColor.ts","colorToRgba.ts","createInterpolator.ts","fluids.ts","stringInterpolation.ts","deprecations.ts","isAnimatedString.ts","hooks/useOnce.ts","hooks/useForceUpdate.ts","hooks/useMemoOne.ts","hooks/usePrev.ts","hooks/useLayoutEffect.ts","../node_modules/react/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/react/jsx-runtime.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toArray.js","../node_modules/use-asset/dist/index.js","../node_modules/react-use-measure/dist/web.js","../node_modules/@react-three/fiber/dist/react-three-fiber.esm.js","Animated.ts","AnimatedValue.ts","AnimatedString.ts","context.ts","AnimatedObject.ts","AnimatedArray.ts","getAnimatedType.ts","createHost.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/esm/extends.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/construct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/keycode-js/dist/keycode.esm.js","../node_modules/scheduler/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","../node_modules/@react-three/cannon/dist/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/set.js","../node_modules/postprocessing/build/postprocessing.esm.js","../node_modules/@react-three/postprocessing/dist/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/fast-deep-equal/index.js","../node_modules/object-assign/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/zustand/esm/index.js","../node_modules/immutable/dist/immutable.es.js","../node_modules/debounce/index.js","../node_modules/react-dom/index.js","AnimationConfig.ts","constants.ts","Animation.ts","scheduleProps.ts","AnimationResult.ts","runAsync.ts","FrameValue.ts","SpringPhase.ts","SpringValue.ts","Controller.ts","SpringContext.tsx","SpringRef.ts","hooks/useSprings.ts","hooks/useSpring.ts","Interpolation.ts","../node_modules/react-reconciler/index.js","../node_modules/zustand/shallow.js","../node_modules/three/examples/js/libs/stats.min.js","../node_modules/react/cjs/react.production.min.js","../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react-reconciler/cjs/react-reconciler.production.min.js","../node_modules/webpack/buildin/module.js","../node_modules/@react-three/drei/core/RoundedBox.js","../node_modules/@react-three/drei/core/Stars.js","../node_modules/@react-three/drei/core/softShadows.js","../node_modules/@react-three/drei/core/AdaptiveDpr.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@react-three/drei/helpers/glsl/distort.vert.glsl.js","../node_modules/@react-three/drei/core/MeshDistortMaterial.js","../../src/index.tsx","../node_modules/@react-three/drei/core/PerspectiveCamera.js","../node_modules/@react-three/drei/helpers/useEffectfulState.js","../node_modules/@react-three/drei/core/Stats.js"],"names":["REVISION","MOUSE","LEFT","MIDDLE","RIGHT","ROTATE","DOLLY","PAN","TOUCH","DOLLY_PAN","DOLLY_ROTATE","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","CineonToneMapping","ACESFilmicToneMapping","CustomToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipMapNearestFilter","NearestMipmapLinearFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipMapNearestFilter","LinearMipmapLinearFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RedFormat","RedIntegerFormat","RGFormat","RGIntegerFormat","RGBIntegerFormat","RGBAIntegerFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGB_ETC2_Format","RGBA_ETC2_EAC_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","RGBA_BPTC_Format","SRGB8_ALPHA8_ASTC_4x4_Format","SRGB8_ALPHA8_ASTC_5x4_Format","SRGB8_ALPHA8_ASTC_5x5_Format","SRGB8_ALPHA8_ASTC_6x5_Format","SRGB8_ALPHA8_ASTC_6x6_Format","SRGB8_ALPHA8_ASTC_8x5_Format","SRGB8_ALPHA8_ASTC_8x6_Format","SRGB8_ALPHA8_ASTC_8x8_Format","SRGB8_ALPHA8_ASTC_10x5_Format","SRGB8_ALPHA8_ASTC_10x6_Format","SRGB8_ALPHA8_ASTC_10x8_Format","SRGB8_ALPHA8_ASTC_10x10_Format","SRGB8_ALPHA8_ASTC_12x10_Format","SRGB8_ALPHA8_ASTC_12x12_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","NormalAnimationBlendMode","AdditiveAnimationBlendMode","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp","NeverStencilFunc","LessStencilFunc","EqualStencilFunc","LessEqualStencilFunc","GreaterStencilFunc","NotEqualStencilFunc","GreaterEqualStencilFunc","AlwaysStencilFunc","StaticDrawUsage","DynamicDrawUsage","StreamDrawUsage","StaticReadUsage","DynamicReadUsage","StreamReadUsage","StaticCopyUsage","DynamicCopyUsage","StreamCopyUsage","GLSL1","GLSL3","EventDispatcher","type","listener","undefined","this","_listeners","listeners","indexOf","push","listenerArray","index","splice","event","target","array","slice","i","l","length","call","_lut","toString","_seed","DEG2RAD","Math","PI","RAD2DEG","generateUUID","d0","random","d1","d2","d3","toUpperCase","clamp","value","min","max","euclideanModulo","n","m","lerp","x","y","t","isPowerOfTwo","ceilPowerOfTwo","pow","ceil","log","LN2","floorPowerOfTwo","floor","MathUtils","Object","freeze","__proto__","mapLinear","a1","a2","b1","b2","inverseLerp","damp","lambda","dt","exp","pingpong","abs","smoothstep","smootherstep","randInt","low","high","randFloat","randFloatSpread","range","seededRandom","s","degToRad","degrees","radToDeg","radians","setQuaternionFromProperEuler","q","a","b","c","order","cos","sin","c2","s2","c13","s13","c1_3","s1_3","c3_1","s3_1","set","console","warn","Vector2","scalar","Error","constructor","v","w","addVectors","subVectors","multiplyScalar","e","elements","minVal","maxVal","divideScalar","round","sqrt","angle","atan2","distanceToSquared","dx","dy","normalize","alpha","v1","v2","offset","attribute","getX","getY","center","prototype","isVector2","_canvas","Matrix3","arguments","error","n11","n12","n13","n21","n22","n23","n31","n32","n33","te","me","xAxis","yAxis","zAxis","setFromMatrix3Column","multiplyMatrices","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","d","f","g","h","t11","t12","t13","det","detInv","tmp","matrix4","setFromMatrix4","invert","transpose","r","tx","ty","sx","sy","rotation","cx","cy","theta","matrix","fromArray","isMatrix3","ImageUtils","image","test","src","HTMLCanvasElement","canvas","document","createElementNS","width","height","context","getContext","ImageData","putImageData","drawImage","toDataURL","textureId","Texture","DEFAULT_IMAGE","mapping","DEFAULT_MAPPING","wrapS","wrapT","magFilter","minFilter","format","anisotropy","encoding","defineProperty","uuid","name","mipmaps","internalFormat","repeat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","version","onUpdate","setUvTransform","copy","source","meta","isRootObject","textures","output","metadata","generator","wrap","images","url","Array","isArray","isDataTexture","serializeImage","dispatchEvent","uv","applyMatrix3","HTMLImageElement","ImageBitmap","getDataURL","data","isTexture","Vector4","z","acos","epsilon","epsilon2","m11","m12","m13","m21","m22","m23","m31","m32","m33","xx","yy","zz","xy","xz","yz","getZ","getW","isVector4","WebGLRenderTarget","options","depth","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","dispose","clone","isWebGLRenderTarget","WebGLMultisampleRenderTarget","samples","isWebGLMultisampleRenderTarget","Quaternion","_x","_y","_z","_w","_onChangeCallback","quaternion","euler","update","isEuler","_order","c1","c3","s1","s3","axis","halfAngle","trace","vFrom","vTo","dot","Number","EPSILON","step","angleTo","slerp","conjugate","p","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","qb","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","qa","callback","qm","slerpQuaternions","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","len","tDir","isQuaternion","Vector3","multiplyVectors","applyQuaternion","_quaternion$4","setFromEuler","setFromAxisAngle","qx","qy","qz","qw","ix","iy","iz","iw","camera","applyMatrix4","matrixWorldInverse","projectionMatrix","projectionMatrixInverse","matrixWorld","crossVectors","ax","ay","az","bx","by","bz","denominator","lengthSq","planeNormal","_vector$c","projectOnVector","sub","normal","dz","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindricalCoords","setFromMatrixColumn","sz","isVector3","Box3","Infinity","minX","minY","minZ","maxX","maxY","maxZ","count","points","makeEmpty","il","expandByPoint","size","halfSize","_vector$b","add","object","expandByObject","box","isEmpty","point","vector","addScalar","updateWorldMatrix","geometry","boundingBox","computeBoundingBox","_box$3","union","children","sphere","clampPoint","plane","constant","triangle","getCenter","_center","_extents","_v0$2","_v1$7","_v2$3","_f0","_f1","_f2","axes","satForAxes","_triangleNormal","getSize","_points","setFromPoints","equals","isBox3","_testAxis","v0","extents","j","p0","p1","p2","_box$2","_v1$6","_toFarthestPoint","_toPoint","Sphere","optionalCenter","maxRadiusSq","distanceTo","radiusSum","intersectsSphere","distanceToPoint","deltaLengthSq","expandByScalar","getMaxScaleOnAxis","missingRadiusHalf","_vector$a","_segCenter","_segDir","_diff","_edge1","_edge2","_normal$1","Ray","origin","direction","ray","at","directionDistance","distanceSqToPoint","optionalPointOnRay","optionalPointOnSegment","s0","sqrDist","extDet","segExtent","a01","b0","invDet","tca","radius2","thc","t0","t1","distanceToPlane","distToPoint","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectBox","backfaceCulling","sign","DdN","DdQxE2","DdE1xQ","cross","QdN","transformDirection","Matrix4","n14","n24","n34","n41","n42","n43","n44","scaleX","_v1$5","scaleY","scaleZ","af","bf","ce","cf","de","df","ac","ad","bc","bd","compose","_zero","_one","eye","up","a14","a24","a34","a41","a42","a43","a44","b14","b24","b34","b41","b42","b43","b44","t14","scaleXSq","scaleYSq","scaleZSq","position","scale","x2","y2","z2","wx","wy","wz","determinant","_m1$2","invSX","invSY","invSZ","setFromRotationMatrix","left","right","top","bottom","near","far","isMatrix4","_matrix$1","_quaternion$3","Euler","DefaultOrder","asin","makeRotationFromQuaternion","newOrder","setFromQuaternion","optionalResult","RotationOrders","Layers","mask","channel","layers","_object3DId","_v1$4","_q1","_m1$1","_target","_position$3","_scale$2","_quaternion$2","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","parent","DefaultUp","_onChange","defineProperties","configurable","enumerable","modelViewMatrix","normalMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","animations","userData","updateMatrix","premultiply","decompose","multiply","rotateOnAxis","distance","translateOnAxis","setFromMatrixPosition","isCamera","isLight","lookAt","extractRotation","isObject3D","remove","id","getObjectByProperty","traverse","traverseVisible","traverseAncestors","force","updateMatrixWorld","updateParents","updateChildren","geometries","materials","shapes","skeletons","serialize","library","element","toJSON","JSON","stringify","toArray","isInstancedMesh","instanceMatrix","instanceColor","isMesh","isLine","isPoints","parameters","shape","isSkinnedMesh","bindMode","bindMatrix","skeleton","material","uuids","animation","extractFromCache","cache","values","key","recursive","parse","child","_vector1","_vector2$1","_normalMatrix","Plane","setFromNormalAndCoplanarPoint","inverseNormalLength","negate","line","delta","start","startSign","endSign","end","intersectsPlane","optionalNormalMatrix","getNormalMatrix","referencePoint","coplanarPoint","isPlane","_v0$1","_v1$3","_v2$2","_v3$1","_vab","_vac","_vbc","_vap","_vbp","_vcp","Triangle","i0","i1","i2","getNormal","setFromCoplanarPoints","getBarycoord","uv1","uv2","uv3","getUV","containsPoint","isFrontFacing","intersectsTriangle","d4","vc","addScaledVector","d5","d6","vb","va","denom","targetLengthSq","dot00","dot01","dot02","dot11","dot12","invDenom","u","p3","materialId","Material","fog","blending","side","vertexColors","opacity","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","alphaToCoverage","premultipliedAlpha","toneMapped","assign","create","isMaterial","onBuild","onBeforeCompile","customProgramCacheKey","setValues","newValue","currentValue","isColor","flatShading","isRoot","color","getHex","roughness","metalness","sheen","emissive","emissiveIntensity","specular","shininess","clearcoat","clearcoatRoughness","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","clearcoatNormalScale","map","matcap","alphaMap","lightMap","lightMapIntensity","aoMap","aoMapIntensity","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","envMap","combine","envMapIntensity","reflectivity","refractionRatio","gradientMap","sizeAttenuation","linewidth","dashSize","gapSize","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","morphTargets","morphNormals","skinning","srcPlanes","dstPlanes","_colorKeywords","_hslA","_hslB","hue2rgb","SRGBToLinear","LinearToSRGB","Color","setRGB","setHex","setStyle","hex","style","handleAlpha","string","parseFloat","exec","components","parseInt","setHSL","charAt","setColorName","toLowerCase","gammaFactor","safeInverse","copyGammaToLinear","copyLinearToGamma","copySRGBToLinear","copyLinearToSRGB","hue","saturation","lightness","getHSL","color1","color2","normalized","NAMES","MeshBasicMaterial","isMeshBasicMaterial","_vector$9","_vector2","BufferAttribute","itemSize","TypeError","usage","updateRange","onUploadCallback","index1","index2","colors","vectors","fromBufferAttribute","setXY","setXYZ","applyNormalMatrix","isBufferAttribute","Int8BufferAttribute","Int8Array","Uint8BufferAttribute","Uint8Array","Uint8ClampedBufferAttribute","Uint8ClampedArray","Int16BufferAttribute","Int16Array","Uint16BufferAttribute","Uint16Array","Int32BufferAttribute","Int32Array","Uint32BufferAttribute","Uint32Array","Float16BufferAttribute","isFloat16BufferAttribute","Float32BufferAttribute","Float32Array","Float64BufferAttribute","Float64Array","arrayMax","TYPED_ARRAYS","getTypedArray","buffer","_id","_m1","_obj","_offset","_box$1","_boxMorphTargets","_vector$8","BufferGeometry","attributes","morphAttributes","morphTargetsRelative","groups","boundingSphere","drawRange","materialIndex","needsUpdate","tangent","computeBoundingSphere","makeRotationX","makeRotationY","makeRotationZ","makeTranslation","makeScale","translate","setAttribute","morphAttributesPosition","isGLBufferAttribute","setFromBufferAttribute","morphAttribute","isNaN","jl","indices","positions","normals","uvs","nVertices","tangents","tan1","tan2","vA","vB","vC","uvA","uvB","uvC","sdir","tdir","group","handleTriangle","tmp2","n2","handleVertex","isFinite","positionAttribute","getAttribute","normalAttribute","pA","pB","pC","nA","nB","nC","cb","ab","normalizeNormals","isBufferGeometry","attributeArray1","attribute2","attributeArray2","attributeOffset","convertBufferAttribute","array2","geometry2","newAttribute","morphArray","addGroup","keys","hasMorphAttributes","attributeArray","setIndex","_inverseMatrix$2","_ray$2","_sphere$3","_vA$1","_vB$1","_vC$1","_tempA","_tempB","_tempC","_morphA","_morphB","_morphC","_uvA$1","_uvB$1","_uvC$1","_intersectionPoint","_intersectionPointWorld","Mesh","updateMorphTargets","morphTargetInfluences","morphTargetDictionary","ml","String","raycaster","intersects","intersection","intersectsBox","morphPosition","groupMaterial","checkBufferGeometryIntersection","faceIndex","face","isGeometry","morphInfluences","influence","boneTransform","intersectTriangle","checkIntersection","BoxGeometry","widthSegments","heightSegments","depthSegments","scope","vertices","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","cloneUniforms","property","mergeUniforms","uniforms","merged","UniformsUtils","merge","ShaderMaterial","defines","vertexShader","fragmentShader","lights","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","glslVersion","isShaderMaterial","Camera","PerspectiveCamera","fov","aspect","zoom","focus","view","filmGauge","filmOffset","updateProjectionMatrix","focalLength","vExtentSlope","getFilmHeight","atan","tan","fullWidth","fullHeight","enabled","offsetX","offsetY","skew","getFilmWidth","makePerspective","isPerspectiveCamera","CubeCamera","renderTarget","isWebGLCubeRenderTarget","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","renderer","scene","currentXrEnabled","xr","currentRenderTarget","getRenderTarget","setRenderTarget","render","CubeTexture","_needsFlipEnvMap","isCubeTexture","WebGLCubeRenderTarget","dummy","isInteger","shader","tEquirect","mesh","currentMinFilter","stencil","clear","DataTexture","_sphere$2","_vector$7","Frustum","p4","p5","planes","frustum","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","setComponents","sprite","negRadius","WebGLAnimation","isAnimating","animationLoop","requestId","onAnimationFrame","time","frame","requestAnimationFrame","stop","cancelAnimationFrame","setAnimationLoop","setContext","WebGLAttributes","gl","capabilities","isWebGL2","buffers","WeakMap","get","isInterleavedBufferAttribute","deleteBuffer","delete","bufferType","cached","bytesPerElement","elementSize","createBuffer","bindBuffer","bufferData","BYTES_PER_ELEMENT","bufferSubData","subarray","updateBuffer","PlaneGeometry","width_half","height_half","segment_width","segment_height","ShaderChunk","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","common","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_physical_pars_fragment","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","lights_toon_fragment","lights_toon_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","transmissionmap_fragment","transmissionmap_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","background_frag","background_vert","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshmatcap_frag","meshmatcap_vert","meshtoon_frag","meshtoon_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","sprite_frag","sprite_vert","UniformsLib","diffuse","uvTransform","uv2Transform","specularmap","envmap","flipEnvMap","maxMipLevel","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","properties","directionalLightShadows","shadowBias","shadowNormalBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotLightShadows","spotShadowMap","spotShadowMatrix","pointLights","pointLightShadows","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","ltc_1","ltc_2","ShaderLib","basic","lambert","phong","standard","toon","dashed","totalSize","background","t2D","cube","equirect","distanceRGBA","referencePosition","nearDistance","farDistance","shadow","WebGLBackground","cubemaps","state","objects","planeMesh","boxMesh","clearColor","clearAlpha","currentBackground","currentBackgroundVersion","currentTonemapping","setClear","getClearColor","setClearColor","getClearAlpha","setClearAlpha","renderList","forceClear","isScene","session","getSession","environmentBlendMode","autoClear","autoClearColor","autoClearDepth","autoClearStencil","deleteAttribute","onBeforeRender","copyPosition","toneMapping","unshift","WebGLBindingStates","maxVertexAttributes","getParameter","extension","vaoAvailable","bindingStates","defaultState","createBindingState","currentState","bindVertexArrayObject","vao","bindVertexArray","bindVertexArrayOES","deleteVertexArrayObject","deleteVertexArray","deleteVertexArrayOES","newAttributes","enabledAttributes","attributeDivisors","program","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","vertexAttribPointer","stride","vertexAttribIPointer","reset","resetDefaultState","setup","updateBuffers","programMap","stateMap","createVertexArray","createVertexArrayOES","getBindingState","cachedAttributes","geometryAttributes","attributesNum","cachedAttribute","geometryAttribute","saveCache","isInstancedBufferGeometry","programAttributes","getAttributes","materialDefaultAttributeValues","programAttribute","isInstancedInterleavedBuffer","_maxInstanceCount","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","setupVertexAttributes","geometryId","programId","releaseStatesOfGeometry","releaseStatesOfProgram","WebGLBufferRenderer","info","mode","setMode","drawArrays","renderInstances","primcount","methodName","WebGLCapabilities","maxAnisotropy","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","WebGL2ComputeRenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","has","getMaxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","uniform","resetGlobalState","numPlanes","numIntersection","projectPlanes","skipTransform","nPlanes","dstArray","flatSize","viewMatrix","i4","init","enableLocalClipping","beginShadows","endShadows","setState","useCache","materialProperties","nGlobal","lGlobal","clippingState","WebGLCubeMaps","mapTextureMapping","onTextureDispose","removeEventListener","cubemap","fromEquirectangularTexture","addEventListener","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","memory","updateWireframeAttribute","geometryIndex","geometryPosition","previousAttribute","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","programs","autoReset","instanceCount","numericalSort","absNumericalSort","WebGLMorphtargets","influencesList","workInfluences","objectInfluences","influences","sort","MAX_SAFE_INTEGER","morphInfluencesSum","hasAttribute","morphBaseInfluence","getUniforms","setValue","WebGLObjects","updateMap","onInstancedMeshDispose","instancedMesh","buffergeometry","hasEventListener","physical","transmission","transmissionMap","DataTexture2DArray","wrapR","isDataTexture2DArray","DataTexture3D","isDataTexture3D","emptyTexture","emptyTexture2dArray","emptyTexture3d","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","copyArray","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueV1i","uniform1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","setValueV1ui","uniform1ui","setValueV2ui","uniform2uiv","setValueV3ui","uniform3uiv","setValueV4ui","uniform4uiv","setValueT1","unit","safeSetTexture2D","setValueT3D1","setTexture3D","setValueT6","safeSetTextureCube","setValueT2DArray1","setTexture2DArray","setValueV1fArray","uniform1fv","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV1uiArray","uniform1uiv","setValueV2uiArray","setValueV3uiArray","setValueV4uiArray","setValueT1Array","units","setValueT6Array","SingleUniform","activeInfo","getSingularSetter","PureArrayUniform","getPureArraySetter","StructuredUniform","seq","updateCache","RePathPart","addUniform","container","uniformObject","parseUniform","path","pathLength","lastIndex","match","matchEnd","idIsIndex","subscript","next","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","WebGLShader","createShader","shaderSource","compileShader","setOptional","upload","seqWithValue","programIdCount","getEncodingComponents","getShaderErrors","status","getShaderParameter","getShaderInfoLog","trim","split","join","addLineNumbers","getShaderSource","getTexelDecodingFunction","functionName","getTexelEncodingFunction","getToneMappingFunction","toneMappingName","filterEmptyLine","replaceLightNums","replace","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numSpotLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includePattern","resolveIncludes","includeReplacer","include","deprecatedUnrollLoopPattern","unrollLoopPattern","unrollLoops","loopReplacer","deprecatedLoopReplacer","snippet","generatePrecision","precisionstring","WebGLProgram","cacheKey","prefixVertex","prefixFragment","shadowMapTypeDefine","shadowMapType","generateShadowMapTypeDefine","envMapTypeDefine","envMapMode","generateEnvMapTypeDefine","envMapModeDefine","generateEnvMapModeDefine","envMapBlendingDefine","generateEnvMapBlendingDefine","gammaFactorDefine","customExtensions","extensionDerivatives","envMapCubeUV","tangentSpaceNormalMap","shaderID","extensionFragDepth","rendererExtensionFragDepth","extensionDrawBuffers","rendererExtensionDrawBuffers","extensionShaderTextureLOD","rendererExtensionShaderTextureLod","filter","generateExtensions","customDefines","chunks","generateDefines","createProgram","versionString","isRawShaderMaterial","shaderName","instancing","instancingColor","supportsVertexTextures","maxBones","useFog","fogExp2","objectSpaceNormalMap","vertexTangents","vertexAlphas","vertexUvs","uvsVertexOnly","useVertexTexture","doubleSided","flipSided","shadowMapEnabled","physicallyCorrectLights","mapEncoding","matcapEncoding","envMapEncoding","emissiveMapEncoding","lightMapEncoding","outputEncoding","depthPacking","cachedUniforms","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","vertexErrors","fragmentErrors","getError","diagnostics","prefix","deleteShader","getActiveAttrib","getAttribLocation","fetchAttributeLocations","destroy","deleteProgram","usedTimes","WebGLPrograms","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","parameterNames","getTextureEncodingFromMap","getParameters","shadows","environment","isMeshStandardMaterial","bones","nVertexUniforms","nVertexMatrices","getMaxBones","isFogExp2","directional","spot","rectArea","hemi","shadowMap","getProgramCacheKey","acquireProgram","pl","preexistingProgram","releaseProgram","pop","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","defaultProgram","getNextRenderItem","renderItem","finish","customOpaqueSort","customTransparentSort","WebGLRenderLists","lists","renderCallDepth","list","UniformsCache","light","halfWidth","halfHeight","nextVersion","shadowCastingLightsFirst","lightA","lightB","WebGLLights","shadowCache","ShadowUniformsCache","hash","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","ambient","probe","directionalShadow","spotShadow","rectAreaLTC1","rectAreaLTC2","pointShadow","vector3","matrix42","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","shadowUniforms","bias","normalBias","mapSize","isSpotLight","penumbra","isRectAreaLight","isPointLight","isHemisphereLight","LTC_FLOAT_1","LTC_FLOAT_2","LTC_HALF_1","LTC_HALF_2","setupView","identity","WebGLRenderState","lightsArray","shadowsArray","setupLights","setupLightsView","pushLight","pushShadow","shadowLight","WebGLRenderStates","renderStates","renderState","isMeshDepthMaterial","isMeshDistanceMaterial","WebGLShadowMap","_renderer","_objects","_capabilities","_frustum","_shadowMapSize","_viewportSize","_viewport","_depthMaterials","_distanceMaterials","_materialCache","_maxTextureSize","0","1","2","shadowMaterialVertical","SAMPLE_RATE","HALF_SAMPLE_RATE","shadow_pass","resolution","shadowMaterialHorizontal","HORIZONTAL_PASS","fullScreenTri","fullScreenMesh","VSMPass","mapPass","renderBufferDirect","getDepthMaterialVariant","useMorphing","useSkinning","useInstancing","getDistanceMaterialVariant","getDepthMaterial","result","getMaterialVariant","customMaterial","customDepthMaterial","customDistanceMaterial","keyA","keyB","materialsForVariant","cachedMaterial","renderObject","shadowCamera","intersectsObject","k","kl","depthMaterial","autoUpdate","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","shadowFrameExtents","getFrameExtents","isPointLightShadow","pars","viewportCount","getViewportCount","vp","getViewport","updateMatrices","getFrustum","WebGLState","colorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","currentDepthMask","currentDepthFunc","currentDepthClear","enable","disable","depthMask","setFunc","clearDepth","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","setOp","stencilOp","clearStencil","enabledCapabilities","xrFramebuffer","currentBoundFramebuffers","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","setFlipSided","setCullFace","equationToGL","MIN_EXT","MAX_EXT","factorToGL","blendEquationSeparate","blendFuncSeparate","blendFunc","frontFace","cullFace","setPolygonOffset","factor","activeTexture","webglSlot","bindFramebuffer","framebuffer","bindXRFramebuffer","useProgram","setMaterial","frontFaceCW","setLineWidth","lineWidth","webglType","webglTexture","boundTexture","unbindTexture","compressedTexImage2D","apply","texImage3D","WebGLTextures","_gl","utils","_videoTextures","useOffscreenCanvas","OffscreenCanvas","err","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","isPowerOfTwo$1","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","__maxMipLevel","log2","getInternalFormat","internalFormatName","glFormat","glType","filterFallback","textureProperties","__webglInit","deleteTexture","__webglTexture","deallocateTexture","isVideoTexture","onRenderTargetDispose","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","deallocateRenderTarget","textureUnits","setTexture2D","slot","updateVideoTexture","__version","complete","uploadTexture","setTextureCube","initTexture","pixelStorei","isCompressed","isCompressedTexture","cubeImage","convert","glInternalFormat","setTextureParameters","mipmap","mipmapImage","uploadCubeTexture","wrappingToGL","filterToGL","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","textureNeedsPowerOfTwo","isDepthTexture","setupFrameBufferTexture","attachment","textureTarget","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","getRenderTargetSamples","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","setupDepthRenderbuffer","isCube","webglDepthTexture","setupDepthTexture","createRenderbuffer","warnedTexture2D","warnedTextureCube","textureUnit","resetTextureUnits","setupRenderTarget","isRenderTarget3D","createFramebuffer","glTextureType","updateRenderTargetMipmap","updateMultisampleRenderTarget","blitFramebuffer","WebGLUtils","HALF_FLOAT_OES","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_RGB8_ETC2","COMPRESSED_RGBA8_ETC2_EAC","UNSIGNED_INT_24_8_WEBGL","ArrayCamera","cameras","isArrayCamera","Group","isGroup","_moveEvent","WebXRController","_targetRay","_grip","_hand","joints","inputState","pinching","hasLinearVelocity","linearVelocity","hasAngularVelocity","angularVelocity","inputSource","referenceSpace","inputPose","gripPose","handPose","targetRay","grip","hand","visibilityState","getPose","targetRaySpace","transform","inputjoint","jointPose","getJointPose","jointName","joint","jointRadius","indexTip","thumbTip","distanceToPinch","handedness","gripSpace","WebXRManager","framebufferScaleFactor","referenceSpaceType","pose","controllers","inputSourcesMap","Map","cameraL","cameraR","cameraVR","_currentDepthNear","_currentDepthFar","onSessionEvent","controller","onSessionEnd","forEach","disconnect","isPresenting","onInputSourcesChange","inputSources","removed","added","getController","getTargetRaySpace","getControllerGrip","getGripSpace","getHand","getHandSpace","setFramebufferScaleFactor","setReferenceSpaceType","getReferenceSpace","setSession","getContextAttributes","xrCompatible","makeXRCompatible","layerInit","antialias","baseLayer","XRWebGLLayer","updateRenderState","requestReferenceSpace","cameraLPos","cameraRPos","updateCamera","getCamera","depthNear","depthFar","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","translateX","translateZ","near2","far2","left2","right2","top2","bottom2","setProjectionFromUnion","onAnimationFrameCallback","getViewerPose","views","cameraVRNeedsUpdate","WebGLMaterials","refreshUniformsCommon","uvScaleMap","uv2ScaleMap","refreshUniformsStandard","refreshFogUniforms","isFog","density","refreshMaterialUniforms","pixelRatio","isMeshLambertMaterial","refreshUniformsLambert","isMeshToonMaterial","refreshUniformsToon","isMeshPhongMaterial","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsPhysical","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","WebGLRenderer","display","createCanvasElement","_context","_alpha","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","currentRenderList","currentRenderState","renderListStack","renderStateStack","domElement","sortObjects","toneMappingExposure","_this","_isContextLost","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentMaterialId","_currentCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_opaqueSort","_transparentSort","_scissor","_scissorTest","_clippingEnabled","_localClippingEnabled","_projScreenMatrix","_vector3","_emptyScene","overrideMaterial","getTargetPixelRatio","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","contextNames","contextAttributes","contextName","onContextLost","onContextRestore","isWebGL1Renderer","shift","message","initGLContext","preventDefault","infoAutoReset","shadowMapAutoUpdate","shadowMapNeedsUpdate","onMaterialDispose","releaseMaterialProgramReferences","deallocateMaterial","forceContextLoss","loseContext","forceContextRestore","restoreContext","getPixelRatio","setPixelRatio","setSize","updateStyle","setViewport","getDrawingBufferSize","setDrawingBufferSize","getCurrentViewport","getScissor","setScissor","getScissorTest","boolean","setOpaqueSort","method","setTransparentSort","bits","onXRSessionStart","onXRSessionEnd","renderBufferImmediate","hasPositions","hasNormals","hasUvs","hasColors","positionArray","normalArray","uvArray","colorArray","setProgram","rangeFactor","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","compile","getProgram","projectObject","isLOD","intersectsSprite","isImmediateRenderObject","renderObjects","camera2","renderObjectImmediate","onAfterRender","lightsStateVersion","programCacheKey","updateCommonMaterialProperties","needsLights","materialNeedsLights","progUniforms","uniformsList","needsProgramChange","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","uCamPos","cameraPosition","isOrthographicCamera","boneTexture","boneMatrices","boneTextureSize","window","setFromProjectionMatrix","opaqueObjects","transparentObjects","layer","framebufferTextureLayer","readRenderTargetPixels","activeCubeFaceIndex","textureFormat","halfFloatSupportedByExt","checkFramebufferStatus","readPixels","copyFramebufferToTexture","level","levelScale","copyTexImage2D","copyTextureToTexture","srcTexture","dstTexture","texSubImage2D","compressedTexSubImage2D","copyTextureToTexture3D","sourceBox","glTarget","unpackRowLen","unpackImageHeight","unpackSkipPixels","unpackSkipRows","unpackSkipImages","texSubImage3D","resetState","__THREE_DEVTOOLS__","CustomEvent","detail","WebGL1Renderer","FogExp2","Fog","Scene","InterleavedBuffer","arrayBuffers","_uuid","ib","setUsage","isInterleavedBuffer","_vector$6","InterleavedBufferAttribute","interleavedBuffer","interleavedBuffers","_geometry","_intersectPoint","_worldScale","_mvPosition","_alignedPosition","_rotatedPosition","_viewWorldMatrix","_vA","_vB","_vC","_uvA","_uvB","_uvC","Sprite","float32Array","setFromMatrixScale","transformVertex","intersect","vertexPosition","mvPosition","_v1$2","_v2$1","LOD","_currentLevel","levels","addLevel","getObjectForDistance","raycast","_basePosition","_skinIndex","_skinWeight","_vector$5","_matrix","SkinnedMesh","bindMatrixInverse","calculateInverses","skinWeight","manhattanLength","setXYZW","skinIndex","weight","getComponent","boneIndex","boneInverses","Bone","isBone","_offsetMatrix","_identityMatrix","Skeleton","inverse","bone","json","boneInverse","_instanceLocalMatrix","_instanceWorldMatrix","_instanceIntersects","_mesh","InstancedMesh","raycastTimes","instanceId","getMatrixAt","linecap","linejoin","_start$1","_end$1","_inverseMatrix$1","_ray$1","_sphere$1","Line","lineDistances","threshold","params","localThreshold","localThresholdSq","vStart","vEnd","interSegment","interRay","distanceSqToSegment","_start","_end","LineSegments","LineLoop","_inverseMatrix","_ray","_sphere","_position$2","Points","testPoint","rayPointDistanceSq","intersectPoint","closestPointToPoint","distanceToRay","VideoTexture","video","requestVideoFrameCallback","updateVideo","readyState","HAVE_CURRENT_DATA","CompressedTexture","CanvasTexture","isCanvasTexture","DepthTexture","CircleGeometry","segments","thetaStart","thetaLength","vertex","segment","CylinderGeometry","radiusTop","radiusBottom","radialSegments","openEnded","indexArray","generateTorso","slope","indexRow","sinTheta","cosTheta","generateCap","centerIndexStart","centerIndexEnd","ConeGeometry","PolyhedronGeometry","vertexBuffer","uvBuffer","subdivide","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","applyRadius","generateUVs","azimuth","inclination","correctUVs","correctSeam","centroid","azi","correctUV","computeVertexNormals","DodecahedronGeometry","_v0","_v1$1","_normal","_triangle","EdgesGeometry","thresholdAngle","thresholdDot","indexAttr","getIndex","positionAttr","indexCount","indexArr","vertKeys","hashes","edgeData","jNext","vecHash0","vecHash1","reverseHash","index0","Earcut","holeIndices","dim","invSize","hasHoles","outerLen","outerNode","linkedList","prev","queue","steiner","getLeftmost","compareX","eliminateHole","filterPoints","eliminateHoles","earcutLinked","clockwise","last","sum","signedArea","insertNode","removeNode","again","area","ear","pass","zOrder","prevZ","nextZ","tail","numMerges","pSize","qSize","inSize","sortLinked","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","locallyInside","isValidDiagonal","splitPolygon","hole","hx","hy","mx","my","tanMin","sectorContainsSector","findHoleBridge","leftmost","px","py","intersectsPolygon","inside","middleInside","q1","q2","o1","o2","o3","o4","onSegment","num","Node","an","bp","ShapeUtils","contour","pts","holes","faces","removeDupEndPts","addContour","holeIndex","ExtrudeGeometry","verticesArray","addShape","placeholder","curveSegments","steps","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","amount","extrudePts","splineTube","binormal","position2","extrudeByPath","getSpacedPoints","computeFrenetFrames","shapePoints","extractPoints","isClockWise","reverse","hl","ahole","triangulateShape","concat","scalePt2","pt","vec","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","sf","v_trans_lensq","direction_eq","contourMovements","oneHoleMovements","holesMovements","verticesMovements","bs","vert","binormals","sidewalls","layeroffset","sl","slen1","slen2","f4","f3","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","buildLidFaces","buildSideFaces","toJSON$1","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","IcosahedronGeometry","LatheGeometry","phiStart","phiLength","inverseSegments","base","n1","OctahedronGeometry","ParametricGeometry","func","slices","stacks","EPS","pu","pv","sliceCount","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","radiusStep","thetaSegmentLevel","ShapeGeometry","indexOffset","shapeVertices","shapeHoles","shapeHole","SphereGeometry","thetaEnd","grid","verticesRow","uOffset","TetrahedronGeometry","TextGeometry","text","font","isFont","generateShapes","TorusGeometry","tube","tubularSegments","arc","TorusKnotGeometry","P1","P2","B","T","N","calculatePositionOnCurve","cu","su","quOverP","cs","TubeGeometry","closed","frames","P","generateBufferData","generateSegment","generateIndices","getPointAt","WireframeGeometry","edge","edges","o","ol","edge1","edge2","Geometries","BoxBufferGeometry","CircleBufferGeometry","ConeBufferGeometry","CylinderBufferGeometry","DodecahedronBufferGeometry","ExtrudeBufferGeometry","IcosahedronBufferGeometry","LatheBufferGeometry","OctahedronBufferGeometry","ParametricBufferGeometry","PlaneBufferGeometry","PolyhedronBufferGeometry","RingBufferGeometry","ShapeBufferGeometry","SphereBufferGeometry","TetrahedronBufferGeometry","TextBufferGeometry","TorusBufferGeometry","TorusKnotBufferGeometry","TubeBufferGeometry","RawShaderMaterial","ior","Materials","AnimationUtils","arraySlice","from","to","isTypedArray","convertArray","forceClone","ArrayBuffer","isView","DataView","getKeyframeOrder","times","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","subclip","sourceClip","startFrame","endFrame","fps","clip","tracks","track","valueSize","getValueSize","minStartTime","resetDuration","makeClipAdditive","targetClip","referenceFrame","referenceClip","numTracks","referenceTime","referenceTrack","referenceTrackType","ValueTypeName","targetTrack","find","referenceOffset","referenceValueSize","createInterpolant","isInterpolantFactoryMethodGLTFCubicSpline","targetOffset","targetValueSize","referenceValue","startIndex","endIndex","interpolant","evaluate","resultBuffer","numTimes","valueStart","multiplyQuaternionsFlat","valueEnd","blendMode","Interpolant","parameterPositions","sampleValues","sampleSize","_cachedIndex","settings","DefaultSettings_","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","copySampleValue_","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","getSettings_","halfDt","o0","oP","oN","wP","wN","ppp","sP","sN","LinearInterpolant","offset1","offset0","weight1","weight0","DiscreteInterpolant","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","factoryMethod","InterpolantFactoryMethodDiscrete","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","timeOffset","timeScale","startTime","endTime","nKeys","valid","prevTime","currTime","smoothInterpolation","getInterpolation","writeIndex","keep","offsetP","offsetN","readOffset","writeOffset","TypedKeyframeTrack","trackType","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","slerpFlat","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","duration","validate","optimize","jsonTracks","frameTime","parseKeyframeTrack","clipTracks","morphTargetSequence","noLoop","numMorphTargets","objectOrClipArray","clipArray","animationToMorphTargets","pattern","morphTarget","parts","animationMorphTargets","clips","CreateFromMorphTargetSequence","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","typeName","getTrackTypeForValueTypeName","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","handlers","onStart","itemStart","itemEnd","itemError","resolveURL","setURLModifier","addHandler","regex","loader","removeHandler","getHandler","global","DefaultLoadingManager","Loader","manager","crossOrigin","withCredentials","resourcePath","requestHeader","Promise","resolve","reject","load","loading","FileLoader","setTimeout","request","dataUriRegexResult","mimeType","isBase64","decodeURIComponent","atob","response","responseType","charCodeAt","Blob","parser","DOMParser","parseFromString","header","XMLHttpRequest","open","callbacks","overrideMimeType","setRequestHeader","send","AnimationLoader","setPath","setWithCredentials","CompressedTextureLoader","setResponseType","loaded","loadTexture","texDatas","mipmapCount","isCubemap","ImageLoader","onImageLoad","onImageError","substr","CubeTextureLoader","urls","setCrossOrigin","DataTextureLoader","texData","TextureLoader","isJPEG","search","Curve","arcLengthDivisions","optionalTarget","getUtoTmapping","getPoint","divisions","lengths","getLengths","cacheArcLengths","current","targetArcLength","arcLengths","comparison","lengthBefore","t2","pt1","pt2","getTangent","mat","getTangentAt","MAX_VALUE","tz","makeRotationAxis","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","twoPi","deltaAngle","samePoints","isEllipseCurve","ArcCurve","aRadius","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","isArcCurve","pz","CatmullRomCurve3","curveType","intPoint","CatmullRom","QuadraticBezier","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","CubicBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","isCatmullRomCurve3","CubicBezierCurve","v3","isCubicBezierCurve","CubicBezierCurve3","isCubicBezierCurve3","LineCurve","isLineCurve","LineCurve3","isLineCurve3","QuadraticBezierCurve","isQuadraticBezierCurve","QuadraticBezierCurve3","isQuadraticBezierCurve3","SplineCurve","isSplineCurve","Curves","CurvePath","curves","autoClose","curve","startPoint","endPoint","getLength","curveLengths","getCurveLengths","diff","segmentLength","lens","cacheLengths","sums","getPoints","fromJSON","Path","currentPoint","moveTo","lineTo","aCPx","aCPy","aCP1x","aCP1y","aCP2x","aCP2y","npts","absarc","absellipse","firstPoint","lastPoint","Shape","holesPts","getPointsHoles","Light","HemisphereLight","_projScreenMatrix$1","_lightPositionWorld$1","_lookTarget$1","LightShadow","_frameExtents","_viewportCount","_viewports","shadowMatrix","viewportIndex","SpotLightShadow","isSpotLightShadow","SpotLight","power","_lightPositionWorld","_lookTarget","PointLightShadow","_cubeDirections","_cubeUps","PointLight","OrthographicCamera","scaleW","scaleH","makeOrthographic","DirectionalLightShadow","isDirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","SphericalHarmonics3","coeff","shBasis","isSphericalHarmonics3","LightProbe","MaterialLoader","getTexture","shading","LoaderUtils","TextDecoder","decode","fromCharCode","escape","lastIndexOf","InstancedBufferGeometry","InstancedBufferAttribute","BufferGeometryLoader","interleavedBufferMap","arrayBufferMap","getInterleavedBuffer","arrayBuffer","getArrayBuffer","typedArray","bufferAttribute","drawcalls","offsets","ObjectLoader","extractUrlBase","parseAnimations","parseShapes","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseSkeletons","bindSkeletons","hasImages","geometryShapes","bufferGeometryLoader","details","setTextures","deserializeImage","loadImage","deserializedImage","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","objectAnimations","bind","setResourcePath","ImageBitmapLoader","createImageBitmap","fetch","fetchOptions","credentials","headers","then","res","blob","colorSpaceConversion","imageBitmap","catch","isImageBitmapLoader","ShapePath","subPaths","currentPath","quadraticCurveTo","bezierCurveTo","splineThru","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","tmpPoints","tmpHoles","betterShapeHoles","newShapes","newShapeHoles","mainIdx","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","froms","tos","Font","paths","createPaths","toShapes","chars","line_height","yMax","yMin","underlineThickness","char","ret","createPath","glyph","glyphs","cpx","cpy","cpx1","cpy1","cpx2","cpy2","outline","_cachedOutline","ha","familyName","FontLoader","substring","AudioContext","webkitAudioContext","AudioLoader","bufferCopy","decodeAudioData","audioBuffer","HemisphereLightProbe","sky","ground","isHemisphereLightProbe","AmbientLightProbe","isAmbientLightProbe","_eyeRight","_eyeLeft","StereoCamera","eyeSep","_cache","xmin","xmax","eyeSepHalf","eyeSepOnProjection","ymax","Clock","autoStart","oldTime","elapsedTime","running","now","getElapsedTime","getDelta","newTime","performance","Date","_position$1","_quaternion$1","_scale$1","_orientation$1","AudioListener","gain","createGain","connect","destination","timeDelta","_clock","setTargetAtTime","currentTime","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setPosition","setOrientation","Audio","getInput","autoplay","detune","loop","loopStart","loopEnd","playbackRate","isPlaying","hasPlaybackControl","sourceType","_startedAt","_progress","_connected","filters","audioNode","mediaElement","createMediaElementSource","mediaStream","createMediaStreamSource","play","delay","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","getOutput","getFilters","setFilters","_position","_quaternion","_scale","_orientation","PositionalAudio","panner","createPanner","panningModel","refDistance","rolloffFactor","distanceModel","maxDistance","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getByteFrequencyData","getFrequencyData","PropertyMixer","binding","mixFunction","mixFunctionAdditive","setIdentity","_slerp","_slerpAdditive","_setAdditiveIdentityQuaternion","_workIndex","_select","_setAdditiveIdentityOther","_lerp","_lerpAdditive","_setAdditiveIdentityNumeric","_mixBufferRegion","_mixBufferRegionAdditive","_setIdentity","_origIndex","_addIndex","cumulativeWeight","cumulativeWeightAdditive","useCount","referenceCount","accuIndex","currentWeight","mix","weightAdditive","originalValueOffset","getValue","targetIndex","workOffset","_RESERVED_CHARS_RE","_reservedRe","RegExp","_wordChar","_wordCharOrDot","_directoryRe","_nodeRe","_objectRe","_propertyRe","_trackRe","_supportedObjectNames","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","unbind","rootNode","node","findNode","nodeName","_getValue_unbound","_setValue_unbound","resolvedProperty","propertyIndex","targetObject","dest","targetArray","sourceArray","objectName","_getValue_unavailable","_setValue_unavailable","objectIndex","nodeProperty","versioning","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","bindingType","BindingType","Direct","ArrayElement","HasFromToArray","EntireArray","GetterByBindingType","SetterByBindingTypeAndVersioning","root","isAnimationObjectGroup","matches","results","lastDot","getBoneByName","subTreeNode","searchNodeSubtree","childNode","_getValue_direct","_getValue_array","_getValue_arrayElement","_getValue_toArray","_setValue_direct","_setValue_direct_setNeedsUpdate","_setValue_direct_setMatrixWorldNeedsUpdate","_setValue_array","_setValue_array_setNeedsUpdate","_setValue_array_setMatrixWorldNeedsUpdate","_setValue_arrayElement","_setValue_arrayElement_setNeedsUpdate","_setValue_arrayElement_setMatrixWorldNeedsUpdate","_setValue_fromArray","_setValue_fromArray_setNeedsUpdate","_setValue_fromArray_setMatrixWorldNeedsUpdate","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","total","indicesByUUID","parsedPaths","nBindings","knownObject","nObjects","nCachedObjects","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","lastObject","indicesByPath","lastBindingsIndex","lastBindings","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","_isActiveAction","_scheduleFading","fadeOutAction","warp","fadeOut","fadeIn","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","fadeInAction","crossFadeFrom","weightInterpolant","_takeBackControlInterpolant","action","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","_root","deltaTime","timeDirection","timeRunning","_updateTimeScale","clipTime","_updateTime","_updateWeight","propertyMixers","accumulateAdditive","accumulate","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","AnimationMixer","_initMemoryManager","_accuIndex","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","_bindAction","knownActions","_addInactiveAction","_lendBinding","saveOriginalState","_lendAction","restoreOriginalState","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","optionalRoot","clipObject","findByName","existingAction","newAction","nActions","_update","timeInSeconds","actionsToRemove","_removeInactiveAction","Uniform","InstancedInterleavedBuffer","GLBufferAttribute","Raycaster","coords","unproject","intersectObject","ascSort","Spherical","other","setFromCartesianCoords","Cylindrical","_vector$4","Box2","isBox2","_startP","_startEnd","Line3","clampToLine","startEnd2","closestPointToPointParameter","ImmediateRenderObject","_vector$3","SpotLightHelper","cone","coneLength","coneWidth","_vector$2","_boneMatrix","_matrixWorldInv","SkeletonHelper","getBoneList","isSkeletonHelper","boneList","PointLightHelper","sphereSize","_vector$1","_color1","_color2","HemisphereLightHelper","rotateY","GridHelper","PolarGridHelper","radials","circles","_v1","_v2","_v3","DirectionalLightHelper","lightPlane","targetLine","_vector","_camera","CameraHelper","pointMap","colorFrustum","colorCone","colorUp","colorTarget","colorCross","addLine","addPoint","setPoint","_lineGeometry","_coneGeometry","_box","BoxHelper","setFromObject","Box3Helper","PlaneHelper","positions2","_axis","ArrowHelper","headLength","headWidth","setDirection","setLength","AxesHelper","_floatView","_int32View","DataUtils","val","SIZE_MAX","EXTRA_LOD_SIGMA","TOTAL_LODS","LOD_MAX","MAX_SAMPLES","ENCODINGS","backgroundMaterial","backgroundBox","_flatCamera","_createPlanes","_lodPlanes","_sizeLods","_sigmas","_clearColor","_oldTarget","PHI","INV_PHI","_axisDirections","convertLinearToRGBE","maxComponent","fExp","PMREMGenerator","_pingPongRenderTarget","_blurMaterial","weights","poleAxis","_getBlurShader","_equirectShader","_cubemapShader","_compileMaterial","sigma","cubeUVRenderTarget","_allocateTargets","_sceneToCubeUV","_blur","_applyPMREM","_cleanup","equirectangular","_fromTexture","_getCubemapShader","_getEquirectShader","outputTarget","_setViewport","_textureToCubeUV","_isLDR","_createRenderTarget","tmpMesh","cubeCamera","upSign","forwardSign","originalAutoClear","useSolidColor","convertSRGBToLinear","col","lodIn","lodOut","pingPongRenderTarget","_halfBlur","targetIn","targetOut","sigmaRadians","blurMaterial","blurMesh","blurUniforms","pixels","radiansPerPixel","sigmaPixels","outputSize","lod","sizeLod","texelSize","positionSize","uvSize","faceIndexSize","coordinates","fill","LineStrip","LinePieces","NoColors","FaceColors","VertexColors","MeshFaceMaterial","MultiMaterial","isMultiMaterial","PointCloud","Particle","ParticleSystem","PointCloudMaterial","ParticleBasicMaterial","ParticleSystemMaterial","Vertex","DynamicBufferAttribute","Int8Attribute","Uint8Attribute","Uint8ClampedAttribute","Int16Attribute","Uint16Attribute","Int32Attribute","Uint32Attribute","Float32Attribute","Float64Attribute","AxisHelper","BoundingBoxHelper","EdgesHelper","WireframeHelper","XHRLoader","BinaryTextureLoader","WebGLRenderTargetCube","CanvasRenderer","JSONLoader","construct","fromPoints","setColors","Handlers","empty","isIntersectionBox","isIntersectionSphere","setFromMatrix","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBufferAttribute","applyToVector3Array","getInverse","extractPosition","getPosition","setRotationFromQuaternion","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateX","rotateZ","rotateByAxis","makeFrustum","isIntersectionLine","intersectsLine","isIntersectionPlane","getArea","barycoordFromPoint","midpoint","getMidpoint","prototypenormal","getPlane","extractAllPoints","extrude","makeGeometry","fromAttribute","distanceToManhattan","manhattanDistanceTo","lengthManhattan","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","getChildByName","getObjectByName","renderDepth","getWorldRotation","applyMatrix","eulerOrder","useQuaternion","setDrawMode","drawMode","initBones","setLens","setFocalLength","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","dynamic","setDynamic","copyIndicesArray","setArray","addIndex","addAttribute","addDrawCall","clearDrawCalls","clearGroups","computeOffsets","removeAttribute","getArrays","addShapeList","wrapAround","overdraw","wrapRGB","clearTarget","animate","getCurrentRenderTarget","getPrecision","resetGLState","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","initMaterial","addPrePlugin","addPostPlugin","updateShadowMap","setFaceCulling","allocTextureUnit","setTexture","getActiveMipMapLevel","shadowMapCullFace","vr","gammaInput","gammaOutput","toneMappingWhitePoint","renderReverseSided","renderSingleSided","setBuffer","getData","updateCubeMap","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","SceneUtils","createMultiMaterialObject","detach","attach","LensFlare","revision","__THREE__","_classCallCheck","instance","Constructor","raf","fn","onStartQueue","updateQueue","onFrameQueue","writeQueue","onFinishQueue","matchers.hex6","G.colors","matchers.rgb","matchers.rgba","matchers.hex3","matchers.hex8","matchers.hex4","matchers.hsl","matchers.hsla","normalizeColor2","G.createStringInterpolator","colorToRgba2","createInterpolator2","React.useLayoutEffect","React.useEffect","module","exports","require","_inherits","subClass","superClass","writable","_createSuper","Derived","hasNativeReflectConstruct","Super","NewTarget","Reflect","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_getPrototypeOf","setPrototypeOf","getPrototypeOf","_get","receiver","desc","getOwnPropertyDescriptor","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","_objectSpread2","getOwnPropertyDescriptors","_slicedToArray","arr","arrayWithHoles","Symbol","iterator","_arr","_n","_d","_e","_s","_i","done","unsupportedIterableToArray","nonIterableRest","_defineProperty","obj","_createForOfIteratorHelper","allowArrayLike","it","F","normalCompletion","didErr","_e2","_assertThisInitialized","self","ReferenceError","_toConsumableArray","arrayLikeToArray","iterableToArray","_toArray","globalCache","handleAsset","args","lifespan","preload","entry","deepEqual","promise","useAsset","peek","_globalCache$find","useOnWindowResize","onWindowResize","useEffect","useOnWindowScroll","onScroll","capture","passive","findScrollContainers","body","getComputedStyle","overflow","overflowX","overflowY","some","prop","parentElement","areBoundsEqual","every","useMeasure","debounce","scroll","debounce$1","polyfill","ResizeObserver","useState","bounds","useRef","scrollContainers","resizeObserver","lastBounds","scrollDebounce","resizeDebounce","resize","mounted","useMemo","getBoundingClientRect","forceRefresh","resizeChange","scrollChange","removeListeners","addListeners","observe","scrollContainer","ref","Boolean","is","fun","str","und","equ","makeId","eventObject","createEvents","store","temp","THREE","calculateDistance","internal","getState","initialClick","filterPointerEvents","_r3f$handlers","__r3f","cancelPointer","hits","hovered","hoveredObj","hit","intersections","onPointerOut","onPointerLeave","pointerMissed","_r3f$handlers2","onPointerMissed","handlePointer","captured","_raycaster$computeOff","mouse","setFromCamera","prepareRay","isPointerMove","patchIntersects","seen","Set","eventsObjects","interaction","intersectObjects","item","_r3f","unprojectedPoint","releasePointerCapture","localState","stopped","setPointerCapture","extractEventProps","raycastEvent","stopPropagation","cap","higher","currentTarget","sourceEvent","handleIntersects","onPointerOver","onPointerEnter","hoveredItem","onPointerMove","handler","initialHits","includes","isStore","def","getContainer","_container$__r3f$root","_container$__r3f","DEFAULT","EMPTY","FILTER","catalogue","prepare","memoizedProps","React","createStore","applyProps","invalidate","advance","linear","flat","orthographic","frameloop","dpr","clock","raycastOptions","cameraOptions","rootState","setDpr","devicePixelRatio","initialDpr","defaultTarget","getWorldPosition","performanceTimeout","setPerformanceCurrent","timestamp","runGlobalEffects","regress","clearTimeout","events","connected","active","priority","lastProps","subscribers","subscribe","shallow","createSubs","subs","globalEffects","globalAfterEffects","globalTailEffects","addEffect","addAfterEffect","run","effects","render$1","createPointerEvents","names","onClick","onContextMenu","onDoubleClick","onWheel","onPointerDown","onPointerUp","onPointerCancel","onLostPointerCapture","reduce","acc","_events$handlers","entries","_events$handlers2","HTMLElement","useIsomorphicLayoutEffect","Canvas","tabIndex","className","_store","_canvas$parentElement","_canvas$parentElement2","_canvas$parentElement3","_canvas$parentElement4","modes","onCreated","clientWidth","clientHeight","roots","fiber","unmountComponentAtNode","glRenderer","createRendererInstance","reconciler","createContainer","updateContainer","Provider","useThree","selector","equalityFn","useStore","useFrame","renderPriority","unsubscribe","buildGraph","nodes","loadingFn","Proto","input","all","_error$message","useLoader","createLoop","newProps","_instance$__r3f","_root$getState","_instance$__r3f2","oldProps","accumulative","sameProps","newMemoizedProps","objectKeys","leftOvers","hasOwnProperty","toFilter","filteredProps","filteredPropsEntries","currentInstance","targetProp","defaultClassCall","setScalar","invalidateInstance","updateInstance","_instance$__r3f3","_instance$__r3f3$root","createInstance","hostContext","internalInstanceHandle","return","stateNode","containerInfo","isArgsArr","endsWith","appendChild","parentInstance","attachArray","attachObject","insertBefore","beforeChild","restSiblings","sibling","removeRecursive","removeChild","_child$__r3f2","_child$__r3f","removeInteractivity","_child$__r3f3","isInstance","shouldDispose","unstable_runWithPriority","unstable_IdlePriority","switchInstance","newInstance","alternate","Reconciler","unstable_now","appendInitialChild","warnsIfNotActing","supportsMutation","isPrimaryRenderer","scheduleTimeout","cancelTimeout","noTimeout","appendChildToContainer","removeChildFromContainer","insertInContainerBefore","commitUpdate","updatePayload","argsNew","restNew","argsOld","restOld","hideInstance","unhideInstance","hideTextInstance","getPublicInstance","getRootHostContext","rootContainer","getChildHostContext","parentHostContext","createTextInstance","finalizeInitialChildren","commitMount","prepareUpdate","shouldDeprioritizeSubtree","prepareForCommit","preparePortalMount","resetAfterCommit","shouldSetTextContent","clearContainer","createRenderer","_state$gl","_state$gl$renderLists","_state$gl2","_dispose","_ref","act","for","injectIntoDevTools","bundleType","rendererPackageName","$node","AnimatedString2","AnimatedValue2","AnimatedArray2","_objectWithoutProperties","excluded","sourceKeys","sourceSymbolKeys","propertyIsEnumerable","_unsupportedIterableToArray","minLen","_extends","_construct","Parent","Class","Function","asyncGeneratorStep","gen","_next","_throw","arg","_asyncToGenerator","_typeof","_possibleConstructorReturn","assertThisInitialized","KEY_SPACE","KEY_LEFT","KEY_UP","KEY_RIGHT","KEY_DOWN","KEY_G","_setPrototypeOf","_objectWithoutPropertiesLoose","Wrapper","createContext","createURL","base64","sourcemapArg","enableUnicodeArg","sourcemap","enableUnicode","binaryString","binaryView","decodeBase64","URL","createObjectURL","WorkerFactory","Worker","createBase64WorkerFactory","gravity","tolerance","iterations","allowSleep","broadphase","axisIndex","defaultContactMaterial","contactEquationStiffness","worker","refs","quaternions","subscriptions","bodies","byteLength","postMessage","op","prevPresenting","_gl$xr","_gl$xr2","_gl$xr3","onmessage","observations","terminate","api","createElement","argFn","subscriptionGuid","useBody","fwdRef","deps","localRef","useContext","useLayoutEffect","currentWorker","_","setMatrixAt","onCollide","getUUID","post","opString","makeVec","makeAtomic","makeApi","velocity","linearFactor","angularFactor","mass","linearDamping","angularDamping","sleepSpeedLimit","sleepTimeLimit","collisionFilterGroup","collisionFilterMask","collisionResponse","fixedRotation","applyForce","worldPoint","applyImpulse","impulse","applyLocalForce","localPoint","applyLocalImpulse","useBox","useSphere","Physics","Suspense","fallback","superPropBase","ColorChannel","shader_default2","AdaptiveLuminanceMaterial","MIP_LEVEL_1X1","luminanceBuffer0","luminanceBuffer1","minLuminance","tau","shader_default3","BokehMaterial","foreground","PASS","kernel64","Uniform2","kernel16","inputBuffer","cocBuffer","NoBlending2","FOREGROUND","generateKernel","points64","points16","i64","i16","ShaderMaterial2","CircleOfConfusionMaterial","DEPTH_PACKING","Uniform3","focusDistance","cameraNear","cameraFar","NoBlending3","adoptCameraSettings","toFixed","PERSPECTIVE_CAMERA","ShaderMaterial3","shader_default5","shader_default6","shader_default7","ShaderMaterial4","shader_default8","ConvolutionMaterial","Vector23","Uniform5","halfTexelSize","kernel","NoBlending5","setTexelSize","kernelSize","KernelSize","LARGE","kernelPresets","ShaderMaterial5","VERY_SMALL","SMALL","MEDIUM","VERY_LARGE","HUGE","CopyMaterial","Uniform6","NoBlending6","ShaderMaterial6","shader_default10","shader_default11","DepthComparisonMaterial","Uniform7","NoBlending7","PerspectiveCamera2","ShaderMaterial7","DepthCopyMode","ShaderMaterial8","FULL","SINGLE","DepthMaskMaterial","ShaderMaterial9","DEPTH_EPSILON","DEPTH_PACKING_0","DEPTH_PACKING_1","KEEP_FAR","Uniform10","depthBuffer0","depthBuffer1","bias0","bias1","NoBlending10","depthMode","setDepthMode","ShaderMaterial10","EdgeDetectionMaterial","Vector26","EdgeDetectionMode","COLOR","LOCAL_CONTRAST_ADAPTATION_FACTOR","EDGE_THRESHOLD","DEPTH_THRESHOLD","PREDICATION_MODE","PREDICATION_THRESHOLD","PREDICATION_SCALE","PREDICATION_STRENGTH","Uniform11","predicationBuffer","NoBlending11","setEdgeDetectionMode","EDGE_DETECTION_MODE","strength","ShaderMaterial11","DEPTH","LUMA","EffectMaterial","shaderParts","ENCODE_OUTPUT","Uniform12","Vector27","NoBlending12","setShaderParts","setDefines","setUniforms","Section","FRAGMENT_HEAD","FRAGMENT_MAIN_UV","FRAGMENT_MAIN_IMAGE","VERTEX_HEAD","VERTEX_MAIN_SUPPORT","PerspectiveCamera3","ShaderMaterial12","GodRaysMaterial","lightPosition","SAMPLES_INT","SAMPLES_FLOAT","Uniform13","exposure","clampMax","NoBlending13","ShaderMaterial13","shader_default20","LuminanceMaterial","colorOutput","luminanceRange","useRange","Uniform14","smoothing","Vector28","NoBlending14","useThreshold","THRESHOLD","RANGE","ShaderMaterial14","shader_default21","MaskMaterial","maskTexture","Uniform15","NoBlending15","colorChannel","maskFunction","MaskFunction","DISCARD","MASK_PRECISION_HIGH","COLOR_CHANNEL","MASK_FUNCTION","INVERTED","inverted","ShaderMaterial15","MULTIPLY","MULTIPLY_RGB_SET_ALPHA","shader_default22","shader_default23","OutlineMaterial","Vector29","Uniform16","NoBlending16","ShaderMaterial16","shader_default24","shader_default25","SMAAWeightsMaterial","Vector210","MAX_SEARCH_STEPS_INT","MAX_SEARCH_STEPS_FLOAT","MAX_SEARCH_STEPS_DIAG_INT","MAX_SEARCH_STEPS_DIAG_FLOAT","CORNER_ROUNDING","CORNER_ROUNDING_NORM","AREATEX_MAX_DISTANCE","AREATEX_MAX_DISTANCE_DIAG","AREATEX_PIXEL_SIZE","AREATEX_SUBTEX_SIZE","SEARCHTEX_SIZE","SEARCHTEX_PACKED_SIZE","Uniform17","areaTexture","searchTexture","NoBlending17","rounding","DISABLE_DIAG_DETECTION","DISABLE_CORNER_DETECTION","ShaderMaterial17","SSAOMaterial","SPIRAL_TURNS","RADIUS","RADIUS_SQ","DISTANCE_SCALING","normalBuffer","Uniform18","normalDepthBuffer","noiseTexture","inverseProjectionMatrix","Vector211","distanceCutoff","proximityCutoff","noiseScale","minRadiusScale","fade","NoBlending18","PerspectiveCamera4","ShaderMaterial18","dummyCamera","Pass","screen","rtt","needsSwap","needsDepthTexture","getFullscreenMaterial","getFullscreenTriangle","outputBuffer","frameBufferType","SavePass","setFullscreenMaterial","renderToScreen","UnsignedByteType2","FRAMEBUFFER_PRECISION_HIGH","AdaptiveLuminancePass","luminanceBuffer","adaptationRate","renderTargetPrevious","WebGLRenderTarget2","renderTargetAdapted","savePass","AUTO_SIZE","Resizer","resizable","Vector212","BlurPass","resolutionScale","renderTargetA","WebGLRenderTarget3","LinearFilter2","renderTargetB","convolutionMaterial","ditheredConvolutionMaterial","destRT","getKernel","lastRT","UnsignedByteType3","RGBFormat2","m0","m1","ClearMaskPass","ClearPass","overrideClearColor","overrideClearAlpha","hasOverrideClearColor","hasOverrideClearAlpha","workaroundEnabled","OverrideMaterialManager","originalMaterials","materialsBackSide","materialsDoubleSide","meshCount","replaceMaterial","disposeMaterials","m2","RenderPass","clearPass","overrideMaterialManager","isStrict","DepthPass","renderPass","getClearPass","Color2","WebGLRenderTarget4","NearestFilter2","BlendFunction","blendFunctions","BlendMode","blendFunction","Uniform19","Effect","EffectAttribute","NONE","setChanged","Scene2","EventDispatcher2","CONVOLUTION","findSubstrings","regExp","substrings","prefixSubstrings","strings","prefixed","integrateEffect","effect","blendModes","functionRegExp","shaders","getFragmentShader","getVertexShader","mainImageExists","mainUvExists","varyings","transformedUv","readDepth","blendOpacity","getBlendFunction","EffectPass","skipRendering","minTime","maxTime","POSITIVE_INFINITY","encodeOutput","blendRegExp","getShaderCode","getDepthTexture","updateMaterial","verifyResources","BasicDepthPacking3","setDepthTexture","recompile","initialize","handleEvent","UnsignedByteType5","LuminancePass","WebGLRenderTarget7","LinearFilter3","RGBAFormat2","UnsignedByteType6","MaskPass","writeValue","clearValue","REPLACE","ALWAYS","EQUAL","KEEP","NormalPass","Color3","WebGLRenderTarget8","NearestFilter5","RGBFormat3","ShaderPass","setInput","UnsignedByteType7","EffectComposer","multisampling","copyPass","passes","autoRenderToScreen","updateDOM","oldRenderer","oldSize","Vector213","newSize","parentNode","UnsignedByteType8","RGBAFormat3","RGBFormat4","LinearFilter4","WebGLRenderTarget9","drawingBufferSize","createDepthTexture","deleteDepthTexture","NOTEQUAL","Selection","iterable","currentLayer","shader_default46","BloomEffect","luminanceThreshold","luminanceSmoothing","Uniform20","WebGLRenderTarget10","LinearFilter5","blurPass","luminancePass","luminanceMaterial","UnsignedByteType9","RGBFormat5","shader_default48","BrightnessContrastEffect","brightness","contrast","Uniform22","shader_default49","ColorAverageEffect","shader_default50","ColorDepthEffect","Uniform23","setBitDepth","shader_default51","shader_default52","ChromaticAberrationEffect","Vector214","Uniform24","shader_default53","DepthEffect","shader_default54","DepthOfFieldEffect","bokehScale","Uniform25","WebGLRenderTarget11","LinearFilter6","renderTargetMasked","renderTargetNear","renderTargetFar","renderTargetCoC","RGBFormat6","renderTargetCoCBlurred","cocPass","cocMaterial","circleOfConfusionMaterial","maskPass","maskMaterial","bokehNearBasePass","bokehNearFillPass","bokehFarBasePass","bokehFarFillPass","viewDistance","BasicDepthPacking4","farBaseUniforms","farFillUniforms","nearBaseUniforms","nearFillUniforms","calculateFocusDistance","resizables","UnsignedByteType10","shader_default55","DotScreenEffect","Uniform26","Vector215","setAngle","getNoise","channels","LuminanceFormat2","RGBFormat7","RGBAFormat4","UnsignedByteType11","NoiseTexture","shader_default57","tag","randomFloat","GlitchEffect","chromaticAberrationOffset","Vector216","columns","ratio","perturbationMap","dtSize","Uniform28","setPerturbationMap","generatePerturbationMap","breakPoint","seed","distortion","GlitchMode","SPORADIC","currentMap","getPerturbationMap","NearestFilter6","RGBFormat8","trigger","DISABLED","CONSTANT_WILD","CONSTANT_MILD","shader_default58","Matrix42","GodRaysEffect","lightSource","blur","Uniform29","lightScene","Scene3","screenPosition","Vector217","WebGLRenderTarget12","LinearFilter7","renderTargetLight","DepthTexture2","renderPassLight","Color4","depthMaskPass","depthMaskMaterial","godRaysPass","godRaysMaterial","BasicDepthPacking5","project","UnsignedByteType12","RGBFormat9","shader_default59","GridEffect","Uniform30","Vector218","shader_default60","HueSaturationEffect","Uniform31","Vector32","setHue","Image","imageData","createImageData","RawImageData","getImageData","LUTOperation","worker_default","Color5","LookupTexture3D","FloatType4","RGBFormat10","LinearFilter8","domainMin","Vector33","domainMax","transferData","workerURL","lut","revokeObjectURL","transferList","operation","img0","img1","size0","data0","data1","i3","iRGB","floatData","uint8Data","UnsignedByteType13","RGBAFormat5","convertLinearToSRGB","rgbData","rgbaData","maxValue","DataTexture2","rearrangedData","shader_default62","NoiseEffect","shader_default63","OutlineEffect","patternTexture","edgeStrength","pulseSpeed","visibleEdgeColor","hiddenEdgeColor","xRay","Uniform33","Color6","setBlendFunction","setPatternTexture","renderTargetMask","WebGLRenderTarget13","LinearFilter10","RGBFormat11","renderTargetOutline","renderTargetBlurredOutline","depthPass","outlinePass","selection","RepeatWrapping2","setVertexShader","pulse","setVisible","UnsignedByteType14","shader_default65","PixelationEffect","granularity","Uniform34","Vector219","divide","setGranularity","shader_default67","ScanlineEffect","Uniform36","Vector220","shader_default68","shader_default69","HALF_PI","Vector35","ShockWaveEffect","epicenter","speed","maxRadius","waveSize","amplitude","Uniform37","Vector221","uniformActive","getWorldDirection","SelectiveBloomEffect","setAttributes","Color7","RGBADepthPacking4","EqualDepth2","WebGLRenderTarget14","LinearFilter11","getDepthMode","NotEqualDepth2","keepFar","BasicDepthPacking6","UnsignedByteType15","RGBFormat12","shader_default70","SepiaEffect","Uniform38","searchImageDataURL_default","areaImageDataURL_default","shader_default71","shader_default72","SMAAEffect","searchImage","areaImage","preset","SMAAPreset","HIGH","edgeDetectionMode","Uniform39","renderTargetEdges","WebGLRenderTarget15","LinearFilter12","RGBFormat13","renderTargetWeights","RGBAFormat6","Color8","edgeDetectionPass","Vector222","weightsPass","NearestFilter8","weightsMaterial","applyPreset","edgeDetectionMaterial","setEdgeDetectionThreshold","setOrthogonalSearchSteps","LOW","diagonalDetection","cornerRounding","setDiagonalSearchSteps","setCornerRounding","ULTRA","BasicDepthPacking7","shader_default73","SSAOEffect","distanceScaling","depthAwareUpsampling","rings","distanceThreshold","distanceFalloff","rangeThreshold","rangeFalloff","luminanceInfluence","Uniform40","renderTargetAO","WebGLRenderTarget16","LinearFilter13","RGBFormat14","ssaoPass","RepeatWrapping3","NORMAL_DEPTH","setDistanceCutoff","setProximityCutoff","ssaoMaterial","Color9","falloff","BasicDepthPacking8","shader_default74","shader_default75","TextureEffect","aspectCorrection","Uniform41","currentTexture","sRGBEncoding3","LinearEncoding3","UnsignedByteType16","rgba","swizzle","shader_default76","ToneMappingEffect","adaptive","ToneMappingMode","REINHARD2_ADAPTIVE","REINHARD2","maxLuminance","whitePoint","middleGrey","averageLuminance","Uniform42","renderTargetLuminance","WebGLRenderTarget17","LinearFilter14","RGBFormat15","adaptiveLuminancePass","REINHARD","OPTIMIZED_CINEON","ACES_FILMIC","exponent","mipLevel1x1","shader_default77","VignetteEffect","eskil","darkness","Uniform43","bilinear","lerp2","e0","e1","e2","e3","Loader2","SMAAImageLoader","externalManager","internalManager","LoadingManager4","Loader3","Q","D","M","X","H","Z","oe","memo","disableNormalPass","W","addPass","E","J","I","removePass","S","composer","normalPass","G","Y","pe","sun","selectionLayer","clearSelection","setSelection","ye","C","K","A","xe","textureSrc","U","V","L","R","O","_arrayLikeToArray","arr2","equal","flags","valueOf","propIsEnumerable","toObject","test1","getOwnPropertyNames","test2","test3","letter","shouldUseNative","_iterableToArray","iter","_arrayWithHoles","_nonIterableRest","_superPropBase","_isNativeReflectConstruct","sham","Proxy","create$1","createState","partial","nextState","previousState","currentSlice","listenerToAdd","nextSlice","previousSlice","subscribeWithSelector","navigator","userAgent","newStateSlice","useReducer","forceUpdate","stateRef","selectorRef","equalityFnRef","erroredRef","currentSliceRef","hasNewStateSlice","stateBeforeSubscriptionRef","nextStateSlice","SIZE","MASK","NOT_SET","SetRef","OwnerID","ensureSize","__iterate","returnTrue","wrapIndex","uint32Index","NaN","wholeSlice","begin","isNeg","resolveBegin","resolveIndex","resolveEnd","defaultIndex","IS_COLLECTION_SYMBOL","isCollection","maybeCollection","IS_KEYED_SYMBOL","isKeyed","maybeKeyed","IS_INDEXED_SYMBOL","isIndexed","maybeIndexed","isAssociative","maybeAssociative","Collection","Seq","KeyedCollection","KeyedSeq","IndexedCollection","IndexedSeq","SetCollection","SetSeq","Keyed","Indexed","IS_SEQ_SYMBOL","isSeq","maybeSeq","IS_RECORD_SYMBOL","isRecord","maybeRecord","isImmutable","maybeImmutable","IS_ORDERED_SYMBOL","isOrdered","maybeOrdered","REAL_ITERATOR_SYMBOL","FAUX_ITERATOR_SYMBOL","ITERATOR_SYMBOL","Iterator","iteratorValue","iteratorResult","iteratorDone","hasIterator","maybeIterable","getIteratorFn","isIterator","maybeIterator","getIterator","iteratorFn","KEYS","VALUES","ENTRIES","inspect","toSource","isArrayLike","Collection$$1","emptySequence","toSeq","maybeIndexedSeqFromValue","ObjectSeq","seqFromValue","__toString","cacheResult","__iterateUncached","entrySeq","__iterator","__iteratorUncached","toKeyedSeq","fromEntrySeq","keyedSeqFromValue","toIndexedSeq","indexedSeqFromValue","of","toSetSeq","ArraySeq","_array","notSetValue","ii","_object","_keys","EMPTY_SEQ","CollectionSeq","collection","_collection","IS_MAP_SYMBOL","isMap","maybeMap","isOrderedMap","maybeOrderedMap","isValueObject","maybeValue","hashCode","valueA","valueB","imul","smi","i32","defaultValueOf","hashNumber","STRING_HASH_CACHE_MIN_STRLEN","hashed","stringHashCache","hashString","STRING_HASH_CACHE_SIZE","STRING_HASH_CACHE_MAX_SIZE","cachedHashString","usingWeakMap","weakMap","UID_HASH_KEY","canDefineProperty","nodeType","uniqueID","documentElement","getIENodeHash","objHashUID","isExtensible","hashJSObj","ToKeyedSequence","KeyedSeq$$1","indexed","useKeys","_iter","_useKeys","valueSeq","this$1","reversedSequence","reverseFactory","mapper","mappedSequence","mapFactory","ToIndexedSequence","IndexedSeq$$1","ToSetSequence","SetSeq$$1","FromEntriesSequence","validateEntry","indexedCollection","flipFactory","flipSequence","makeSequence","flip","cacheResultThrough","filterFactory","predicate","filterSequence","sliceFactory","originalSize","resolvedBegin","resolvedEnd","sliceSize","resolvedSize","sliceSeq","skipped","isSkipping","skipWhileFactory","skipSequence","skipping","concatFactory","isKeyedCollection","iters","singleton","concatSeq","flattenFactory","flatSequence","flatDeep","currentDepth","stack","sortFactory","comparator","defaultComparator","maxFactory","maxCompare","comp","zipWithFactory","keyIter","zipper","zipAll","zipSequence","sizes","iterators","isDone","reify","collectionClass","arrCopy","newArr","invariant","condition","assertNotInfinite","coerceKeyPath","keyPath","isPlainObj","isDataStructure","quoteString","_ignoreError","shallowCopy","collectionCopy","updateIn","updater","updatedValue","updateInDeeply","inImmutable","existing","wasNotSet","existingValue","nextExisting","nextUpdated","emptyMap","setIn","setIn$1","removeIn","deleteIn","update$1","updateIn$1","mergeIntoKeyedWith","mergeWith","merger","collections","collection$1","__ownerID","withMutations","mergeIntoCollection","oldVal","mergeDeepWithSources","sources","mergeWithSources","deepMerger","oldValue","deepMergerWith","mergeItem","hasVal","nextVal","mergeDeep$1","mergeDeepWith$1","mergeIn","mergeDeepIn","mutable","asMutable","wasAltered","__ensureOwner","asImmutable","__altered","KeyedCollection$$1","keyValues","deleteAll","__hash","OrderedMap","sortBy","MapIterator","iterate","ownerID","makeMap","MapPrototype","removeAll","mergeDeep","mergeDeepWith","ArrayMapNode","keyHash","didChangeSize","didAlter","idx","exists","MAX_ARRAY_MAP_SIZE","ValueNode","createNodes","isEditable","newEntries","BitmapIndexedNode","bitmap","bit","popCount","keyHashFrag","newNode","updateNode","MAX_BITMAP_INDEXED_SIZE","including","expandedNodes","HashArrayMapNode","expandNodes","isLeafNode","newBitmap","newNodes","setAt","canEdit","newLen","newArray","after","spliceOut","spliceIn","newCount","MIN_HASH_ARRAY_MAP_SIZE","excluding","packedII","packedNodes","packNodes","HashCollisionNode","mergeIntoNode","keyMatch","maxIndex","EMPTY_MAP","Iterator$$1","_type","_reverse","_stack","mapIteratorFrame","mapIteratorValue","subNode","__prev","hash$$1","newRoot","idx1","idx2","IS_LIST_SYMBOL","isList","maybeList","List","IndexedCollection$$1","emptyList","makeList","VNode","listNodeFor","_origin","setListBounds","newTail","_tail","getTailOffset","_capacity","updateVNode","_level","updateList","insert","arguments$1","seqs","argument","iterateList","DONE","ListPrototype","removeBefore","originIndex","newChild","removingFirst","oldChild","editable","editableVNode","removeAfter","sizeIndex","EMPTY_LIST","tailPos","iterateNodeOrLeaf","iterateLeaf","iterateNode","capacity","nodeHas","lowerNode","newLowerNode","rawIndex","owner","oldOrigin","oldCapacity","newOrigin","newCapacity","newLevel","offsetShift","oldTailOffset","newTailOffset","oldTail","beginIndex","EMPTY_ORDERED_MAP","Map$$1","emptyOrderedMap","_map","_list","updateOrderedMap","newMap","newList","makeOrderedMap","omap","toMap","IS_STACK_SYMBOL","isStack","maybeStack","Stack","emptyStack","pushAll","head","_head","makeStack","EMPTY_STACK","StackPrototype","unshiftAll","IS_SET_SYMBOL","isSet","maybeSet","isOrderedSet","maybeOrderedSet","notAssociative","flipped","allEqual","bSize","mixin","ctor","methods","keyCopier","toJS","result$1","SetCollection$$1","emptySet","fromKeys","keySeq","sets","SetPrototype","updateSet","removes","adds","mapped","toRemove","subtract","OrderedSet","__make","__empty","EMPTY_SET","makeSet","EMPTY_RANGE","Range","_step","searchValue","possibleIndex","offsetValue","getIn","searchKeyPath","getIn$1","hasIn","isIterable","useTuples","toOrderedMap","toOrderedSet","toSet","toStack","toList","__toStringMapper","returnValue","findEntry","sideEffect","separator","joined","isFirst","reducer","initialReduction","reduceRight","not","butLast","countBy","grouper","countByFactory","entriesSequence","entryMapper","filterNot","found","findKey","findLast","findLastEntry","findLastKey","first","flatMap","coerce","flatMapFactory","searchKey","groupBy","isKeyedIter","groupByFactory","isSubset","isSuperset","keyOf","keyMapper","lastKeyOf","maxBy","neg","defaultNegComparator","minBy","rest","skip","skipLast","skipWhile","skipUntil","take","takeLast","takeWhile","takeSequence","iterating","takeWhileFactory","takeUntil","ordered","keyed","murmurHashOfSize","hashMerge","hashCollection","CollectionPrototype","chain","contains","mapEntries","mapKeys","KeyedCollectionPrototype","findIndex","removeNum","numArgs","spliced","findLastIndex","interpose","interposedSequence","interposeFactory","interleave","zipped","interleaved","zip","defaultZipper","zipWith","IndexedCollectionPrototype","reduction","useFirst","Set$$1","emptyOrderedSet","EMPTY_ORDERED_SET","OrderedSetPrototype","makeOrderedSet","Record","defaultValues","hasInitialized","RecordType","RecordTypePrototype","_indices","_name","_defaultValues","propName","recordName","setProp","_values","RecordPrototype","displayName","recordSeq","newValues","makeRecord","getDescriptiveName","likeRecord","record","wait","immediate","timeout","later","debounced","callNow","flush","checkDCE","__REACT_DEVTOOLS_GLOBAL_HOOK__","AnimationConfig2","Animation2","scheduleProps2","runAsync2","nextId","SpringValue2","React.createContext","SpringRef2","Controller2","SpringContext2","useSprings2","Interpolation2","default","objA","objB","keysA","Stats","dom","cssText","Panel","addPanel","showPanel","usedJSHeapSize","jsHeapSizeLimit","textBaseline","fillStyle","fillRect","fillText","globalAlpha","Fragment","StrictMode","Profiler","encodeURIComponent","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","isReactComponent","isPureReactComponent","__self","__source","defaultProps","$$typeof","_owner","_status","_result","ReactCurrentDispatcher","ReactCurrentBatchConfig","transition","ReactCurrentOwner","IsSomeRendererActing","Children","only","Component","PureComponent","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","cloneElement","_calculateChangedBits","_currentValue","_currentValue2","_threadCount","Consumer","createFactory","createRef","forwardRef","isValidElement","lazy","_payload","_init","compare","useCallback","useDebugValue","useImperativeHandle","aa","ba","ca","da","ea","fa","ia","ja","ka","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","sanitizeURL","removeEmptyString","oa","pa","ma","na","la","setAttributeNS","xlinkHref","ra","sa","ta","ua","wa","xa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","Ma","Ka","La","Na","Oa","Pa","prepareStackTrace","Qa","_render","Ra","Sa","Ta","Va","_valueTracker","stopTracking","Ua","Wa","checked","Xa","activeElement","Ya","defaultChecked","defaultValue","_wrapperState","initialChecked","Za","initialValue","controlled","$a","bb","ownerDocument","eb","db","fb","selected","defaultSelected","disabled","gb","dangerouslySetInnerHTML","hb","jb","textContent","kb","lb","mb","nb","ob","namespaceURI","innerHTML","firstChild","MSApp","execUnsafeLocalFunction","pb","lastChild","nodeValue","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","orphans","tabSize","widows","zIndex","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","rb","sb","tb","setProperty","ub","menuitem","br","embed","hr","img","keygen","link","param","wbr","wb","xb","srcElement","correspondingUseElement","yb","zb","Ab","Bb","Cb","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","Ob","Pb","Qb","Rb","Sb","Tb","Ub","Vb","Wb","Xb","Zb","$b","memoizedState","dehydrated","cc","dc","ec","fc","gc","hc","ic","jc","kc","lc","mc","nc","oc","pc","qc","rc","blockedOn","domEventName","eventSystemFlags","nativeEvent","targetContainers","sc","pointerId","tc","wc","lanePriority","hydrate","xc","yc","zc","Ac","Bc","unstable_scheduleCallback","unstable_NormalPriority","Cc","Dc","Ec","animationend","animationiteration","animationstart","transitionend","Fc","Gc","Hc","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Pc","Qc","Rc","Uc","pendingLanes","expiredLanes","suspendedLanes","pingedLanes","Vc","entangledLanes","entanglements","Wc","Xc","Yc","Zc","$c","eventTimes","clz32","cd","dd","unstable_UserBlockingPriority","ed","fd","gd","hd","uc","jd","kd","ld","md","nd","od","keyCode","charCode","pd","qd","rd","_reactName","_targetInst","isDefaultPrevented","defaultPrevented","isPropagationStopped","cancelBubble","persist","isPersistent","wd","xd","yd","sd","eventPhase","bubbles","cancelable","timeStamp","isTrusted","td","ud","vd","Ad","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","zd","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","pseudoElement","Jd","clipboardData","Ld","Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","Nd","8","9","12","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","45","46","112","113","114","115","116","117","118","119","120","121","122","123","144","145","224","Od","Alt","Control","Meta","Shift","Pd","Rd","code","location","locale","which","Td","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","Vd","touches","targetTouches","changedTouches","Xd","Zd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","$d","documentMode","ee","fe","ge","he","ie","le","date","datetime","email","month","number","password","tel","week","ne","qe","re","se","ue","ve","we","ze","oninput","Ae","detachEvent","Be","Ce","attachEvent","De","Ee","Fe","He","Ie","Je","Ke","Le","nextSibling","Me","compareDocumentPosition","Ne","HTMLIFrameElement","contentWindow","href","Oe","contentEditable","Pe","Qe","Re","Se","Te","Ue","selectionStart","selectionEnd","anchorNode","defaultView","getSelection","anchorOffset","focusNode","focusOffset","Ve","We","Xe","Ye","Ze","Yb","$e","Nb","ef","ff","parentWindow","gf","hf","je","ke","jf","kf","lf","mf","autoFocus","nf","__html","pf","qf","rf","previousSibling","tf","vf","wf","xf","yf","zf","Af","Bf","Cf","Df","Ef","contextTypes","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Ff","childContextTypes","Gf","Hf","If","getChildContext","Jf","__reactInternalMemoizedMergedChildContext","Kf","Lf","Mf","Nf","Of","Pf","unstable_cancelCallback","Qf","unstable_shouldYield","Rf","unstable_requestPaint","Sf","Tf","unstable_getCurrentPriorityLevel","Uf","unstable_ImmediatePriority","Vf","Wf","Xf","unstable_LowPriority","Yf","Zf","$f","ag","bg","cg","dg","eg","fg","gg","hg","ig","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","childLanes","tg","dependencies","firstContext","lanes","ug","vg","observedBits","responders","wg","xg","baseState","firstBaseUpdate","lastBaseUpdate","shared","yg","zg","eventTime","lane","payload","Ag","Bg","Cg","Dg","Eg","Fg","Gg","Kg","_reactInternals","Hg","Ig","Jg","Lg","shouldComponentUpdate","Mg","contextType","Ng","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Og","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Pg","Qg","_stringRef","Rg","Sg","lastEffect","nextEffect","firstEffect","Tg","Ug","elementType","Vg","implementation","Wg","Xg","Yg","Zg","$g","ah","bh","ch","dh","eh","tagName","fh","gh","hh","ih","revealOrder","jh","kh","lh","mh","nh","oh","pendingProps","ph","qh","rh","th","uh","_workInProgressVersionPrimary","vh","wh","xh","yh","zh","Ah","Bh","Ch","Dh","Eh","Fh","Gh","Hh","baseQueue","Ih","Jh","Kh","lastRenderedReducer","eagerReducer","eagerState","lastRenderedState","dispatch","Lh","Mh","_getVersion","_source","mutableReadLanes","Nh","getSnapshot","setSnapshot","Oh","Ph","Qh","Rh","Sh","Th","Uh","Vh","Wh","Xh","Yh","Zh","$h","ai","bi","ci","di","readContext","useDeferredValue","useTransition","useMutableSource","useOpaqueIdentifier","unstable_isNewReconciler","uf","ei","fi","gi","hi","ji","ki","li","mi","baseLanes","ni","oi","pi","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","qi","getDerivedStateFromError","ri","pendingContext","Bi","Di","Ei","si","retryLane","ti","unstable_avoidThisFallback","ui","unstable_expectedLoadTime","vi","wi","xi","yi","zi","isBackwards","rendering","renderingStartTime","tailMode","Ai","Fi","Gi","wasMultiple","multiple","onclick","createTextNode","Hi","Ii","Ji","Ki","Li","Mi","Ni","Oi","Pi","Qi","Ri","Si","componentDidCatch","Ti","componentStack","Ui","WeakSet","Vi","Wi","Xi","__reactInternalSnapshotBeforeUpdate","Yi","Zi","$i","onCommitFiberUnmount","componentWillUnmount","cj","dj","ej","fj","gj","hj","_reactRootContainer","ij","jj","kj","lj","mj","nj","oj","pj","qj","rj","sj","tj","uj","vj","wj","ck","xj","yj","zj","Aj","Bj","Cj","Dj","Ej","Fj","Gj","Hj","Ij","Jj","Sc","Kj","Lj","Mj","callbackNode","expirationTimes","callbackPriority","Tc","Nj","Oj","Pj","Qj","Rj","Sj","Tj","finishedWork","finishedLanes","Uj","timeoutHandle","Wj","Xj","pingCache","Yj","Zj","ak","bk","dk","focusedElem","selectionRange","ek","extend","createRange","setStart","removeAllRanges","addRange","setEnd","scrollLeft","scrollTop","onCommitFiberRoot","fk","gk","ik","pendingChildren","jk","mutableSourceEagerHydrationData","kk","lk","mk","nk","ok","qk","hydrationOptions","mutableSources","_internalRoot","rk","tk","sk","uk","hk","unstable_observedBits","unmount","querySelectorAll","form","Vj","vk","Events","wk","findFiberByHostInstance","xk","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","yk","isDisabled","supportsFiber","inject","createPortal","findDOMNode","flushSync","unstable_batchedUpdates","unstable_createPortal","unstable_renderSubtreeIntoContainer","MessageChannel","unstable_forceFrameRate","port2","port1","sortIndex","expirationTime","priorityLevel","unstable_Profiling","unstable_continueExecution","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_wrapCallback","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","innerFn","outerFn","tryLocsList","protoGenerator","Generator","Context","_invoke","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iteratorMethod","isGeneratorFunction","genFun","mark","awrap","async","skipTempReset","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","jsx","jsxs","$$$hostConfig","supportsPersistence","supportsHydration","getInstanceFromNode","makeOpaqueHydratingObject","makeClientId","beforeActiveInstanceBlur","afterActiveInstanceBlur","supportsTestSelectors","findFiberRoot","getBoundingRect","getTextContent","isHiddenSubtree","matchAccessibilityRole","setFocusIfFocusable","setupIntersectionObserver","commitTextUpdate","resetTextContent","unhideTextInstance","cloneInstance","createContainerChildSet","appendChildToContainerChildSet","finalizeContainerChildren","replaceContainerChildren","cloneHiddenInstance","cloneHiddenTextInstance","canHydrateInstance","canHydrateTextInstance","isSuspenseInstancePending","isSuspenseInstanceFallback","getNextHydratableSibling","getFirstHydratableChild","hydrateInstance","hydrateTextInstance","getNextHydratableInstanceAfterSuspenseInstance","commitHydratedContainer","commitHydratedSuspenseInstance","Cd","Ed","Gd","Id","Kd","Qd","Sd","Ud","Wd","Yd","_workInProgressVersionSecondary","Ge","unstable_flushAllWithoutAsserting","setImmediate","IsThisRendererActing","attemptContinuousHydration","attemptHydrationAtCurrentPriority","attemptSynchronousHydration","attemptUserBlockingHydration","batchedEventUpdates","batchedUpdates","createComponentSelector","createHasPsuedoClassSelector","createRoleSelector","createTestNameSelector","createTextSelector","deferredUpdates","discreteUpdates","findAllNodes","findBoundingRects","findHostInstance","findHostInstanceWithNoPortals","findHostInstanceWithWarning","flushControlled","flushDiscreteUpdates","flushPassiveEffects","focusWithin","getCurrentUpdateLanePriority","getFindAllNodesFailureDescription","getPublicRootInstance","observeVisibleRects","registerMutableSourceForHydration","runWithPriority","shouldSuspend","unbatchedUpdates","webpackPolyfill","deprecate","eps","RoundedBox","smoothness","radius0","createShape","geomRef","StarfieldMaterial","genStar","setFromSpherical","Stars","increment","starfieldMaterial","deployed","softShadows","frustrum","pcss","AdaptiveDpr","pixelated","imageRendering","DistortMaterialImpl","_time","_distort","_radius","distort","MeshDistortMaterial","makeDefault","cameraRef","cam","oldCam","mergeRefs","useEffectfulState","StatsImpl","classList"],"mappings":"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","file":"static/js/2.4b662b8a.chunk.js","sourcesContent":["/**\n * @license\n * Copyright 2010-2021 Three.js Authors\n * SPDX-License-Identifier: MIT\n */\nconst REVISION = '128';\nconst MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2, ROTATE: 0, DOLLY: 1, PAN: 2 };\nconst TOUCH = { ROTATE: 0, PAN: 1, DOLLY_PAN: 2, DOLLY_ROTATE: 3 };\nconst CullFaceNone = 0;\nconst CullFaceBack = 1;\nconst CullFaceFront = 2;\nconst CullFaceFrontBack = 3;\nconst BasicShadowMap = 0;\nconst PCFShadowMap = 1;\nconst PCFSoftShadowMap = 2;\nconst VSMShadowMap = 3;\nconst FrontSide = 0;\nconst BackSide = 1;\nconst DoubleSide = 2;\nconst FlatShading = 1;\nconst SmoothShading = 2;\nconst NoBlending = 0;\nconst NormalBlending = 1;\nconst AdditiveBlending = 2;\nconst SubtractiveBlending = 3;\nconst MultiplyBlending = 4;\nconst CustomBlending = 5;\nconst AddEquation = 100;\nconst SubtractEquation = 101;\nconst ReverseSubtractEquation = 102;\nconst MinEquation = 103;\nconst MaxEquation = 104;\nconst ZeroFactor = 200;\nconst OneFactor = 201;\nconst SrcColorFactor = 202;\nconst OneMinusSrcColorFactor = 203;\nconst SrcAlphaFactor = 204;\nconst OneMinusSrcAlphaFactor = 205;\nconst DstAlphaFactor = 206;\nconst OneMinusDstAlphaFactor = 207;\nconst DstColorFactor = 208;\nconst OneMinusDstColorFactor = 209;\nconst SrcAlphaSaturateFactor = 210;\nconst NeverDepth = 0;\nconst AlwaysDepth = 1;\nconst LessDepth = 2;\nconst LessEqualDepth = 3;\nconst EqualDepth = 4;\nconst GreaterEqualDepth = 5;\nconst GreaterDepth = 6;\nconst NotEqualDepth = 7;\nconst MultiplyOperation = 0;\nconst MixOperation = 1;\nconst AddOperation = 2;\nconst NoToneMapping = 0;\nconst LinearToneMapping = 1;\nconst ReinhardToneMapping = 2;\nconst CineonToneMapping = 3;\nconst ACESFilmicToneMapping = 4;\nconst CustomToneMapping = 5;\n\nconst UVMapping = 300;\nconst CubeReflectionMapping = 301;\nconst CubeRefractionMapping = 302;\nconst EquirectangularReflectionMapping = 303;\nconst EquirectangularRefractionMapping = 304;\nconst CubeUVReflectionMapping = 306;\nconst CubeUVRefractionMapping = 307;\nconst RepeatWrapping = 1000;\nconst ClampToEdgeWrapping = 1001;\nconst MirroredRepeatWrapping = 1002;\nconst NearestFilter = 1003;\nconst NearestMipmapNearestFilter = 1004;\nconst NearestMipMapNearestFilter = 1004;\nconst NearestMipmapLinearFilter = 1005;\nconst NearestMipMapLinearFilter = 1005;\nconst LinearFilter = 1006;\nconst LinearMipmapNearestFilter = 1007;\nconst LinearMipMapNearestFilter = 1007;\nconst LinearMipmapLinearFilter = 1008;\nconst LinearMipMapLinearFilter = 1008;\nconst UnsignedByteType = 1009;\nconst ByteType = 1010;\nconst ShortType = 1011;\nconst UnsignedShortType = 1012;\nconst IntType = 1013;\nconst UnsignedIntType = 1014;\nconst FloatType = 1015;\nconst HalfFloatType = 1016;\nconst UnsignedShort4444Type = 1017;\nconst UnsignedShort5551Type = 1018;\nconst UnsignedShort565Type = 1019;\nconst UnsignedInt248Type = 1020;\nconst AlphaFormat = 1021;\nconst RGBFormat = 1022;\nconst RGBAFormat = 1023;\nconst LuminanceFormat = 1024;\nconst LuminanceAlphaFormat = 1025;\nconst RGBEFormat = RGBAFormat;\nconst DepthFormat = 1026;\nconst DepthStencilFormat = 1027;\nconst RedFormat = 1028;\nconst RedIntegerFormat = 1029;\nconst RGFormat = 1030;\nconst RGIntegerFormat = 1031;\nconst RGBIntegerFormat = 1032;\nconst RGBAIntegerFormat = 1033;\n\nconst RGB_S3TC_DXT1_Format = 33776;\nconst RGBA_S3TC_DXT1_Format = 33777;\nconst RGBA_S3TC_DXT3_Format = 33778;\nconst RGBA_S3TC_DXT5_Format = 33779;\nconst RGB_PVRTC_4BPPV1_Format = 35840;\nconst RGB_PVRTC_2BPPV1_Format = 35841;\nconst RGBA_PVRTC_4BPPV1_Format = 35842;\nconst RGBA_PVRTC_2BPPV1_Format = 35843;\nconst RGB_ETC1_Format = 36196;\nconst RGB_ETC2_Format = 37492;\nconst RGBA_ETC2_EAC_Format = 37496;\nconst RGBA_ASTC_4x4_Format = 37808;\nconst RGBA_ASTC_5x4_Format = 37809;\nconst RGBA_ASTC_5x5_Format = 37810;\nconst RGBA_ASTC_6x5_Format = 37811;\nconst RGBA_ASTC_6x6_Format = 37812;\nconst RGBA_ASTC_8x5_Format = 37813;\nconst RGBA_ASTC_8x6_Format = 37814;\nconst RGBA_ASTC_8x8_Format = 37815;\nconst RGBA_ASTC_10x5_Format = 37816;\nconst RGBA_ASTC_10x6_Format = 37817;\nconst RGBA_ASTC_10x8_Format = 37818;\nconst RGBA_ASTC_10x10_Format = 37819;\nconst RGBA_ASTC_12x10_Format = 37820;\nconst RGBA_ASTC_12x12_Format = 37821;\nconst RGBA_BPTC_Format = 36492;\nconst SRGB8_ALPHA8_ASTC_4x4_Format = 37840;\nconst SRGB8_ALPHA8_ASTC_5x4_Format = 37841;\nconst SRGB8_ALPHA8_ASTC_5x5_Format = 37842;\nconst SRGB8_ALPHA8_ASTC_6x5_Format = 37843;\nconst SRGB8_ALPHA8_ASTC_6x6_Format = 37844;\nconst SRGB8_ALPHA8_ASTC_8x5_Format = 37845;\nconst SRGB8_ALPHA8_ASTC_8x6_Format = 37846;\nconst SRGB8_ALPHA8_ASTC_8x8_Format = 37847;\nconst SRGB8_ALPHA8_ASTC_10x5_Format = 37848;\nconst SRGB8_ALPHA8_ASTC_10x6_Format = 37849;\nconst SRGB8_ALPHA8_ASTC_10x8_Format = 37850;\nconst SRGB8_ALPHA8_ASTC_10x10_Format = 37851;\nconst SRGB8_ALPHA8_ASTC_12x10_Format = 37852;\nconst SRGB8_ALPHA8_ASTC_12x12_Format = 37853;\nconst LoopOnce = 2200;\nconst LoopRepeat = 2201;\nconst LoopPingPong = 2202;\nconst InterpolateDiscrete = 2300;\nconst InterpolateLinear = 2301;\nconst InterpolateSmooth = 2302;\nconst ZeroCurvatureEnding = 2400;\nconst ZeroSlopeEnding = 2401;\nconst WrapAroundEnding = 2402;\nconst NormalAnimationBlendMode = 2500;\nconst AdditiveAnimationBlendMode = 2501;\nconst TrianglesDrawMode = 0;\nconst TriangleStripDrawMode = 1;\nconst TriangleFanDrawMode = 2;\nconst LinearEncoding = 3000;\nconst sRGBEncoding = 3001;\nconst GammaEncoding = 3007;\nconst RGBEEncoding = 3002;\nconst LogLuvEncoding = 3003;\nconst RGBM7Encoding = 3004;\nconst RGBM16Encoding = 3005;\nconst RGBDEncoding = 3006;\nconst BasicDepthPacking = 3200;\nconst RGBADepthPacking = 3201;\nconst TangentSpaceNormalMap = 0;\nconst ObjectSpaceNormalMap = 1;\n\nconst ZeroStencilOp = 0;\nconst KeepStencilOp = 7680;\nconst ReplaceStencilOp = 7681;\nconst IncrementStencilOp = 7682;\nconst DecrementStencilOp = 7683;\nconst IncrementWrapStencilOp = 34055;\nconst DecrementWrapStencilOp = 34056;\nconst InvertStencilOp = 5386;\n\nconst NeverStencilFunc = 512;\nconst LessStencilFunc = 513;\nconst EqualStencilFunc = 514;\nconst LessEqualStencilFunc = 515;\nconst GreaterStencilFunc = 516;\nconst NotEqualStencilFunc = 517;\nconst GreaterEqualStencilFunc = 518;\nconst AlwaysStencilFunc = 519;\n\nconst StaticDrawUsage = 35044;\nconst DynamicDrawUsage = 35048;\nconst StreamDrawUsage = 35040;\nconst StaticReadUsage = 35045;\nconst DynamicReadUsage = 35049;\nconst StreamReadUsage = 35041;\nconst StaticCopyUsage = 35046;\nconst DynamicCopyUsage = 35050;\nconst StreamCopyUsage = 35042;\n\nconst GLSL1 = '100';\nconst GLSL3 = '300 es';\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nclass EventDispatcher {\n\n\taddEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tconst listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t}\n\n\thasEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tconst listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t}\n\n\tremoveEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tconst index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tdispatchEvent( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\t// Make a copy, in case listeners are removed while iterating.\n\t\t\tconst array = listenerArray.slice( 0 );\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t\tevent.target = null;\n\n\t\t}\n\n\t}\n\n}\n\nconst _lut = [];\n\nfor ( let i = 0; i < 256; i ++ ) {\n\n\t_lut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n}\n\nlet _seed = 1234567;\n\n\nconst DEG2RAD = Math.PI / 180;\nconst RAD2DEG = 180 / Math.PI;\n\n// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\nfunction generateUUID() {\n\n\tconst d0 = Math.random() * 0xffffffff | 0;\n\tconst d1 = Math.random() * 0xffffffff | 0;\n\tconst d2 = Math.random() * 0xffffffff | 0;\n\tconst d3 = Math.random() * 0xffffffff | 0;\n\tconst uuid = _lut[ d0 & 0xff ] + _lut[ d0 >> 8 & 0xff ] + _lut[ d0 >> 16 & 0xff ] + _lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d1 & 0xff ] + _lut[ d1 >> 8 & 0xff ] + '-' + _lut[ d1 >> 16 & 0x0f | 0x40 ] + _lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d2 & 0x3f | 0x80 ] + _lut[ d2 >> 8 & 0xff ] + '-' + _lut[ d2 >> 16 & 0xff ] + _lut[ d2 >> 24 & 0xff ] +\n\t\t\t_lut[ d3 & 0xff ] + _lut[ d3 >> 8 & 0xff ] + _lut[ d3 >> 16 & 0xff ] + _lut[ d3 >> 24 & 0xff ];\n\n\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\n\treturn uuid.toUpperCase();\n\n}\n\nfunction clamp( value, min, max ) {\n\n\treturn Math.max( min, Math.min( max, value ) );\n\n}\n\n// compute euclidian modulo of m % n\n// https://en.wikipedia.org/wiki/Modulo_operation\nfunction euclideanModulo( n, m ) {\n\n\treturn ( ( n % m ) + m ) % m;\n\n}\n\n// Linear mapping from range <a1, a2> to range <b1, b2>\nfunction mapLinear( x, a1, a2, b1, b2 ) {\n\n\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n}\n\n// https://www.gamedev.net/tutorials/programming/general-and-gameplay-programming/inverse-lerp-a-super-useful-yet-often-overlooked-function-r5230/\nfunction inverseLerp( x, y, value ) {\n\n\tif ( x !== y ) {\n\n\t\treturn ( value - x ) / ( y - x );\n\n\t\t } else {\n\n\t\treturn 0;\n\n\t\t }\n\n}\n\n// https://en.wikipedia.org/wiki/Linear_interpolation\nfunction lerp( x, y, t ) {\n\n\treturn ( 1 - t ) * x + t * y;\n\n}\n\n// http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/\nfunction damp( x, y, lambda, dt ) {\n\n\treturn lerp( x, y, 1 - Math.exp( - lambda * dt ) );\n\n}\n\n// https://www.desmos.com/calculator/vcsjnyz7x4\nfunction pingpong( x, length = 1 ) {\n\n\treturn length - Math.abs( euclideanModulo( x, length * 2 ) - length );\n\n}\n\n// http://en.wikipedia.org/wiki/Smoothstep\nfunction smoothstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * ( 3 - 2 * x );\n\n}\n\nfunction smootherstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n}\n\n// Random integer from <low, high> interval\nfunction randInt( low, high ) {\n\n\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n}\n\n// Random float from <low, high> interval\nfunction randFloat( low, high ) {\n\n\treturn low + Math.random() * ( high - low );\n\n}\n\n// Random float from <-range/2, range/2> interval\nfunction randFloatSpread( range ) {\n\n\treturn range * ( 0.5 - Math.random() );\n\n}\n\n// Deterministic pseudo-random float in the interval [ 0, 1 ]\nfunction seededRandom( s ) {\n\n\tif ( s !== undefined ) _seed = s % 2147483647;\n\n\t// Park-Miller algorithm\n\n\t_seed = _seed * 16807 % 2147483647;\n\n\treturn ( _seed - 1 ) / 2147483646;\n\n}\n\nfunction degToRad( degrees ) {\n\n\treturn degrees * DEG2RAD;\n\n}\n\nfunction radToDeg( radians ) {\n\n\treturn radians * RAD2DEG;\n\n}\n\nfunction isPowerOfTwo( value ) {\n\n\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n}\n\nfunction ceilPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction floorPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction setQuaternionFromProperEuler( q, a, b, c, order ) {\n\n\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n\n\t// rotations are applied to the axes in the order specified by 'order'\n\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n\t// angles are in radians\n\n\tconst cos = Math.cos;\n\tconst sin = Math.sin;\n\n\tconst c2 = cos( b / 2 );\n\tconst s2 = sin( b / 2 );\n\n\tconst c13 = cos( ( a + c ) / 2 );\n\tconst s13 = sin( ( a + c ) / 2 );\n\n\tconst c1_3 = cos( ( a - c ) / 2 );\n\tconst s1_3 = sin( ( a - c ) / 2 );\n\n\tconst c3_1 = cos( ( c - a ) / 2 );\n\tconst s3_1 = sin( ( c - a ) / 2 );\n\n\tswitch ( order ) {\n\n\t\tcase 'XYX':\n\t\t\tq.set( c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YZY':\n\t\t\tq.set( s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZXZ':\n\t\t\tq.set( s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'XZX':\n\t\t\tq.set( c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YXY':\n\t\t\tq.set( s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZYZ':\n\t\t\tq.set( s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: ' + order );\n\n\t}\n\n}\n\nvar MathUtils = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tDEG2RAD: DEG2RAD,\n\tRAD2DEG: RAD2DEG,\n\tgenerateUUID: generateUUID,\n\tclamp: clamp,\n\teuclideanModulo: euclideanModulo,\n\tmapLinear: mapLinear,\n\tinverseLerp: inverseLerp,\n\tlerp: lerp,\n\tdamp: damp,\n\tpingpong: pingpong,\n\tsmoothstep: smoothstep,\n\tsmootherstep: smootherstep,\n\trandInt: randInt,\n\trandFloat: randFloat,\n\trandFloatSpread: randFloatSpread,\n\tseededRandom: seededRandom,\n\tdegToRad: degToRad,\n\tradToDeg: radToDeg,\n\tisPowerOfTwo: isPowerOfTwo,\n\tceilPowerOfTwo: ceilPowerOfTwo,\n\tfloorPowerOfTwo: floorPowerOfTwo,\n\tsetQuaternionFromProperEuler: setQuaternionFromProperEuler\n});\n\nclass Vector2 {\n\n\tconstructor( x = 0, y = 0 ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.x;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.x = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.y;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.y = value;\n\n\t}\n\n\tset( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t}\n\n\tcross( v ) {\n\n\t\treturn this.x * v.y - this.y * v.x;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tangle() {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tconst angle = Math.atan2( - this.y, - this.x ) + Math.PI;\n\n\t\treturn angle;\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t}\n\n\trotateAround( center, angle ) {\n\n\t\tconst c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tconst x = this.x - center.x;\n\t\tconst y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nVector2.prototype.isVector2 = true;\n\nclass Matrix3 {\n\n\tconstructor() {\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrix3Column( this, 0 );\n\t\tyAxis.setFromMatrix3Column( this, 1 );\n\t\tzAxis.setFromMatrix3Column( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix4( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t}\n\n\tinvert() {\n\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ],\n\t\t\tn12 = te[ 3 ], n22 = te[ 4 ], n32 = te[ 5 ],\n\t\t\tn13 = te[ 6 ], n23 = te[ 7 ], n33 = te[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\ttranspose() {\n\n\t\tlet tmp;\n\t\tconst m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tgetNormalMatrix( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).invert().transpose();\n\n\t}\n\n\ttransposeIntoArray( r ) {\n\n\t\tconst m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetUvTransform( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tconst c = Math.cos( rotation );\n\t\tconst s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tscale( sx, sy ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\n\n\t\treturn this;\n\n\t}\n\n\trotate( theta ) {\n\n\t\tconst c = Math.cos( theta );\n\t\tconst s = Math.sin( theta );\n\n\t\tconst te = this.elements;\n\n\t\tconst a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\n\t\tconst a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\n\n\t\tte[ 0 ] = c * a11 + s * a21;\n\t\tte[ 3 ] = c * a12 + s * a22;\n\t\tte[ 6 ] = c * a13 + s * a23;\n\n\t\tte[ 1 ] = - s * a11 + c * a21;\n\t\tte[ 4 ] = - s * a12 + c * a22;\n\t\tte[ 7 ] = - s * a13 + c * a23;\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( tx, ty ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t}\n\n}\n\nMatrix3.prototype.isMatrix3 = true;\n\nlet _canvas;\n\nclass ImageUtils {\n\n\tstatic getDataURL( image ) {\n\n\t\tif ( /^data:/i.test( image.src ) ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tlet canvas;\n\n\t\tif ( image instanceof HTMLCanvasElement ) {\n\n\t\t\tcanvas = image;\n\n\t\t} else {\n\n\t\t\tif ( _canvas === undefined ) _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t\t\t_canvas.width = image.width;\n\t\t\t_canvas.height = image.height;\n\n\t\t\tconst context = _canvas.getContext( '2d' );\n\n\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t}\n\n\t\t\tcanvas = _canvas;\n\n\t\t}\n\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\tconsole.warn( 'THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons', image );\n\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t} else {\n\n\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t}\n\n\t}\n\n}\n\nlet textureId = 0;\n\nclass Texture extends EventDispatcher {\n\n\tconstructor( image = Texture.DEFAULT_IMAGE, mapping = Texture.DEFAULT_MAPPING, wrapS = ClampToEdgeWrapping, wrapT = ClampToEdgeWrapping, magFilter = LinearFilter, minFilter = LinearMipmapLinearFilter, format = RGBAFormat, type = UnsignedByteType, anisotropy = 1, encoding = LinearEncoding ) {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\n\t\tthis.image = image;\n\t\tthis.mipmaps = [];\n\n\t\tthis.mapping = mapping;\n\n\t\tthis.wrapS = wrapS;\n\t\tthis.wrapT = wrapT;\n\n\t\tthis.magFilter = magFilter;\n\t\tthis.minFilter = minFilter;\n\n\t\tthis.anisotropy = anisotropy;\n\n\t\tthis.format = format;\n\t\tthis.internalFormat = null;\n\t\tthis.type = type;\n\n\t\tthis.offset = new Vector2( 0, 0 );\n\t\tthis.repeat = new Vector2( 1, 1 );\n\t\tthis.center = new Vector2( 0, 0 );\n\t\tthis.rotation = 0;\n\n\t\tthis.matrixAutoUpdate = true;\n\t\tthis.matrix = new Matrix3();\n\n\t\tthis.generateMipmaps = true;\n\t\tthis.premultiplyAlpha = false;\n\t\tthis.flipY = true;\n\t\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t\t//\n\t\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t\t// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\t\tthis.encoding = encoding;\n\n\t\tthis.version = 0;\n\t\tthis.onUpdate = null;\n\n\t}\n\n\tupdateMatrix() {\n\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.image = source.image;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.internalFormat = source.internalFormat;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tconst output = {\n\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\tmapping: this.mapping,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tformat: this.format,\n\t\t\ttype: this.type,\n\t\t\tencoding: this.encoding,\n\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY,\n\n\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\n\t\t\tunpackAlignment: this.unpackAlignment\n\n\t\t};\n\n\t\tif ( this.image !== undefined ) {\n\n\t\t\t// TODO: Move to THREE.Image\n\n\t\t\tconst image = this.image;\n\n\t\t\tif ( image.uuid === undefined ) {\n\n\t\t\t\timage.uuid = generateUUID(); // UGH\n\n\t\t\t}\n\n\t\t\tif ( ! isRootObject && meta.images[ image.uuid ] === undefined ) {\n\n\t\t\t\tlet url;\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\t// process array of images e.g. CubeTexture\n\n\t\t\t\t\turl = [];\n\n\t\t\t\t\tfor ( let i = 0, l = image.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t// check cube texture with data textures\n\n\t\t\t\t\t\tif ( image[ i ].isDataTexture ) {\n\n\t\t\t\t\t\t\turl.push( serializeImage( image[ i ].image ) );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\turl.push( serializeImage( image[ i ] ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// process single image\n\n\t\t\t\t\turl = serializeImage( image );\n\n\t\t\t\t}\n\n\t\t\t\tmeta.images[ image.uuid ] = {\n\t\t\t\t\tuuid: image.uuid,\n\t\t\t\t\turl: url\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\toutput.image = image.uuid;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n\ttransformUv( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) return uv;\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t\treturn uv;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n}\n\nTexture.DEFAULT_IMAGE = undefined;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nTexture.prototype.isTexture = true;\n\nfunction serializeImage( image ) {\n\n\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t// default images\n\n\t\treturn ImageUtils.getDataURL( image );\n\n\t} else {\n\n\t\tif ( image.data ) {\n\n\t\t\t// images of DataTexture\n\n\t\t\treturn {\n\t\t\t\tdata: Array.prototype.slice.call( image.data ),\n\t\t\t\twidth: image.width,\n\t\t\t\theight: image.height,\n\t\t\t\ttype: image.data.constructor.name\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Texture: Unable to serialize Texture.' );\n\t\t\treturn {};\n\n\t\t}\n\n\t}\n\n}\n\nclass Vector4 {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.z;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.z = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.w;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.w = value;\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\t\tthis.w *= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tsetAxisAngleFromQuaternion( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tconst s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetAxisAngleFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tlet angle, x, y, z; // variables for result\n\t\tconst epsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tconst xx = ( m11 + 1 ) / 2;\n\t\t\tconst yy = ( m22 + 1 ) / 2;\n\t\t\tconst zz = ( m33 + 1 ) / 2;\n\t\t\tconst xy = ( m12 + m21 ) / 4;\n\t\t\tconst xz = ( m13 + m31 ) / 4;\n\t\t\tconst yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tlet s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t\t( m13 - m31 ) * ( m13 - m31 ) +\n\t\t\t( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\t\tthis.w = Math.max( minVal, Math.min( maxVal, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\t\tthis.w = v1.w + ( v2.w - v1.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\t\tthis.w = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nVector4.prototype.isVector4 = true;\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nclass WebGLRenderTarget extends EventDispatcher {\n\n\tconstructor( width, height, options ) {\n\n\t\tsuper();\n\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.depth = 1;\n\n\t\tthis.scissor = new Vector4( 0, 0, width, height );\n\t\tthis.scissorTest = false;\n\n\t\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\t\toptions = options || {};\n\n\t\tthis.texture = new Texture( undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\t\tthis.texture.image = {};\n\t\tthis.texture.image.width = width;\n\t\tthis.texture.image.height = height;\n\t\tthis.texture.image.depth = 1;\n\n\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\t\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\t\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : false;\n\t\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n\t}\n\n\tsetTexture( texture ) {\n\n\t\ttexture.image = {\n\t\t\twidth: this.width,\n\t\t\theight: this.height,\n\t\t\tdepth: this.depth\n\t\t};\n\n\t\tthis.texture = texture;\n\n\t}\n\n\tsetSize( width, height, depth = 1 ) {\n\n\t\tif ( this.width !== width || this.height !== height || this.depth !== depth ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t\tthis.depth = depth;\n\n\t\t\tthis.texture.image.width = width;\n\t\t\tthis.texture.image.height = height;\n\t\t\tthis.texture.image.depth = depth;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\t\tthis.depth = source.depth;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\tthis.depthTexture = source.depthTexture;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nWebGLRenderTarget.prototype.isWebGLRenderTarget = true;\n\nclass WebGLMultisampleRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( width, height, options ) {\n\n\t\tsuper( width, height, options );\n\n\t\tthis.samples = 4;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy.call( this, source );\n\n\t\tthis.samples = source.samples;\n\n\t\treturn this;\n\n\t}\n\n}\n\nWebGLMultisampleRenderTarget.prototype.isWebGLMultisampleRenderTarget = true;\n\nclass Quaternion {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t}\n\n\tstatic slerp( qa, qb, qm, t ) {\n\n\t\tconsole.warn( 'THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead.' );\n\t\treturn qm.slerpQuaternions( qa, qb, t );\n\n\t}\n\n\tstatic slerpFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tlet x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( t === 0 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x0;\n\t\t\tdst[ dstOffset + 1 ] = y0;\n\t\t\tdst[ dstOffset + 2 ] = z0;\n\t\t\tdst[ dstOffset + 3 ] = w0;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( t === 1 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x1;\n\t\t\tdst[ dstOffset + 1 ] = y1;\n\t\t\tdst[ dstOffset + 2 ] = z1;\n\t\t\tdst[ dstOffset + 3 ] = w1;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tlet s = 1 - t;\n\t\t\tconst cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tconst sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tconst tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tconst f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n\tstatic multiplyQuaternionsFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1 ) {\n\n\t\tconst x0 = src0[ srcOffset0 ];\n\t\tconst y0 = src0[ srcOffset0 + 1 ];\n\t\tconst z0 = src0[ srcOffset0 + 2 ];\n\t\tconst w0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 ];\n\t\tconst y1 = src1[ srcOffset1 + 1 ];\n\t\tconst z1 = src1[ srcOffset1 + 2 ];\n\t\tconst w1 = src1[ srcOffset1 + 3 ];\n\n\t\tdst[ dstOffset ] = x0 * w1 + w0 * x1 + y0 * z1 - z0 * y1;\n\t\tdst[ dstOffset + 1 ] = y0 * w1 + w0 * y1 + z0 * x1 - x0 * z1;\n\t\tdst[ dstOffset + 2 ] = z0 * w1 + w0 * z1 + x0 * y1 - y0 * x1;\n\t\tdst[ dstOffset + 3 ] = w0 * w1 - x0 * x1 - y0 * y1 - z0 * z1;\n\n\t\treturn dst;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget w() {\n\n\t\treturn this._w;\n\n\t}\n\n\tset w( value ) {\n\n\t\tthis._w = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t}\n\n\tcopy( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromEuler( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst x = euler._x, y = euler._y, z = euler._z, order = euler._order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tconst cos = Math.cos;\n\t\tconst sin = Math.sin;\n\n\t\tconst c1 = cos( x / 2 );\n\t\tconst c2 = cos( y / 2 );\n\t\tconst c3 = cos( z / 2 );\n\n\t\tconst s1 = sin( x / 2 );\n\t\tconst s2 = sin( y / 2 );\n\t\tconst s3 = sin( z / 2 );\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn( 'THREE.Quaternion: .setFromEuler() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromAxisAngle( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tconst halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\tconst s = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromUnitVectors( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tlet r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < Number.EPSILON ) {\n\n\t\t\t// vFrom and vTo point in opposite directions\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t}\n\n\tangleTo( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t}\n\n\trotateTowards( q, step ) {\n\n\t\tconst angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tconst t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\treturn this.set( 0, 0, 0, 1 );\n\n\t}\n\n\tinvert() {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t}\n\n\tconjugate() {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t}\n\n\tnormalize() {\n\n\t\tlet l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t}\n\n\tpremultiply( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t}\n\n\tmultiplyQuaternions( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tconst qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tconst qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerp( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tconst x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tlet cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tconst s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\tthis.normalize();\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tconst halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tconst ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerpQuaternions( qa, qb, t ) {\n\n\t\tthis.copy( qa ).slerp( qb, t );\n\n\t}\n\n\tequals( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis._x = attribute.getX( index );\n\t\tthis._y = attribute.getY( index );\n\t\tthis._z = attribute.getZ( index );\n\t\tthis._w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n}\n\nQuaternion.prototype.isQuaternion = true;\n\nclass Vector3 {\n\n\tconstructor( x = 0, y = 0, z = 0 ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t}\n\n\tset( x, y, z ) {\n\n\t\tif ( z === undefined ) z = this.z; // sprite.scale.set(x,y)\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyVectors( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\treturn this.applyQuaternion( _quaternion$4.setFromEuler( euler ) );\n\n\t}\n\n\tapplyAxisAngle( axis, angle ) {\n\n\t\treturn this.applyQuaternion( _quaternion$4.setFromAxisAngle( axis, angle ) );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\treturn this.applyMatrix3( m ).normalize();\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tconst w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tconst ix = qw * x + qy * z - qz * y;\n\t\tconst iy = qw * y + qz * x - qx * z;\n\t\tconst iz = qw * z + qx * y - qy * x;\n\t\tconst iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t}\n\n\tproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t}\n\n\tunproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t}\n\n\t// TODO lengthSquared?\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tcross( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t}\n\n\tcrossVectors( a, b ) {\n\n\t\tconst ax = a.x, ay = a.y, az = a.z;\n\t\tconst bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t}\n\n\tprojectOnVector( v ) {\n\n\t\tconst denominator = v.lengthSq();\n\n\t\tif ( denominator === 0 ) return this.set( 0, 0, 0 );\n\n\t\tconst scalar = v.dot( this ) / denominator;\n\n\t\treturn this.copy( v ).multiplyScalar( scalar );\n\n\t}\n\n\tprojectOnPlane( planeNormal ) {\n\n\t\t_vector$c.copy( this ).projectOnVector( planeNormal );\n\n\t\treturn this.sub( _vector$c );\n\n\t}\n\n\treflect( normal ) {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\treturn this.sub( _vector$c.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t}\n\n\tangleTo( v ) {\n\n\t\tconst denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\n\n\t\tif ( denominator === 0 ) return Math.PI / 2;\n\n\t\tconst theta = this.dot( v ) / denominator;\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( clamp( theta, - 1, 1 ) );\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t}\n\n\tsetFromSpherical( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t}\n\n\tsetFromSphericalCoords( radius, phi, theta ) {\n\n\t\tconst sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCylindrical( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t}\n\n\tsetFromCylindricalCoords( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixPosition( m ) {\n\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixScale( m ) {\n\n\t\tconst sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tconst sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tconst sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixColumn( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t}\n\n\tsetFromMatrix3Column( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 3 );\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nVector3.prototype.isVector3 = true;\n\nconst _vector$c = /*@__PURE__*/ new Vector3();\nconst _quaternion$4 = /*@__PURE__*/ new Quaternion();\n\nclass Box3 {\n\n\tconstructor( min = new Vector3( + Infinity, + Infinity, + Infinity ), max = new Vector3( - Infinity, - Infinity, - Infinity ) ) {\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromArray( array ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tconst x = array[ i ];\n\t\t\tconst y = array[ i + 1 ];\n\t\t\tconst z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromBufferAttribute( attribute ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tconst x = attribute.getX( i );\n\t\t\tconst y = attribute.getY( i );\n\t\t\tconst z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector$b.copy( size ).multiplyScalar( 0.5 );\n\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromObject( object ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getSize() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\texpandByObject( object ) {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry !== undefined ) {\n\n\t\t\tif ( geometry.boundingBox === null ) {\n\n\t\t\t\tgeometry.computeBoundingBox();\n\n\t\t\t}\n\n\t\t\t_box$3.copy( geometry.boundingBox );\n\t\t\t_box$3.applyMatrix4( object.matrixWorld );\n\n\t\t\tthis.union( _box$3 );\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tthis.expandByObject( children[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getParameter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\t// Find the point on the AABB closest to the sphere center.\n\t\tthis.clampPoint( sphere.center, _vector$b );\n\n\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\treturn _vector$b.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tlet min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\n\n\t}\n\n\tintersectsTriangle( triangle ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// compute box center and extents\n\t\tthis.getCenter( _center );\n\t\t_extents.subVectors( this.max, _center );\n\n\t\t// translate triangle to aabb origin\n\t\t_v0$2.subVectors( triangle.a, _center );\n\t\t_v1$7.subVectors( triangle.b, _center );\n\t\t_v2$3.subVectors( triangle.c, _center );\n\n\t\t// compute edge vectors for triangle\n\t\t_f0.subVectors( _v1$7, _v0$2 );\n\t\t_f1.subVectors( _v2$3, _v1$7 );\n\t\t_f2.subVectors( _v0$2, _v2$3 );\n\n\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\t\tlet axes = [\n\t\t\t0, - _f0.z, _f0.y, 0, - _f1.z, _f1.y, 0, - _f2.z, _f2.y,\n\t\t\t_f0.z, 0, - _f0.x, _f1.z, 0, - _f1.x, _f2.z, 0, - _f2.x,\n\t\t\t- _f0.y, _f0.x, 0, - _f1.y, _f1.x, 0, - _f2.y, _f2.x, 0\n\t\t];\n\t\tif ( ! satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// test 3 face normals from the aabb\n\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\n\t\tif ( ! satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// finally testing the face normal of the triangle\n\t\t// use already existing triangle edge vectors here\n\t\t_triangleNormal.crossVectors( _f0, _f1 );\n\t\taxes = [ _triangleNormal.x, _triangleNormal.y, _triangleNormal.z ];\n\n\t\treturn satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents );\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\tconst clampedPoint = _vector$b.copy( point ).clamp( this.min, this.max );\n\n\t\treturn clampedPoint.sub( point ).length();\n\n\t}\n\n\tgetBoundingSphere( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.error( 'THREE.Box3: .getBoundingSphere() target is now required' );\n\t\t\t//target = new Sphere(); // removed to avoid cyclic dependency\n\n\t\t}\n\n\t\tthis.getCenter( target.center );\n\n\t\ttarget.radius = this.getSize( _vector$b ).length() * 0.5;\n\n\t\treturn target;\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\t// transform of empty box is an empty box.\n\t\tif ( this.isEmpty() ) return this;\n\n\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t_points[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t_points[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t_points[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t_points[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t_points[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t_points[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t_points[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t_points[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\n\n\t\tthis.setFromPoints( _points );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nBox3.prototype.isBox3 = true;\n\nconst _points = [\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3()\n];\n\nconst _vector$b = /*@__PURE__*/ new Vector3();\n\nconst _box$3 = /*@__PURE__*/ new Box3();\n\n// triangle centered vertices\n\nconst _v0$2 = /*@__PURE__*/ new Vector3();\nconst _v1$7 = /*@__PURE__*/ new Vector3();\nconst _v2$3 = /*@__PURE__*/ new Vector3();\n\n// triangle edge vectors\n\nconst _f0 = /*@__PURE__*/ new Vector3();\nconst _f1 = /*@__PURE__*/ new Vector3();\nconst _f2 = /*@__PURE__*/ new Vector3();\n\nconst _center = /*@__PURE__*/ new Vector3();\nconst _extents = /*@__PURE__*/ new Vector3();\nconst _triangleNormal = /*@__PURE__*/ new Vector3();\nconst _testAxis = /*@__PURE__*/ new Vector3();\n\nfunction satForAxes( axes, v0, v1, v2, extents ) {\n\n\tfor ( let i = 0, j = axes.length - 3; i <= j; i += 3 ) {\n\n\t\t_testAxis.fromArray( axes, i );\n\t\t// project the aabb onto the seperating axis\n\t\tconst r = extents.x * Math.abs( _testAxis.x ) + extents.y * Math.abs( _testAxis.y ) + extents.z * Math.abs( _testAxis.z );\n\t\t// project all 3 vertices of the triangle onto the seperating axis\n\t\tconst p0 = v0.dot( _testAxis );\n\t\tconst p1 = v1.dot( _testAxis );\n\t\tconst p2 = v2.dot( _testAxis );\n\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\n\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\n\n\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t// the axis is seperating and we can exit\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n\treturn true;\n\n}\n\nconst _box$2 = /*@__PURE__*/ new Box3();\nconst _v1$6 = /*@__PURE__*/ new Vector3();\nconst _toFarthestPoint = /*@__PURE__*/ new Vector3();\nconst _toPoint = /*@__PURE__*/ new Vector3();\n\nclass Sphere {\n\n\tconstructor( center = new Vector3(), radius = - 1 ) {\n\n\t\tthis.center = center;\n\t\tthis.radius = radius;\n\n\t}\n\n\tset( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points, optionalCenter ) {\n\n\t\tconst center = this.center;\n\n\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\tcenter.copy( optionalCenter );\n\n\t\t} else {\n\n\t\t\t_box$2.setFromPoints( points ).getCenter( center );\n\n\t\t}\n\n\t\tlet maxRadiusSq = 0;\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t}\n\n\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\treturn ( this.radius < 0 );\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.center.set( 0, 0, 0 );\n\t\tthis.radius = - 1;\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tconst deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\ttarget.sub( this.center ).normalize();\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn target;\n\n\t}\n\n\tgetBoundingBox( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .getBoundingBox() target is now required' );\n\t\t\ttarget = new Box3();\n\n\t\t}\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\t// Empty sphere produces empty bounding box\n\t\t\ttarget.makeEmpty();\n\t\t\treturn target;\n\n\t\t}\n\n\t\ttarget.set( this.center, this.center );\n\t\ttarget.expandByScalar( this.radius );\n\n\t\treturn target;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L649-L671\n\n\t\t_toPoint.subVectors( point, this.center );\n\n\t\tconst lengthSq = _toPoint.lengthSq();\n\n\t\tif ( lengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\tconst length = Math.sqrt( lengthSq );\n\t\t\tconst missingRadiusHalf = ( length - this.radius ) * 0.5;\n\n\t\t\t// Nudge this sphere towards the target point. Add half the missing distance to radius,\n\t\t\t// and the other half to position. This gives a tighter enclosure, instead of if\n\t\t\t// the whole missing distance were just added to radius.\n\n\t\t\tthis.center.add( _toPoint.multiplyScalar( missingRadiusHalf / length ) );\n\t\t\tthis.radius += missingRadiusHalf;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tunion( sphere ) {\n\n\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L759-L769\n\n\t\t// To enclose another sphere into this sphere, we only need to enclose two points:\n\t\t// 1) Enclose the farthest point on the other sphere into this sphere.\n\t\t// 2) Enclose the opposite point of the farthest point into this sphere.\n\n\t\t_toFarthestPoint.subVectors( sphere.center, this.center ).normalize().multiplyScalar( sphere.radius );\n\n\t\tthis.expandByPoint( _v1$6.copy( sphere.center ).add( _toFarthestPoint ) );\n\t\tthis.expandByPoint( _v1$6.copy( sphere.center ).sub( _toFarthestPoint ) );\n\n\t\treturn this;\n\n\t}\n\n\tequals( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _vector$a = /*@__PURE__*/ new Vector3();\nconst _segCenter = /*@__PURE__*/ new Vector3();\nconst _segDir = /*@__PURE__*/ new Vector3();\nconst _diff = /*@__PURE__*/ new Vector3();\n\nconst _edge1 = /*@__PURE__*/ new Vector3();\nconst _edge2 = /*@__PURE__*/ new Vector3();\nconst _normal$1 = /*@__PURE__*/ new Vector3();\n\nclass Ray {\n\n\tconstructor( origin = new Vector3(), direction = new Vector3( 0, 0, - 1 ) ) {\n\n\t\tthis.origin = origin;\n\t\tthis.direction = direction;\n\n\t}\n\n\tset( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t}\n\n\tat( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t}\n\n\tlookAt( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\trecast( t ) {\n\n\t\tthis.origin.copy( this.at( t, _vector$a ) );\n\n\t\treturn this;\n\n\t}\n\n\tclosestPointToPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tconst directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t}\n\n\tdistanceSqToPoint( point ) {\n\n\t\tconst directionDistance = _vector$a.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t// point behind the ray\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t}\n\n\t\t_vector$a.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\treturn _vector$a.distanceToSquared( point );\n\n\t}\n\n\tdistanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t// It returns the min distance between the ray and the segment\n\t\t// defined by v0 and v1\n\t\t// It can also set two optional targets :\n\t\t// - The closest point on the ray\n\t\t// - The closest point on the segment\n\n\t\t_segCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t_segDir.copy( v1 ).sub( v0 ).normalize();\n\t\t_diff.copy( this.origin ).sub( _segCenter );\n\n\t\tconst segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\tconst a01 = - this.direction.dot( _segDir );\n\t\tconst b0 = _diff.dot( this.direction );\n\t\tconst b1 = - _diff.dot( _segDir );\n\t\tconst c = _diff.lengthSq();\n\t\tconst det = Math.abs( 1 - a01 * a01 );\n\t\tlet s0, s1, sqrDist, extDet;\n\n\t\tif ( det > 0 ) {\n\n\t\t\t// The ray and segment are not parallel.\n\n\t\t\ts0 = a01 * b1 - b0;\n\t\t\ts1 = a01 * b0 - b1;\n\t\t\textDet = segExtent * det;\n\n\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\tconst invDet = 1 / det;\n\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 5\n\n\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t// region 4\n\n\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t// region 3\n\n\t\t\t\t\ts0 = 0;\n\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 2\n\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Ray and segment are parallel.\n\n\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t}\n\n\t\tif ( optionalPointOnRay ) {\n\n\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t}\n\n\t\tif ( optionalPointOnSegment ) {\n\n\t\t\toptionalPointOnSegment.copy( _segDir ).multiplyScalar( s1 ).add( _segCenter );\n\n\t\t}\n\n\t\treturn sqrDist;\n\n\t}\n\n\tintersectSphere( sphere, target ) {\n\n\t\t_vector$a.subVectors( sphere.center, this.origin );\n\t\tconst tca = _vector$a.dot( this.direction );\n\t\tconst d2 = _vector$a.dot( _vector$a ) - tca * tca;\n\t\tconst radius2 = sphere.radius * sphere.radius;\n\n\t\tif ( d2 > radius2 ) return null;\n\n\t\tconst thc = Math.sqrt( radius2 - d2 );\n\n\t\t// t0 = first intersect point - entrance on front of sphere\n\t\tconst t0 = tca - thc;\n\n\t\t// t1 = second intersect point - exit point on back of sphere\n\t\tconst t1 = tca + thc;\n\n\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t// test to see if t0 is behind the ray:\n\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t// in order to always return an intersect point that is in front of the ray.\n\t\tif ( t0 < 0 ) return this.at( t1, target );\n\n\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\treturn this.at( t0, target );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tdistanceToPlane( plane ) {\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t}\n\n\tintersectPlane( plane, target ) {\n\n\t\tconst t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tconst distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t}\n\n\tintersectBox( box, target ) {\n\n\t\tlet tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tconst invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tconst origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn this.intersectBox( box, _vector$a ) !== null;\n\n\t}\n\n\tintersectTriangle( a, b, c, backfaceCulling, target ) {\n\n\t\t// Compute the offset origin, edges, and normal.\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t_edge1.subVectors( b, a );\n\t\t_edge2.subVectors( c, a );\n\t\t_normal$1.crossVectors( _edge1, _edge2 );\n\n\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\tlet DdN = this.direction.dot( _normal$1 );\n\t\tlet sign;\n\n\t\tif ( DdN > 0 ) {\n\n\t\t\tif ( backfaceCulling ) return null;\n\t\t\tsign = 1;\n\n\t\t} else if ( DdN < 0 ) {\n\n\t\t\tsign = - 1;\n\t\t\tDdN = - DdN;\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t_diff.subVectors( this.origin, a );\n\t\tconst DdQxE2 = sign * this.direction.dot( _edge2.crossVectors( _diff, _edge2 ) );\n\n\t\t// b1 < 0, no intersection\n\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst DdE1xQ = sign * this.direction.dot( _edge1.cross( _diff ) );\n\n\t\t// b2 < 0, no intersection\n\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// b1+b2 > 1, no intersection\n\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Line intersects triangle, check if ray does.\n\t\tconst QdN = - sign * _diff.dot( _normal$1 );\n\n\t\t// t < 0, no intersection\n\t\tif ( QdN < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Ray intersects triangle.\n\t\treturn this.at( QdN / DdN, target );\n\n\t}\n\n\tapplyMatrix4( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t}\n\n\tequals( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nclass Matrix4 {\n\n\tconstructor() {\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t}\n\n\tcopyPosition( m ) {\n\n\t\tconst te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix3( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 3 ], me[ 6 ], 0,\n\t\t\tme[ 1 ], me[ 4 ], me[ 7 ], 0,\n\t\t\tme[ 2 ], me[ 5 ], me[ 8 ], 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmakeBasis( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractRotation( m ) {\n\n\t\t// this method does not support reflection matrices\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tconst scaleX = 1 / _v1$5.setFromMatrixColumn( m, 0 ).length();\n\t\tconst scaleY = 1 / _v1$5.setFromMatrixColumn( m, 1 ).length();\n\t\tconst scaleZ = 1 / _v1$5.setFromMatrixColumn( m, 2 ).length();\n\n\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\n\t\tconst x = euler.x, y = euler.y, z = euler.z;\n\t\tconst a = Math.cos( x ), b = Math.sin( x );\n\t\tconst c = Math.cos( y ), d = Math.sin( y );\n\t\tconst e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromQuaternion( q ) {\n\n\t\treturn this.compose( _zero, q, _one );\n\n\t}\n\n\tlookAt( eye, target, up ) {\n\n\t\tconst te = this.elements;\n\n\t\t_z.subVectors( eye, target );\n\n\t\tif ( _z.lengthSq() === 0 ) {\n\n\t\t\t// eye and target are in the same position\n\n\t\t\t_z.z = 1;\n\n\t\t}\n\n\t\t_z.normalize();\n\t\t_x.crossVectors( up, _z );\n\n\t\tif ( _x.lengthSq() === 0 ) {\n\n\t\t\t// up and z are parallel\n\n\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t_z.x += 0.0001;\n\n\t\t\t} else {\n\n\t\t\t\t_z.z += 0.0001;\n\n\t\t\t}\n\n\t\t\t_z.normalize();\n\t\t\t_x.crossVectors( up, _z );\n\n\t\t}\n\n\t\t_x.normalize();\n\t\t_y.crossVectors( _z, _x );\n\n\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\n\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\n\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tconst a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tconst b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tconst n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tconst n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tconst n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t}\n\n\ttranspose() {\n\n\t\tconst te = this.elements;\n\t\tlet tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tsetPosition( x, y, z ) {\n\n\t\tconst te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tinvert() {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ], n41 = te[ 3 ],\n\t\t\tn12 = te[ 4 ], n22 = te[ 5 ], n32 = te[ 6 ], n42 = te[ 7 ],\n\t\t\tn13 = te[ 8 ], n23 = te[ 9 ], n33 = te[ 10 ], n43 = te[ 11 ],\n\t\t\tn14 = te[ 12 ], n24 = te[ 13 ], n34 = te[ 14 ], n44 = te[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tconst det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\tscale( v ) {\n\n\t\tconst te = this.elements;\n\t\tconst x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxScaleOnAxis() {\n\n\t\tconst te = this.elements;\n\n\t\tconst scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tconst scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tconst scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t}\n\n\tmakeTranslation( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationX( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationY( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationZ( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationAxis( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tconst c = Math.cos( angle );\n\t\tconst s = Math.sin( angle );\n\t\tconst t = 1 - c;\n\t\tconst x = axis.x, y = axis.y, z = axis.z;\n\t\tconst tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeScale( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeShear( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tconst x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tconst x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tconst xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tconst yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tconst wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tconst sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tdecompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tlet sx = _v1$5.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\tconst sy = _v1$5.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\tconst sz = _v1$5.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t// if determine is negative, we need to invert one scale\n\t\tconst det = this.determinant();\n\t\tif ( det < 0 ) sx = - sx;\n\n\t\tposition.x = te[ 12 ];\n\t\tposition.y = te[ 13 ];\n\t\tposition.z = te[ 14 ];\n\n\t\t// scale the rotation part\n\t\t_m1$2.copy( this );\n\n\t\tconst invSX = 1 / sx;\n\t\tconst invSY = 1 / sy;\n\t\tconst invSZ = 1 / sz;\n\n\t\t_m1$2.elements[ 0 ] *= invSX;\n\t\t_m1$2.elements[ 1 ] *= invSX;\n\t\t_m1$2.elements[ 2 ] *= invSX;\n\n\t\t_m1$2.elements[ 4 ] *= invSY;\n\t\t_m1$2.elements[ 5 ] *= invSY;\n\t\t_m1$2.elements[ 6 ] *= invSY;\n\n\t\t_m1$2.elements[ 8 ] *= invSZ;\n\t\t_m1$2.elements[ 9 ] *= invSZ;\n\t\t_m1$2.elements[ 10 ] *= invSZ;\n\n\t\tquaternion.setFromRotationMatrix( _m1$2 );\n\n\t\tscale.x = sx;\n\t\tscale.y = sy;\n\t\tscale.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tmakePerspective( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\t\tconst x = 2 * near / ( right - left );\n\t\tconst y = 2 * near / ( top - bottom );\n\n\t\tconst a = ( right + left ) / ( right - left );\n\t\tconst b = ( top + bottom ) / ( top - bottom );\n\t\tconst c = - ( far + near ) / ( far - near );\n\t\tconst d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t}\n\n\tmakeOrthographic( left, right, top, bottom, near, far ) {\n\n\t\tconst te = this.elements;\n\t\tconst w = 1.0 / ( right - left );\n\t\tconst h = 1.0 / ( top - bottom );\n\t\tconst p = 1.0 / ( far - near );\n\n\t\tconst x = ( right + left ) * w;\n\t\tconst y = ( top + bottom ) * h;\n\t\tconst z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n}\n\nMatrix4.prototype.isMatrix4 = true;\n\nconst _v1$5 = /*@__PURE__*/ new Vector3();\nconst _m1$2 = /*@__PURE__*/ new Matrix4();\nconst _zero = /*@__PURE__*/ new Vector3( 0, 0, 0 );\nconst _one = /*@__PURE__*/ new Vector3( 1, 1, 1 );\nconst _x = /*@__PURE__*/ new Vector3();\nconst _y = /*@__PURE__*/ new Vector3();\nconst _z = /*@__PURE__*/ new Vector3();\n\nconst _matrix$1 = /*@__PURE__*/ new Matrix4();\nconst _quaternion$3 = /*@__PURE__*/ new Quaternion();\n\nclass Euler {\n\n\tconstructor( x = 0, y = 0, z = 0, order = Euler.DefaultOrder ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget order() {\n\n\t\treturn this._order;\n\n\t}\n\n\tset order( value ) {\n\n\t\tthis._order = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order || this._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t}\n\n\tcopy( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m, order, update ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements;\n\t\tconst m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tconst m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tconst m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\torder = order || this._order;\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\n\t\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m13 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\n\t\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m23 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\n\t\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m32 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = 0;\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\n\t\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m31 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\n\t\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m21 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\n\t\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m12 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._y = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromQuaternion( q, order, update ) {\n\n\t\t_matrix$1.makeRotationFromQuaternion( q );\n\n\t\treturn this.setFromRotationMatrix( _matrix$1, order, update );\n\n\t}\n\n\tsetFromVector3( v, order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\n\t}\n\n\treorder( newOrder ) {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\t_quaternion$3.setFromEuler( this );\n\n\t\treturn this.setFromQuaternion( _quaternion$3, newOrder );\n\n\t}\n\n\tequals( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t}\n\n\tfromArray( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t}\n\n\ttoVector3( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n}\n\nEuler.prototype.isEuler = true;\n\nEuler.DefaultOrder = 'XYZ';\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nclass Layers {\n\n\tconstructor() {\n\n\t\tthis.mask = 1 | 0;\n\n\t}\n\n\tset( channel ) {\n\n\t\tthis.mask = 1 << channel | 0;\n\n\t}\n\n\tenable( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t}\n\n\tenableAll() {\n\n\t\tthis.mask = 0xffffffff | 0;\n\n\t}\n\n\ttoggle( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t}\n\n\tdisable( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t}\n\n\tdisableAll() {\n\n\t\tthis.mask = 0;\n\n\t}\n\n\ttest( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n}\n\nlet _object3DId = 0;\n\nconst _v1$4 = new /*@__PURE__*/ Vector3();\nconst _q1 = new /*@__PURE__*/ Quaternion();\nconst _m1$1 = new /*@__PURE__*/ Matrix4();\nconst _target = new /*@__PURE__*/ Vector3();\n\nconst _position$3 = new /*@__PURE__*/ Vector3();\nconst _scale$2 = new /*@__PURE__*/ Vector3();\nconst _quaternion$2 = new /*@__PURE__*/ Quaternion();\n\nconst _xAxis = new /*@__PURE__*/ Vector3( 1, 0, 0 );\nconst _yAxis = new /*@__PURE__*/ Vector3( 0, 1, 0 );\nconst _zAxis = new /*@__PURE__*/ Vector3( 0, 0, 1 );\n\nconst _addedEvent = { type: 'added' };\nconst _removedEvent = { type: 'removed' };\n\nclass Object3D extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: _object3DId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'Object3D';\n\n\t\tthis.parent = null;\n\t\tthis.children = [];\n\n\t\tthis.up = Object3D.DefaultUp.clone();\n\n\t\tconst position = new Vector3();\n\t\tconst rotation = new Euler();\n\t\tconst quaternion = new Quaternion();\n\t\tconst scale = new Vector3( 1, 1, 1 );\n\n\t\tfunction onRotationChange() {\n\n\t\t\tquaternion.setFromEuler( rotation, false );\n\n\t\t}\n\n\t\tfunction onQuaternionChange() {\n\n\t\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t\t}\n\n\t\trotation._onChange( onRotationChange );\n\t\tquaternion._onChange( onQuaternionChange );\n\n\t\tObject.defineProperties( this, {\n\t\t\tposition: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: position\n\t\t\t},\n\t\t\trotation: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: rotation\n\t\t\t},\n\t\t\tquaternion: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: quaternion\n\t\t\t},\n\t\t\tscale: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: scale\n\t\t\t},\n\t\t\tmodelViewMatrix: {\n\t\t\t\tvalue: new Matrix4()\n\t\t\t},\n\t\t\tnormalMatrix: {\n\t\t\t\tvalue: new Matrix3()\n\t\t\t}\n\t\t} );\n\n\t\tthis.matrix = new Matrix4();\n\t\tthis.matrixWorld = new Matrix4();\n\n\t\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\tthis.layers = new Layers();\n\t\tthis.visible = true;\n\n\t\tthis.castShadow = false;\n\t\tthis.receiveShadow = false;\n\n\t\tthis.frustumCulled = true;\n\t\tthis.renderOrder = 0;\n\n\t\tthis.animations = [];\n\n\t\tthis.userData = {};\n\n\t}\n\n\tonBeforeRender() {}\n\tonAfterRender() {}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tthis.matrix.premultiply( matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t}\n\n\tsetRotationFromAxisAngle( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t}\n\n\tsetRotationFromEuler( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t}\n\n\tsetRotationFromMatrix( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t}\n\n\tsetRotationFromQuaternion( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t}\n\n\trotateOnAxis( axis, angle ) {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.multiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateOnWorldAxis( axis, angle ) {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.premultiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateX( angle ) {\n\n\t\treturn this.rotateOnAxis( _xAxis, angle );\n\n\t}\n\n\trotateY( angle ) {\n\n\t\treturn this.rotateOnAxis( _yAxis, angle );\n\n\t}\n\n\trotateZ( angle ) {\n\n\t\treturn this.rotateOnAxis( _zAxis, angle );\n\n\t}\n\n\ttranslateOnAxis( axis, distance ) {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_v1$4.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\tthis.position.add( _v1$4.multiplyScalar( distance ) );\n\n\t\treturn this;\n\n\t}\n\n\ttranslateX( distance ) {\n\n\t\treturn this.translateOnAxis( _xAxis, distance );\n\n\t}\n\n\ttranslateY( distance ) {\n\n\t\treturn this.translateOnAxis( _yAxis, distance );\n\n\t}\n\n\ttranslateZ( distance ) {\n\n\t\treturn this.translateOnAxis( _zAxis, distance );\n\n\t}\n\n\tlocalToWorld( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t}\n\n\tworldToLocal( vector ) {\n\n\t\treturn vector.applyMatrix4( _m1$1.copy( this.matrixWorld ).invert() );\n\n\t}\n\n\tlookAt( x, y, z ) {\n\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\t_target.copy( x );\n\n\t\t} else {\n\n\t\t\t_target.set( x, y, z );\n\n\t\t}\n\n\t\tconst parent = this.parent;\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_position$3.setFromMatrixPosition( this.matrixWorld );\n\n\t\tif ( this.isCamera || this.isLight ) {\n\n\t\t\t_m1$1.lookAt( _position$3, _target, this.up );\n\n\t\t} else {\n\n\t\t\t_m1$1.lookAt( _target, _position$3, this.up );\n\n\t\t}\n\n\t\tthis.quaternion.setFromRotationMatrix( _m1$1 );\n\n\t\tif ( parent ) {\n\n\t\t\t_m1$1.extractRotation( parent.matrixWorld );\n\t\t\t_q1.setFromRotationMatrix( _m1$1 );\n\t\t\tthis.quaternion.premultiply( _q1.invert() );\n\n\t\t}\n\n\t}\n\n\tadd( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object can\\'t be added as a child of itself.', object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object && object.isObject3D ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tthis.children.push( object );\n\n\t\t\tobject.dispatchEvent( _addedEvent );\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object not an instance of THREE.Object3D.', object );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tremove( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclear() {\n\n\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\tconst object = this.children[ i ];\n\n\t\t\tobject.parent = null;\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\tthis.children.length = 0;\n\n\t\treturn this;\n\n\n\t}\n\n\tattach( object ) {\n\n\t\t// adds object as a child of this, while maintaining the object's world transform\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_m1$1.copy( this.matrixWorld ).invert();\n\n\t\tif ( object.parent !== null ) {\n\n\t\t\tobject.parent.updateWorldMatrix( true, false );\n\n\t\t\t_m1$1.multiply( object.parent.matrixWorld );\n\n\t\t}\n\n\t\tobject.applyMatrix4( _m1$1 );\n\n\t\tthis.add( object );\n\n\t\tobject.updateWorldMatrix( false, true );\n\n\t\treturn this;\n\n\t}\n\n\tgetObjectById( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t}\n\n\tgetObjectByName( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t}\n\n\tgetObjectByProperty( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( let i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tconst child = this.children[ i ];\n\t\t\tconst object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n\tgetWorldPosition( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldPosition() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t}\n\n\tgetWorldQuaternion( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldQuaternion() target is now required' );\n\t\t\ttarget = new Quaternion();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position$3, target, _scale$2 );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldScale( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldScale() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position$3, _quaternion$2, target );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldDirection( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\n\n\t}\n\n\traycast() {}\n\n\ttraverse( callback ) {\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseVisible( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseAncestors( callback ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t}\n\n\tupdateMatrix() {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t}\n\n\tupdateWorldMatrix( updateParents, updateChildren ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( updateParents === true && parent !== null ) {\n\n\t\t\tparent.updateWorldMatrix( true, false );\n\n\t\t}\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.parent === null ) {\n\n\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t} else {\n\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t}\n\n\t\t// update children\n\n\t\tif ( updateChildren === true ) {\n\n\t\t\tconst children = this.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateWorldMatrix( false, true );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tconst output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {},\n\t\t\t\tskeletons: {},\n\t\t\t\tanimations: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tconst object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\n\n\t\t// object specific properties\n\n\t\tif ( this.isInstancedMesh ) {\n\n\t\t\tobject.type = 'InstancedMesh';\n\t\t\tobject.count = this.count;\n\t\t\tobject.instanceMatrix = this.instanceMatrix.toJSON();\n\t\t\tif ( this.instanceColor !== null ) object.instanceColor = this.instanceColor.toJSON();\n\n\t\t}\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.isMesh || this.isLine || this.isPoints ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tconst parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tconst shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tconst shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.isSkinnedMesh ) {\n\n\t\t\tobject.bindMode = this.bindMode;\n\t\t\tobject.bindMatrix = this.bindMatrix.toArray();\n\n\t\t\tif ( this.skeleton !== undefined ) {\n\n\t\t\t\tserialize( meta.skeletons, this.skeleton );\n\n\t\t\t\tobject.skeleton = this.skeleton.uuid;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tconst uuids = [];\n\n\t\t\t\tfor ( let i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.animations.length > 0 ) {\n\n\t\t\tobject.animations = [];\n\n\t\t\tfor ( let i = 0; i < this.animations.length; i ++ ) {\n\n\t\t\t\tconst animation = this.animations[ i ];\n\n\t\t\t\tobject.animations.push( serialize( meta.animations, animation ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tconst geometries = extractFromCache( meta.geometries );\n\t\t\tconst materials = extractFromCache( meta.materials );\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\t\t\tconst shapes = extractFromCache( meta.shapes );\n\t\t\tconst skeletons = extractFromCache( meta.skeletons );\n\t\t\tconst animations = extractFromCache( meta.animations );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\n\t\t\tif ( skeletons.length > 0 ) output.skeletons = skeletons;\n\t\t\tif ( animations.length > 0 ) output.animations = animations;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t}\n\n\tclone( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t}\n\n\tcopy( source, recursive = true ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.rotation.order = source.rotation.order;\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( let i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tconst child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nObject3D.prototype.isObject3D = true;\n\nconst _vector1 = /*@__PURE__*/ new Vector3();\nconst _vector2$1 = /*@__PURE__*/ new Vector3();\nconst _normalMatrix = /*@__PURE__*/ new Matrix3();\n\nclass Plane {\n\n\tconstructor( normal = new Vector3( 1, 0, 0 ), constant = 0 ) {\n\n\t\t// normal is assumed to be normalized\n\n\t\tthis.normal = normal;\n\t\tthis.constant = constant;\n\n\t}\n\n\tset( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponents( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromNormalAndCoplanarPoint( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCoplanarPoints( a, b, c ) {\n\n\t\tconst normal = _vector1.subVectors( c, b ).cross( _vector2$1.subVectors( a, b ) ).normalize();\n\n\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t}\n\n\tnormalize() {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tconst inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t}\n\n\tdistanceToSphere( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t}\n\n\tprojectPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .projectPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n\t}\n\n\tintersectLine( line, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .intersectLine() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tconst direction = line.delta( _vector1 );\n\n\t\tconst denominator = this.normal.dot( direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\treturn target.copy( line.start );\n\n\t\t\t}\n\n\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t}\n\n\tintersectsLine( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tconst startSign = this.distanceToPoint( line.start );\n\t\tconst endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t}\n\n\tcoplanarPoint( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .coplanarPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t}\n\n\tapplyMatrix4( matrix, optionalNormalMatrix ) {\n\n\t\tconst normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix( matrix );\n\n\t\tconst referencePoint = this.coplanarPoint( _vector1 ).applyMatrix4( matrix );\n\n\t\tconst normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tequals( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nPlane.prototype.isPlane = true;\n\nconst _v0$1 = /*@__PURE__*/ new Vector3();\nconst _v1$3 = /*@__PURE__*/ new Vector3();\nconst _v2$2 = /*@__PURE__*/ new Vector3();\nconst _v3$1 = /*@__PURE__*/ new Vector3();\n\nconst _vab = /*@__PURE__*/ new Vector3();\nconst _vac = /*@__PURE__*/ new Vector3();\nconst _vbc = /*@__PURE__*/ new Vector3();\nconst _vap = /*@__PURE__*/ new Vector3();\nconst _vbp = /*@__PURE__*/ new Vector3();\nconst _vcp = /*@__PURE__*/ new Vector3();\n\nclass Triangle {\n\n\tconstructor( a = new Vector3(), b = new Vector3(), c = new Vector3() ) {\n\n\t\tthis.a = a;\n\t\tthis.b = b;\n\t\tthis.c = c;\n\n\t}\n\n\tstatic getNormal( a, b, c, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getNormal() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( c, b );\n\t\t_v0$1.subVectors( a, b );\n\t\ttarget.cross( _v0$1 );\n\n\t\tconst targetLengthSq = target.lengthSq();\n\t\tif ( targetLengthSq > 0 ) {\n\n\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\n\n\t\t}\n\n\t\treturn target.set( 0, 0, 0 );\n\n\t}\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tstatic getBarycoord( point, a, b, c, target ) {\n\n\t\t_v0$1.subVectors( c, a );\n\t\t_v1$3.subVectors( b, a );\n\t\t_v2$2.subVectors( point, a );\n\n\t\tconst dot00 = _v0$1.dot( _v0$1 );\n\t\tconst dot01 = _v0$1.dot( _v1$3 );\n\t\tconst dot02 = _v0$1.dot( _v2$2 );\n\t\tconst dot11 = _v1$3.dot( _v1$3 );\n\t\tconst dot12 = _v1$3.dot( _v2$2 );\n\n\t\tconst denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getBarycoord() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\t// collinear or singular triangle\n\t\tif ( denom === 0 ) {\n\n\t\t\t// arbitrary location outside of triangle?\n\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\treturn target.set( - 2, - 1, - 1 );\n\n\t\t}\n\n\t\tconst invDenom = 1 / denom;\n\t\tconst u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\tconst v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t// barycentric coordinates must always sum to 1\n\t\treturn target.set( 1 - u - v, v, u );\n\n\t}\n\n\tstatic containsPoint( point, a, b, c ) {\n\n\t\tthis.getBarycoord( point, a, b, c, _v3$1 );\n\n\t\treturn ( _v3$1.x >= 0 ) && ( _v3$1.y >= 0 ) && ( ( _v3$1.x + _v3$1.y ) <= 1 );\n\n\t}\n\n\tstatic getUV( point, p1, p2, p3, uv1, uv2, uv3, target ) {\n\n\t\tthis.getBarycoord( point, p1, p2, p3, _v3$1 );\n\n\t\ttarget.set( 0, 0 );\n\t\ttarget.addScaledVector( uv1, _v3$1.x );\n\t\ttarget.addScaledVector( uv2, _v3$1.y );\n\t\ttarget.addScaledVector( uv3, _v3$1.z );\n\n\t\treturn target;\n\n\t}\n\n\tstatic isFrontFacing( a, b, c, direction ) {\n\n\t\t_v0$1.subVectors( c, b );\n\t\t_v1$3.subVectors( a, b );\n\n\t\t// strictly front facing\n\t\treturn ( _v0$1.cross( _v1$3 ).dot( direction ) < 0 ) ? true : false;\n\n\t}\n\n\tset( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPointsAndIndices( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t}\n\n\tgetArea() {\n\n\t\t_v0$1.subVectors( this.c, this.b );\n\t\t_v1$3.subVectors( this.a, this.b );\n\n\t\treturn _v0$1.cross( _v1$3 ).length() * 0.5;\n\n\t}\n\n\tgetMidpoint( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getMidpoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t}\n\n\tgetNormal( target ) {\n\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\n\n\t}\n\n\tgetPlane( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getPlane() target is now required' );\n\t\t\ttarget = new Plane();\n\n\t\t}\n\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t}\n\n\tgetBarycoord( point, target ) {\n\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\n\n\t}\n\n\tgetUV( point, uv1, uv2, uv3, target ) {\n\n\t\treturn Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, target );\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t}\n\n\tisFrontFacing( direction ) {\n\n\t\treturn Triangle.isFrontFacing( this.a, this.b, this.c, direction );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsTriangle( this );\n\n\t}\n\n\tclosestPointToPoint( p, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tconst a = this.a, b = this.b, c = this.c;\n\t\tlet v, w;\n\n\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t_vab.subVectors( b, a );\n\t\t_vac.subVectors( c, a );\n\t\t_vap.subVectors( p, a );\n\t\tconst d1 = _vab.dot( _vap );\n\t\tconst d2 = _vac.dot( _vap );\n\t\tif ( d1 <= 0 && d2 <= 0 ) {\n\n\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\treturn target.copy( a );\n\n\t\t}\n\n\t\t_vbp.subVectors( p, b );\n\t\tconst d3 = _vab.dot( _vbp );\n\t\tconst d4 = _vac.dot( _vbp );\n\t\tif ( d3 >= 0 && d4 <= d3 ) {\n\n\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\treturn target.copy( b );\n\n\t\t}\n\n\t\tconst vc = d1 * d4 - d3 * d2;\n\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\n\n\t\t\tv = d1 / ( d1 - d3 );\n\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\n\t\t\treturn target.copy( a ).addScaledVector( _vab, v );\n\n\t\t}\n\n\t\t_vcp.subVectors( p, c );\n\t\tconst d5 = _vab.dot( _vcp );\n\t\tconst d6 = _vac.dot( _vcp );\n\t\tif ( d6 >= 0 && d5 <= d6 ) {\n\n\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\treturn target.copy( c );\n\n\t\t}\n\n\t\tconst vb = d5 * d2 - d1 * d6;\n\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\n\n\t\t\tw = d2 / ( d2 - d6 );\n\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\n\t\t\treturn target.copy( a ).addScaledVector( _vac, w );\n\n\t\t}\n\n\t\tconst va = d3 * d6 - d5 * d4;\n\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\n\n\t\t\t_vbc.subVectors( c, b );\n\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\n\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\n\t\t\treturn target.copy( b ).addScaledVector( _vbc, w ); // edge region of BC\n\n\t\t}\n\n\t\t// face region\n\t\tconst denom = 1 / ( va + vb + vc );\n\t\t// u = va * denom\n\t\tv = vb * denom;\n\t\tw = vc * denom;\n\n\t\treturn target.copy( a ).addScaledVector( _vab, v ).addScaledVector( _vac, w );\n\n\t}\n\n\tequals( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n}\n\nlet materialId = 0;\n\nfunction Material() {\n\n\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\tthis.uuid = generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Material';\n\n\tthis.fog = true;\n\n\tthis.blending = NormalBlending;\n\tthis.side = FrontSide;\n\tthis.vertexColors = false;\n\n\tthis.opacity = 1;\n\tthis.transparent = false;\n\n\tthis.blendSrc = SrcAlphaFactor;\n\tthis.blendDst = OneMinusSrcAlphaFactor;\n\tthis.blendEquation = AddEquation;\n\tthis.blendSrcAlpha = null;\n\tthis.blendDstAlpha = null;\n\tthis.blendEquationAlpha = null;\n\n\tthis.depthFunc = LessEqualDepth;\n\tthis.depthTest = true;\n\tthis.depthWrite = true;\n\n\tthis.stencilWriteMask = 0xff;\n\tthis.stencilFunc = AlwaysStencilFunc;\n\tthis.stencilRef = 0;\n\tthis.stencilFuncMask = 0xff;\n\tthis.stencilFail = KeepStencilOp;\n\tthis.stencilZFail = KeepStencilOp;\n\tthis.stencilZPass = KeepStencilOp;\n\tthis.stencilWrite = false;\n\n\tthis.clippingPlanes = null;\n\tthis.clipIntersection = false;\n\tthis.clipShadows = false;\n\n\tthis.shadowSide = null;\n\n\tthis.colorWrite = true;\n\n\tthis.precision = null; // override the renderer's default precision for this material\n\n\tthis.polygonOffset = false;\n\tthis.polygonOffsetFactor = 0;\n\tthis.polygonOffsetUnits = 0;\n\n\tthis.dithering = false;\n\n\tthis.alphaTest = 0;\n\tthis.alphaToCoverage = false;\n\tthis.premultipliedAlpha = false;\n\n\tthis.visible = true;\n\n\tthis.toneMapped = true;\n\n\tthis.userData = {};\n\n\tthis.version = 0;\n\n}\n\nMaterial.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Material,\n\n\tisMaterial: true,\n\n\tonBuild: function ( /* shaderobject, renderer */ ) {},\n\n\tonBeforeCompile: function ( /* shaderobject, renderer */ ) {},\n\n\tcustomProgramCacheKey: function () {\n\n\t\treturn this.onBeforeCompile.toString();\n\n\t},\n\n\tsetValues: function ( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( const key in values ) {\n\n\t\t\tconst newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Material: \\'' + key + '\\' parameter is undefined.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatability if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tconst currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': \\'' + key + '\\' is not a property of this material.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst isRoot = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRoot ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.sheen && this.sheen.isColor ) data.sheen = this.sheen.getHex();\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity && this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearcoat !== undefined ) data.clearcoat = this.clearcoat;\n\t\tif ( this.clearcoatRoughness !== undefined ) data.clearcoatRoughness = this.clearcoatRoughness;\n\n\t\tif ( this.clearcoatMap && this.clearcoatMap.isTexture ) {\n\n\t\t\tdata.clearcoatMap = this.clearcoatMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture ) {\n\n\t\t\tdata.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture ) {\n\n\t\t\tdata.clearcoatNormalMap = this.clearcoatNormalMap.toJSON( meta ).uuid;\n\t\t\tdata.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.matcap && this.matcap.isTexture ) data.matcap = this.matcap.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\n\t\tif ( this.lightMap && this.lightMap.isTexture ) {\n\n\t\t\tdata.lightMap = this.lightMap.toJSON( meta ).uuid;\n\t\t\tdata.lightMapIntensity = this.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\n\n\t\t}\n\n\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\n\t\tif ( this.reflectivity !== undefined ) data.reflectivity = this.reflectivity;\n\t\tif ( this.refractionRatio !== undefined ) data.refractionRatio = this.refractionRatio;\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.shadowSide !== null ) data.shadowSide = this.shadowSide;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors ) data.vertexColors = true;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\t\tdata.colorWrite = this.colorWrite;\n\n\t\tdata.stencilWrite = this.stencilWrite;\n\t\tdata.stencilWriteMask = this.stencilWriteMask;\n\t\tdata.stencilFunc = this.stencilFunc;\n\t\tdata.stencilRef = this.stencilRef;\n\t\tdata.stencilFuncMask = this.stencilFuncMask;\n\t\tdata.stencilFail = this.stencilFail;\n\t\tdata.stencilZFail = this.stencilZFail;\n\t\tdata.stencilZPass = this.stencilZPass;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation && this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\n\t\tif ( this.linewidth && this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.alphaToCoverage === true ) data.alphaToCoverage = this.alphaToCoverage;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\n\t\tif ( this.morphNormals === true ) data.morphNormals = true;\n\t\tif ( this.skinning === true ) data.skinning = true;\n\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\n\t\tif ( this.toneMapped === false ) data.toneMapped = false;\n\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRoot ) {\n\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.fog = source.fog;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.stencilWriteMask = source.stencilWriteMask;\n\t\tthis.stencilFunc = source.stencilFunc;\n\t\tthis.stencilRef = source.stencilRef;\n\t\tthis.stencilFuncMask = source.stencilFuncMask;\n\t\tthis.stencilFail = source.stencilFail;\n\t\tthis.stencilZFail = source.stencilZFail;\n\t\tthis.stencilZPass = source.stencilZPass;\n\t\tthis.stencilWrite = source.stencilWrite;\n\n\t\tconst srcPlanes = source.clippingPlanes;\n\t\tlet dstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tconst n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\t\tthis.clipIntersection = source.clipIntersection;\n\t\tthis.clipShadows = source.clipShadows;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.alphaToCoverage = source.alphaToCoverage;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.visible = source.visible;\n\n\t\tthis.toneMapped = source.toneMapped;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\nObject.defineProperty( Material.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nconst _colorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nconst _hslA = { h: 0, s: 0, l: 0 };\nconst _hslB = { h: 0, s: 0, l: 0 };\n\nfunction hue2rgb( p, q, t ) {\n\n\tif ( t < 0 ) t += 1;\n\tif ( t > 1 ) t -= 1;\n\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\tif ( t < 1 / 2 ) return q;\n\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\treturn p;\n\n}\n\nfunction SRGBToLinear( c ) {\n\n\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n}\n\nfunction LinearToSRGB( c ) {\n\n\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n}\n\nclass Color {\n\n\tconstructor( r, g, b ) {\n\n\t\tif ( g === undefined && b === undefined ) {\n\n\t\t\t// r is THREE.Color, hex or string\n\t\t\treturn this.set( r );\n\n\t\t}\n\n\t\treturn this.setRGB( r, g, b );\n\n\t}\n\n\tset( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetHex( hex ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\treturn this;\n\n\t}\n\n\tsetRGB( r, g, b ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\treturn this;\n\n\t}\n\n\tsetHSL( h, s, l ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\th = euclideanModulo( h, 1 );\n\t\ts = clamp( s, 0, 1 );\n\t\tl = clamp( l, 0, 1 );\n\n\t\tif ( s === 0 ) {\n\n\t\t\tthis.r = this.g = this.b = l;\n\n\t\t} else {\n\n\t\t\tconst p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\tconst q = ( 2 * l ) - p;\n\n\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetStyle( style ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tlet m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tlet color;\n\t\t\tconst name = m[ 1 ];\n\t\t\tconst components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d*\\.?\\d+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tconst h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tconst s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\tconst l = parseInt( color[ 3 ], 10 ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f\\d]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tconst hex = m[ 1 ];\n\t\t\tconst size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\treturn this.setColorName( style );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetColorName( style ) {\n\n\t\t// color keywords\n\t\tconst hex = _colorKeywords[ style.toLowerCase() ];\n\n\t\tif ( hex !== undefined ) {\n\n\t\t\t// red\n\t\t\tthis.setHex( hex );\n\n\t\t} else {\n\n\t\t\t// unknown color\n\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t}\n\n\tcopy( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t}\n\n\tcopyGammaToLinear( color, gammaFactor = 2.0 ) {\n\n\t\tthis.r = Math.pow( color.r, gammaFactor );\n\t\tthis.g = Math.pow( color.g, gammaFactor );\n\t\tthis.b = Math.pow( color.b, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tcopyLinearToGamma( color, gammaFactor = 2.0 ) {\n\n\t\tconst safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\n\n\t\tthis.r = Math.pow( color.r, safeInverse );\n\t\tthis.g = Math.pow( color.g, safeInverse );\n\t\tthis.b = Math.pow( color.b, safeInverse );\n\n\t\treturn this;\n\n\t}\n\n\tconvertGammaToLinear( gammaFactor ) {\n\n\t\tthis.copyGammaToLinear( this, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tconvertLinearToGamma( gammaFactor ) {\n\n\t\tthis.copyLinearToGamma( this, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tcopySRGBToLinear( color ) {\n\n\t\tthis.r = SRGBToLinear( color.r );\n\t\tthis.g = SRGBToLinear( color.g );\n\t\tthis.b = SRGBToLinear( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tcopyLinearToSRGB( color ) {\n\n\t\tthis.r = LinearToSRGB( color.r );\n\t\tthis.g = LinearToSRGB( color.g );\n\t\tthis.b = LinearToSRGB( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tconvertSRGBToLinear() {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t}\n\n\tconvertLinearToSRGB() {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t}\n\n\tgetHex() {\n\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\n\t}\n\n\tgetHexString() {\n\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\n\t}\n\n\tgetHSL( target ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Color: .getHSL() target is now required' );\n\t\t\ttarget = { h: 0, s: 0, l: 0 };\n\n\t\t}\n\n\t\tconst r = this.r, g = this.g, b = this.b;\n\n\t\tconst max = Math.max( r, g, b );\n\t\tconst min = Math.min( r, g, b );\n\n\t\tlet hue, saturation;\n\t\tconst lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tconst delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t}\n\n\tgetStyle() {\n\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\n\t}\n\n\toffsetHSL( h, s, l ) {\n\n\t\tthis.getHSL( _hslA );\n\n\t\t_hslA.h += h; _hslA.s += s; _hslA.l += l;\n\n\t\tthis.setHSL( _hslA.h, _hslA.s, _hslA.l );\n\n\t\treturn this;\n\n\t}\n\n\tadd( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t}\n\n\taddColors( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t}\n\n\tlerp( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpColors( color1, color2, alpha ) {\n\n\t\tthis.r = color1.r + ( color2.r - color1.r ) * alpha;\n\t\tthis.g = color1.g + ( color2.g - color1.g ) * alpha;\n\t\tthis.b = color1.b + ( color2.b - color1.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpHSL( color, alpha ) {\n\n\t\tthis.getHSL( _hslA );\n\t\tcolor.getHSL( _hslB );\n\n\t\tconst h = lerp( _hslA.h, _hslB.h, alpha );\n\t\tconst s = lerp( _hslA.s, _hslB.s, alpha );\n\t\tconst l = lerp( _hslA.l, _hslB.l, alpha );\n\n\t\tthis.setHSL( h, s, l );\n\n\t\treturn this;\n\n\t}\n\n\tequals( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis.r = attribute.getX( index );\n\t\tthis.g = attribute.getY( index );\n\t\tthis.b = attribute.getZ( index );\n\n\t\tif ( attribute.normalized === true ) {\n\n\t\t\t// assuming Uint8Array\n\n\t\t\tthis.r /= 255;\n\t\t\tthis.g /= 255;\n\t\t\tthis.b /= 255;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.getHex();\n\n\t}\n\n}\n\nColor.NAMES = _colorKeywords;\n\nColor.prototype.isColor = true;\nColor.prototype.r = 1;\nColor.prototype.g = 1;\nColor.prototype.b = 1;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>\n * }\n */\n\nclass MeshBasicMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshBasicMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // emissive\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\nconst _vector$9 = new /*@__PURE__*/ Vector3();\nconst _vector2 = new /*@__PURE__*/ Vector2();\n\nclass BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.name = '';\n\n\t\tthis.array = array;\n\t\tthis.itemSize = itemSize;\n\t\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\t\tthis.normalized = normalized === true;\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.updateRange = { offset: 0, count: - 1 };\n\n\t\tthis.version = 0;\n\n\t\tthis.onUploadCallback = function () {};\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t}\n\n\tcopyAt( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( let i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyArray( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t}\n\n\tcopyColorsArray( colors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = colors.length; i < l; i ++ ) {\n\n\t\t\tlet color = colors[ i ];\n\n\t\t\tif ( color === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\tcolor = new Color();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = color.r;\n\t\t\tarray[ offset ++ ] = color.g;\n\t\t\tarray[ offset ++ ] = color.b;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector2sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector2();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector3sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector3();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector4sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector4();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\tarray[ offset ++ ] = vector.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tif ( this.itemSize === 2 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector2.fromBufferAttribute( this, i );\n\t\t\t\t_vector2.applyMatrix3( m );\n\n\t\t\t\tthis.setXY( i, _vector2.x, _vector2.y );\n\n\t\t\t}\n\n\t\t} else if ( this.itemSize === 3 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector$9.fromBufferAttribute( this, i );\n\t\t\t\t_vector$9.applyMatrix3( m );\n\n\t\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.x = this.getX( i );\n\t\t\t_vector$9.y = this.getY( i );\n\t\t\t_vector$9.z = this.getZ( i );\n\n\t\t\t_vector$9.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.x = this.getX( i );\n\t\t\t_vector$9.y = this.getY( i );\n\t\t\t_vector$9.z = this.getZ( i );\n\n\t\t\t_vector$9.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.x = this.getX( i );\n\t\t\t_vector$9.y = this.getY( i );\n\t\t\t_vector$9.z = this.getZ( i );\n\n\t\t\t_vector$9.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tset( value, offset = 0 ) {\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t}\n\n\tgetX( index ) {\n\n\t\treturn this.array[ index * this.itemSize ];\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t}\n\n\tgetY( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 1 ];\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tgetZ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 2 ];\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tgetW( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 3 ];\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tonUpload( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\titemSize: this.itemSize,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tarray: Array.prototype.slice.call( this.array ),\n\t\t\tnormalized: this.normalized\n\t\t};\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( this.usage !== StaticDrawUsage ) data.usage = this.usage;\n\t\tif ( this.updateRange.offset !== 0 || this.updateRange.count !== - 1 ) data.updateRange = this.updateRange;\n\n\t\treturn data;\n\n\t}\n\n}\n\nBufferAttribute.prototype.isBufferAttribute = true;\n\n//\n\nclass Int8BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int8Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint8BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint8Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint8ClampedBufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint8ClampedArray( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Int16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Int32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Float16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nFloat16BufferAttribute.prototype.isFloat16BufferAttribute = true;\n\nclass Float32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Float32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Float64BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Float64Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nfunction arrayMax( array ) {\n\n\tif ( array.length === 0 ) return - Infinity;\n\n\tlet max = array[ 0 ];\n\n\tfor ( let i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] > max ) max = array[ i ];\n\n\t}\n\n\treturn max;\n\n}\n\nconst TYPED_ARRAYS = {\n\tInt8Array: Int8Array,\n\tUint8Array: Uint8Array,\n\tUint8ClampedArray: Uint8ClampedArray,\n\tInt16Array: Int16Array,\n\tUint16Array: Uint16Array,\n\tInt32Array: Int32Array,\n\tUint32Array: Uint32Array,\n\tFloat32Array: Float32Array,\n\tFloat64Array: Float64Array\n};\n\nfunction getTypedArray( type, buffer ) {\n\n\treturn new TYPED_ARRAYS[ type ]( buffer );\n\n}\n\nlet _id = 0;\n\nconst _m1 = new /*@__PURE__*/ Matrix4();\nconst _obj = new /*@__PURE__*/ Object3D();\nconst _offset = new /*@__PURE__*/ Vector3();\nconst _box$1 = new /*@__PURE__*/ Box3();\nconst _boxMorphTargets = new /*@__PURE__*/ Box3();\nconst _vector$8 = new /*@__PURE__*/ Vector3();\n\nclass BufferGeometry extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: _id ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'BufferGeometry';\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\n\t\tthis.morphAttributes = {};\n\t\tthis.morphTargetsRelative = false;\n\n\t\tthis.groups = [];\n\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\tthis.drawRange = { start: 0, count: Infinity };\n\n\t\tthis.userData = {};\n\n\t}\n\n\tgetIndex() {\n\n\t\treturn this.index;\n\n\t}\n\n\tsetIndex( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetAttribute( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t}\n\n\tsetAttribute( name, attribute ) {\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t}\n\n\tdeleteAttribute( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t}\n\n\thasAttribute( name ) {\n\n\t\treturn this.attributes[ name ] !== undefined;\n\n\t}\n\n\taddGroup( start, count, materialIndex = 0 ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex\n\n\t\t} );\n\n\t}\n\n\tclearGroups() {\n\n\t\tthis.groups = [];\n\n\t}\n\n\tsetDrawRange( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tconst position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tposition.applyMatrix4( matrix );\n\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tconst normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tconst normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormal.applyNormalMatrix( normalMatrix );\n\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tconst tangent = this.attributes.tangent;\n\n\t\tif ( tangent !== undefined ) {\n\n\t\t\ttangent.transformDirection( matrix );\n\n\t\t\ttangent.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\trotateX( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1.makeRotationX( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateY( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1.makeRotationY( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateZ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1.makeRotationZ( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\tscale( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1.makeScale( x, y, z );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\tlookAt( vector ) {\n\n\t\t_obj.lookAt( vector );\n\n\t\t_obj.updateMatrix();\n\n\t\tthis.applyMatrix4( _obj.matrix );\n\n\t\treturn this;\n\n\t}\n\n\tcenter() {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset ).negate();\n\n\t\tthis.translate( _offset.x, _offset.y, _offset.z );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tconst position = [];\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t}\n\n\tcomputeBoundingBox() {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingBox.set(\n\t\t\t\tnew Vector3( - Infinity, - Infinity, - Infinity ),\n\t\t\t\tnew Vector3( + Infinity, + Infinity, + Infinity )\n\t\t\t);\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_box$1.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$8.addVectors( this.boundingBox.min, _box$1.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$8 );\n\n\t\t\t\t\t\t_vector$8.addVectors( this.boundingBox.max, _box$1.max );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$8 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$1.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$1.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t}\n\n\tcomputeBoundingSphere() {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingSphere.set( new Vector3(), Infinity );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position ) {\n\n\t\t\t// first, find the center of the bounding sphere\n\n\t\t\tconst center = this.boundingSphere.center;\n\n\t\t\t_box$1.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_boxMorphTargets.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$8.addVectors( _box$1.min, _boxMorphTargets.min );\n\t\t\t\t\t\t_box$1.expandByPoint( _vector$8 );\n\n\t\t\t\t\t\t_vector$8.addVectors( _box$1.max, _boxMorphTargets.max );\n\t\t\t\t\t\t_box$1.expandByPoint( _vector$8 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_box$1.expandByPoint( _boxMorphTargets.min );\n\t\t\t\t\t\t_box$1.expandByPoint( _boxMorphTargets.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_box$1.getCenter( center );\n\n\t\t\t// second, try to find a boundingSphere with a radius smaller than the\n\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\tlet maxRadiusSq = 0;\n\n\t\t\tfor ( let i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t_vector$8.fromBufferAttribute( position, i );\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$8 ) );\n\n\t\t\t}\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\tconst morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t\t\t\tfor ( let j = 0, jl = morphAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\t_vector$8.fromBufferAttribute( morphAttribute, j );\n\n\t\t\t\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t\t\t\t_offset.fromBufferAttribute( position, j );\n\t\t\t\t\t\t\t_vector$8.add( _offset );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$8 ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcomputeFaceNormals() {\n\n\t\t// backwards compatibility\n\n\t}\n\n\tcomputeTangents() {\n\n\t\tconst index = this.index;\n\t\tconst attributes = this.attributes;\n\n\t\t// based on http://www.terathon.com/code/tangent.html\n\t\t// (per vertex tangents)\n\n\t\tif ( index === null ||\n\t\t\t attributes.position === undefined ||\n\t\t\t attributes.normal === undefined ||\n\t\t\t attributes.uv === undefined ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst indices = index.array;\n\t\tconst positions = attributes.position.array;\n\t\tconst normals = attributes.normal.array;\n\t\tconst uvs = attributes.uv.array;\n\n\t\tconst nVertices = positions.length / 3;\n\n\t\tif ( attributes.tangent === undefined ) {\n\n\t\t\tthis.setAttribute( 'tangent', new BufferAttribute( new Float32Array( 4 * nVertices ), 4 ) );\n\n\t\t}\n\n\t\tconst tangents = attributes.tangent.array;\n\n\t\tconst tan1 = [], tan2 = [];\n\n\t\tfor ( let i = 0; i < nVertices; i ++ ) {\n\n\t\t\ttan1[ i ] = new Vector3();\n\t\t\ttan2[ i ] = new Vector3();\n\n\t\t}\n\n\t\tconst vA = new Vector3(),\n\t\t\tvB = new Vector3(),\n\t\t\tvC = new Vector3(),\n\n\t\t\tuvA = new Vector2(),\n\t\t\tuvB = new Vector2(),\n\t\t\tuvC = new Vector2(),\n\n\t\t\tsdir = new Vector3(),\n\t\t\ttdir = new Vector3();\n\n\t\tfunction handleTriangle( a, b, c ) {\n\n\t\t\tvA.fromArray( positions, a * 3 );\n\t\t\tvB.fromArray( positions, b * 3 );\n\t\t\tvC.fromArray( positions, c * 3 );\n\n\t\t\tuvA.fromArray( uvs, a * 2 );\n\t\t\tuvB.fromArray( uvs, b * 2 );\n\t\t\tuvC.fromArray( uvs, c * 2 );\n\n\t\t\tvB.sub( vA );\n\t\t\tvC.sub( vA );\n\n\t\t\tuvB.sub( uvA );\n\t\t\tuvC.sub( uvA );\n\n\t\t\tconst r = 1.0 / ( uvB.x * uvC.y - uvC.x * uvB.y );\n\n\t\t\t// silently ignore degenerate uv triangles having coincident or colinear vertices\n\n\t\t\tif ( ! isFinite( r ) ) return;\n\n\t\t\tsdir.copy( vB ).multiplyScalar( uvC.y ).addScaledVector( vC, - uvB.y ).multiplyScalar( r );\n\t\t\ttdir.copy( vC ).multiplyScalar( uvB.x ).addScaledVector( vB, - uvC.x ).multiplyScalar( r );\n\n\t\t\ttan1[ a ].add( sdir );\n\t\t\ttan1[ b ].add( sdir );\n\t\t\ttan1[ c ].add( sdir );\n\n\t\t\ttan2[ a ].add( tdir );\n\t\t\ttan2[ b ].add( tdir );\n\t\t\ttan2[ c ].add( tdir );\n\n\t\t}\n\n\t\tlet groups = this.groups;\n\n\t\tif ( groups.length === 0 ) {\n\n\t\t\tgroups = [ {\n\t\t\t\tstart: 0,\n\t\t\t\tcount: indices.length\n\t\t\t} ];\n\n\t\t}\n\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\n\n\t\t\tconst group = groups[ i ];\n\n\t\t\tconst start = group.start;\n\t\t\tconst count = group.count;\n\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\thandleTriangle(\n\t\t\t\t\tindices[ j + 0 ],\n\t\t\t\t\tindices[ j + 1 ],\n\t\t\t\t\tindices[ j + 2 ]\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst tmp = new Vector3(), tmp2 = new Vector3();\n\t\tconst n = new Vector3(), n2 = new Vector3();\n\n\t\tfunction handleVertex( v ) {\n\n\t\t\tn.fromArray( normals, v * 3 );\n\t\t\tn2.copy( n );\n\n\t\t\tconst t = tan1[ v ];\n\n\t\t\t// Gram-Schmidt orthogonalize\n\n\t\t\ttmp.copy( t );\n\t\t\ttmp.sub( n.multiplyScalar( n.dot( t ) ) ).normalize();\n\n\t\t\t// Calculate handedness\n\n\t\t\ttmp2.crossVectors( n2, t );\n\t\t\tconst test = tmp2.dot( tan2[ v ] );\n\t\t\tconst w = ( test < 0.0 ) ? - 1.0 : 1.0;\n\n\t\t\ttangents[ v * 4 ] = tmp.x;\n\t\t\ttangents[ v * 4 + 1 ] = tmp.y;\n\t\t\ttangents[ v * 4 + 2 ] = tmp.z;\n\t\t\ttangents[ v * 4 + 3 ] = w;\n\n\t\t}\n\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\n\n\t\t\tconst group = groups[ i ];\n\n\t\t\tconst start = group.start;\n\t\t\tconst count = group.count;\n\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\thandleVertex( indices[ j + 0 ] );\n\t\t\t\thandleVertex( indices[ j + 1 ] );\n\t\t\t\thandleVertex( indices[ j + 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcomputeVertexNormals() {\n\n\t\tconst index = this.index;\n\t\tconst positionAttribute = this.getAttribute( 'position' );\n\n\t\tif ( positionAttribute !== undefined ) {\n\n\t\t\tlet normalAttribute = this.getAttribute( 'normal' );\n\n\t\t\tif ( normalAttribute === undefined ) {\n\n\t\t\t\tnormalAttribute = new BufferAttribute( new Float32Array( positionAttribute.count * 3 ), 3 );\n\t\t\t\tthis.setAttribute( 'normal', normalAttribute );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tfor ( let i = 0, il = normalAttribute.count; i < il; i ++ ) {\n\n\t\t\t\t\tnormalAttribute.setXYZ( i, 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tconst nA = new Vector3(), nB = new Vector3(), nC = new Vector3();\n\t\t\tconst cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tfor ( let i = 0, il = index.count; i < il; i += 3 ) {\n\n\t\t\t\t\tconst vA = index.getX( i + 0 );\n\t\t\t\t\tconst vB = index.getX( i + 1 );\n\t\t\t\t\tconst vC = index.getX( i + 2 );\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, vA );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, vB );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, vC );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnA.fromBufferAttribute( normalAttribute, vA );\n\t\t\t\t\tnB.fromBufferAttribute( normalAttribute, vB );\n\t\t\t\t\tnC.fromBufferAttribute( normalAttribute, vC );\n\n\t\t\t\t\tnA.add( cb );\n\t\t\t\t\tnB.add( cb );\n\t\t\t\t\tnC.add( cb );\n\n\t\t\t\t\tnormalAttribute.setXYZ( vA, nA.x, nA.y, nA.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vB, nB.x, nB.y, nB.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vC, nC.x, nC.y, nC.z );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( let i = 0, il = positionAttribute.count; i < il; i += 3 ) {\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, i + 0 );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, i + 1 );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, i + 2 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormalAttribute.setXYZ( i + 0, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 1, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 2, cb.x, cb.y, cb.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tnormalAttribute.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n\tmerge( geometry, offset ) {\n\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( offset === undefined ) {\n\n\t\t\toffset = 0;\n\n\t\t\tconsole.warn(\n\t\t\t\t'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\n\t\t\t\t+ 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\n\t\t\t);\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\n\n\t\t\tconst attribute1 = attributes[ key ];\n\t\t\tconst attributeArray1 = attribute1.array;\n\n\t\t\tconst attribute2 = geometry.attributes[ key ];\n\t\t\tconst attributeArray2 = attribute2.array;\n\n\t\t\tconst attributeOffset = attribute2.itemSize * offset;\n\t\t\tconst length = Math.min( attributeArray2.length, attributeArray1.length - attributeOffset );\n\n\t\t\tfor ( let i = 0, j = attributeOffset; i < length; i ++, j ++ ) {\n\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tnormalizeNormals() {\n\n\t\tconst normals = this.attributes.normal;\n\n\t\tfor ( let i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t_vector$8.fromBufferAttribute( normals, i );\n\n\t\t\t_vector$8.normalize();\n\n\t\t\tnormals.setXYZ( i, _vector$8.x, _vector$8.y, _vector$8.z );\n\n\t\t}\n\n\t}\n\n\ttoNonIndexed() {\n\n\t\tfunction convertBufferAttribute( attribute, indices ) {\n\n\t\t\tconst array = attribute.array;\n\t\t\tconst itemSize = attribute.itemSize;\n\t\t\tconst normalized = attribute.normalized;\n\n\t\t\tconst array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tlet index = 0, index2 = 0;\n\n\t\t\tfor ( let i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\tfor ( let j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( array2, itemSize, normalized );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst geometry2 = new BufferGeometry();\n\n\t\tconst indices = this.index.array;\n\t\tconst attributes = this.attributes;\n\n\t\t// attributes\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\n\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\tgeometry2.setAttribute( name, newAttribute );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = this.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst morphArray = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = morphAttribute[ i ];\n\n\t\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\t\tmorphArray.push( newAttribute );\n\n\t\t\t}\n\n\t\t\tgeometry2.morphAttributes[ name ] = morphArray;\n\n\t\t}\n\n\t\tgeometry2.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = this.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tconst parameters = this.parameters;\n\n\t\t\tfor ( const key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\t// for simplicity the code assumes attributes are not shared across geometries, see #15811\n\n\t\tdata.data = { attributes: {} };\n\n\t\tconst index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: Array.prototype.slice.call( index.array )\n\t\t\t};\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\n\t\t\tdata.data.attributes[ key ] = attribute.toJSON( data.data );\n\n\t\t}\n\n\t\tconst morphAttributes = {};\n\t\tlet hasMorphAttributes = false;\n\n\t\tfor ( const key in this.morphAttributes ) {\n\n\t\t\tconst attributeArray = this.morphAttributes[ key ];\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = attributeArray[ i ];\n\n\t\t\t\tarray.push( attribute.toJSON( data.data ) );\n\n\t\t\t}\n\n\t\t\tif ( array.length > 0 ) {\n\n\t\t\t\tmorphAttributes[ key ] = array;\n\n\t\t\t\thasMorphAttributes = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( hasMorphAttributes ) {\n\n\t\t\tdata.data.morphAttributes = morphAttributes;\n\t\t\tdata.data.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t}\n\n\t\tconst groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tconst boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tclone() {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t const parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t const values = [];\n\n\t\t for ( const key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t const geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new BufferGeometry().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// used for storing cloned, shared data\n\n\t\tconst data = {};\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tconst index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone( data ) );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tconst attributes = source.attributes;\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\t\t\tthis.setAttribute( name, attribute.clone( data ) );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = source.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone( data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\tthis.morphTargetsRelative = source.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = source.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tconst boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tconst boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\t// user data\n\n\t\tthis.userData = source.userData;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nBufferGeometry.prototype.isBufferGeometry = true;\n\nconst _inverseMatrix$2 = /*@__PURE__*/ new Matrix4();\nconst _ray$2 = /*@__PURE__*/ new Ray();\nconst _sphere$3 = /*@__PURE__*/ new Sphere();\n\nconst _vA$1 = /*@__PURE__*/ new Vector3();\nconst _vB$1 = /*@__PURE__*/ new Vector3();\nconst _vC$1 = /*@__PURE__*/ new Vector3();\n\nconst _tempA = /*@__PURE__*/ new Vector3();\nconst _tempB = /*@__PURE__*/ new Vector3();\nconst _tempC = /*@__PURE__*/ new Vector3();\n\nconst _morphA = /*@__PURE__*/ new Vector3();\nconst _morphB = /*@__PURE__*/ new Vector3();\nconst _morphC = /*@__PURE__*/ new Vector3();\n\nconst _uvA$1 = /*@__PURE__*/ new Vector2();\nconst _uvB$1 = /*@__PURE__*/ new Vector2();\nconst _uvC$1 = /*@__PURE__*/ new Vector2();\n\nconst _intersectionPoint = /*@__PURE__*/ new Vector3();\nconst _intersectionPointWorld = /*@__PURE__*/ new Vector3();\n\nclass Mesh extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new MeshBasicMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Mesh';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst material = this.material;\n\t\tconst matrixWorld = this.matrixWorld;\n\n\t\tif ( material === undefined ) return;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$3.copy( geometry.boundingSphere );\n\t\t_sphere$3.applyMatrix4( matrixWorld );\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$3 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$2.copy( matrixWorld ).invert();\n\t\t_ray$2.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$2 );\n\n\t\t// Check boundingBox before continuing\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tif ( _ray$2.intersectsBox( geometry.boundingBox ) === false ) return;\n\n\t\t}\n\n\t\tlet intersection;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst position = geometry.attributes.position;\n\t\t\tconst morphPosition = geometry.morphAttributes.position;\n\t\t\tconst morphTargetsRelative = geometry.morphTargetsRelative;\n\t\t\tconst uv = geometry.attributes.uv;\n\t\t\tconst uv2 = geometry.attributes.uv2;\n\t\t\tconst groups = geometry.groups;\n\t\t\tconst drawRange = geometry.drawRange;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t// indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tconst end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\tconst a = index.getX( j );\n\t\t\t\t\t\t\tconst b = index.getX( j + 1 );\n\t\t\t\t\t\t\tconst c = index.getX( j + 2 );\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\tconst a = index.getX( i );\n\t\t\t\t\t\tconst b = index.getX( i + 1 );\n\t\t\t\t\t\tconst c = index.getX( i + 2 );\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( position !== undefined ) {\n\n\t\t\t\t// non-indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tconst end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\tconst a = j;\n\t\t\t\t\t\t\tconst b = j + 1;\n\t\t\t\t\t\t\tconst c = j + 2;\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\t\tconst end = Math.min( position.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\tconst a = i;\n\t\t\t\t\t\tconst b = i + 1;\n\t\t\t\t\t\tconst c = i + 2;\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconsole.error( 'THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t}\n\n}\n\nMesh.prototype.isMesh = true;\n\nfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\tlet intersect;\n\n\tif ( material.side === BackSide ) {\n\n\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t} else {\n\n\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n\t}\n\n\tif ( intersect === null ) return null;\n\n\t_intersectionPointWorld.copy( point );\n\t_intersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\tconst distance = raycaster.ray.origin.distanceTo( _intersectionPointWorld );\n\n\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n\treturn {\n\t\tdistance: distance,\n\t\tpoint: _intersectionPointWorld.clone(),\n\t\tobject: object\n\t};\n\n}\n\nfunction checkBufferGeometryIntersection( object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c ) {\n\n\t_vA$1.fromBufferAttribute( position, a );\n\t_vB$1.fromBufferAttribute( position, b );\n\t_vC$1.fromBufferAttribute( position, c );\n\n\tconst morphInfluences = object.morphTargetInfluences;\n\n\tif ( material.morphTargets && morphPosition && morphInfluences ) {\n\n\t\t_morphA.set( 0, 0, 0 );\n\t\t_morphB.set( 0, 0, 0 );\n\t\t_morphC.set( 0, 0, 0 );\n\n\t\tfor ( let i = 0, il = morphPosition.length; i < il; i ++ ) {\n\n\t\t\tconst influence = morphInfluences[ i ];\n\t\t\tconst morphAttribute = morphPosition[ i ];\n\n\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t_tempA.fromBufferAttribute( morphAttribute, a );\n\t\t\t_tempB.fromBufferAttribute( morphAttribute, b );\n\t\t\t_tempC.fromBufferAttribute( morphAttribute, c );\n\n\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t_morphA.addScaledVector( _tempA, influence );\n\t\t\t\t_morphB.addScaledVector( _tempB, influence );\n\t\t\t\t_morphC.addScaledVector( _tempC, influence );\n\n\t\t\t} else {\n\n\t\t\t\t_morphA.addScaledVector( _tempA.sub( _vA$1 ), influence );\n\t\t\t\t_morphB.addScaledVector( _tempB.sub( _vB$1 ), influence );\n\t\t\t\t_morphC.addScaledVector( _tempC.sub( _vC$1 ), influence );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_vA$1.add( _morphA );\n\t\t_vB$1.add( _morphB );\n\t\t_vC$1.add( _morphC );\n\n\t}\n\n\tif ( object.isSkinnedMesh && material.skinning ) {\n\n\t\tobject.boneTransform( a, _vA$1 );\n\t\tobject.boneTransform( b, _vB$1 );\n\t\tobject.boneTransform( c, _vC$1 );\n\n\t}\n\n\tconst intersection = checkIntersection( object, material, raycaster, ray, _vA$1, _vB$1, _vC$1, _intersectionPoint );\n\n\tif ( intersection ) {\n\n\t\tif ( uv ) {\n\n\t\t\t_uvA$1.fromBufferAttribute( uv, a );\n\t\t\t_uvB$1.fromBufferAttribute( uv, b );\n\t\t\t_uvC$1.fromBufferAttribute( uv, c );\n\n\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() );\n\n\t\t}\n\n\t\tif ( uv2 ) {\n\n\t\t\t_uvA$1.fromBufferAttribute( uv2, a );\n\t\t\t_uvB$1.fromBufferAttribute( uv2, b );\n\t\t\t_uvC$1.fromBufferAttribute( uv2, c );\n\n\t\t\tintersection.uv2 = Triangle.getUV( _intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() );\n\n\t\t}\n\n\t\tconst face = {\n\t\t\ta: a,\n\t\t\tb: b,\n\t\t\tc: c,\n\t\t\tnormal: new Vector3(),\n\t\t\tmaterialIndex: 0\n\t\t};\n\n\t\tTriangle.getNormal( _vA$1, _vB$1, _vC$1, face.normal );\n\n\t\tintersection.face = face;\n\n\t}\n\n\treturn intersection;\n\n}\n\nclass BoxGeometry extends BufferGeometry {\n\n\tconstructor( width = 1, height = 1, depth = 1, widthSegments = 1, heightSegments = 1, depthSegments = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'BoxGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdepth: depth,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tdepthSegments: depthSegments\n\t\t};\n\n\t\tconst scope = this;\n\n\t\t// segments\n\n\t\twidthSegments = Math.floor( widthSegments );\n\t\theightSegments = Math.floor( heightSegments );\n\t\tdepthSegments = Math.floor( depthSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet numberOfVertices = 0;\n\t\tlet groupStart = 0;\n\n\t\t// build each side of the box geometry\n\n\t\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\n\t\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\n\t\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\n\t\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\n\t\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\n\t\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n\t\t\tconst segmentWidth = width / gridX;\n\t\t\tconst segmentHeight = height / gridY;\n\n\t\t\tconst widthHalf = width / 2;\n\t\t\tconst heightHalf = height / 2;\n\t\t\tconst depthHalf = depth / 2;\n\n\t\t\tconst gridX1 = gridX + 1;\n\t\t\tconst gridY1 = gridY + 1;\n\n\t\t\tlet vertexCounter = 0;\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst vector = new Vector3();\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\t\tconst y = iy * segmentHeight - heightHalf;\n\n\t\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\t\tconst x = ix * segmentWidth - widthHalf;\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = x * udir;\n\t\t\t\t\tvector[ v ] = y * vdir;\n\t\t\t\t\tvector[ w ] = depthHalf;\n\n\t\t\t\t\t// now apply vector to vertex buffer\n\n\t\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = 0;\n\t\t\t\t\tvector[ v ] = 0;\n\t\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\n\n\t\t\t\t\t// now apply vector to normal buffer\n\n\t\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// uvs\n\n\t\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t\t\t// counters\n\n\t\t\t\t\tvertexCounter += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// indices\n\n\t\t\t// 1. you need three indices to draw a single face\n\t\t\t// 2. a single segment consists of two faces\n\t\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\t\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\t\tconst a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\t\tconst b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// increase counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, materialIndex );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t\t// update total number of vertices\n\n\t\t\tnumberOfVertices += vertexCounter;\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Uniform Utilities\n */\n\nfunction cloneUniforms( src ) {\n\n\tconst dst = {};\n\n\tfor ( const u in src ) {\n\n\t\tdst[ u ] = {};\n\n\t\tfor ( const p in src[ u ] ) {\n\n\t\t\tconst property = src[ u ][ p ];\n\n\t\t\tif ( property && ( property.isColor ||\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\n\t\t\t\tproperty.isTexture || property.isQuaternion ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.clone();\n\n\t\t\t} else if ( Array.isArray( property ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.slice();\n\n\t\t\t} else {\n\n\t\t\t\tdst[ u ][ p ] = property;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn dst;\n\n}\n\nfunction mergeUniforms( uniforms ) {\n\n\tconst merged = {};\n\n\tfor ( let u = 0; u < uniforms.length; u ++ ) {\n\n\t\tconst tmp = cloneUniforms( uniforms[ u ] );\n\n\t\tfor ( const p in tmp ) {\n\n\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t}\n\n\t}\n\n\treturn merged;\n\n}\n\n// Legacy\n\nconst UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\n\nvar default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\nvar default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\n/**\n * parameters = {\n *  defines: { \"label\" : \"value\" },\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n *\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nclass ShaderMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ShaderMaterial';\n\n\t\tthis.defines = {};\n\t\tthis.uniforms = {};\n\n\t\tthis.vertexShader = default_vertex;\n\t\tthis.fragmentShader = default_fragment;\n\n\t\tthis.linewidth = 1;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.fog = false; // set to use scene fog\n\t\tthis.lights = false; // set to use scene lights\n\t\tthis.clipping = false; // set to use user-defined clipping planes\n\n\t\tthis.skinning = false; // set to use skinning attribute streams\n\t\tthis.morphTargets = false; // set to use morph targets\n\t\tthis.morphNormals = false; // set to use morph normals\n\n\t\tthis.extensions = {\n\t\t\tderivatives: false, // set to use derivatives\n\t\t\tfragDepth: false, // set to use fragment depth values\n\t\t\tdrawBuffers: false, // set to use draw buffers\n\t\t\tshaderTextureLOD: false // set to use shader texture LOD\n\t\t};\n\n\t\t// When rendered geometry doesn't include these attributes but the material does,\n\t\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\t\tthis.defaultAttributeValues = {\n\t\t\t'color': [ 1, 1, 1 ],\n\t\t\t'uv': [ 0, 0 ],\n\t\t\t'uv2': [ 0, 0 ]\n\t\t};\n\n\t\tthis.index0AttributeName = undefined;\n\t\tthis.uniformsNeedUpdate = false;\n\n\t\tthis.glslVersion = null;\n\n\t\tif ( parameters !== undefined ) {\n\n\t\t\tif ( parameters.attributes !== undefined ) {\n\n\t\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t\tthis.setValues( parameters );\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.fragmentShader = source.fragmentShader;\n\t\tthis.vertexShader = source.vertexShader;\n\n\t\tthis.uniforms = cloneUniforms( source.uniforms );\n\n\t\tthis.defines = Object.assign( {}, source.defines );\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\tthis.lights = source.lights;\n\t\tthis.clipping = source.clipping;\n\n\t\tthis.skinning = source.skinning;\n\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\n\t\tthis.extensions = Object.assign( {}, source.extensions );\n\n\t\tthis.glslVersion = source.glslVersion;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.glslVersion = this.glslVersion;\n\t\tdata.uniforms = {};\n\n\t\tfor ( const name in this.uniforms ) {\n\n\t\t\tconst uniform = this.uniforms[ name ];\n\t\t\tconst value = uniform.value;\n\n\t\t\tif ( value && value.isTexture ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 't',\n\t\t\t\t\tvalue: value.toJSON( meta ).uuid\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isColor ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'c',\n\t\t\t\t\tvalue: value.getHex()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector2 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v2',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector3 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v3',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector4 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v4',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isMatrix3 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'm3',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isMatrix4 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'm4',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\tvalue: value\n\t\t\t\t};\n\n\t\t\t\t// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( Object.keys( this.defines ).length > 0 ) data.defines = this.defines;\n\n\t\tdata.vertexShader = this.vertexShader;\n\t\tdata.fragmentShader = this.fragmentShader;\n\n\t\tconst extensions = {};\n\n\t\tfor ( const key in this.extensions ) {\n\n\t\t\tif ( this.extensions[ key ] === true ) extensions[ key ] = true;\n\n\t\t}\n\n\t\tif ( Object.keys( extensions ).length > 0 ) data.extensions = extensions;\n\n\t\treturn data;\n\n\t}\n\n}\n\nShaderMaterial.prototype.isShaderMaterial = true;\n\nclass Camera extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'Camera';\n\n\t\tthis.matrixWorldInverse = new Matrix4();\n\n\t\tthis.projectionMatrix = new Matrix4();\n\t\tthis.projectionMatrixInverse = new Matrix4();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\t\tthis.projectionMatrixInverse.copy( source.projectionMatrixInverse );\n\n\t\treturn this;\n\n\t}\n\n\tgetWorldDirection( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Camera: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\n\n\t}\n\n\tupdateWorldMatrix( updateParents, updateChildren ) {\n\n\t\tsuper.updateWorldMatrix( updateParents, updateChildren );\n\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nCamera.prototype.isCamera = true;\n\nclass PerspectiveCamera extends Camera {\n\n\tconstructor( fov = 50, aspect = 1, near = 0.1, far = 2000 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PerspectiveCamera';\n\n\t\tthis.fov = fov;\n\t\tthis.zoom = 1;\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\t\tthis.focus = 10;\n\n\t\tthis.aspect = aspect;\n\t\tthis.view = null;\n\n\t\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\t\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength( focalLength ) {\n\n\t\t/** see {@link http://www.bobatkins.com/photography/technical/field_of_view.html} */\n\t\tconst vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength() {\n\n\t\tconst vExtentSlope = Math.tan( DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t}\n\n\tgetEffectiveFOV() {\n\n\t\treturn RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t}\n\n\tgetFilmWidth() {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t}\n\n\tgetFilmHeight() {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t}\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   const w = 1920;\n\t *   const h = 1080;\n\t *   const fullWidth = w * 3;\n\t *   const fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tclearViewOffset() {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tupdateProjectionMatrix() {\n\n\t\tconst near = this.near;\n\t\tlet top = near * Math.tan( DEG2RAD * 0.5 * this.fov ) / this.zoom;\n\t\tlet height = 2 * top;\n\t\tlet width = this.aspect * height;\n\t\tlet left = - 0.5 * width;\n\t\tconst view = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tconst skew = this.filmOffset;\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n}\n\nPerspectiveCamera.prototype.isPerspectiveCamera = true;\n\nconst fov = 90, aspect = 1;\n\nclass CubeCamera extends Object3D {\n\n\tconstructor( near, far, renderTarget ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CubeCamera';\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget !== true ) {\n\n\t\t\tconsole.error( 'THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.renderTarget = renderTarget;\n\n\t\tconst cameraPX = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPX.layers = this.layers;\n\t\tcameraPX.up.set( 0, - 1, 0 );\n\t\tcameraPX.lookAt( new Vector3( 1, 0, 0 ) );\n\t\tthis.add( cameraPX );\n\n\t\tconst cameraNX = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNX.layers = this.layers;\n\t\tcameraNX.up.set( 0, - 1, 0 );\n\t\tcameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\n\t\tthis.add( cameraNX );\n\n\t\tconst cameraPY = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPY.layers = this.layers;\n\t\tcameraPY.up.set( 0, 0, 1 );\n\t\tcameraPY.lookAt( new Vector3( 0, 1, 0 ) );\n\t\tthis.add( cameraPY );\n\n\t\tconst cameraNY = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNY.layers = this.layers;\n\t\tcameraNY.up.set( 0, 0, - 1 );\n\t\tcameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\n\t\tthis.add( cameraNY );\n\n\t\tconst cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPZ.layers = this.layers;\n\t\tcameraPZ.up.set( 0, - 1, 0 );\n\t\tcameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\n\t\tthis.add( cameraPZ );\n\n\t\tconst cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNZ.layers = this.layers;\n\t\tcameraNZ.up.set( 0, - 1, 0 );\n\t\tcameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\n\t\tthis.add( cameraNZ );\n\n\t}\n\n\tupdate( renderer, scene ) {\n\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\n\n\t\tconst renderTarget = this.renderTarget;\n\n\t\tconst [ cameraPX, cameraNX, cameraPY, cameraNY, cameraPZ, cameraNZ ] = this.children;\n\n\t\tconst currentXrEnabled = renderer.xr.enabled;\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\trenderer.xr.enabled = false;\n\n\t\tconst generateMipmaps = renderTarget.texture.generateMipmaps;\n\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\trenderer.setRenderTarget( renderTarget, 0 );\n\t\trenderer.render( scene, cameraPX );\n\n\t\trenderer.setRenderTarget( renderTarget, 1 );\n\t\trenderer.render( scene, cameraNX );\n\n\t\trenderer.setRenderTarget( renderTarget, 2 );\n\t\trenderer.render( scene, cameraPY );\n\n\t\trenderer.setRenderTarget( renderTarget, 3 );\n\t\trenderer.render( scene, cameraNY );\n\n\t\trenderer.setRenderTarget( renderTarget, 4 );\n\t\trenderer.render( scene, cameraPZ );\n\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\n\t\trenderer.setRenderTarget( renderTarget, 5 );\n\t\trenderer.render( scene, cameraNZ );\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\trenderer.xr.enabled = currentXrEnabled;\n\n\t}\n\n}\n\nclass CubeTexture extends Texture {\n\n\tconstructor( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\t\timages = images !== undefined ? images : [];\n\t\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\t\tformat = format !== undefined ? format : RGBFormat;\n\n\t\tsuper( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\t// Why CubeTexture._needsFlipEnvMap is necessary:\n\t\t//\n\t\t// By convention -- likely based on the RenderMan spec from the 1990's -- cube maps are specified by WebGL (and three.js)\n\t\t// in a coordinate system in which positive-x is to the right when looking up the positive-z axis -- in other words,\n\t\t// in a left-handed coordinate system. By continuing this convention, preexisting cube maps continued to render correctly.\n\n\t\t// three.js uses a right-handed coordinate system. So environment maps used in three.js appear to have px and nx swapped\n\t\t// and the flag _needsFlipEnvMap controls this conversion. The flip is not required (and thus _needsFlipEnvMap is set to false)\n\t\t// when using WebGLCubeRenderTarget.texture as a cube texture.\n\n\t\tthis._needsFlipEnvMap = true;\n\n\t\tthis.flipY = false;\n\n\t}\n\n\tget images() {\n\n\t\treturn this.image;\n\n\t}\n\n\tset images( value ) {\n\n\t\tthis.image = value;\n\n\t}\n\n}\n\nCubeTexture.prototype.isCubeTexture = true;\n\nclass WebGLCubeRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( size, options, dummy ) {\n\n\t\tif ( Number.isInteger( options ) ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )' );\n\n\t\t\toptions = dummy;\n\n\t\t}\n\n\t\tsuper( size, size, options );\n\n\t\toptions = options || {};\n\n\t\tthis.texture = new CubeTexture( undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\t\tthis.texture._needsFlipEnvMap = false;\n\n\t}\n\n\tfromEquirectangularTexture( renderer, texture ) {\n\n\t\tthis.texture.type = texture.type;\n\t\tthis.texture.format = RGBAFormat; // see #18859\n\t\tthis.texture.encoding = texture.encoding;\n\n\t\tthis.texture.generateMipmaps = texture.generateMipmaps;\n\t\tthis.texture.minFilter = texture.minFilter;\n\t\tthis.texture.magFilter = texture.magFilter;\n\n\t\tconst shader = {\n\n\t\t\tuniforms: {\n\t\t\t\ttEquirect: { value: null },\n\t\t\t},\n\n\t\t\tvertexShader: /* glsl */`\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t`,\n\n\t\t\tfragmentShader: /* glsl */`\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t`\n\t\t};\n\n\t\tconst geometry = new BoxGeometry( 5, 5, 5 );\n\n\t\tconst material = new ShaderMaterial( {\n\n\t\t\tname: 'CubemapFromEquirect',\n\n\t\t\tuniforms: cloneUniforms( shader.uniforms ),\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tfragmentShader: shader.fragmentShader,\n\t\t\tside: BackSide,\n\t\t\tblending: NoBlending\n\n\t\t} );\n\n\t\tmaterial.uniforms.tEquirect.value = texture;\n\n\t\tconst mesh = new Mesh( geometry, material );\n\n\t\tconst currentMinFilter = texture.minFilter;\n\n\t\t// Avoid blurred poles\n\t\tif ( texture.minFilter === LinearMipmapLinearFilter ) texture.minFilter = LinearFilter;\n\n\t\tconst camera = new CubeCamera( 1, 10, this );\n\t\tcamera.update( renderer, mesh );\n\n\t\ttexture.minFilter = currentMinFilter;\n\n\t\tmesh.geometry.dispose();\n\t\tmesh.material.dispose();\n\n\t\treturn this;\n\n\t}\n\n\tclear( renderer, color, depth, stencil ) {\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\trenderer.setRenderTarget( this, i );\n\n\t\t\trenderer.clear( color, depth, stencil );\n\n\t\t}\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t}\n\n}\n\nWebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget = true;\n\nclass DataTexture extends Texture {\n\n\tconstructor( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.image = { data: data || null, width: width || 1, height: height || 1 };\n\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nDataTexture.prototype.isDataTexture = true;\n\nconst _sphere$2 = /*@__PURE__*/ new Sphere();\nconst _vector$7 = /*@__PURE__*/ new Vector3();\n\nclass Frustum {\n\n\tconstructor( p0 = new Plane(), p1 = new Plane(), p2 = new Plane(), p3 = new Plane(), p4 = new Plane(), p5 = new Plane() ) {\n\n\t\tthis.planes = [ p0, p1, p2, p3, p4, p5 ];\n\n\t}\n\n\tset( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tconst planes = this.planes;\n\n\t\tplanes[ 0 ].copy( p0 );\n\t\tplanes[ 1 ].copy( p1 );\n\t\tplanes[ 2 ].copy( p2 );\n\t\tplanes[ 3 ].copy( p3 );\n\t\tplanes[ 4 ].copy( p4 );\n\t\tplanes[ 5 ].copy( p5 );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( frustum ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromProjectionMatrix( m ) {\n\n\t\tconst planes = this.planes;\n\t\tconst me = m.elements;\n\t\tconst me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\tconst me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\tconst me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\tconst me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\tintersectsObject( object ) {\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$2.copy( geometry.boundingSphere ).applyMatrix4( object.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$2 );\n\n\t}\n\n\tintersectsSprite( sprite ) {\n\n\t\t_sphere$2.center.set( 0, 0, 0 );\n\t\t_sphere$2.radius = 0.7071067811865476;\n\t\t_sphere$2.applyMatrix4( sprite.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$2 );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst planes = this.planes;\n\t\tconst center = sphere.center;\n\t\tconst negRadius = - sphere.radius;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst plane = planes[ i ];\n\n\t\t\t// corner at max distance\n\n\t\t\t_vector$7.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t_vector$7.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t_vector$7.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\tif ( plane.distanceToPoint( _vector$7 ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nfunction WebGLAnimation() {\n\n\tlet context = null;\n\tlet isAnimating = false;\n\tlet animationLoop = null;\n\tlet requestId = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tanimationLoop( time, frame );\n\n\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t}\n\n\treturn {\n\n\t\tstart: function () {\n\n\t\t\tif ( isAnimating === true ) return;\n\t\t\tif ( animationLoop === null ) return;\n\n\t\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t\t\tisAnimating = true;\n\n\t\t},\n\n\t\tstop: function () {\n\n\t\t\tcontext.cancelAnimationFrame( requestId );\n\n\t\t\tisAnimating = false;\n\n\t\t},\n\n\t\tsetAnimationLoop: function ( callback ) {\n\n\t\t\tanimationLoop = callback;\n\n\t\t},\n\n\t\tsetContext: function ( value ) {\n\n\t\t\tcontext = value;\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLAttributes( gl, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tconst buffers = new WeakMap();\n\n\tfunction createBuffer( attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst usage = attribute.usage;\n\n\t\tconst buffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\t\tgl.bufferData( bufferType, array, usage );\n\n\t\tattribute.onUploadCallback();\n\n\t\tlet type = 5126;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\ttype = 5126;\n\n\t\t} else if ( array instanceof Float64Array ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.' );\n\n\t\t} else if ( array instanceof Uint16Array ) {\n\n\t\t\tif ( attribute.isFloat16BufferAttribute ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\ttype = 5131;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\ttype = 5123;\n\n\t\t\t}\n\n\t\t} else if ( array instanceof Int16Array ) {\n\n\t\t\ttype = 5122;\n\n\t\t} else if ( array instanceof Uint32Array ) {\n\n\t\t\ttype = 5125;\n\n\t\t} else if ( array instanceof Int32Array ) {\n\n\t\t\ttype = 5124;\n\n\t\t} else if ( array instanceof Int8Array ) {\n\n\t\t\ttype = 5120;\n\n\t\t} else if ( array instanceof Uint8Array ) {\n\n\t\t\ttype = 5121;\n\n\t\t}\n\n\t\treturn {\n\t\t\tbuffer: buffer,\n\t\t\ttype: type,\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\tversion: attribute.version\n\t\t};\n\n\t}\n\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst updateRange = attribute.updateRange;\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\n\t\tif ( updateRange.count === - 1 ) {\n\n\t\t\t// Not using update ranges\n\n\t\t\tgl.bufferSubData( bufferType, 0, array );\n\n\t\t} else {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray, updateRange.offset, updateRange.count );\n\n\t\t\t} else {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n\t\t\t}\n\n\t\t\tupdateRange.count = - 1; // reset range\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction get( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\treturn buffers.get( attribute );\n\n\t}\n\n\tfunction remove( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data ) {\n\n\t\t\tgl.deleteBuffer( data.buffer );\n\n\t\t\tbuffers.delete( attribute );\n\n\t\t}\n\n\t}\n\n\tfunction update( attribute, bufferType ) {\n\n\t\tif ( attribute.isGLBufferAttribute ) {\n\n\t\t\tconst cached = buffers.get( attribute );\n\n\t\t\tif ( ! cached || cached.version < attribute.version ) {\n\n\t\t\t\tbuffers.set( attribute, {\n\t\t\t\t\tbuffer: attribute.buffer,\n\t\t\t\t\ttype: attribute.type,\n\t\t\t\t\tbytesPerElement: attribute.elementSize,\n\t\t\t\t\tversion: attribute.version\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data === undefined ) {\n\n\t\t\tbuffers.set( attribute, createBuffer( attribute, bufferType ) );\n\n\t\t} else if ( data.version < attribute.version ) {\n\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\n\n\t\t\tdata.version = attribute.version;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update\n\n\t};\n\n}\n\nclass PlaneGeometry extends BufferGeometry {\n\n\tconstructor( width = 1, height = 1, widthSegments = 1, heightSegments = 1 ) {\n\n\t\tsuper();\n\t\tthis.type = 'PlaneGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments\n\t\t};\n\n\t\tconst width_half = width / 2;\n\t\tconst height_half = height / 2;\n\n\t\tconst gridX = Math.floor( widthSegments );\n\t\tconst gridY = Math.floor( heightSegments );\n\n\t\tconst gridX1 = gridX + 1;\n\t\tconst gridY1 = gridY + 1;\n\n\t\tconst segment_width = width / gridX;\n\t\tconst segment_height = height / gridY;\n\n\t\t//\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\tconst y = iy * segment_height - height_half;\n\n\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\tconst x = ix * segment_width - width_half;\n\n\t\t\t\tvertices.push( x, - y, 0 );\n\n\t\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\tconst a = ix + gridX1 * iy;\n\t\t\t\tconst b = ix + gridX1 * ( iy + 1 );\n\t\t\t\tconst c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\tconst d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\";\n\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\";\n\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\nvar begin_vertex = \"vec3 transformed = vec3( position );\";\n\nvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\nvar bsdfs = \"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\\n\\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\\n\\treturn Fr * fresnel + F0;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\treturn specularColor * brdf.x + brdf.y;\\n}\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie(float roughness, float NoH) {\\n\\tfloat invAlpha = 1.0 / roughness;\\n\\tfloat cos2h = NoH * NoH;\\n\\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\\n}\\nfloat V_Neubelt(float NoV, float NoL) {\\n\\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\\n}\\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 H = normalize( V + L );\\n\\tfloat dotNH = saturate( dot( N, H ) );\\n\\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\\n}\\n#endif\";\n\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n#endif\";\n\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvClipPosition = - mvPosition.xyz;\\n#endif\";\n\nvar color_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tdiffuseColor *= vColor;\\n#elif defined( USE_COLOR )\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\nvar color_pars_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_pars_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvColor = vec4( 1.0 );\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvColor = vec3( 1.0 );\\n#endif\\n#ifdef USE_COLOR\\n\\tvColor *= color;\\n#endif\\n#ifdef USE_INSTANCING_COLOR\\n\\tvColor.xyz *= instanceColor.xyz;\\n#endif\";\n\nvar common = \"#define PI 3.141592653589793\\n#define PI2 6.283185307179586\\n#define PI_HALF 1.5707963267948966\\n#define RECIPROCAL_PI 0.3183098861837907\\n#define RECIPROCAL_PI2 0.15915494309189535\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n\\treturn m[ 2 ][ 3 ] == - 1.0;\\n}\\nvec2 equirectUv( in vec3 dir ) {\\n\\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\treturn vec2( u, v );\\n}\";\n\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n\\t#define cubeUV_maxMipLevel 8.0\\n\\t#define cubeUV_minMipLevel 4.0\\n\\t#define cubeUV_maxTileSize 256.0\\n\\t#define cubeUV_minTileSize 16.0\\n\\tfloat getFace( vec3 direction ) {\\n\\t\\tvec3 absDirection = abs( direction );\\n\\t\\tfloat face = - 1.0;\\n\\t\\tif ( absDirection.x > absDirection.z ) {\\n\\t\\t\\tif ( absDirection.x > absDirection.y )\\n\\t\\t\\t\\tface = direction.x > 0.0 ? 0.0 : 3.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t} else {\\n\\t\\t\\tif ( absDirection.z > absDirection.y )\\n\\t\\t\\t\\tface = direction.z > 0.0 ? 2.0 : 5.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t}\\n\\t\\treturn face;\\n\\t}\\n\\tvec2 getUV( vec3 direction, float face ) {\\n\\t\\tvec2 uv;\\n\\t\\tif ( face == 0.0 ) {\\n\\t\\t\\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 1.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\\n\\t\\t} else if ( face == 2.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\\n\\t\\t} else if ( face == 3.0 ) {\\n\\t\\t\\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 4.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\\n\\t\\t} else {\\n\\t\\t\\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\\n\\t\\t}\\n\\t\\treturn 0.5 * ( uv + 1.0 );\\n\\t}\\n\\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\\n\\t\\tfloat face = getFace( direction );\\n\\t\\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\\n\\t\\tmipInt = max( mipInt, cubeUV_minMipLevel );\\n\\t\\tfloat faceSize = exp2( mipInt );\\n\\t\\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\\n\\t\\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\\n\\t\\tvec2 f = fract( uv );\\n\\t\\tuv += 0.5 - f;\\n\\t\\tif ( face > 2.0 ) {\\n\\t\\t\\tuv.y += faceSize;\\n\\t\\t\\tface -= 3.0;\\n\\t\\t}\\n\\t\\tuv.x += face * faceSize;\\n\\t\\tif ( mipInt < cubeUV_maxMipLevel ) {\\n\\t\\t\\tuv.y += 2.0 * cubeUV_maxTileSize;\\n\\t\\t}\\n\\t\\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\\n\\t\\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\\n\\t\\tuv *= texelSize;\\n\\t\\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x += texelSize;\\n\\t\\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.y += texelSize;\\n\\t\\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x -= texelSize;\\n\\t\\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tvec3 tm = mix( tl, tr, f.x );\\n\\t\\tvec3 bm = mix( bl, br, f.x );\\n\\t\\treturn mix( tm, bm, f.y );\\n\\t}\\n\\t#define r0 1.0\\n\\t#define v0 0.339\\n\\t#define m0 - 2.0\\n\\t#define r1 0.8\\n\\t#define v1 0.276\\n\\t#define m1 - 1.0\\n\\t#define r4 0.4\\n\\t#define v4 0.046\\n\\t#define m4 2.0\\n\\t#define r5 0.305\\n\\t#define v5 0.016\\n\\t#define m5 3.0\\n\\t#define r6 0.21\\n\\t#define v6 0.0038\\n\\t#define m6 4.0\\n\\tfloat roughnessToMip( float roughness ) {\\n\\t\\tfloat mip = 0.0;\\n\\t\\tif ( roughness >= r1 ) {\\n\\t\\t\\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\\n\\t\\t} else if ( roughness >= r4 ) {\\n\\t\\t\\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\\n\\t\\t} else if ( roughness >= r5 ) {\\n\\t\\t\\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\\n\\t\\t} else if ( roughness >= r6 ) {\\n\\t\\t\\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\\n\\t\\t} else {\\n\\t\\t\\tmip = - 2.0 * log2( 1.16 * roughness );\\t\\t}\\n\\t\\treturn mip;\\n\\t}\\n\\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\\n\\t\\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\\n\\t\\tfloat mipF = fract( mip );\\n\\t\\tfloat mipInt = floor( mip );\\n\\t\\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\\n\\t\\tif ( mipF == 0.0 ) {\\n\\t\\t\\treturn vec4( color0, 1.0 );\\n\\t\\t} else {\\n\\t\\t\\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\\n\\t\\t\\treturn vec4( mix( color0, color1, mipF ), 1.0 );\\n\\t\\t}\\n\\t}\\n#endif\";\n\nvar defaultnormal_vertex = \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\tmat3 m = mat3( instanceMatrix );\\n\\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\\n\\ttransformedNormal = m * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\";\n\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\nvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\nvar encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value ) {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\";\n\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifndef ENVMAP_TYPE_CUBE_UV\\n\\t\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\nvar envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\n\nvar envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar fog_vertex = \"#ifdef USE_FOG\\n\\tfogDepth = - mvPosition.z;\\n#endif\";\n\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\";\n\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\nvar gradientmap_pars_fragment = \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t#else\\n\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\";\n\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n#endif\";\n\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\nvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\\n#ifdef DOUBLE_SIDED\\n\\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\\n\\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\";\n\nvar lights_pars_begin = \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\nvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -viewDir, normal );\\n\\t\\t\\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\";\n\nvar lights_toon_fragment = \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\";\n\nvar lights_toon_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct ToonMaterial {\\n\\tvec3 diffuseColor;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3 diffuseColor;\\n\\tvec3 specularColor;\\n\\tfloat specularShininess;\\n\\tfloat specularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\\n#ifdef REFLECTIVITY\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#endif\\n#ifdef CLEARCOAT\\n\\tmaterial.clearcoat = clearcoat;\\n\\tmaterial.clearcoatRoughness = clearcoatRoughness;\\n\\t#ifdef USE_CLEARCOATMAP\\n\\t\\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\t\\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\\n\\t#endif\\n\\tmaterial.clearcoat = saturate( material.clearcoat );\\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheen;\\n#endif\";\n\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3 diffuseColor;\\n\\tfloat specularRoughness;\\n\\tvec3 specularColor;\\n#ifdef CLEARCOAT\\n\\tfloat clearcoat;\\n\\tfloat clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tvec3 sheenColor;\\n#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = ccDotNL * directLight.color;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tccIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t\\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\\n\\t\\t\\tmaterial.specularRoughness,\\n\\t\\t\\tdirectLight.direction,\\n\\t\\t\\tgeometry,\\n\\t\\t\\tmaterial.sheenColor\\n\\t\\t);\\n\\t#else\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\\n\\t#endif\\n\\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t\\tfloat ccDotNL = ccDotNV;\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\tfloat clearcoatInv = 1.0 - clearcoatDHR;\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\nvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tpointLightShadow = pointLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tspotLightShadow = spotLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectionalLightShadow = directionalLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\n\nvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\\n\\t#ifdef CLEARCOAT\\n\\t\\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\\n\\t#endif\\n#endif\";\n\nvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\nvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\n\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\";\n\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar map_particle_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\n\nvar map_particle_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n#endif\";\n\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\t\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\t\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\t\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\t\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\";\n\nvar normal_fragment_begin = \"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\\n#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * faceDirection;\\n\\t\\t\\tbitangent = bitangent * faceDirection;\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\n\nvar normal_fragment_maps = \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\\n#endif\";\n\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tvec3 N = surf_norm;\\n\\t\\tvec3 q1perp = cross( q1, N );\\n\\t\\tvec3 q0perp = cross( N, q0 );\\n\\t\\tvec3 T = q1perp * st0.x + q0perp * st1.x;\\n\\t\\tvec3 B = q1perp * st0.y + q0perp * st1.y;\\n\\t\\tfloat det = max( dot( T, T ), dot( B, B ) );\\n\\t\\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\\n\\t\\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\\n\\t}\\n#endif\";\n\nvar clearcoat_normal_fragment_begin = \"#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\n\nvar clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\\n\\t#endif\\n#endif\";\n\nvar clearcoat_pars_fragment = \"#ifdef USE_CLEARCOATMAP\\n\\tuniform sampler2D clearcoatMap;\\n#endif\\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\tuniform sampler2D clearcoatRoughnessMap;\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\n\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\nvar project_vertex = \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\n\nvar dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\nvar dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\nvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\n\nvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\tvec4 shadowWorldPosition;\\n\\t#endif\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\";\n\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 RRTAndODTFit( vec3 v ) {\\n\\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\\n\\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\\n\\treturn a / b;\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tconst mat3 ACESInputMat = mat3(\\n\\t\\tvec3( 0.59719, 0.07600, 0.02840 ),\\t\\tvec3( 0.35458, 0.90834, 0.13383 ),\\n\\t\\tvec3( 0.04823, 0.01566, 0.83777 )\\n\\t);\\n\\tconst mat3 ACESOutputMat = mat3(\\n\\t\\tvec3(  1.60475, -0.10208, -0.00327 ),\\t\\tvec3( -0.53108,  1.10813, -0.07276 ),\\n\\t\\tvec3( -0.07367, -0.00605,  1.07602 )\\n\\t);\\n\\tcolor *= toneMappingExposure / 0.6;\\n\\tcolor = ACESInputMat * color;\\n\\tcolor = RRTAndODTFit( color );\\n\\tcolor = ACESOutputMat * color;\\n\\treturn saturate( color );\\n}\\nvec3 CustomToneMapping( vec3 color ) { return color; }\";\n\nvar transmissionmap_fragment = \"#ifdef USE_TRANSMISSIONMAP\\n\\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\\n#endif\";\n\nvar transmissionmap_pars_fragment = \"#ifdef USE_TRANSMISSIONMAP\\n\\tuniform sampler2D transmissionMap;\\n#endif\";\n\nvar uv_pars_fragment = \"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\";\n\nvar uv_pars_vertex = \"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\nvar uv_vertex = \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\";\n\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\";\n\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\n\nvar background_frag = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar background_vert = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\nvar cube_frag = \"#include <envmap_common_pars_fragment>\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar cube_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\nvar depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( fragCoordZ );\\n\\t#endif\\n}\";\n\nvar depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvHighPrecisionZW = gl_Position.zw;\\n}\";\n\nvar distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\nvar distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\nvar equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV = equirectUv( direction );\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar equirect_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\nvar linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\tvLineDistance = scale * lineDistance;\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshmatcap_frag = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshmatcap_vert = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <color_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\nvar meshtoon_frag = \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshtoon_vert = \"#define TOON\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphysical_frag = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define REFLECTIVITY\\n\\t#define CLEARCOAT\\n\\t#define TRANSMISSION\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef TRANSMISSION\\n\\tuniform float transmission;\\n#endif\\n#ifdef REFLECTIVITY\\n\\tuniform float reflectivity;\\n#endif\\n#ifdef CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheen;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <transmissionmap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#ifdef TRANSMISSION\\n\\t\\tfloat totalTransmission = transmission;\\n\\t#endif\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <transmissionmap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#ifdef TRANSMISSION\\n\\t\\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\\n\\t#endif\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphysical_vert = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar normal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\";\n\nvar normal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\nvar points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar shadow_vert = \"#include <common>\\n#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar sprite_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar sprite_vert = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst ShaderChunk = {\n\talphamap_fragment: alphamap_fragment,\n\talphamap_pars_fragment: alphamap_pars_fragment,\n\talphatest_fragment: alphatest_fragment,\n\taomap_fragment: aomap_fragment,\n\taomap_pars_fragment: aomap_pars_fragment,\n\tbegin_vertex: begin_vertex,\n\tbeginnormal_vertex: beginnormal_vertex,\n\tbsdfs: bsdfs,\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\tclipping_planes_fragment: clipping_planes_fragment,\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\tclipping_planes_vertex: clipping_planes_vertex,\n\tcolor_fragment: color_fragment,\n\tcolor_pars_fragment: color_pars_fragment,\n\tcolor_pars_vertex: color_pars_vertex,\n\tcolor_vertex: color_vertex,\n\tcommon: common,\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\tdefaultnormal_vertex: defaultnormal_vertex,\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\tdisplacementmap_vertex: displacementmap_vertex,\n\temissivemap_fragment: emissivemap_fragment,\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\tencodings_fragment: encodings_fragment,\n\tencodings_pars_fragment: encodings_pars_fragment,\n\tenvmap_fragment: envmap_fragment,\n\tenvmap_common_pars_fragment: envmap_common_pars_fragment,\n\tenvmap_pars_fragment: envmap_pars_fragment,\n\tenvmap_pars_vertex: envmap_pars_vertex,\n\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\n\tenvmap_vertex: envmap_vertex,\n\tfog_vertex: fog_vertex,\n\tfog_pars_vertex: fog_pars_vertex,\n\tfog_fragment: fog_fragment,\n\tfog_pars_fragment: fog_pars_fragment,\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\tlightmap_fragment: lightmap_fragment,\n\tlightmap_pars_fragment: lightmap_pars_fragment,\n\tlights_lambert_vertex: lights_lambert_vertex,\n\tlights_pars_begin: lights_pars_begin,\n\tlights_toon_fragment: lights_toon_fragment,\n\tlights_toon_pars_fragment: lights_toon_pars_fragment,\n\tlights_phong_fragment: lights_phong_fragment,\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\tlights_physical_fragment: lights_physical_fragment,\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\tlights_fragment_begin: lights_fragment_begin,\n\tlights_fragment_maps: lights_fragment_maps,\n\tlights_fragment_end: lights_fragment_end,\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\tmap_fragment: map_fragment,\n\tmap_pars_fragment: map_pars_fragment,\n\tmap_particle_fragment: map_particle_fragment,\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\tmetalnessmap_fragment: metalnessmap_fragment,\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\tmorphnormal_vertex: morphnormal_vertex,\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\tmorphtarget_vertex: morphtarget_vertex,\n\tnormal_fragment_begin: normal_fragment_begin,\n\tnormal_fragment_maps: normal_fragment_maps,\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\tclearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n\tclearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n\tclearcoat_pars_fragment: clearcoat_pars_fragment,\n\tpacking: packing,\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\tproject_vertex: project_vertex,\n\tdithering_fragment: dithering_fragment,\n\tdithering_pars_fragment: dithering_pars_fragment,\n\troughnessmap_fragment: roughnessmap_fragment,\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\tshadowmap_vertex: shadowmap_vertex,\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\tskinbase_vertex: skinbase_vertex,\n\tskinning_pars_vertex: skinning_pars_vertex,\n\tskinning_vertex: skinning_vertex,\n\tskinnormal_vertex: skinnormal_vertex,\n\tspecularmap_fragment: specularmap_fragment,\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\ttonemapping_fragment: tonemapping_fragment,\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\ttransmissionmap_fragment: transmissionmap_fragment,\n\ttransmissionmap_pars_fragment: transmissionmap_pars_fragment,\n\tuv_pars_fragment: uv_pars_fragment,\n\tuv_pars_vertex: uv_pars_vertex,\n\tuv_vertex: uv_vertex,\n\tuv2_pars_fragment: uv2_pars_fragment,\n\tuv2_pars_vertex: uv2_pars_vertex,\n\tuv2_vertex: uv2_vertex,\n\tworldpos_vertex: worldpos_vertex,\n\n\tbackground_frag: background_frag,\n\tbackground_vert: background_vert,\n\tcube_frag: cube_frag,\n\tcube_vert: cube_vert,\n\tdepth_frag: depth_frag,\n\tdepth_vert: depth_vert,\n\tdistanceRGBA_frag: distanceRGBA_frag,\n\tdistanceRGBA_vert: distanceRGBA_vert,\n\tequirect_frag: equirect_frag,\n\tequirect_vert: equirect_vert,\n\tlinedashed_frag: linedashed_frag,\n\tlinedashed_vert: linedashed_vert,\n\tmeshbasic_frag: meshbasic_frag,\n\tmeshbasic_vert: meshbasic_vert,\n\tmeshlambert_frag: meshlambert_frag,\n\tmeshlambert_vert: meshlambert_vert,\n\tmeshmatcap_frag: meshmatcap_frag,\n\tmeshmatcap_vert: meshmatcap_vert,\n\tmeshtoon_frag: meshtoon_frag,\n\tmeshtoon_vert: meshtoon_vert,\n\tmeshphong_frag: meshphong_frag,\n\tmeshphong_vert: meshphong_vert,\n\tmeshphysical_frag: meshphysical_frag,\n\tmeshphysical_vert: meshphysical_vert,\n\tnormal_frag: normal_frag,\n\tnormal_vert: normal_vert,\n\tpoints_frag: points_frag,\n\tpoints_vert: points_vert,\n\tshadow_frag: shadow_frag,\n\tshadow_vert: shadow_vert,\n\tsprite_frag: sprite_frag,\n\tsprite_vert: sprite_vert\n};\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nconst UniformsLib = {\n\n\tcommon: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() },\n\t\tuv2Transform: { value: new Matrix3() },\n\n\t\talphaMap: { value: null },\n\n\t},\n\n\tspecularmap: {\n\n\t\tspecularMap: { value: null },\n\n\t},\n\n\tenvmap: {\n\n\t\tenvMap: { value: null },\n\t\tflipEnvMap: { value: - 1 },\n\t\treflectivity: { value: 1.0 },\n\t\trefractionRatio: { value: 0.98 },\n\t\tmaxMipLevel: { value: 0 }\n\n\t},\n\n\taomap: {\n\n\t\taoMap: { value: null },\n\t\taoMapIntensity: { value: 1 }\n\n\t},\n\n\tlightmap: {\n\n\t\tlightMap: { value: null },\n\t\tlightMapIntensity: { value: 1 }\n\n\t},\n\n\temissivemap: {\n\n\t\temissiveMap: { value: null }\n\n\t},\n\n\tbumpmap: {\n\n\t\tbumpMap: { value: null },\n\t\tbumpScale: { value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\tnormalMap: { value: null },\n\t\tnormalScale: { value: new Vector2( 1, 1 ) }\n\n\t},\n\n\tdisplacementmap: {\n\n\t\tdisplacementMap: { value: null },\n\t\tdisplacementScale: { value: 1 },\n\t\tdisplacementBias: { value: 0 }\n\n\t},\n\n\troughnessmap: {\n\n\t\troughnessMap: { value: null }\n\n\t},\n\n\tmetalnessmap: {\n\n\t\tmetalnessMap: { value: null }\n\n\t},\n\n\tgradientmap: {\n\n\t\tgradientMap: { value: null }\n\n\t},\n\n\tfog: {\n\n\t\tfogDensity: { value: 0.00025 },\n\t\tfogNear: { value: 1 },\n\t\tfogFar: { value: 2000 },\n\t\tfogColor: { value: new Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\tambientLightColor: { value: [] },\n\n\t\tlightProbe: { value: [] },\n\n\t\tdirectionalLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tcolor: {}\n\t\t} },\n\n\t\tdirectionalLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tdirectionalShadowMap: { value: [] },\n\t\tdirectionalShadowMatrix: { value: [] },\n\n\t\tspotLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdirection: {},\n\t\t\tdistance: {},\n\t\t\tconeCos: {},\n\t\t\tpenumbraCos: {},\n\t\t\tdecay: {}\n\t\t} },\n\n\t\tspotLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tspotShadowMap: { value: [] },\n\t\tspotShadowMatrix: { value: [] },\n\n\t\tpointLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdecay: {},\n\t\t\tdistance: {}\n\t\t} },\n\n\t\tpointLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {},\n\t\t\tshadowCameraNear: {},\n\t\t\tshadowCameraFar: {}\n\t\t} },\n\n\t\tpointShadowMap: { value: [] },\n\t\tpointShadowMatrix: { value: [] },\n\n\t\themisphereLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tskyColor: {},\n\t\t\tgroundColor: {}\n\t\t} },\n\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\trectAreaLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\twidth: {},\n\t\t\theight: {}\n\t\t} },\n\n\t\tltc_1: { value: null },\n\t\tltc_2: { value: null }\n\n\t},\n\n\tpoints: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tsize: { value: 1.0 },\n\t\tscale: { value: 1.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t},\n\n\tsprite: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tcenter: { value: new Vector2( 0.5, 0.5 ) },\n\t\trotation: { value: 0.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t}\n\n};\n\nconst ShaderLib = {\n\n\tbasic: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\n\t},\n\n\tlambert: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\n\t},\n\n\tphong: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\tfragmentShader: ShaderChunk.meshphong_frag\n\n\t},\n\n\tstandard: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.roughnessmap,\n\t\t\tUniformsLib.metalnessmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\troughness: { value: 1.0 },\n\t\t\t\tmetalness: { value: 0.0 },\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\n\t},\n\n\ttoon: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.gradientmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshtoon_vert,\n\t\tfragmentShader: ShaderChunk.meshtoon_frag\n\n\t},\n\n\tmatcap: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tmatcap: { value: null }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshmatcap_vert,\n\t\tfragmentShader: ShaderChunk.meshmatcap_frag\n\n\t},\n\n\tpoints: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.points,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.points_vert,\n\t\tfragmentShader: ShaderChunk.points_frag\n\n\t},\n\n\tdashed: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tscale: { value: 1 },\n\t\t\t\tdashSize: { value: 1 },\n\t\t\t\ttotalSize: { value: 2 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\tfragmentShader: ShaderChunk.linedashed_frag\n\n\t},\n\n\tdepth: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.depth_vert,\n\t\tfragmentShader: ShaderChunk.depth_frag\n\n\t},\n\n\tnormal: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.normal_vert,\n\t\tfragmentShader: ShaderChunk.normal_frag\n\n\t},\n\n\tsprite: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.sprite,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.sprite_vert,\n\t\tfragmentShader: ShaderChunk.sprite_frag\n\n\t},\n\n\tbackground: {\n\n\t\tuniforms: {\n\t\t\tuvTransform: { value: new Matrix3() },\n\t\t\tt2D: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.background_vert,\n\t\tfragmentShader: ShaderChunk.background_frag\n\n\t},\n\t/* -------------------------------------------------------------------------\n\t//\tCube map shader\n\t ------------------------------------------------------------------------- */\n\n\tcube: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.envmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.cube_vert,\n\t\tfragmentShader: ShaderChunk.cube_frag\n\n\t},\n\n\tequirect: {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\tfragmentShader: ShaderChunk.equirect_frag\n\n\t},\n\n\tdistanceRGBA: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\treferencePosition: { value: new Vector3() },\n\t\t\t\tnearDistance: { value: 1 },\n\t\t\t\tfarDistance: { value: 1000 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\n\t},\n\n\tshadow: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.lights,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tcolor: { value: new Color( 0x00000 ) },\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t},\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\tfragmentShader: ShaderChunk.shadow_frag\n\n\t}\n\n};\n\nShaderLib.physical = {\n\n\tuniforms: mergeUniforms( [\n\t\tShaderLib.standard.uniforms,\n\t\t{\n\t\t\tclearcoat: { value: 0 },\n\t\t\tclearcoatMap: { value: null },\n\t\t\tclearcoatRoughness: { value: 0 },\n\t\t\tclearcoatRoughnessMap: { value: null },\n\t\t\tclearcoatNormalScale: { value: new Vector2( 1, 1 ) },\n\t\t\tclearcoatNormalMap: { value: null },\n\t\t\tsheen: { value: new Color( 0x000000 ) },\n\t\t\ttransmission: { value: 0 },\n\t\t\ttransmissionMap: { value: null },\n\t\t}\n\t] ),\n\n\tvertexShader: ShaderChunk.meshphysical_vert,\n\tfragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\nfunction WebGLBackground( renderer, cubemaps, state, objects, premultipliedAlpha ) {\n\n\tconst clearColor = new Color( 0x000000 );\n\tlet clearAlpha = 0;\n\n\tlet planeMesh;\n\tlet boxMesh;\n\n\tlet currentBackground = null;\n\tlet currentBackgroundVersion = 0;\n\tlet currentTonemapping = null;\n\n\tfunction render( renderList, scene, camera, forceClear ) {\n\n\t\tlet background = scene.isScene === true ? scene.background : null;\n\n\t\tif ( background && background.isTexture ) {\n\n\t\t\tbackground = cubemaps.get( background );\n\n\t\t}\n\n\t\t// Ignore background in AR\n\t\t// TODO: Reconsider this.\n\n\t\tconst xr = renderer.xr;\n\t\tconst session = xr.getSession && xr.getSession();\n\n\t\tif ( session && session.environmentBlendMode === 'additive' ) {\n\n\t\t\tbackground = null;\n\n\t\t}\n\n\t\tif ( background === null ) {\n\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t} else if ( background && background.isColor ) {\n\n\t\t\tsetClear( background, 1 );\n\t\t\tforceClear = true;\n\n\t\t}\n\n\t\tif ( renderer.autoClear || forceClear ) {\n\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n\t\t}\n\n\t\tif ( background && ( background.isCubeTexture || background.mapping === CubeUVReflectionMapping ) ) {\n\n\t\t\tif ( boxMesh === undefined ) {\n\n\t\t\t\tboxMesh = new Mesh(\n\t\t\t\t\tnew BoxGeometry( 1, 1, 1 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundCubeMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.cube.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'normal' );\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'uv' );\n\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( boxMesh.material, 'envMap', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.envMap.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( boxMesh );\n\n\t\t\t}\n\n\t\t\tboxMesh.material.uniforms.envMap.value = background;\n\t\t\tboxMesh.material.uniforms.flipEnvMap.value = ( background.isCubeTexture && background._needsFlipEnvMap ) ? - 1 : 1;\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tboxMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null );\n\n\t\t} else if ( background && background.isTexture ) {\n\n\t\t\tif ( planeMesh === undefined ) {\n\n\t\t\t\tplaneMesh = new Mesh(\n\t\t\t\t\tnew PlaneGeometry( 2, 2 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.background.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\n\t\t\t\t\t\tside: FrontSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tplaneMesh.geometry.deleteAttribute( 'normal' );\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( planeMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.t2D.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( planeMesh );\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.t2D.value = background;\n\n\t\t\tif ( background.matrixAutoUpdate === true ) {\n\n\t\t\t\tbackground.updateMatrix();\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy( background.matrix );\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tplaneMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null );\n\n\t\t}\n\n\t}\n\n\tfunction setClear( color, alpha ) {\n\n\t\tstate.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\n\n\t}\n\n\treturn {\n\n\t\tgetClearColor: function () {\n\n\t\t\treturn clearColor;\n\n\t\t},\n\t\tsetClearColor: function ( color, alpha = 1 ) {\n\n\t\t\tclearColor.set( color );\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\tgetClearAlpha: function () {\n\n\t\t\treturn clearAlpha;\n\n\t\t},\n\t\tsetClearAlpha: function ( alpha ) {\n\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\trender: render\n\n\t};\n\n}\n\nfunction WebGLBindingStates( gl, extensions, attributes, capabilities ) {\n\n\tconst maxVertexAttributes = gl.getParameter( 34921 );\n\n\tconst extension = capabilities.isWebGL2 ? null : extensions.get( 'OES_vertex_array_object' );\n\tconst vaoAvailable = capabilities.isWebGL2 || extension !== null;\n\n\tconst bindingStates = {};\n\n\tconst defaultState = createBindingState( null );\n\tlet currentState = defaultState;\n\n\tfunction setup( object, material, program, geometry, index ) {\n\n\t\tlet updateBuffers = false;\n\n\t\tif ( vaoAvailable ) {\n\n\t\t\tconst state = getBindingState( geometry, program, material );\n\n\t\t\tif ( currentState !== state ) {\n\n\t\t\t\tcurrentState = state;\n\t\t\t\tbindVertexArrayObject( currentState.object );\n\n\t\t\t}\n\n\t\t\tupdateBuffers = needsUpdate( geometry, index );\n\n\t\t\tif ( updateBuffers ) saveCache( geometry, index );\n\n\t\t} else {\n\n\t\t\tconst wireframe = ( material.wireframe === true );\n\n\t\t\tif ( currentState.geometry !== geometry.id ||\n\t\t\t\tcurrentState.program !== program.id ||\n\t\t\t\tcurrentState.wireframe !== wireframe ) {\n\n\t\t\t\tcurrentState.geometry = geometry.id;\n\t\t\t\tcurrentState.program = program.id;\n\t\t\t\tcurrentState.wireframe = wireframe;\n\n\t\t\t\tupdateBuffers = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh === true ) {\n\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\tif ( index !== null ) {\n\n\t\t\tattributes.update( index, 34963 );\n\n\t\t}\n\n\t\tif ( updateBuffers ) {\n\n\t\t\tsetupVertexAttributes( object, material, program, geometry );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tgl.bindBuffer( 34963, attributes.get( index ).buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction createVertexArrayObject() {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.createVertexArray();\n\n\t\treturn extension.createVertexArrayOES();\n\n\t}\n\n\tfunction bindVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.bindVertexArray( vao );\n\n\t\treturn extension.bindVertexArrayOES( vao );\n\n\t}\n\n\tfunction deleteVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.deleteVertexArray( vao );\n\n\t\treturn extension.deleteVertexArrayOES( vao );\n\n\t}\n\n\tfunction getBindingState( geometry, program, material ) {\n\n\t\tconst wireframe = ( material.wireframe === true );\n\n\t\tlet programMap = bindingStates[ geometry.id ];\n\n\t\tif ( programMap === undefined ) {\n\n\t\t\tprogramMap = {};\n\t\t\tbindingStates[ geometry.id ] = programMap;\n\n\t\t}\n\n\t\tlet stateMap = programMap[ program.id ];\n\n\t\tif ( stateMap === undefined ) {\n\n\t\t\tstateMap = {};\n\t\t\tprogramMap[ program.id ] = stateMap;\n\n\t\t}\n\n\t\tlet state = stateMap[ wireframe ];\n\n\t\tif ( state === undefined ) {\n\n\t\t\tstate = createBindingState( createVertexArrayObject() );\n\t\t\tstateMap[ wireframe ] = state;\n\n\t\t}\n\n\t\treturn state;\n\n\t}\n\n\tfunction createBindingState( vao ) {\n\n\t\tconst newAttributes = [];\n\t\tconst enabledAttributes = [];\n\t\tconst attributeDivisors = [];\n\n\t\tfor ( let i = 0; i < maxVertexAttributes; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\t\t\tenabledAttributes[ i ] = 0;\n\t\t\tattributeDivisors[ i ] = 0;\n\n\t\t}\n\n\t\treturn {\n\n\t\t\t// for backward compatibility on non-VAO support browser\n\t\t\tgeometry: null,\n\t\t\tprogram: null,\n\t\t\twireframe: false,\n\n\t\t\tnewAttributes: newAttributes,\n\t\t\tenabledAttributes: enabledAttributes,\n\t\t\tattributeDivisors: attributeDivisors,\n\t\t\tobject: vao,\n\t\t\tattributes: {},\n\t\t\tindex: null\n\n\t\t};\n\n\t}\n\n\tfunction needsUpdate( geometry, index ) {\n\n\t\tconst cachedAttributes = currentState.attributes;\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tlet attributesNum = 0;\n\n\t\tfor ( const key in geometryAttributes ) {\n\n\t\t\tconst cachedAttribute = cachedAttributes[ key ];\n\t\t\tconst geometryAttribute = geometryAttributes[ key ];\n\n\t\t\tif ( cachedAttribute === undefined ) return true;\n\n\t\t\tif ( cachedAttribute.attribute !== geometryAttribute ) return true;\n\n\t\t\tif ( cachedAttribute.data !== geometryAttribute.data ) return true;\n\n\t\t\tattributesNum ++;\n\n\t\t}\n\n\t\tif ( currentState.attributesNum !== attributesNum ) return true;\n\n\t\tif ( currentState.index !== index ) return true;\n\n\t\treturn false;\n\n\t}\n\n\tfunction saveCache( geometry, index ) {\n\n\t\tconst cache = {};\n\t\tconst attributes = geometry.attributes;\n\t\tlet attributesNum = 0;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\n\t\t\tconst data = {};\n\t\t\tdata.attribute = attribute;\n\n\t\t\tif ( attribute.data ) {\n\n\t\t\t\tdata.data = attribute.data;\n\n\t\t\t}\n\n\t\t\tcache[ key ] = data;\n\n\t\t\tattributesNum ++;\n\n\t\t}\n\n\t\tcurrentState.attributes = cache;\n\t\tcurrentState.attributesNum = attributesNum;\n\n\t\tcurrentState.index = index;\n\n\t}\n\n\tfunction initAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\n\t\tfor ( let i = 0, il = newAttributes.length; i < il; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tenableAttributeAndDivisor( attribute, 0 );\n\n\t}\n\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\t\tconst attributeDivisors = currentState.attributeDivisors;\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n\t\t\tconst extension = capabilities.isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension[ capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\n\t\t}\n\n\t}\n\n\tfunction disableUnusedAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\n\t\tfor ( let i = 0, il = enabledAttributes.length; i < il; i ++ ) {\n\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction vertexAttribPointer( index, size, type, normalized, stride, offset ) {\n\n\t\tif ( capabilities.isWebGL2 === true && ( type === 5124 || type === 5125 ) ) {\n\n\t\t\tgl.vertexAttribIPointer( index, size, type, stride, offset );\n\n\t\t} else {\n\n\t\t\tgl.vertexAttribPointer( index, size, type, normalized, stride, offset );\n\n\t\t}\n\n\t}\n\n\tfunction setupVertexAttributes( object, material, program, geometry ) {\n\n\t\tif ( capabilities.isWebGL2 === false && ( object.isInstancedMesh || geometry.isInstancedBufferGeometry ) ) {\n\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) return;\n\n\t\t}\n\n\t\tinitAttributes();\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tconst materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\tfor ( const name in programAttributes ) {\n\n\t\t\tconst programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute >= 0 ) {\n\n\t\t\t\tconst geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute !== undefined ) {\n\n\t\t\t\t\tconst normalized = geometryAttribute.normalized;\n\t\t\t\t\tconst size = geometryAttribute.itemSize;\n\n\t\t\t\t\tconst attribute = attributes.get( geometryAttribute );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\t\t\t\t\tconst bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst data = geometryAttribute.data;\n\t\t\t\t\t\tconst stride = data.stride;\n\t\t\t\t\t\tconst offset = geometryAttribute.offset;\n\n\t\t\t\t\t\tif ( data && data.isInstancedInterleavedBuffer ) {\n\n\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute, data.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = data.meshPerAttribute * data.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tenableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\tvertexAttribPointer( programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\n\n\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tenableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\tvertexAttribPointer( programAttribute, size, type, normalized, 0, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( name === 'instanceMatrix' ) {\n\n\t\t\t\t\tconst attribute = attributes.get( object.instanceMatrix );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 0, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 1, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 2, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 3, 1 );\n\n\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 0, 4, type, false, 64, 0 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 1, 4, type, false, 64, 16 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 2, 4, type, false, 64, 32 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 3, 4, type, false, 64, 48 );\n\n\t\t\t\t} else if ( name === 'instanceColor' ) {\n\n\t\t\t\t\tconst attribute = attributes.get( object.instanceColor );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute, 1 );\n\n\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute, 3, type, false, 12, 0 );\n\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\n\t\t\t\t\tconst value = materialDefaultAttributeValues[ name ];\n\n\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\tswitch ( value.length ) {\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tgl.vertexAttrib2fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\tgl.vertexAttrib3fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\tgl.vertexAttrib4fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tgl.vertexAttrib1fv( programAttribute, value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tdisableUnusedAttributes();\n\n\t}\n\n\tfunction dispose() {\n\n\t\treset();\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tfor ( const programId in programMap ) {\n\n\t\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t\t}\n\n\t\t\t\tdelete programMap[ programId ];\n\n\t\t\t}\n\n\t\t\tdelete bindingStates[ geometryId ];\n\n\t\t}\n\n\t}\n\n\tfunction releaseStatesOfGeometry( geometry ) {\n\n\t\tif ( bindingStates[ geometry.id ] === undefined ) return;\n\n\t\tconst programMap = bindingStates[ geometry.id ];\n\n\t\tfor ( const programId in programMap ) {\n\n\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ programId ];\n\n\t\t}\n\n\t\tdelete bindingStates[ geometry.id ];\n\n\t}\n\n\tfunction releaseStatesOfProgram( program ) {\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tif ( programMap[ program.id ] === undefined ) continue;\n\n\t\t\tconst stateMap = programMap[ program.id ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ program.id ];\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\tresetDefaultState();\n\n\t\tif ( currentState === defaultState ) return;\n\n\t\tcurrentState = defaultState;\n\t\tbindVertexArrayObject( currentState.object );\n\n\t}\n\n\t// for backward-compatilibity\n\n\tfunction resetDefaultState() {\n\n\t\tdefaultState.geometry = null;\n\t\tdefaultState.program = null;\n\t\tdefaultState.wireframe = false;\n\n\t}\n\n\treturn {\n\n\t\tsetup: setup,\n\t\treset: reset,\n\t\tresetDefaultState: resetDefaultState,\n\t\tdispose: dispose,\n\t\treleaseStatesOfGeometry: releaseStatesOfGeometry,\n\t\treleaseStatesOfProgram: releaseStatesOfProgram,\n\n\t\tinitAttributes: initAttributes,\n\t\tenableAttribute: enableAttribute,\n\t\tdisableUnusedAttributes: disableUnusedAttributes\n\n\t};\n\n}\n\nfunction WebGLBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawArrays( mode, start, count );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawArraysInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawArraysInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, start, count, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\nfunction WebGLCapabilities( gl, extensions, parameters ) {\n\n\tlet maxAnisotropy;\n\n\tfunction getMaxAnisotropy() {\n\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\n\n\t\tif ( extensions.has( 'EXT_texture_filter_anisotropic' ) === true ) {\n\n\t\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n\t\t} else {\n\n\t\t\tmaxAnisotropy = 0;\n\n\t\t}\n\n\t\treturn maxAnisotropy;\n\n\t}\n\n\tfunction getMaxPrecision( precision ) {\n\n\t\tif ( precision === 'highp' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36338 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36338 ).precision > 0 ) {\n\n\t\t\t\treturn 'highp';\n\n\t\t\t}\n\n\t\t\tprecision = 'mediump';\n\n\t\t}\n\n\t\tif ( precision === 'mediump' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36337 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36337 ).precision > 0 ) {\n\n\t\t\t\treturn 'mediump';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn 'lowp';\n\n\t}\n\n\t/* eslint-disable no-undef */\n\tconst isWebGL2 = ( typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext ) ||\n\t\t( typeof WebGL2ComputeRenderingContext !== 'undefined' && gl instanceof WebGL2ComputeRenderingContext );\n\t/* eslint-enable no-undef */\n\n\tlet precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\tconst maxPrecision = getMaxPrecision( precision );\n\n\tif ( maxPrecision !== precision ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n\t\tprecision = maxPrecision;\n\n\t}\n\n\tconst logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n\tconst maxTextures = gl.getParameter( 34930 );\n\tconst maxVertexTextures = gl.getParameter( 35660 );\n\tconst maxTextureSize = gl.getParameter( 3379 );\n\tconst maxCubemapSize = gl.getParameter( 34076 );\n\n\tconst maxAttributes = gl.getParameter( 34921 );\n\tconst maxVertexUniforms = gl.getParameter( 36347 );\n\tconst maxVaryings = gl.getParameter( 36348 );\n\tconst maxFragmentUniforms = gl.getParameter( 36349 );\n\n\tconst vertexTextures = maxVertexTextures > 0;\n\tconst floatFragmentTextures = isWebGL2 || extensions.has( 'OES_texture_float' );\n\tconst floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n\tconst maxSamples = isWebGL2 ? gl.getParameter( 36183 ) : 0;\n\n\treturn {\n\n\t\tisWebGL2: isWebGL2,\n\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\tgetMaxPrecision: getMaxPrecision,\n\n\t\tprecision: precision,\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\tmaxTextures: maxTextures,\n\t\tmaxVertexTextures: maxVertexTextures,\n\t\tmaxTextureSize: maxTextureSize,\n\t\tmaxCubemapSize: maxCubemapSize,\n\n\t\tmaxAttributes: maxAttributes,\n\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\tmaxVaryings: maxVaryings,\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\n\t\tvertexTextures: vertexTextures,\n\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\tfloatVertexTextures: floatVertexTextures,\n\n\t\tmaxSamples: maxSamples\n\n\t};\n\n}\n\nfunction WebGLClipping( properties ) {\n\n\tconst scope = this;\n\n\tlet globalState = null,\n\t\tnumGlobalPlanes = 0,\n\t\tlocalClippingEnabled = false,\n\t\trenderingShadows = false;\n\n\tconst plane = new Plane(),\n\t\tviewNormalMatrix = new Matrix3(),\n\n\t\tuniform = { value: null, needsUpdate: false };\n\n\tthis.uniform = uniform;\n\tthis.numPlanes = 0;\n\tthis.numIntersection = 0;\n\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\n\n\t\tconst enabled =\n\t\t\tplanes.length !== 0 ||\n\t\t\tenableLocalClipping ||\n\t\t\t// enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 ||\n\t\t\tlocalClippingEnabled;\n\n\t\tlocalClippingEnabled = enableLocalClipping;\n\n\t\tglobalState = projectPlanes( planes, camera, 0 );\n\t\tnumGlobalPlanes = planes.length;\n\n\t\treturn enabled;\n\n\t};\n\n\tthis.beginShadows = function () {\n\n\t\trenderingShadows = true;\n\t\tprojectPlanes( null );\n\n\t};\n\n\tthis.endShadows = function () {\n\n\t\trenderingShadows = false;\n\t\tresetGlobalState();\n\n\t};\n\n\tthis.setState = function ( material, camera, useCache ) {\n\n\t\tconst planes = material.clippingPlanes,\n\t\t\tclipIntersection = material.clipIntersection,\n\t\t\tclipShadows = material.clipShadows;\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\n\n\t\t\t// there's no local clipping\n\n\t\t\tif ( renderingShadows ) {\n\n\t\t\t\t// there's no global clipping\n\n\t\t\t\tprojectPlanes( null );\n\n\t\t\t} else {\n\n\t\t\t\tresetGlobalState();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\tlGlobal = nGlobal * 4;\n\n\t\t\tlet dstArray = materialProperties.clippingState || null;\n\n\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, useCache );\n\n\t\t\tfor ( let i = 0; i !== lGlobal; ++ i ) {\n\n\t\t\t\tdstArray[ i ] = globalState[ i ];\n\n\t\t\t}\n\n\t\t\tmaterialProperties.clippingState = dstArray;\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\tthis.numPlanes += nGlobal;\n\n\t\t}\n\n\n\t};\n\n\tfunction resetGlobalState() {\n\n\t\tif ( uniform.value !== globalState ) {\n\n\t\t\tuniform.value = globalState;\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\n\t\t}\n\n\t\tscope.numPlanes = numGlobalPlanes;\n\t\tscope.numIntersection = 0;\n\n\t}\n\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n\t\tconst nPlanes = planes !== null ? planes.length : 0;\n\t\tlet dstArray = null;\n\n\t\tif ( nPlanes !== 0 ) {\n\n\t\t\tdstArray = uniform.value;\n\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\n\n\t\t\t\tconst flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\n\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\n\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\n\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\n\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tuniform.value = dstArray;\n\t\t\tuniform.needsUpdate = true;\n\n\t\t}\n\n\t\tscope.numPlanes = nPlanes;\n\t\tscope.numIntersection = 0;\n\n\t\treturn dstArray;\n\n\t}\n\n}\n\nfunction WebGLCubeMaps( renderer ) {\n\n\tlet cubemaps = new WeakMap();\n\n\tfunction mapTextureMapping( texture, mapping ) {\n\n\t\tif ( mapping === EquirectangularReflectionMapping ) {\n\n\t\t\ttexture.mapping = CubeReflectionMapping;\n\n\t\t} else if ( mapping === EquirectangularRefractionMapping ) {\n\n\t\t\ttexture.mapping = CubeRefractionMapping;\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction get( texture ) {\n\n\t\tif ( texture && texture.isTexture ) {\n\n\t\t\tconst mapping = texture.mapping;\n\n\t\t\tif ( mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping ) {\n\n\t\t\t\tif ( cubemaps.has( texture ) ) {\n\n\t\t\t\t\tconst cubemap = cubemaps.get( texture ).texture;\n\t\t\t\t\treturn mapTextureMapping( cubemap, texture.mapping );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst image = texture.image;\n\n\t\t\t\t\tif ( image && image.height > 0 ) {\n\n\t\t\t\t\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\t\t\t\t\tconst renderTarget = new WebGLCubeRenderTarget( image.height / 2 );\n\t\t\t\t\t\trenderTarget.fromEquirectangularTexture( renderer, texture );\n\t\t\t\t\t\tcubemaps.set( texture, renderTarget );\n\n\t\t\t\t\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\t\treturn mapTextureMapping( renderTarget.texture, texture.mapping );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// image not yet ready. try the conversion next frame\n\n\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tconst cubemap = cubemaps.get( texture );\n\n\t\tif ( cubemap !== undefined ) {\n\n\t\t\tcubemaps.delete( texture );\n\t\t\tcubemap.dispose();\n\n\t\t}\n\n\t}\n\n\tfunction dispose() {\n\n\t\tcubemaps = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction WebGLExtensions( gl ) {\n\n\tconst extensions = {};\n\n\tfunction getExtension( name ) {\n\n\t\tif ( extensions[ name ] !== undefined ) {\n\n\t\t\treturn extensions[ name ];\n\n\t\t}\n\n\t\tlet extension;\n\n\t\tswitch ( name ) {\n\n\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\textension = gl.getExtension( name );\n\n\t\t}\n\n\t\textensions[ name ] = extension;\n\n\t\treturn extension;\n\n\t}\n\n\treturn {\n\n\t\thas: function ( name ) {\n\n\t\t\treturn getExtension( name ) !== null;\n\n\t\t},\n\n\t\tinit: function ( capabilities ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\tgetExtension( 'EXT_color_buffer_float' );\n\n\t\t\t} else {\n\n\t\t\t\tgetExtension( 'WEBGL_depth_texture' );\n\t\t\t\tgetExtension( 'OES_texture_float' );\n\t\t\t\tgetExtension( 'OES_texture_half_float' );\n\t\t\t\tgetExtension( 'OES_texture_half_float_linear' );\n\t\t\t\tgetExtension( 'OES_standard_derivatives' );\n\t\t\t\tgetExtension( 'OES_element_index_uint' );\n\t\t\t\tgetExtension( 'OES_vertex_array_object' );\n\t\t\t\tgetExtension( 'ANGLE_instanced_arrays' );\n\n\t\t\t}\n\n\t\t\tgetExtension( 'OES_texture_float_linear' );\n\t\t\tgetExtension( 'EXT_color_buffer_half_float' );\n\n\t\t},\n\n\t\tget: function ( name ) {\n\n\t\t\tconst extension = getExtension( name );\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n\t\t\t}\n\n\t\t\treturn extension;\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLGeometries( gl, attributes, info, bindingStates ) {\n\n\tconst geometries = {};\n\tconst wireframeAttributes = new WeakMap();\n\n\tfunction onGeometryDispose( event ) {\n\n\t\tconst geometry = event.target;\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\tattributes.remove( geometry.index );\n\n\t\t}\n\n\t\tfor ( const name in geometry.attributes ) {\n\n\t\t\tattributes.remove( geometry.attributes[ name ] );\n\n\t\t}\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tdelete geometries[ geometry.id ];\n\n\t\tconst attribute = wireframeAttributes.get( geometry );\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\twireframeAttributes.delete( geometry );\n\n\t\t}\n\n\t\tbindingStates.releaseStatesOfGeometry( geometry );\n\n\t\tif ( geometry.isInstancedBufferGeometry === true ) {\n\n\t\t\tdelete geometry._maxInstanceCount;\n\n\t\t}\n\n\t\t//\n\n\t\tinfo.memory.geometries --;\n\n\t}\n\n\tfunction get( object, geometry ) {\n\n\t\tif ( geometries[ geometry.id ] === true ) return geometry;\n\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\tgeometries[ geometry.id ] = true;\n\n\t\tinfo.memory.geometries ++;\n\n\t\treturn geometry;\n\n\t}\n\n\tfunction update( geometry ) {\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates.\n\n\t\tfor ( const name in geometryAttributes ) {\n\n\t\t\tattributes.update( geometryAttributes[ name ], 34962 );\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = morphAttributes[ name ];\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tattributes.update( array[ i ], 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateWireframeAttribute( geometry ) {\n\n\t\tconst indices = [];\n\n\t\tconst geometryIndex = geometry.index;\n\t\tconst geometryPosition = geometry.attributes.position;\n\t\tlet version = 0;\n\n\t\tif ( geometryIndex !== null ) {\n\n\t\t\tconst array = geometryIndex.array;\n\t\t\tversion = geometryIndex.version;\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\t\tconst a = array[ i + 0 ];\n\t\t\t\tconst b = array[ i + 1 ];\n\t\t\t\tconst c = array[ i + 2 ];\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst array = geometryPosition.array;\n\t\t\tversion = geometryPosition.version;\n\n\t\t\tfor ( let i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n\t\t\t\tconst a = i + 0;\n\t\t\t\tconst b = i + 1;\n\t\t\t\tconst c = i + 2;\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst attribute = new ( arrayMax( indices ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\t\tattribute.version = version;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates\n\n\t\t//\n\n\t\tconst previousAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( previousAttribute ) attributes.remove( previousAttribute );\n\n\t\t//\n\n\t\twireframeAttributes.set( geometry, attribute );\n\n\t}\n\n\tfunction getWireframeAttribute( geometry ) {\n\n\t\tconst currentAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( currentAttribute ) {\n\n\t\t\tconst geometryIndex = geometry.index;\n\n\t\t\tif ( geometryIndex !== null ) {\n\n\t\t\t\t// if the attribute is obsolete, create a new one\n\n\t\t\t\tif ( currentAttribute.version < geometryIndex.version ) {\n\n\t\t\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t}\n\n\t\treturn wireframeAttributes.get( geometry );\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tupdate: update,\n\n\t\tgetWireframeAttribute: getWireframeAttribute\n\n\t};\n\n}\n\nfunction WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tlet type, bytesPerElement;\n\n\tfunction setIndex( value ) {\n\n\t\ttype = value.type;\n\t\tbytesPerElement = value.bytesPerElement;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawElementsInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawElementsInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, count, type, start * bytesPerElement, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.setIndex = setIndex;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\nfunction WebGLInfo( gl ) {\n\n\tconst memory = {\n\t\tgeometries: 0,\n\t\ttextures: 0\n\t};\n\n\tconst render = {\n\t\tframe: 0,\n\t\tcalls: 0,\n\t\ttriangles: 0,\n\t\tpoints: 0,\n\t\tlines: 0\n\t};\n\n\tfunction update( count, mode, instanceCount ) {\n\n\t\trender.calls ++;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 4:\n\t\t\t\trender.triangles += instanceCount * ( count / 3 );\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\trender.lines += instanceCount * ( count / 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\trender.lines += instanceCount * ( count - 1 );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\trender.lines += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tcase 0:\n\t\t\t\trender.points += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\trender.frame ++;\n\t\trender.calls = 0;\n\t\trender.triangles = 0;\n\t\trender.points = 0;\n\t\trender.lines = 0;\n\n\t}\n\n\treturn {\n\t\tmemory: memory,\n\t\trender: render,\n\t\tprograms: null,\n\t\tautoReset: true,\n\t\treset: reset,\n\t\tupdate: update\n\t};\n\n}\n\nfunction numericalSort( a, b ) {\n\n\treturn a[ 0 ] - b[ 0 ];\n\n}\n\nfunction absNumericalSort( a, b ) {\n\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction WebGLMorphtargets( gl ) {\n\n\tconst influencesList = {};\n\tconst morphInfluences = new Float32Array( 8 );\n\n\tconst workInfluences = [];\n\n\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\tworkInfluences[ i ] = [ i, 0 ];\n\n\t}\n\n\tfunction update( object, geometry, material, program ) {\n\n\t\tconst objectInfluences = object.morphTargetInfluences;\n\n\t\t// When object doesn't have morph target influences defined, we treat it as a 0-length array\n\t\t// This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\n\n\t\tconst length = objectInfluences === undefined ? 0 : objectInfluences.length;\n\n\t\tlet influences = influencesList[ geometry.id ];\n\n\t\tif ( influences === undefined ) {\n\n\t\t\t// initialise list\n\n\t\t\tinfluences = [];\n\n\t\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\t\tinfluences[ i ] = [ i, 0 ];\n\n\t\t\t}\n\n\t\t\tinfluencesList[ geometry.id ] = influences;\n\n\t\t}\n\n\t\t// Collect influences\n\n\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\tconst influence = influences[ i ];\n\n\t\t\tinfluence[ 0 ] = i;\n\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\n\n\t\t}\n\n\t\tinfluences.sort( absNumericalSort );\n\n\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\tif ( i < length && influences[ i ][ 1 ] ) {\n\n\t\t\t\tworkInfluences[ i ][ 0 ] = influences[ i ][ 0 ];\n\t\t\t\tworkInfluences[ i ][ 1 ] = influences[ i ][ 1 ];\n\n\t\t\t} else {\n\n\t\t\t\tworkInfluences[ i ][ 0 ] = Number.MAX_SAFE_INTEGER;\n\t\t\t\tworkInfluences[ i ][ 1 ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tworkInfluences.sort( numericalSort );\n\n\t\tconst morphTargets = material.morphTargets && geometry.morphAttributes.position;\n\t\tconst morphNormals = material.morphNormals && geometry.morphAttributes.normal;\n\n\t\tlet morphInfluencesSum = 0;\n\n\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\tconst influence = workInfluences[ i ];\n\t\t\tconst index = influence[ 0 ];\n\t\t\tconst value = influence[ 1 ];\n\n\t\t\tif ( index !== Number.MAX_SAFE_INTEGER && value ) {\n\n\t\t\t\tif ( morphTargets && geometry.getAttribute( 'morphTarget' + i ) !== morphTargets[ index ] ) {\n\n\t\t\t\t\tgeometry.setAttribute( 'morphTarget' + i, morphTargets[ index ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( morphNormals && geometry.getAttribute( 'morphNormal' + i ) !== morphNormals[ index ] ) {\n\n\t\t\t\t\tgeometry.setAttribute( 'morphNormal' + i, morphNormals[ index ] );\n\n\t\t\t\t}\n\n\t\t\t\tmorphInfluences[ i ] = value;\n\t\t\t\tmorphInfluencesSum += value;\n\n\t\t\t} else {\n\n\t\t\t\tif ( morphTargets && geometry.hasAttribute( 'morphTarget' + i ) === true ) {\n\n\t\t\t\t\tgeometry.deleteAttribute( 'morphTarget' + i );\n\n\t\t\t\t}\n\n\t\t\t\tif ( morphNormals && geometry.hasAttribute( 'morphNormal' + i ) === true ) {\n\n\t\t\t\t\tgeometry.deleteAttribute( 'morphNormal' + i );\n\n\t\t\t\t}\n\n\t\t\t\tmorphInfluences[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// GLSL shader uses formula baseinfluence * base + sum(target * influence)\n\t\t// This allows us to switch between absolute morphs and relative morphs without changing shader code\n\t\t// When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\n\t\tconst morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetBaseInfluence', morphBaseInfluence );\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update\n\n\t};\n\n}\n\nfunction WebGLObjects( gl, geometries, attributes, info ) {\n\n\tlet updateMap = new WeakMap();\n\n\tfunction update( object ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\tconst geometry = object.geometry;\n\t\tconst buffergeometry = geometries.get( object, geometry );\n\n\t\t// Update once per frame\n\n\t\tif ( updateMap.get( buffergeometry ) !== frame ) {\n\n\t\t\tgeometries.update( buffergeometry );\n\n\t\t\tupdateMap.set( buffergeometry, frame );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\tif ( object.hasEventListener( 'dispose', onInstancedMeshDispose ) === false ) {\n\n\t\t\t\tobject.addEventListener( 'dispose', onInstancedMeshDispose );\n\n\t\t\t}\n\n\t\t\tattributes.update( object.instanceMatrix, 34962 );\n\n\t\t\tif ( object.instanceColor !== null ) {\n\n\t\t\t\tattributes.update( object.instanceColor, 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tupdateMap = new WeakMap();\n\n\t}\n\n\tfunction onInstancedMeshDispose( event ) {\n\n\t\tconst instancedMesh = event.target;\n\n\t\tinstancedMesh.removeEventListener( 'dispose', onInstancedMeshDispose );\n\n\t\tattributes.remove( instancedMesh.instanceMatrix );\n\n\t\tif ( instancedMesh.instanceColor !== null ) attributes.remove( instancedMesh.instanceColor );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update,\n\t\tdispose: dispose\n\n\t};\n\n}\n\nclass DataTexture2DArray extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, depth = 1 ) {\n\n\t\tsuper( null );\n\n\t\tthis.image = { data, width, height, depth };\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.wrapR = ClampToEdgeWrapping;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nDataTexture2DArray.prototype.isDataTexture2DArray = true;\n\nclass DataTexture3D extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, depth = 1 ) {\n\n\t\t// We're going to add .setXXX() methods for setting properties later.\n\t\t// Users can still set in DataTexture3D directly.\n\t\t//\n\t\t//\tconst texture = new THREE.DataTexture3D( data, width, height, depth );\n\t\t// \ttexture.anisotropy = 16;\n\t\t//\n\t\t// See #14839\n\n\t\tsuper( null );\n\n\t\tthis.image = { data, width, height, depth };\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.wrapR = ClampToEdgeWrapping;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nDataTexture3D.prototype.isDataTexture3D = true;\n\n/**\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [textures] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'textures' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (textures factorizations):\n *\n * .upload( gl, seq, values, textures )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (textures factorizations):\n *\n * .setValue( gl, name, value, textures )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nconst emptyTexture = new Texture();\nconst emptyTexture2dArray = new DataTexture2DArray();\nconst emptyTexture3d = new DataTexture3D();\nconst emptyCubeTexture = new CubeTexture();\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nconst arrayCacheF32 = [];\nconst arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nconst mat4array = new Float32Array( 16 );\nconst mat3array = new Float32Array( 9 );\nconst mat2array = new Float32Array( 4 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n\tconst firstElem = array[ 0 ];\n\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\n\t// unoptimized: ! isNaN( firstElem )\n\t// see http://jacksondunstan.com/articles/983\n\n\tconst n = nBlocks * blockSize;\n\tlet r = arrayCacheF32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Float32Array( n );\n\t\tarrayCacheF32[ n ] = r;\n\n\t}\n\n\tif ( nBlocks !== 0 ) {\n\n\t\tfirstElem.toArray( r, 0 );\n\n\t\tfor ( let i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n\t\t\toffset += blockSize;\n\t\t\tarray[ i ].toArray( r, offset );\n\n\t\t}\n\n\t}\n\n\treturn r;\n\n}\n\nfunction arraysEqual( a, b ) {\n\n\tif ( a.length !== b.length ) return false;\n\n\tfor ( let i = 0, l = a.length; i < l; i ++ ) {\n\n\t\tif ( a[ i ] !== b[ i ] ) return false;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction copyArray( a, b ) {\n\n\tfor ( let i = 0, l = b.length; i < l; i ++ ) {\n\n\t\ta[ i ] = b[ i ];\n\n\t}\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( textures, n ) {\n\n\tlet r = arrayCacheI32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Int32Array( n );\n\t\tarrayCacheI32[ n ] = r;\n\n\t}\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\tr[ i ] = textures.allocateTextureUnit();\n\n\t}\n\n\treturn r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValueV1f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1f( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValueV2f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2f( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV3f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else if ( v.r !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\n\n\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\n\n\t\t\tcache[ 0 ] = v.r;\n\t\t\tcache[ 1 ] = v.g;\n\t\t\tcache[ 2 ] = v.b;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV4f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n// Single matrix (from flat array or THREE.MatrixN)\n\nfunction setValueM2( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix2fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat2array.set( elements );\n\n\t\tgl.uniformMatrix2fv( this.addr, false, mat2array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM3( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat3array.set( elements );\n\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM4( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat4array.set( elements );\n\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\n// Single integer / boolean\n\nfunction setValueV1i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1i( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single integer / boolean vector (from flat array)\n\nfunction setValueV2i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n// Single unsigned integer\n\nfunction setValueV1ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1ui( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single unsigned integer vector (from flat array)\n\nfunction setValueV2ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT3D1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture3D( v || emptyTexture3d, unit );\n\n}\n\nfunction setValueT6( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTextureCube( v || emptyCubeTexture, unit );\n\n}\n\nfunction setValueT2DArray1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture2DArray( v || emptyTexture2dArray, unit );\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1f; // FLOAT\n\t\tcase 0x8b50: return setValueV2f; // _VEC2\n\t\tcase 0x8b51: return setValueV3f; // _VEC3\n\t\tcase 0x8b52: return setValueV4f; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2; // _MAT2\n\t\tcase 0x8b5b: return setValueM3; // _MAT3\n\t\tcase 0x8b5c: return setValueM4; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1i; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2i; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3i; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4i; // _VEC4\n\n\t\tcase 0x1405: return setValueV1ui; // UINT\n\t\tcase 0x8dc6: return setValueV2ui; // _VEC2\n\t\tcase 0x8dc7: return setValueV3ui; // _VEC3\n\t\tcase 0x8dc8: return setValueV4ui; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1;\n\n\t\tcase 0x8b5f: // SAMPLER_3D\n\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\t\tcase 0x8dd3: // UNSIGNED_INT_SAMPLER_3D\n\t\t\treturn setValueT3D1;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6;\n\n\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dc4: // SAMPLER_2D_ARRAY_SHADOW\n\t\t\treturn setValueT2DArray1;\n\n\t}\n\n}\n\n\n// Array of scalars\n\nfunction setValueV1fArray( gl, v ) {\n\n\tgl.uniform1fv( this.addr, v );\n\n}\n\n// Array of vectors (from flat array or array of THREE.VectorN)\n\nfunction setValueV2fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 2 );\n\n\tgl.uniform2fv( this.addr, data );\n\n}\n\nfunction setValueV3fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 3 );\n\n\tgl.uniform3fv( this.addr, data );\n\n}\n\nfunction setValueV4fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniform4fv( this.addr, data );\n\n}\n\n// Array of matrices (from flat array or array of THREE.MatrixN)\n\nfunction setValueM2Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniformMatrix2fv( this.addr, false, data );\n\n}\n\nfunction setValueM3Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 9 );\n\n\tgl.uniformMatrix3fv( this.addr, false, data );\n\n}\n\nfunction setValueM4Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 16 );\n\n\tgl.uniformMatrix4fv( this.addr, false, data );\n\n}\n\n// Array of integer / boolean\n\nfunction setValueV1iArray( gl, v ) {\n\n\tgl.uniform1iv( this.addr, v );\n\n}\n\n// Array of integer / boolean vectors (from flat array)\n\nfunction setValueV2iArray( gl, v ) {\n\n\tgl.uniform2iv( this.addr, v );\n\n}\n\nfunction setValueV3iArray( gl, v ) {\n\n\tgl.uniform3iv( this.addr, v );\n\n}\n\nfunction setValueV4iArray( gl, v ) {\n\n\tgl.uniform4iv( this.addr, v );\n\n}\n\n// Array of unsigned integer\n\nfunction setValueV1uiArray( gl, v ) {\n\n\tgl.uniform1uiv( this.addr, v );\n\n}\n\n// Array of unsigned integer vectors (from flat array)\n\nfunction setValueV2uiArray( gl, v ) {\n\n\tgl.uniform2uiv( this.addr, v );\n\n}\n\nfunction setValueV3uiArray( gl, v ) {\n\n\tgl.uniform3uiv( this.addr, v );\n\n}\n\nfunction setValueV4uiArray( gl, v ) {\n\n\tgl.uniform4uiv( this.addr, v );\n\n}\n\n\n// Array of textures (2D / Cube)\n\nfunction setValueT1Array( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT6Array( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n\t}\n\n}\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1fArray; // FLOAT\n\t\tcase 0x8b50: return setValueV2fArray; // _VEC2\n\t\tcase 0x8b51: return setValueV3fArray; // _VEC3\n\t\tcase 0x8b52: return setValueV4fArray; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2Array; // _MAT2\n\t\tcase 0x8b5b: return setValueM3Array; // _MAT3\n\t\tcase 0x8b5c: return setValueM4Array; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1iArray; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2iArray; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3iArray; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4iArray; // _VEC4\n\n\t\tcase 0x1405: return setValueV1uiArray; // UINT\n\t\tcase 0x8dc6: return setValueV2uiArray; // _VEC2\n\t\tcase 0x8dc7: return setValueV3uiArray; // _VEC3\n\t\tcase 0x8dc8: return setValueV4uiArray; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1Array;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6Array;\n\n\t}\n\n}\n\n// --- Uniform Classes ---\n\nfunction SingleUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.setValue = getSingularSetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction PureArrayUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.size = activeInfo.size;\n\tthis.setValue = getPureArraySetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nPureArrayUniform.prototype.updateCache = function ( data ) {\n\n\tconst cache = this.cache;\n\n\tif ( data instanceof Float32Array && cache.length !== data.length ) {\n\n\t\tthis.cache = new Float32Array( data.length );\n\n\t}\n\n\tcopyArray( cache, data );\n\n};\n\nfunction StructuredUniform( id ) {\n\n\tthis.id = id;\n\n\tthis.seq = [];\n\tthis.map = {};\n\n}\n\nStructuredUniform.prototype.setValue = function ( gl, value, textures ) {\n\n\tconst seq = this.seq;\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ];\n\t\tu.setValue( gl, value[ u.id ], textures );\n\n\t}\n\n};\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nconst RePathPart = /(\\w+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n\tcontainer.seq.push( uniformObject );\n\tcontainer.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n\tconst path = activeInfo.name,\n\t\tpathLength = path.length;\n\n\t// reset RegExp object, because of the early exit of a previous run\n\tRePathPart.lastIndex = 0;\n\n\twhile ( true ) {\n\n\t\tconst match = RePathPart.exec( path ),\n\t\t\tmatchEnd = RePathPart.lastIndex;\n\n\t\tlet id = match[ 1 ];\n\t\tconst idIsIndex = match[ 2 ] === ']',\n\t\t\tsubscript = match[ 3 ];\n\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\n\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n\t\t\taddUniform( container, subscript === undefined ?\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\n\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\t// step into inner node / create it in case it doesn't exist\n\n\t\t\tconst map = container.map;\n\t\t\tlet next = map[ id ];\n\n\t\t\tif ( next === undefined ) {\n\n\t\t\t\tnext = new StructuredUniform( id );\n\t\t\t\taddUniform( container, next );\n\n\t\t\t}\n\n\t\t\tcontainer = next;\n\n\t\t}\n\n\t}\n\n}\n\n// Root Container\n\nfunction WebGLUniforms( gl, program ) {\n\n\tthis.seq = [];\n\tthis.map = {};\n\n\tconst n = gl.getProgramParameter( program, 35718 );\n\n\tfor ( let i = 0; i < n; ++ i ) {\n\n\t\tconst info = gl.getActiveUniform( program, i ),\n\t\t\taddr = gl.getUniformLocation( program, info.name );\n\n\t\tparseUniform( info, addr, this );\n\n\t}\n\n}\n\nWebGLUniforms.prototype.setValue = function ( gl, name, value, textures ) {\n\n\tconst u = this.map[ name ];\n\n\tif ( u !== undefined ) u.setValue( gl, value, textures );\n\n};\n\nWebGLUniforms.prototype.setOptional = function ( gl, object, name ) {\n\n\tconst v = object[ name ];\n\n\tif ( v !== undefined ) this.setValue( gl, name, v );\n\n};\n\n\n// Static interface\n\nWebGLUniforms.upload = function ( gl, seq, values, textures ) {\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ],\n\t\t\tv = values[ u.id ];\n\n\t\tif ( v.needsUpdate !== false ) {\n\n\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\tu.setValue( gl, v.value, textures );\n\n\t\t}\n\n\t}\n\n};\n\nWebGLUniforms.seqWithValue = function ( seq, values ) {\n\n\tconst r = [];\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ];\n\t\tif ( u.id in values ) r.push( u );\n\n\t}\n\n\treturn r;\n\n};\n\nfunction WebGLShader( gl, type, string ) {\n\n\tconst shader = gl.createShader( type );\n\n\tgl.shaderSource( shader, string );\n\tgl.compileShader( shader );\n\n\treturn shader;\n\n}\n\nlet programIdCount = 0;\n\nfunction addLineNumbers( string ) {\n\n\tconst lines = string.split( '\\n' );\n\n\tfor ( let i = 0; i < lines.length; i ++ ) {\n\n\t\tlines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\n\n\t}\n\n\treturn lines.join( '\\n' );\n\n}\n\nfunction getEncodingComponents( encoding ) {\n\n\tswitch ( encoding ) {\n\n\t\tcase LinearEncoding:\n\t\t\treturn [ 'Linear', '( value )' ];\n\t\tcase sRGBEncoding:\n\t\t\treturn [ 'sRGB', '( value )' ];\n\t\tcase RGBEEncoding:\n\t\t\treturn [ 'RGBE', '( value )' ];\n\t\tcase RGBM7Encoding:\n\t\t\treturn [ 'RGBM', '( value, 7.0 )' ];\n\t\tcase RGBM16Encoding:\n\t\t\treturn [ 'RGBM', '( value, 16.0 )' ];\n\t\tcase RGBDEncoding:\n\t\t\treturn [ 'RGBD', '( value, 256.0 )' ];\n\t\tcase GammaEncoding:\n\t\t\treturn [ 'Gamma', '( value, float( GAMMA_FACTOR ) )' ];\n\t\tcase LogLuvEncoding:\n\t\t\treturn [ 'LogLuv', '( value )' ];\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported encoding:', encoding );\n\t\t\treturn [ 'Linear', '( value )' ];\n\n\t}\n\n}\n\nfunction getShaderErrors( gl, shader, type ) {\n\n\tconst status = gl.getShaderParameter( shader, 35713 );\n\tconst log = gl.getShaderInfoLog( shader ).trim();\n\n\tif ( status && log === '' ) return '';\n\n\t// --enable-privileged-webgl-extension\n\t// console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\tconst source = gl.getShaderSource( shader );\n\n\treturn 'THREE.WebGLShader: gl.getShaderInfoLog() ' + type + '\\n' + log + addLineNumbers( source );\n\n}\n\nfunction getTexelDecodingFunction( functionName, encoding ) {\n\n\tconst components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return ' + components[ 0 ] + 'ToLinear' + components[ 1 ] + '; }';\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n\tconst components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n\tlet toneMappingName;\n\n\tswitch ( toneMapping ) {\n\n\t\tcase LinearToneMapping:\n\t\t\ttoneMappingName = 'Linear';\n\t\t\tbreak;\n\n\t\tcase ReinhardToneMapping:\n\t\t\ttoneMappingName = 'Reinhard';\n\t\t\tbreak;\n\n\t\tcase CineonToneMapping:\n\t\t\ttoneMappingName = 'OptimizedCineon';\n\t\t\tbreak;\n\n\t\tcase ACESFilmicToneMapping:\n\t\t\ttoneMappingName = 'ACESFilmic';\n\t\t\tbreak;\n\n\t\tcase CustomToneMapping:\n\t\t\ttoneMappingName = 'Custom';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported toneMapping:', toneMapping );\n\t\t\ttoneMappingName = 'Linear';\n\n\t}\n\n\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\n}\n\nfunction generateExtensions( parameters ) {\n\n\tconst chunks = [\n\t\t( parameters.extensionDerivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical' ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t( parameters.extensionFragDepth || parameters.logarithmicDepthBuffer ) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\t( parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers ) ? '#extension GL_EXT_draw_buffers : require' : '',\n\t\t( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n\t];\n\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n\tconst chunks = [];\n\n\tfor ( const name in defines ) {\n\n\t\tconst value = defines[ name ];\n\n\t\tif ( value === false ) continue;\n\n\t\tchunks.push( '#define ' + name + ' ' + value );\n\n\t}\n\n\treturn chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program ) {\n\n\tconst attributes = {};\n\n\tconst n = gl.getProgramParameter( program, 35721 );\n\n\tfor ( let i = 0; i < n; i ++ ) {\n\n\t\tconst info = gl.getActiveAttrib( program, i );\n\t\tconst name = info.name;\n\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\tattributes[ name ] = gl.getAttribLocation( program, name );\n\n\t}\n\n\treturn attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n\treturn string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights )\n\t\t.replace( /NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows )\n\t\t.replace( /NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows )\n\t\t.replace( /NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows );\n\n}\n\nfunction replaceClippingPlaneNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\n\t\t.replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\n\n}\n\n// Resolve Includes\n\nconst includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\nfunction resolveIncludes( string ) {\n\n\treturn string.replace( includePattern, includeReplacer );\n\n}\n\nfunction includeReplacer( match, include ) {\n\n\tconst string = ShaderChunk[ include ];\n\n\tif ( string === undefined ) {\n\n\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\n\n\t}\n\n\treturn resolveIncludes( string );\n\n}\n\n// Unroll Loops\n\nconst deprecatedUnrollLoopPattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\nconst unrollLoopPattern = /#pragma unroll_loop_start\\s+for\\s*\\(\\s*int\\s+i\\s*=\\s*(\\d+)\\s*;\\s*i\\s*<\\s*(\\d+)\\s*;\\s*i\\s*\\+\\+\\s*\\)\\s*{([\\s\\S]+?)}\\s+#pragma unroll_loop_end/g;\n\nfunction unrollLoops( string ) {\n\n\treturn string\n\t\t.replace( unrollLoopPattern, loopReplacer )\n\t\t.replace( deprecatedUnrollLoopPattern, deprecatedLoopReplacer );\n\n}\n\nfunction deprecatedLoopReplacer( match, start, end, snippet ) {\n\n\tconsole.warn( 'WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead.' );\n\treturn loopReplacer( match, start, end, snippet );\n\n}\n\nfunction loopReplacer( match, start, end, snippet ) {\n\n\tlet string = '';\n\n\tfor ( let i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n\t\tstring += snippet\n\t\t\t.replace( /\\[\\s*i\\s*\\]/g, '[ ' + i + ' ]' )\n\t\t\t.replace( /UNROLLED_LOOP_INDEX/g, i );\n\n\t}\n\n\treturn string;\n\n}\n\n//\n\nfunction generatePrecision( parameters ) {\n\n\tlet precisionstring = 'precision ' + parameters.precision + ' float;\\nprecision ' + parameters.precision + ' int;';\n\n\tif ( parameters.precision === 'highp' ) {\n\n\t\tprecisionstring += '\\n#define HIGH_PRECISION';\n\n\t} else if ( parameters.precision === 'mediump' ) {\n\n\t\tprecisionstring += '\\n#define MEDIUM_PRECISION';\n\n\t} else if ( parameters.precision === 'lowp' ) {\n\n\t\tprecisionstring += '\\n#define LOW_PRECISION';\n\n\t}\n\n\treturn precisionstring;\n\n}\n\nfunction generateShadowMapTypeDefine( parameters ) {\n\n\tlet shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n\t} else if ( parameters.shadowMapType === VSMShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n\n\t}\n\n\treturn shadowMapTypeDefine;\n\n}\n\nfunction generateEnvMapTypeDefine( parameters ) {\n\n\tlet envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeReflectionMapping:\n\t\t\tcase CubeRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\tbreak;\n\n\t\t\tcase CubeUVReflectionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapTypeDefine;\n\n}\n\nfunction generateEnvMapModeDefine( parameters ) {\n\n\tlet envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeRefractionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapModeDefine;\n\n}\n\nfunction generateEnvMapBlendingDefine( parameters ) {\n\n\tlet envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.combine ) {\n\n\t\t\tcase MultiplyOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\tbreak;\n\n\t\t\tcase MixOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\tbreak;\n\n\t\t\tcase AddOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapBlendingDefine;\n\n}\n\nfunction WebGLProgram( renderer, cacheKey, parameters, bindingStates ) {\n\n\tconst gl = renderer.getContext();\n\n\tconst defines = parameters.defines;\n\n\tlet vertexShader = parameters.vertexShader;\n\tlet fragmentShader = parameters.fragmentShader;\n\n\tconst shadowMapTypeDefine = generateShadowMapTypeDefine( parameters );\n\tconst envMapTypeDefine = generateEnvMapTypeDefine( parameters );\n\tconst envMapModeDefine = generateEnvMapModeDefine( parameters );\n\tconst envMapBlendingDefine = generateEnvMapBlendingDefine( parameters );\n\n\n\tconst gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\n\n\tconst customExtensions = parameters.isWebGL2 ? '' : generateExtensions( parameters );\n\n\tconst customDefines = generateDefines( defines );\n\n\tconst program = gl.createProgram();\n\n\tlet prefixVertex, prefixFragment;\n\tlet versionString = parameters.glslVersion ? '#version ' + parameters.glslVersion + '\\n' : '';\n\n\tif ( parameters.isRawShaderMaterial ) {\n\n\t\tprefixVertex = [\n\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixVertex.length > 0 ) {\n\n\t\t\tprefixVertex += '\\n';\n\n\t\t}\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixFragment.length > 0 ) {\n\n\t\t\tprefixFragment += '\\n';\n\n\t\t}\n\n\t} else {\n\n\t\tprefixVertex = [\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.instancing ? '#define USE_INSTANCING' : '',\n\t\t\tparameters.instancingColor ? '#define USE_INSTANCING_COLOR' : '',\n\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t'#define MAX_BONES ' + parameters.maxBones,\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\t\t\tparameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t'#ifdef USE_INSTANCING',\n\n\t\t\t'\tattribute mat4 instanceMatrix;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_INSTANCING_COLOR',\n\n\t\t\t'\tattribute vec3 instanceColor;',\n\n\t\t\t'#endif',\n\n\t\t\t'attribute vec3 position;',\n\t\t\t'attribute vec3 normal;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'#ifdef USE_TANGENT',\n\n\t\t\t'\tattribute vec4 tangent;',\n\n\t\t\t'#endif',\n\n\t\t\t'#if defined( USE_COLOR_ALPHA )',\n\n\t\t\t'\tattribute vec4 color;',\n\n\t\t\t'#elif defined( USE_COLOR )',\n\n\t\t\t'\tattribute vec3 color;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_MORPHTARGETS',\n\n\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t'\tattribute vec3 morphTarget3;',\n\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\n\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t'\t\tattribute vec3 morphNormal3;',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t'\t\tattribute vec3 morphTarget7;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_SKINNING',\n\n\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t'\tattribute vec4 skinWeight;',\n\n\t\t\t'#endif',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + ( parameters.alphaTest % 1 ? '' : '.0' ) : '', // add '.0' if integer\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.matcap ? '#define USE_MATCAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.sheen ? '#define USE_SHEEN' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors || parameters.instancingColor ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\n\n\t\t\tparameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t( ( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ) ? '#define TEXTURE_LOD_EXT' : '',\n\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\n\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\n\n\t\t\tShaderChunk[ 'encodings_pars_fragment' ], // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tparameters.map ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\n\t\t\tparameters.matcap ? getTexelDecodingFunction( 'matcapTexelToLinear', parameters.matcapEncoding ) : '',\n\t\t\tparameters.envMap ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\n\t\t\tparameters.emissiveMap ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\n\t\t\tparameters.lightMap ? getTexelDecodingFunction( 'lightMapTexelToLinear', parameters.lightMapEncoding ) : '',\n\t\t\tgetTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ),\n\n\t\t\tparameters.depthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t}\n\n\tvertexShader = resolveIncludes( vertexShader );\n\tvertexShader = replaceLightNums( vertexShader, parameters );\n\tvertexShader = replaceClippingPlaneNums( vertexShader, parameters );\n\n\tfragmentShader = resolveIncludes( fragmentShader );\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\n\tfragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\n\n\tvertexShader = unrollLoops( vertexShader );\n\tfragmentShader = unrollLoops( fragmentShader );\n\n\tif ( parameters.isWebGL2 && parameters.isRawShaderMaterial !== true ) {\n\n\t\t// GLSL 3.0 conversion for built-in materials and ShaderMaterial\n\n\t\tversionString = '#version 300 es\\n';\n\n\t\tprefixVertex = [\n\t\t\t'#define attribute in',\n\t\t\t'#define varying out',\n\t\t\t'#define texture2D texture'\n\t\t].join( '\\n' ) + '\\n' + prefixVertex;\n\n\t\tprefixFragment = [\n\t\t\t'#define varying in',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : 'out highp vec4 pc_fragColor;',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : '#define gl_FragColor pc_fragColor',\n\t\t\t'#define gl_FragDepthEXT gl_FragDepth',\n\t\t\t'#define texture2D texture',\n\t\t\t'#define textureCube texture',\n\t\t\t'#define texture2DProj textureProj',\n\t\t\t'#define texture2DLodEXT textureLod',\n\t\t\t'#define texture2DProjLodEXT textureProjLod',\n\t\t\t'#define textureCubeLodEXT textureLod',\n\t\t\t'#define texture2DGradEXT textureGrad',\n\t\t\t'#define texture2DProjGradEXT textureProjGrad',\n\t\t\t'#define textureCubeGradEXT textureGrad'\n\t\t].join( '\\n' ) + '\\n' + prefixFragment;\n\n\t}\n\n\tconst vertexGlsl = versionString + prefixVertex + vertexShader;\n\tconst fragmentGlsl = versionString + prefixFragment + fragmentShader;\n\n\t// console.log( '*VERTEX*', vertexGlsl );\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\tconst glVertexShader = WebGLShader( gl, 35633, vertexGlsl );\n\tconst glFragmentShader = WebGLShader( gl, 35632, fragmentGlsl );\n\n\tgl.attachShader( program, glVertexShader );\n\tgl.attachShader( program, glFragmentShader );\n\n\t// Force a particular attribute to index 0.\n\n\tif ( parameters.index0AttributeName !== undefined ) {\n\n\t\tgl.bindAttribLocation( program, 0, parameters.index0AttributeName );\n\n\t} else if ( parameters.morphTargets === true ) {\n\n\t\t// programs with morphTargets displace position out of attribute 0\n\t\tgl.bindAttribLocation( program, 0, 'position' );\n\n\t}\n\n\tgl.linkProgram( program );\n\n\t// check for link errors\n\tif ( renderer.debug.checkShaderErrors ) {\n\n\t\tconst programLog = gl.getProgramInfoLog( program ).trim();\n\t\tconst vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\n\t\tconst fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\n\n\t\tlet runnable = true;\n\t\tlet haveDiagnostics = true;\n\n\t\tif ( gl.getProgramParameter( program, 35714 ) === false ) {\n\n\t\t\trunnable = false;\n\n\t\t\tconst vertexErrors = getShaderErrors( gl, glVertexShader, 'vertex' );\n\t\t\tconst fragmentErrors = getShaderErrors( gl, glFragmentShader, 'fragment' );\n\n\t\t\tconsole.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), '35715', gl.getProgramParameter( program, 35715 ), 'gl.getProgramInfoLog', programLog, vertexErrors, fragmentErrors );\n\n\t\t} else if ( programLog !== '' ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\n\n\t\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\n\t\t\thaveDiagnostics = false;\n\n\t\t}\n\n\t\tif ( haveDiagnostics ) {\n\n\t\t\tthis.diagnostics = {\n\n\t\t\t\trunnable: runnable,\n\n\t\t\t\tprogramLog: programLog,\n\n\t\t\t\tvertexShader: {\n\n\t\t\t\t\tlog: vertexLog,\n\t\t\t\t\tprefix: prefixVertex\n\n\t\t\t\t},\n\n\t\t\t\tfragmentShader: {\n\n\t\t\t\t\tlog: fragmentLog,\n\t\t\t\t\tprefix: prefixFragment\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t}\n\n\t// Clean up\n\n\t// Crashes in iOS9 and iOS10. #18402\n\t// gl.detachShader( program, glVertexShader );\n\t// gl.detachShader( program, glFragmentShader );\n\n\tgl.deleteShader( glVertexShader );\n\tgl.deleteShader( glFragmentShader );\n\n\t// set up caching for uniform locations\n\n\tlet cachedUniforms;\n\n\tthis.getUniforms = function () {\n\n\t\tif ( cachedUniforms === undefined ) {\n\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program );\n\n\t\t}\n\n\t\treturn cachedUniforms;\n\n\t};\n\n\t// set up caching for attribute locations\n\n\tlet cachedAttributes;\n\n\tthis.getAttributes = function () {\n\n\t\tif ( cachedAttributes === undefined ) {\n\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\n\t\t}\n\n\t\treturn cachedAttributes;\n\n\t};\n\n\t// free resource\n\n\tthis.destroy = function () {\n\n\t\tbindingStates.releaseStatesOfProgram( this );\n\n\t\tgl.deleteProgram( program );\n\t\tthis.program = undefined;\n\n\t};\n\n\t//\n\n\tthis.name = parameters.shaderName;\n\tthis.id = programIdCount ++;\n\tthis.cacheKey = cacheKey;\n\tthis.usedTimes = 1;\n\tthis.program = program;\n\tthis.vertexShader = glVertexShader;\n\tthis.fragmentShader = glFragmentShader;\n\n\treturn this;\n\n}\n\nfunction WebGLPrograms( renderer, cubemaps, extensions, capabilities, bindingStates, clipping ) {\n\n\tconst programs = [];\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\n\tconst floatVertexTextures = capabilities.floatVertexTextures;\n\tconst maxVertexUniforms = capabilities.maxVertexUniforms;\n\tconst vertexTextures = capabilities.vertexTextures;\n\n\tlet precision = capabilities.precision;\n\n\tconst shaderIDs = {\n\t\tMeshDepthMaterial: 'depth',\n\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\tMeshNormalMaterial: 'normal',\n\t\tMeshBasicMaterial: 'basic',\n\t\tMeshLambertMaterial: 'lambert',\n\t\tMeshPhongMaterial: 'phong',\n\t\tMeshToonMaterial: 'toon',\n\t\tMeshStandardMaterial: 'physical',\n\t\tMeshPhysicalMaterial: 'physical',\n\t\tMeshMatcapMaterial: 'matcap',\n\t\tLineBasicMaterial: 'basic',\n\t\tLineDashedMaterial: 'dashed',\n\t\tPointsMaterial: 'points',\n\t\tShadowMaterial: 'shadow',\n\t\tSpriteMaterial: 'sprite'\n\t};\n\n\tconst parameterNames = [\n\t\t'precision', 'isWebGL2', 'supportsVertexTextures', 'outputEncoding', 'instancing', 'instancingColor',\n\t\t'map', 'mapEncoding', 'matcap', 'matcapEncoding', 'envMap', 'envMapMode', 'envMapEncoding', 'envMapCubeUV',\n\t\t'lightMap', 'lightMapEncoding', 'aoMap', 'emissiveMap', 'emissiveMapEncoding', 'bumpMap', 'normalMap', 'objectSpaceNormalMap', 'tangentSpaceNormalMap', 'clearcoatMap', 'clearcoatRoughnessMap', 'clearcoatNormalMap', 'displacementMap', 'specularMap',\n\t\t'roughnessMap', 'metalnessMap', 'gradientMap',\n\t\t'alphaMap', 'combine', 'vertexColors', 'vertexAlphas', 'vertexTangents', 'vertexUvs', 'uvsVertexOnly', 'fog', 'useFog', 'fogExp2',\n\t\t'flatShading', 'sizeAttenuation', 'logarithmicDepthBuffer', 'skinning',\n\t\t'maxBones', 'useVertexTexture', 'morphTargets', 'morphNormals', 'premultipliedAlpha',\n\t\t'numDirLights', 'numPointLights', 'numSpotLights', 'numHemiLights', 'numRectAreaLights',\n\t\t'numDirLightShadows', 'numPointLightShadows', 'numSpotLightShadows',\n\t\t'shadowMapEnabled', 'shadowMapType', 'toneMapping', 'physicallyCorrectLights',\n\t\t'alphaTest', 'doubleSided', 'flipSided', 'numClippingPlanes', 'numClipIntersection', 'depthPacking', 'dithering',\n\t\t'sheen', 'transmissionMap'\n\t];\n\n\tfunction getMaxBones( object ) {\n\n\t\tconst skeleton = object.skeleton;\n\t\tconst bones = skeleton.bones;\n\n\t\tif ( floatVertexTextures ) {\n\n\t\t\treturn 1024;\n\n\t\t} else {\n\n\t\t\t// default for when object is not specified\n\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\n\t\t\t//\n\t\t\t//  - leave some extra space for other uniforms\n\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\n\t\t\t//    (up to 54 should be safe)\n\n\t\t\tconst nVertexUniforms = maxVertexUniforms;\n\t\t\tconst nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\n\n\t\t\tconst maxBones = Math.min( nVertexMatrices, bones.length );\n\n\t\t\tif ( maxBones < bones.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.' );\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\treturn maxBones;\n\n\t\t}\n\n\t}\n\n\tfunction getTextureEncodingFromMap( map ) {\n\n\t\tlet encoding;\n\n\t\tif ( map && map.isTexture ) {\n\n\t\t\tencoding = map.encoding;\n\n\t\t} else if ( map && map.isWebGLRenderTarget ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLPrograms.getTextureEncodingFromMap: don\\'t use render targets as textures. Use their .texture property instead.' );\n\t\t\tencoding = map.texture.encoding;\n\n\t\t} else {\n\n\t\t\tencoding = LinearEncoding;\n\n\t\t}\n\n\t\treturn encoding;\n\n\t}\n\n\tfunction getParameters( material, lights, shadows, scene, object ) {\n\n\t\tconst fog = scene.fog;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\n\t\tconst envMap = cubemaps.get( material.envMap || environment );\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tconst maxBones = object.isSkinnedMesh ? getMaxBones( object ) : 0;\n\n\t\tif ( material.precision !== null ) {\n\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\n\t\t\tif ( precision !== material.precision ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet vertexShader, fragmentShader;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\n\t\t\tvertexShader = shader.vertexShader;\n\t\t\tfragmentShader = shader.fragmentShader;\n\n\t\t} else {\n\n\t\t\tvertexShader = material.vertexShader;\n\t\t\tfragmentShader = material.fragmentShader;\n\n\t\t}\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tconst parameters = {\n\n\t\t\tisWebGL2: isWebGL2,\n\n\t\t\tshaderID: shaderID,\n\t\t\tshaderName: material.type,\n\n\t\t\tvertexShader: vertexShader,\n\t\t\tfragmentShader: fragmentShader,\n\t\t\tdefines: material.defines,\n\n\t\t\tisRawShaderMaterial: material.isRawShaderMaterial === true,\n\t\t\tglslVersion: material.glslVersion,\n\n\t\t\tprecision: precision,\n\n\t\t\tinstancing: object.isInstancedMesh === true,\n\t\t\tinstancingColor: object.isInstancedMesh === true && object.instanceColor !== null,\n\n\t\t\tsupportsVertexTextures: vertexTextures,\n\t\t\toutputEncoding: ( currentRenderTarget !== null ) ? getTextureEncodingFromMap( currentRenderTarget.texture ) : renderer.outputEncoding,\n\t\t\tmap: !! material.map,\n\t\t\tmapEncoding: getTextureEncodingFromMap( material.map ),\n\t\t\tmatcap: !! material.matcap,\n\t\t\tmatcapEncoding: getTextureEncodingFromMap( material.matcap ),\n\t\t\tenvMap: !! envMap,\n\t\t\tenvMapMode: envMap && envMap.mapping,\n\t\t\tenvMapEncoding: getTextureEncodingFromMap( envMap ),\n\t\t\tenvMapCubeUV: ( !! envMap ) && ( ( envMap.mapping === CubeUVReflectionMapping ) || ( envMap.mapping === CubeUVRefractionMapping ) ),\n\t\t\tlightMap: !! material.lightMap,\n\t\t\tlightMapEncoding: getTextureEncodingFromMap( material.lightMap ),\n\t\t\taoMap: !! material.aoMap,\n\t\t\temissiveMap: !! material.emissiveMap,\n\t\t\temissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap ),\n\t\t\tbumpMap: !! material.bumpMap,\n\t\t\tnormalMap: !! material.normalMap,\n\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n\t\t\ttangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\n\t\t\tclearcoatMap: !! material.clearcoatMap,\n\t\t\tclearcoatRoughnessMap: !! material.clearcoatRoughnessMap,\n\t\t\tclearcoatNormalMap: !! material.clearcoatNormalMap,\n\t\t\tdisplacementMap: !! material.displacementMap,\n\t\t\troughnessMap: !! material.roughnessMap,\n\t\t\tmetalnessMap: !! material.metalnessMap,\n\t\t\tspecularMap: !! material.specularMap,\n\t\t\talphaMap: !! material.alphaMap,\n\n\t\t\tgradientMap: !! material.gradientMap,\n\n\t\t\tsheen: !! material.sheen,\n\n\t\t\ttransmissionMap: !! material.transmissionMap,\n\n\t\t\tcombine: material.combine,\n\n\t\t\tvertexTangents: ( material.normalMap && material.vertexTangents ),\n\t\t\tvertexColors: material.vertexColors,\n\t\t\tvertexAlphas: material.vertexColors === true && object.geometry && object.geometry.attributes.color && object.geometry.attributes.color.itemSize === 4,\n\t\t\tvertexUvs: !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatMap || !! material.clearcoatRoughnessMap || !! material.clearcoatNormalMap || !! material.displacementMap || !! material.transmissionMap,\n\t\t\tuvsVertexOnly: ! ( !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatNormalMap || !! material.transmissionMap ) && !! material.displacementMap,\n\n\t\t\tfog: !! fog,\n\t\t\tuseFog: material.fog,\n\t\t\tfogExp2: ( fog && fog.isFogExp2 ),\n\n\t\t\tflatShading: !! material.flatShading,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\t\tskinning: material.skinning && maxBones > 0,\n\t\t\tmaxBones: maxBones,\n\t\t\tuseVertexTexture: floatVertexTextures,\n\n\t\t\tmorphTargets: material.morphTargets,\n\t\t\tmorphNormals: material.morphNormals,\n\n\t\t\tnumDirLights: lights.directional.length,\n\t\t\tnumPointLights: lights.point.length,\n\t\t\tnumSpotLights: lights.spot.length,\n\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\tnumHemiLights: lights.hemi.length,\n\n\t\t\tnumDirLightShadows: lights.directionalShadowMap.length,\n\t\t\tnumPointLightShadows: lights.pointShadowMap.length,\n\t\t\tnumSpotLightShadows: lights.spotShadowMap.length,\n\n\t\t\tnumClippingPlanes: clipping.numPlanes,\n\t\t\tnumClipIntersection: clipping.numIntersection,\n\n\t\t\tdithering: material.dithering,\n\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\n\t\t\tshadowMapType: renderer.shadowMap.type,\n\n\t\t\ttoneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\n\t\t\talphaTest: material.alphaTest,\n\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\tflipSided: material.side === BackSide,\n\n\t\t\tdepthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false,\n\n\t\t\tindex0AttributeName: material.index0AttributeName,\n\n\t\t\textensionDerivatives: material.extensions && material.extensions.derivatives,\n\t\t\textensionFragDepth: material.extensions && material.extensions.fragDepth,\n\t\t\textensionDrawBuffers: material.extensions && material.extensions.drawBuffers,\n\t\t\textensionShaderTextureLOD: material.extensions && material.extensions.shaderTextureLOD,\n\n\t\t\trendererExtensionFragDepth: isWebGL2 || extensions.has( 'EXT_frag_depth' ),\n\t\t\trendererExtensionDrawBuffers: isWebGL2 || extensions.has( 'WEBGL_draw_buffers' ),\n\t\t\trendererExtensionShaderTextureLod: isWebGL2 || extensions.has( 'EXT_shader_texture_lod' ),\n\n\t\t\tcustomProgramCacheKey: material.customProgramCacheKey()\n\n\t\t};\n\n\t\treturn parameters;\n\n\t}\n\n\tfunction getProgramCacheKey( parameters ) {\n\n\t\tconst array = [];\n\n\t\tif ( parameters.shaderID ) {\n\n\t\t\tarray.push( parameters.shaderID );\n\n\t\t} else {\n\n\t\t\tarray.push( parameters.fragmentShader );\n\t\t\tarray.push( parameters.vertexShader );\n\n\t\t}\n\n\t\tif ( parameters.defines !== undefined ) {\n\n\t\t\tfor ( const name in parameters.defines ) {\n\n\t\t\t\tarray.push( name );\n\t\t\t\tarray.push( parameters.defines[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( parameters.isRawShaderMaterial === false ) {\n\n\t\t\tfor ( let i = 0; i < parameterNames.length; i ++ ) {\n\n\t\t\t\tarray.push( parameters[ parameterNames[ i ] ] );\n\n\t\t\t}\n\n\t\t\tarray.push( renderer.outputEncoding );\n\t\t\tarray.push( renderer.gammaFactor );\n\n\t\t}\n\n\t\tarray.push( parameters.customProgramCacheKey );\n\n\t\treturn array.join();\n\n\t}\n\n\tfunction getUniforms( material ) {\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\t\tlet uniforms;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\t\t\tuniforms = UniformsUtils.clone( shader.uniforms );\n\n\t\t} else {\n\n\t\t\tuniforms = material.uniforms;\n\n\t\t}\n\n\t\treturn uniforms;\n\n\t}\n\n\tfunction acquireProgram( parameters, cacheKey ) {\n\n\t\tlet program;\n\n\t\t// Check if code has been already compiled\n\t\tfor ( let p = 0, pl = programs.length; p < pl; p ++ ) {\n\n\t\t\tconst preexistingProgram = programs[ p ];\n\n\t\t\tif ( preexistingProgram.cacheKey === cacheKey ) {\n\n\t\t\t\tprogram = preexistingProgram;\n\t\t\t\t++ program.usedTimes;\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( program === undefined ) {\n\n\t\t\tprogram = new WebGLProgram( renderer, cacheKey, parameters, bindingStates );\n\t\t\tprograms.push( program );\n\n\t\t}\n\n\t\treturn program;\n\n\t}\n\n\tfunction releaseProgram( program ) {\n\n\t\tif ( -- program.usedTimes === 0 ) {\n\n\t\t\t// Remove from unordered set\n\t\t\tconst i = programs.indexOf( program );\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\tprograms.pop();\n\n\t\t\t// Free WebGL resources\n\t\t\tprogram.destroy();\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tgetParameters: getParameters,\n\t\tgetProgramCacheKey: getProgramCacheKey,\n\t\tgetUniforms: getUniforms,\n\t\tacquireProgram: acquireProgram,\n\t\treleaseProgram: releaseProgram,\n\t\t// Exposed for resource monitoring & error feedback via renderer.info:\n\t\tprograms: programs\n\t};\n\n}\n\nfunction WebGLProperties() {\n\n\tlet properties = new WeakMap();\n\n\tfunction get( object ) {\n\n\t\tlet map = properties.get( object );\n\n\t\tif ( map === undefined ) {\n\n\t\t\tmap = {};\n\t\t\tproperties.set( object, map );\n\n\t\t}\n\n\t\treturn map;\n\n\t}\n\n\tfunction remove( object ) {\n\n\t\tproperties.delete( object );\n\n\t}\n\n\tfunction update( object, key, value ) {\n\n\t\tproperties.get( object )[ key ] = value;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tproperties = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.program !== b.program ) {\n\n\t\treturn a.program.id - b.program.id;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\n\nfunction WebGLRenderList( properties ) {\n\n\tconst renderItems = [];\n\tlet renderItemsIndex = 0;\n\n\tconst opaque = [];\n\tconst transparent = [];\n\n\tconst defaultProgram = { id: - 1 };\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\n\n\t\tlet renderItem = renderItems[ renderItemsIndex ];\n\t\tconst materialProperties = properties.get( material );\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tprogram: materialProperties.program || defaultProgram,\n\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.program = materialProperties.program || defaultProgram;\n\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\trenderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).push( renderItem );\n\n\t}\n\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).unshift( renderItem );\n\n\t}\n\n\tfunction sort( customOpaqueSort, customTransparentSort ) {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( customOpaqueSort || painterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( customTransparentSort || reversePainterSortStable );\n\n\t}\n\n\tfunction finish() {\n\n\t\t// Clear references from inactive renderItems in the list\n\n\t\tfor ( let i = renderItemsIndex, il = renderItems.length; i < il; i ++ ) {\n\n\t\t\tconst renderItem = renderItems[ i ];\n\n\t\t\tif ( renderItem.id === null ) break;\n\n\t\t\trenderItem.id = null;\n\t\t\trenderItem.object = null;\n\t\t\trenderItem.geometry = null;\n\t\t\trenderItem.material = null;\n\t\t\trenderItem.program = null;\n\t\t\trenderItem.group = null;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\topaque: opaque,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\t\tunshift: unshift,\n\t\tfinish: finish,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists( properties ) {\n\n\tlet lists = new WeakMap();\n\n\tfunction get( scene, renderCallDepth ) {\n\n\t\tlet list;\n\n\t\tif ( lists.has( scene ) === false ) {\n\n\t\t\tlist = new WebGLRenderList( properties );\n\t\t\tlists.set( scene, [ list ] );\n\n\t\t} else {\n\n\t\t\tif ( renderCallDepth >= lists.get( scene ).length ) {\n\n\t\t\t\tlist = new WebGLRenderList( properties );\n\t\t\t\tlists.get( scene ).push( list );\n\n\t\t\t} else {\n\n\t\t\t\tlist = lists.get( scene )[ renderCallDepth ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction UniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\nfunction ShadowUniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\n\n\nlet nextVersion = 0;\n\nfunction shadowCastingLightsFirst( lightA, lightB ) {\n\n\treturn ( lightB.castShadow ? 1 : 0 ) - ( lightA.castShadow ? 1 : 0 );\n\n}\n\nfunction WebGLLights( extensions, capabilities ) {\n\n\tconst cache = new UniformsCache();\n\n\tconst shadowCache = ShadowUniformsCache();\n\n\tconst state = {\n\n\t\tversion: 0,\n\n\t\thash: {\n\t\t\tdirectionalLength: - 1,\n\t\t\tpointLength: - 1,\n\t\t\tspotLength: - 1,\n\t\t\trectAreaLength: - 1,\n\t\t\themiLength: - 1,\n\n\t\t\tnumDirectionalShadows: - 1,\n\t\t\tnumPointShadows: - 1,\n\t\t\tnumSpotShadows: - 1\n\t\t},\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tprobe: [],\n\t\tdirectional: [],\n\t\tdirectionalShadow: [],\n\t\tdirectionalShadowMap: [],\n\t\tdirectionalShadowMatrix: [],\n\t\tspot: [],\n\t\tspotShadow: [],\n\t\tspotShadowMap: [],\n\t\tspotShadowMatrix: [],\n\t\trectArea: [],\n\t\trectAreaLTC1: null,\n\t\trectAreaLTC2: null,\n\t\tpoint: [],\n\t\tpointShadow: [],\n\t\tpointShadowMap: [],\n\t\tpointShadowMatrix: [],\n\t\themi: []\n\n\t};\n\n\tfor ( let i = 0; i < 9; i ++ ) state.probe.push( new Vector3() );\n\n\tconst vector3 = new Vector3();\n\tconst matrix4 = new Matrix4();\n\tconst matrix42 = new Matrix4();\n\n\tfunction setup( lights ) {\n\n\t\tlet r = 0, g = 0, b = 0;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) state.probe[ i ].set( 0, 0, 0 );\n\n\t\tlet directionalLength = 0;\n\t\tlet pointLength = 0;\n\t\tlet spotLength = 0;\n\t\tlet rectAreaLength = 0;\n\t\tlet hemiLength = 0;\n\n\t\tlet numDirectionalShadows = 0;\n\t\tlet numPointShadows = 0;\n\t\tlet numSpotShadows = 0;\n\n\t\tlights.sort( shadowCastingLightsFirst );\n\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\n\t\t\tconst color = light.color;\n\t\t\tconst intensity = light.intensity;\n\t\t\tconst distance = light.distance;\n\n\t\t\tconst shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n\t\t\tif ( light.isAmbientLight ) {\n\n\t\t\t\tr += color.r * intensity;\n\t\t\t\tg += color.g * intensity;\n\t\t\t\tb += color.b * intensity;\n\n\t\t\t} else if ( light.isLightProbe ) {\n\n\t\t\t\tfor ( let j = 0; j < 9; j ++ ) {\n\n\t\t\t\t\tstate.probe[ j ].addScaledVector( light.sh.coefficients[ j ], intensity );\n\n\t\t\t\t}\n\n\t\t\t} else if ( light.isDirectionalLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.directionalShadow[ directionalLength ] = shadowUniforms;\n\t\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\n\t\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumDirectionalShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.distance = distance;\n\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.spotShadow[ spotLength ] = shadowUniforms;\n\t\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\n\t\t\t\t\tstate.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumSpotShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\t// (a) intensity is the total visible light emitted\n\t\t\t\t//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\n\t\t\t\t// (b) intensity is the brightness of the light\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\tshadowUniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\tshadowUniforms.shadowCameraFar = shadow.camera.far;\n\n\t\t\t\t\tstate.pointShadow[ pointLength ] = shadowUniforms;\n\t\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\n\t\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumPointShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.point[ pointLength ] = uniforms;\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity );\n\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( rectAreaLength > 0 ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\t// WebGL 2\n\n\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t} else {\n\n\t\t\t\t// WebGL 1\n\n\t\t\t\tif ( extensions.has( 'OES_texture_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t\t} else if ( extensions.has( 'OES_texture_half_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_HALF_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_HALF_2;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.ambient[ 0 ] = r;\n\t\tstate.ambient[ 1 ] = g;\n\t\tstate.ambient[ 2 ] = b;\n\n\t\tconst hash = state.hash;\n\n\t\tif ( hash.directionalLength !== directionalLength ||\n\t\t\thash.pointLength !== pointLength ||\n\t\t\thash.spotLength !== spotLength ||\n\t\t\thash.rectAreaLength !== rectAreaLength ||\n\t\t\thash.hemiLength !== hemiLength ||\n\t\t\thash.numDirectionalShadows !== numDirectionalShadows ||\n\t\t\thash.numPointShadows !== numPointShadows ||\n\t\t\thash.numSpotShadows !== numSpotShadows ) {\n\n\t\t\tstate.directional.length = directionalLength;\n\t\t\tstate.spot.length = spotLength;\n\t\t\tstate.rectArea.length = rectAreaLength;\n\t\t\tstate.point.length = pointLength;\n\t\t\tstate.hemi.length = hemiLength;\n\n\t\t\tstate.directionalShadow.length = numDirectionalShadows;\n\t\t\tstate.directionalShadowMap.length = numDirectionalShadows;\n\t\t\tstate.pointShadow.length = numPointShadows;\n\t\t\tstate.pointShadowMap.length = numPointShadows;\n\t\t\tstate.spotShadow.length = numSpotShadows;\n\t\t\tstate.spotShadowMap.length = numSpotShadows;\n\t\t\tstate.directionalShadowMatrix.length = numDirectionalShadows;\n\t\t\tstate.pointShadowMatrix.length = numPointShadows;\n\t\t\tstate.spotShadowMatrix.length = numSpotShadows;\n\n\t\t\thash.directionalLength = directionalLength;\n\t\t\thash.pointLength = pointLength;\n\t\t\thash.spotLength = spotLength;\n\t\t\thash.rectAreaLength = rectAreaLength;\n\t\t\thash.hemiLength = hemiLength;\n\n\t\t\thash.numDirectionalShadows = numDirectionalShadows;\n\t\t\thash.numPointShadows = numPointShadows;\n\t\t\thash.numSpotShadows = numSpotShadows;\n\n\t\t\tstate.version = nextVersion ++;\n\n\t\t}\n\n\t}\n\n\tfunction setupView( lights, camera ) {\n\n\t\tlet directionalLength = 0;\n\t\tlet pointLength = 0;\n\t\tlet spotLength = 0;\n\t\tlet rectAreaLength = 0;\n\t\tlet hemiLength = 0;\n\n\t\tconst viewMatrix = camera.matrixWorldInverse;\n\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\n\t\t\tif ( light.isDirectionalLight ) {\n\n\t\t\t\tconst uniforms = state.directional[ directionalLength ];\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tconst uniforms = state.spot[ spotLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tconst uniforms = state.rectArea[ rectAreaLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\n\t\t\t\tmatrix42.identity();\n\t\t\t\tmatrix4.copy( light.matrixWorld );\n\t\t\t\tmatrix4.premultiply( viewMatrix );\n\t\t\t\tmatrix42.extractRotation( matrix4 );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tconst uniforms = state.point[ pointLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tconst uniforms = state.hemi[ hemiLength ];\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\t\t\t\tuniforms.direction.normalize();\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tsetup: setup,\n\t\tsetupView: setupView,\n\t\tstate: state\n\t};\n\n}\n\nfunction WebGLRenderState( extensions, capabilities ) {\n\n\tconst lights = new WebGLLights( extensions, capabilities );\n\n\tconst lightsArray = [];\n\tconst shadowsArray = [];\n\n\tfunction init() {\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t}\n\n\tfunction pushLight( light ) {\n\n\t\tlightsArray.push( light );\n\n\t}\n\n\tfunction pushShadow( shadowLight ) {\n\n\t\tshadowsArray.push( shadowLight );\n\n\t}\n\n\tfunction setupLights() {\n\n\t\tlights.setup( lightsArray );\n\n\t}\n\n\tfunction setupLightsView( camera ) {\n\n\t\tlights.setupView( lightsArray, camera );\n\n\t}\n\n\tconst state = {\n\t\tlightsArray: lightsArray,\n\t\tshadowsArray: shadowsArray,\n\n\t\tlights: lights\n\t};\n\n\treturn {\n\t\tinit: init,\n\t\tstate: state,\n\t\tsetupLights: setupLights,\n\t\tsetupLightsView: setupLightsView,\n\n\t\tpushLight: pushLight,\n\t\tpushShadow: pushShadow\n\t};\n\n}\n\nfunction WebGLRenderStates( extensions, capabilities ) {\n\n\tlet renderStates = new WeakMap();\n\n\tfunction get( scene, renderCallDepth = 0 ) {\n\n\t\tlet renderState;\n\n\t\tif ( renderStates.has( scene ) === false ) {\n\n\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\trenderStates.set( scene, [ renderState ] );\n\n\t\t} else {\n\n\t\t\tif ( renderCallDepth >= renderStates.get( scene ).length ) {\n\n\t\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\t\trenderStates.get( scene ).push( renderState );\n\n\t\t\t} else {\n\n\t\t\t\trenderState = renderStates.get( scene )[ renderCallDepth ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn renderState;\n\n\t}\n\n\tfunction dispose() {\n\n\t\trenderStates = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * parameters = {\n *\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\n\nclass MeshDepthMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshDepthMaterial';\n\n\t\tthis.depthPacking = BasicDepthPacking;\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.fog = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.depthPacking = source.depthPacking;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\n/**\n * parameters = {\n *\n *  referencePosition: <float>,\n *  nearDistance: <float>,\n *  farDistance: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>\n *\n * }\n */\n\nclass MeshDistanceMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshDistanceMaterial';\n\n\t\tthis.referencePosition = new Vector3();\n\t\tthis.nearDistance = 1;\n\t\tthis.farDistance = 1000;\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.fog = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.referencePosition.copy( source.referencePosition );\n\t\tthis.nearDistance = source.nearDistance;\n\t\tthis.farDistance = source.farDistance;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\nvar vsm_frag = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n\\tfloat mean = 0.0;\\n\\tfloat squared_mean = 0.0;\\n\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\\n\\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\\n\\t\\t#ifdef HORIZONTAL_PASS\\n\\t\\t\\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\\n\\t\\t\\tmean += distribution.x;\\n\\t\\t\\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n\\t\\t#else\\n\\t\\t\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\\n\\t\\t\\tmean += depth;\\n\\t\\t\\tsquared_mean += depth * depth;\\n\\t\\t#endif\\n\\t}\\n\\tmean = mean * HALF_SAMPLE_RATE;\\n\\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\\n\\tfloat std_dev = sqrt( squared_mean - mean * mean );\\n\\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\n\nvar vsm_vert = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\n\nfunction WebGLShadowMap( _renderer, _objects, _capabilities ) {\n\n\tlet _frustum = new Frustum();\n\n\tconst _shadowMapSize = new Vector2(),\n\t\t_viewportSize = new Vector2(),\n\n\t\t_viewport = new Vector4(),\n\n\t\t_depthMaterials = [],\n\t\t_distanceMaterials = [],\n\n\t\t_materialCache = {},\n\n\t\t_maxTextureSize = _capabilities.maxTextureSize;\n\n\tconst shadowSide = { 0: BackSide, 1: FrontSide, 2: DoubleSide };\n\n\tconst shadowMaterialVertical = new ShaderMaterial( {\n\n\t\tdefines: {\n\t\t\tSAMPLE_RATE: 2.0 / 8.0,\n\t\t\tHALF_SAMPLE_RATE: 1.0 / 8.0\n\t\t},\n\n\t\tuniforms: {\n\t\t\tshadow_pass: { value: null },\n\t\t\tresolution: { value: new Vector2() },\n\t\t\tradius: { value: 4.0 }\n\t\t},\n\n\t\tvertexShader: vsm_vert,\n\n\t\tfragmentShader: vsm_frag\n\n\t} );\n\n\tconst shadowMaterialHorizontal = shadowMaterialVertical.clone();\n\tshadowMaterialHorizontal.defines.HORIZONTAL_PASS = 1;\n\n\tconst fullScreenTri = new BufferGeometry();\n\tfullScreenTri.setAttribute(\n\t\t'position',\n\t\tnew BufferAttribute(\n\t\t\tnew Float32Array( [ - 1, - 1, 0.5, 3, - 1, 0.5, - 1, 3, 0.5 ] ),\n\t\t\t3\n\t\t)\n\t);\n\n\tconst fullScreenMesh = new Mesh( fullScreenTri, shadowMaterialVertical );\n\n\tconst scope = this;\n\n\tthis.enabled = false;\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis.type = PCFShadowMap;\n\n\tthis.render = function ( lights, scene, camera ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\n\t\tif ( lights.length === 0 ) return;\n\n\t\tconst currentRenderTarget = _renderer.getRenderTarget();\n\t\tconst activeCubeFace = _renderer.getActiveCubeFace();\n\t\tconst activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n\t\tconst _state = _renderer.state;\n\n\t\t// Set GL state for depth map.\n\t\t_state.setBlending( NoBlending );\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\n\t\t_state.buffers.depth.setTest( true );\n\t\t_state.setScissorTest( false );\n\n\t\t// render depth map\n\n\t\tfor ( let i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\t\t\tconst shadow = light.shadow;\n\n\t\t\tif ( shadow === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( shadow.autoUpdate === false && shadow.needsUpdate === false ) continue;\n\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\n\n\t\t\tconst shadowFrameExtents = shadow.getFrameExtents();\n\n\t\t\t_shadowMapSize.multiply( shadowFrameExtents );\n\n\t\t\t_viewportSize.copy( shadow.mapSize );\n\n\t\t\tif ( _shadowMapSize.x > _maxTextureSize || _shadowMapSize.y > _maxTextureSize ) {\n\n\t\t\t\tif ( _shadowMapSize.x > _maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.x = Math.floor( _maxTextureSize / shadowFrameExtents.x );\n\t\t\t\t\t_shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n\t\t\t\t\tshadow.mapSize.x = _viewportSize.x;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _shadowMapSize.y > _maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.y = Math.floor( _maxTextureSize / shadowFrameExtents.y );\n\t\t\t\t\t_shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n\t\t\t\t\tshadow.mapSize.y = _viewportSize.y;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null && ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tconst pars = { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + '.shadowMap';\n\n\t\t\t\tshadow.mapPass = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null ) {\n\n\t\t\t\tconst pars = { minFilter: NearestFilter, magFilter: NearestFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + '.shadowMap';\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\t_renderer.setRenderTarget( shadow.map );\n\t\t\t_renderer.clear();\n\n\t\t\tconst viewportCount = shadow.getViewportCount();\n\n\t\t\tfor ( let vp = 0; vp < viewportCount; vp ++ ) {\n\n\t\t\t\tconst viewport = shadow.getViewport( vp );\n\n\t\t\t\t_viewport.set(\n\t\t\t\t\t_viewportSize.x * viewport.x,\n\t\t\t\t\t_viewportSize.y * viewport.y,\n\t\t\t\t\t_viewportSize.x * viewport.z,\n\t\t\t\t\t_viewportSize.y * viewport.w\n\t\t\t\t);\n\n\t\t\t\t_state.viewport( _viewport );\n\n\t\t\t\tshadow.updateMatrices( light, vp );\n\n\t\t\t\t_frustum = shadow.getFrustum();\n\n\t\t\t\trenderObject( scene, camera, shadow.camera, light, this.type );\n\n\t\t\t}\n\n\t\t\t// do blur pass for VSM\n\n\t\t\tif ( ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tVSMPass( shadow, camera );\n\n\t\t\t}\n\n\t\t\tshadow.needsUpdate = false;\n\n\t\t}\n\n\t\tscope.needsUpdate = false;\n\n\t\t_renderer.setRenderTarget( currentRenderTarget, activeCubeFace, activeMipmapLevel );\n\n\t};\n\n\tfunction VSMPass( shadow, camera ) {\n\n\t\tconst geometry = _objects.update( fullScreenMesh );\n\n\t\t// vertical pass\n\n\t\tshadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n\t\tshadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialVertical.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.mapPass );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null );\n\n\t\t// horizontal pass\n\n\t\tshadowMaterialHorizontal.uniforms.shadow_pass.value = shadow.mapPass.texture;\n\t\tshadowMaterialHorizontal.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialHorizontal.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.map );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialHorizontal, fullScreenMesh, null );\n\n\t}\n\n\tfunction getDepthMaterialVariant( useMorphing, useSkinning, useInstancing ) {\n\n\t\tconst index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n\t\tlet material = _depthMaterials[ index ];\n\n\t\tif ( material === undefined ) {\n\n\t\t\tmaterial = new MeshDepthMaterial( {\n\n\t\t\t\tdepthPacking: RGBADepthPacking,\n\n\t\t\t\tmorphTargets: useMorphing,\n\t\t\t\tskinning: useSkinning\n\n\t\t\t} );\n\n\t\t\t_depthMaterials[ index ] = material;\n\n\t\t}\n\n\t\treturn material;\n\n\t}\n\n\tfunction getDistanceMaterialVariant( useMorphing, useSkinning, useInstancing ) {\n\n\t\tconst index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n\t\tlet material = _distanceMaterials[ index ];\n\n\t\tif ( material === undefined ) {\n\n\t\t\tmaterial = new MeshDistanceMaterial( {\n\n\t\t\t\tmorphTargets: useMorphing,\n\t\t\t\tskinning: useSkinning\n\n\t\t\t} );\n\n\t\t\t_distanceMaterials[ index ] = material;\n\n\t\t}\n\n\t\treturn material;\n\n\t}\n\n\tfunction getDepthMaterial( object, geometry, material, light, shadowCameraNear, shadowCameraFar, type ) {\n\n\t\tlet result = null;\n\n\t\tlet getMaterialVariant = getDepthMaterialVariant;\n\t\tlet customMaterial = object.customDepthMaterial;\n\n\t\tif ( light.isPointLight === true ) {\n\n\t\t\tgetMaterialVariant = getDistanceMaterialVariant;\n\t\t\tcustomMaterial = object.customDistanceMaterial;\n\n\t\t}\n\n\t\tif ( customMaterial === undefined ) {\n\n\t\t\tlet useMorphing = false;\n\n\t\t\tif ( material.morphTargets === true ) {\n\n\t\t\t\tuseMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n\n\t\t\t}\n\n\t\t\tlet useSkinning = false;\n\n\t\t\tif ( object.isSkinnedMesh === true ) {\n\n\t\t\t\tif ( material.skinning === true ) {\n\n\t\t\t\t\tuseSkinning = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst useInstancing = object.isInstancedMesh === true;\n\n\t\t\tresult = getMaterialVariant( useMorphing, useSkinning, useInstancing );\n\n\t\t} else {\n\n\t\t\tresult = customMaterial;\n\n\t\t}\n\n\t\tif ( _renderer.localClippingEnabled &&\n\t\t\t\tmaterial.clipShadows === true &&\n\t\t\t\tmaterial.clippingPlanes.length !== 0 ) {\n\n\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t// appropriate state\n\n\t\t\tconst keyA = result.uuid, keyB = material.uuid;\n\n\t\t\tlet materialsForVariant = _materialCache[ keyA ];\n\n\t\t\tif ( materialsForVariant === undefined ) {\n\n\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\n\n\t\t\t}\n\n\t\t\tlet cachedMaterial = materialsForVariant[ keyB ];\n\n\t\t\tif ( cachedMaterial === undefined ) {\n\n\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\n\n\t\t\t}\n\n\t\t\tresult = cachedMaterial;\n\n\t\t}\n\n\t\tresult.visible = material.visible;\n\t\tresult.wireframe = material.wireframe;\n\n\t\tif ( type === VSMShadowMap ) {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : material.side;\n\n\t\t} else {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : shadowSide[ material.side ];\n\n\t\t}\n\n\t\tresult.clipShadows = material.clipShadows;\n\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\tresult.clipIntersection = material.clipIntersection;\n\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\tresult.linewidth = material.linewidth;\n\n\t\tif ( light.isPointLight === true && result.isMeshDistanceMaterial === true ) {\n\n\t\t\tresult.referencePosition.setFromMatrixPosition( light.matrixWorld );\n\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\tresult.farDistance = shadowCameraFar;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tfunction renderObject( object, camera, shadowCamera, light, type ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n\t\t\tif ( ( object.castShadow || ( object.receiveShadow && type === VSMShadowMap ) ) && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\tconst geometry = _objects.update( object );\n\t\t\t\tconst material = object.material;\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\tfor ( let k = 0, kl = groups.length; k < kl; k ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ k ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, geometry, groupMaterial, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, geometry, material, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( children[ i ], camera, shadowCamera, light, type );\n\n\t\t}\n\n\t}\n\n}\n\nfunction WebGLState( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction ColorBuffer() {\n\n\t\tlet locked = false;\n\n\t\tconst color = new Vector4();\n\t\tlet currentColorMask = null;\n\t\tconst currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n\t\treturn {\n\n\t\t\tsetMask: function ( colorMask ) {\n\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\n\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\n\t\t\t\t\tcurrentColorMask = colorMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n\t\t\t\tif ( premultipliedAlpha === true ) {\n\n\t\t\t\t\tr *= a; g *= a; b *= a;\n\n\t\t\t\t}\n\n\t\t\t\tcolor.set( r, g, b, a );\n\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\n\n\t\t\t\t\tgl.clearColor( r, g, b, a );\n\t\t\t\t\tcurrentColorClear.copy( color );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentColorMask = null;\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction DepthBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentDepthMask = null;\n\t\tlet currentDepthFunc = null;\n\t\tlet currentDepthClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( depthTest ) {\n\n\t\t\t\tif ( depthTest ) {\n\n\t\t\t\t\tenable( 2929 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( 2929 );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( depthMask ) {\n\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\n\n\t\t\t\t\tgl.depthMask( depthMask );\n\t\t\t\t\tcurrentDepthMask = depthMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( depthFunc ) {\n\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\n\t\t\t\t\tif ( depthFunc ) {\n\n\t\t\t\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 512 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 519 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 513 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 514 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 518 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 516 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 517 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( depth ) {\n\n\t\t\t\tif ( currentDepthClear !== depth ) {\n\n\t\t\t\t\tgl.clearDepth( depth );\n\t\t\t\t\tcurrentDepthClear = depth;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentDepthMask = null;\n\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\tcurrentDepthClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction StencilBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentStencilMask = null;\n\t\tlet currentStencilFunc = null;\n\t\tlet currentStencilRef = null;\n\t\tlet currentStencilFuncMask = null;\n\t\tlet currentStencilFail = null;\n\t\tlet currentStencilZFail = null;\n\t\tlet currentStencilZPass = null;\n\t\tlet currentStencilClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( stencilTest ) {\n\n\t\t\t\tif ( ! locked ) {\n\n\t\t\t\t\tif ( stencilTest ) {\n\n\t\t\t\t\t\tenable( 2960 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdisable( 2960 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( stencilMask ) {\n\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\n\n\t\t\t\t\tgl.stencilMask( stencilMask );\n\t\t\t\t\tcurrentStencilMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\n\t\t\t\t     currentStencilRef !== stencilRef ||\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\n\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\t\t\tif ( currentStencilFail !== stencilFail ||\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\n\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( stencil ) {\n\n\t\t\t\tif ( currentStencilClear !== stencil ) {\n\n\t\t\t\t\tgl.clearStencil( stencil );\n\t\t\t\t\tcurrentStencilClear = stencil;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentStencilMask = null;\n\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\tcurrentStencilRef = null;\n\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\tcurrentStencilFail = null;\n\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\tcurrentStencilClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t//\n\n\tconst colorBuffer = new ColorBuffer();\n\tconst depthBuffer = new DepthBuffer();\n\tconst stencilBuffer = new StencilBuffer();\n\n\tlet enabledCapabilities = {};\n\n\tlet xrFramebuffer = null;\n\tlet currentBoundFramebuffers = {};\n\n\tlet currentProgram = null;\n\n\tlet currentBlendingEnabled = false;\n\tlet currentBlending = null;\n\tlet currentBlendEquation = null;\n\tlet currentBlendSrc = null;\n\tlet currentBlendDst = null;\n\tlet currentBlendEquationAlpha = null;\n\tlet currentBlendSrcAlpha = null;\n\tlet currentBlendDstAlpha = null;\n\tlet currentPremultipledAlpha = false;\n\n\tlet currentFlipSided = null;\n\tlet currentCullFace = null;\n\n\tlet currentLineWidth = null;\n\n\tlet currentPolygonOffsetFactor = null;\n\tlet currentPolygonOffsetUnits = null;\n\n\tconst maxTextures = gl.getParameter( 35661 );\n\n\tlet lineWidthAvailable = false;\n\tlet version = 0;\n\tconst glVersion = gl.getParameter( 7938 );\n\n\tif ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^WebGL (\\d)/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 1.0 );\n\n\t} else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^OpenGL ES (\\d)/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 2.0 );\n\n\t}\n\n\tlet currentTextureSlot = null;\n\tlet currentBoundTextures = {};\n\n\tconst currentScissor = new Vector4( 0, 0, gl.canvas.width, gl.canvas.height );\n\tconst currentViewport = new Vector4( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\tfunction createTexture( type, target, count ) {\n\n\t\tconst data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n\t\tconst texture = gl.createTexture();\n\n\t\tgl.bindTexture( type, texture );\n\t\tgl.texParameteri( type, 10241, 9728 );\n\t\tgl.texParameteri( type, 10240, 9728 );\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tgl.texImage2D( target + i, 0, 6408, 1, 1, 0, 6408, 5121, data );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tconst emptyTextures = {};\n\temptyTextures[ 3553 ] = createTexture( 3553, 3553, 1 );\n\temptyTextures[ 34067 ] = createTexture( 34067, 34069, 6 );\n\n\t// init\n\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\n\tdepthBuffer.setClear( 1 );\n\tstencilBuffer.setClear( 0 );\n\n\tenable( 2929 );\n\tdepthBuffer.setFunc( LessEqualDepth );\n\n\tsetFlipSided( false );\n\tsetCullFace( CullFaceBack );\n\tenable( 2884 );\n\n\tsetBlending( NoBlending );\n\n\t//\n\n\tfunction enable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== true ) {\n\n\t\t\tgl.enable( id );\n\t\t\tenabledCapabilities[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tfunction disable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== false ) {\n\n\t\t\tgl.disable( id );\n\t\t\tenabledCapabilities[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tfunction bindXRFramebuffer( framebuffer ) {\n\n\t\tif ( framebuffer !== xrFramebuffer ) {\n\n\t\t\tgl.bindFramebuffer( 36160, framebuffer );\n\n\t\t\txrFramebuffer = framebuffer;\n\n\t\t}\n\n\t}\n\n\tfunction bindFramebuffer( target, framebuffer ) {\n\n\t\tif ( framebuffer === null && xrFramebuffer !== null ) framebuffer = xrFramebuffer; // use active XR framebuffer if available\n\n\t\tif ( currentBoundFramebuffers[ target ] !== framebuffer ) {\n\n\t\t\tgl.bindFramebuffer( target, framebuffer );\n\n\t\t\tcurrentBoundFramebuffers[ target ] = framebuffer;\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t// 36009 is equivalent to 36160\n\n\t\t\t\tif ( target === 36009 ) {\n\n\t\t\t\t\tcurrentBoundFramebuffers[ 36160 ] = framebuffer;\n\n\t\t\t\t}\n\n\t\t\t\tif ( target === 36160 ) {\n\n\t\t\t\t\tcurrentBoundFramebuffers[ 36009 ] = framebuffer;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction useProgram( program ) {\n\n\t\tif ( currentProgram !== program ) {\n\n\t\t\tgl.useProgram( program );\n\n\t\t\tcurrentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tconst equationToGL = {\n\t\t[ AddEquation ]: 32774,\n\t\t[ SubtractEquation ]: 32778,\n\t\t[ ReverseSubtractEquation ]: 32779\n\t};\n\n\tif ( isWebGL2 ) {\n\n\t\tequationToGL[ MinEquation ] = 32775;\n\t\tequationToGL[ MaxEquation ] = 32776;\n\n\t} else {\n\n\t\tconst extension = extensions.get( 'EXT_blend_minmax' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tequationToGL[ MinEquation ] = extension.MIN_EXT;\n\t\t\tequationToGL[ MaxEquation ] = extension.MAX_EXT;\n\n\t\t}\n\n\t}\n\n\tconst factorToGL = {\n\t\t[ ZeroFactor ]: 0,\n\t\t[ OneFactor ]: 1,\n\t\t[ SrcColorFactor ]: 768,\n\t\t[ SrcAlphaFactor ]: 770,\n\t\t[ SrcAlphaSaturateFactor ]: 776,\n\t\t[ DstColorFactor ]: 774,\n\t\t[ DstAlphaFactor ]: 772,\n\t\t[ OneMinusSrcColorFactor ]: 769,\n\t\t[ OneMinusSrcAlphaFactor ]: 771,\n\t\t[ OneMinusDstColorFactor ]: 775,\n\t\t[ OneMinusDstAlphaFactor ]: 773\n\t};\n\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tif ( blending === NoBlending ) {\n\n\t\t\tif ( currentBlendingEnabled === true ) {\n\n\t\t\t\tdisable( 3042 );\n\t\t\t\tcurrentBlendingEnabled = false;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( currentBlendingEnabled === false ) {\n\n\t\t\tenable( 3042 );\n\t\t\tcurrentBlendingEnabled = true;\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n\t\t\t\tif ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\n\n\t\t\t\t\tgl.blendEquation( 32774 );\n\n\t\t\t\t\tcurrentBlendEquation = AddEquation;\n\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\n\n\t\t\t\t}\n\n\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 1, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 1, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 0, 769, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 768, 0, 770 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 770, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 770, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 769 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 768 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\tcurrentBlendDst = null;\n\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\tcurrentBlendDstAlpha = null;\n\n\t\t\t\tcurrentBlending = blending;\n\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// custom blending\n\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n\t\t\tgl.blendEquationSeparate( equationToGL[ blendEquation ], equationToGL[ blendEquationAlpha ] );\n\n\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t}\n\n\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n\t\t\tgl.blendFuncSeparate( factorToGL[ blendSrc ], factorToGL[ blendDst ], factorToGL[ blendSrcAlpha ], factorToGL[ blendDstAlpha ] );\n\n\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\tcurrentBlendDst = blendDst;\n\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\n\t\t}\n\n\t\tcurrentBlending = blending;\n\t\tcurrentPremultipledAlpha = null;\n\n\t}\n\n\tfunction setMaterial( material, frontFaceCW ) {\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? disable( 2884 )\n\t\t\t: enable( 2884 );\n\n\t\tlet flipSided = ( material.side === BackSide );\n\t\tif ( frontFaceCW ) flipSided = ! flipSided;\n\n\t\tsetFlipSided( flipSided );\n\n\t\t( material.blending === NormalBlending && material.transparent === false )\n\t\t\t? setBlending( NoBlending )\n\t\t\t: setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\n\t\tdepthBuffer.setFunc( material.depthFunc );\n\t\tdepthBuffer.setTest( material.depthTest );\n\t\tdepthBuffer.setMask( material.depthWrite );\n\t\tcolorBuffer.setMask( material.colorWrite );\n\n\t\tconst stencilWrite = material.stencilWrite;\n\t\tstencilBuffer.setTest( stencilWrite );\n\t\tif ( stencilWrite ) {\n\n\t\t\tstencilBuffer.setMask( material.stencilWriteMask );\n\t\t\tstencilBuffer.setFunc( material.stencilFunc, material.stencilRef, material.stencilFuncMask );\n\t\t\tstencilBuffer.setOp( material.stencilFail, material.stencilZFail, material.stencilZPass );\n\n\t\t}\n\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t\tmaterial.alphaToCoverage === true\n\t\t\t? enable( 32926 )\n\t\t\t: disable( 32926 );\n\n\t}\n\n\t//\n\n\tfunction setFlipSided( flipSided ) {\n\n\t\tif ( currentFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( 2304 );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( 2305 );\n\n\t\t\t}\n\n\t\t\tcurrentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tfunction setCullFace( cullFace ) {\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tenable( 2884 );\n\n\t\t\tif ( cullFace !== currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( 1029 );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( 1028 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( 1032 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 2884 );\n\n\t\t}\n\n\t\tcurrentCullFace = cullFace;\n\n\t}\n\n\tfunction setLineWidth( width ) {\n\n\t\tif ( width !== currentLineWidth ) {\n\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\n\n\t\t\tcurrentLineWidth = width;\n\n\t\t}\n\n\t}\n\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tenable( 32823 );\n\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 32823 );\n\n\t\t}\n\n\t}\n\n\tfunction setScissorTest( scissorTest ) {\n\n\t\tif ( scissorTest ) {\n\n\t\t\tenable( 3089 );\n\n\t\t} else {\n\n\t\t\tdisable( 3089 );\n\n\t\t}\n\n\t}\n\n\t// texture\n\n\tfunction activeTexture( webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) webglSlot = 33984 + maxTextures - 1;\n\n\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\tgl.activeTexture( webglSlot );\n\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t}\n\n\t}\n\n\tfunction bindTexture( webglType, webglTexture ) {\n\n\t\tif ( currentTextureSlot === null ) {\n\n\t\t\tactiveTexture();\n\n\t\t}\n\n\t\tlet boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture === undefined ) {\n\n\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\n\n\t\t}\n\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n\t\t\tboundTexture.type = webglType;\n\t\t\tboundTexture.texture = webglTexture;\n\n\t\t}\n\n\t}\n\n\tfunction unbindTexture() {\n\n\t\tconst boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture !== undefined && boundTexture.type !== undefined ) {\n\n\t\t\tgl.bindTexture( boundTexture.type, null );\n\n\t\t\tboundTexture.type = undefined;\n\t\t\tboundTexture.texture = undefined;\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction scissor( scissor ) {\n\n\t\tif ( currentScissor.equals( scissor ) === false ) {\n\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n\t\t\tcurrentScissor.copy( scissor );\n\n\t\t}\n\n\t}\n\n\tfunction viewport( viewport ) {\n\n\t\tif ( currentViewport.equals( viewport ) === false ) {\n\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\t\t\tcurrentViewport.copy( viewport );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction reset() {\n\n\t\t// reset state\n\n\t\tgl.disable( 3042 );\n\t\tgl.disable( 2884 );\n\t\tgl.disable( 2929 );\n\t\tgl.disable( 32823 );\n\t\tgl.disable( 3089 );\n\t\tgl.disable( 2960 );\n\t\tgl.disable( 32926 );\n\n\t\tgl.blendEquation( 32774 );\n\t\tgl.blendFunc( 1, 0 );\n\t\tgl.blendFuncSeparate( 1, 0, 1, 0 );\n\n\t\tgl.colorMask( true, true, true, true );\n\t\tgl.clearColor( 0, 0, 0, 0 );\n\n\t\tgl.depthMask( true );\n\t\tgl.depthFunc( 513 );\n\t\tgl.clearDepth( 1 );\n\n\t\tgl.stencilMask( 0xffffffff );\n\t\tgl.stencilFunc( 519, 0, 0xffffffff );\n\t\tgl.stencilOp( 7680, 7680, 7680 );\n\t\tgl.clearStencil( 0 );\n\n\t\tgl.cullFace( 1029 );\n\t\tgl.frontFace( 2305 );\n\n\t\tgl.polygonOffset( 0, 0 );\n\n\t\tgl.activeTexture( 33984 );\n\n\t\tgl.bindFramebuffer( 36160, null );\n\n\t\tif ( isWebGL2 === true ) {\n\n\t\t\tgl.bindFramebuffer( 36009, null );\n\t\t\tgl.bindFramebuffer( 36008, null );\n\n\t\t}\n\n\t\tgl.useProgram( null );\n\n\t\tgl.lineWidth( 1 );\n\n\t\tgl.scissor( 0, 0, gl.canvas.width, gl.canvas.height );\n\t\tgl.viewport( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\t\t// reset internals\n\n\t\tenabledCapabilities = {};\n\n\t\tcurrentTextureSlot = null;\n\t\tcurrentBoundTextures = {};\n\n\t\txrFramebuffer = null;\n\t\tcurrentBoundFramebuffers = {};\n\n\t\tcurrentProgram = null;\n\n\t\tcurrentBlendingEnabled = false;\n\t\tcurrentBlending = null;\n\t\tcurrentBlendEquation = null;\n\t\tcurrentBlendSrc = null;\n\t\tcurrentBlendDst = null;\n\t\tcurrentBlendEquationAlpha = null;\n\t\tcurrentBlendSrcAlpha = null;\n\t\tcurrentBlendDstAlpha = null;\n\t\tcurrentPremultipledAlpha = false;\n\n\t\tcurrentFlipSided = null;\n\t\tcurrentCullFace = null;\n\n\t\tcurrentLineWidth = null;\n\n\t\tcurrentPolygonOffsetFactor = null;\n\t\tcurrentPolygonOffsetUnits = null;\n\n\t\tcurrentScissor.set( 0, 0, gl.canvas.width, gl.canvas.height );\n\t\tcurrentViewport.set( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\t\tcolorBuffer.reset();\n\t\tdepthBuffer.reset();\n\t\tstencilBuffer.reset();\n\n\t}\n\n\treturn {\n\n\t\tbuffers: {\n\t\t\tcolor: colorBuffer,\n\t\t\tdepth: depthBuffer,\n\t\t\tstencil: stencilBuffer\n\t\t},\n\n\t\tenable: enable,\n\t\tdisable: disable,\n\n\t\tbindFramebuffer: bindFramebuffer,\n\t\tbindXRFramebuffer: bindXRFramebuffer,\n\n\t\tuseProgram: useProgram,\n\n\t\tsetBlending: setBlending,\n\t\tsetMaterial: setMaterial,\n\n\t\tsetFlipSided: setFlipSided,\n\t\tsetCullFace: setCullFace,\n\n\t\tsetLineWidth: setLineWidth,\n\t\tsetPolygonOffset: setPolygonOffset,\n\n\t\tsetScissorTest: setScissorTest,\n\n\t\tactiveTexture: activeTexture,\n\t\tbindTexture: bindTexture,\n\t\tunbindTexture: unbindTexture,\n\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\ttexImage2D: texImage2D,\n\t\ttexImage3D: texImage3D,\n\n\t\tscissor: scissor,\n\t\tviewport: viewport,\n\n\t\treset: reset\n\n\t};\n\n}\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst maxTextures = capabilities.maxTextures;\n\tconst maxCubemapSize = capabilities.maxCubemapSize;\n\tconst maxTextureSize = capabilities.maxTextureSize;\n\tconst maxSamples = capabilities.maxSamples;\n\n\tconst _videoTextures = new WeakMap();\n\tlet _canvas;\n\n\t// cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\n\t// also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\n\t// Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\n\n\tlet useOffscreenCanvas = false;\n\n\ttry {\n\n\t\tuseOffscreenCanvas = typeof OffscreenCanvas !== 'undefined'\n\t\t\t&& ( new OffscreenCanvas( 1, 1 ).getContext( '2d' ) ) !== null;\n\n\t} catch ( err ) {\n\n\t\t// Ignore any errors\n\n\t}\n\n\tfunction createCanvas( width, height ) {\n\n\t\t// Use OffscreenCanvas when available. Specially needed in web workers\n\n\t\treturn useOffscreenCanvas ?\n\t\t\tnew OffscreenCanvas( width, height ) :\n\t\t\tdocument.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t}\n\n\tfunction resizeImage( image, needsPowerOfTwo, needsNewCanvas, maxSize ) {\n\n\t\tlet scale = 1;\n\n\t\t// handle case if texture exceeds max size\n\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\n\t\t\tscale = maxSize / Math.max( image.width, image.height );\n\n\t\t}\n\n\t\t// only perform resize if necessary\n\n\t\tif ( scale < 1 || needsPowerOfTwo === true ) {\n\n\t\t\t// only perform resize for certain image types\n\n\t\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t\t\tconst floor = needsPowerOfTwo ? floorPowerOfTwo : Math.floor;\n\n\t\t\t\tconst width = floor( scale * image.width );\n\t\t\t\tconst height = floor( scale * image.height );\n\n\t\t\t\tif ( _canvas === undefined ) _canvas = createCanvas( width, height );\n\n\t\t\t\t// cube textures can't reuse the same canvas\n\n\t\t\t\tconst canvas = needsNewCanvas ? createCanvas( width, height ) : _canvas;\n\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\n\t\t\t\tconst context = canvas.getContext( '2d' );\n\t\t\t\tcontext.drawImage( image, 0, 0, width, height );\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').' );\n\n\t\t\t\treturn canvas;\n\n\t\t\t} else {\n\n\t\t\t\tif ( 'data' in image ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\n\n\t\t\t\t}\n\n\t\t\t\treturn image;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction isPowerOfTwo$1( image ) {\n\n\t\treturn isPowerOfTwo( image.width ) && isPowerOfTwo( image.height );\n\n\t}\n\n\tfunction textureNeedsPowerOfTwo( texture ) {\n\n\t\tif ( isWebGL2 ) return false;\n\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n\t}\n\n\tfunction textureNeedsGenerateMipmaps( texture, supportsMips ) {\n\n\t\treturn texture.generateMipmaps && supportsMips &&\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t}\n\n\tfunction generateMipmap( target, texture, width, height ) {\n\n\t\t_gl.generateMipmap( target );\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\ttextureProperties.__maxMipLevel = Math.log2( Math.max( width, height ) );\n\n\t}\n\n\tfunction getInternalFormat( internalFormatName, glFormat, glType ) {\n\n\t\tif ( isWebGL2 === false ) return glFormat;\n\n\t\tif ( internalFormatName !== null ) {\n\n\t\t\tif ( _gl[ internalFormatName ] !== undefined ) return _gl[ internalFormatName ];\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'' );\n\n\t\t}\n\n\t\tlet internalFormat = glFormat;\n\n\t\tif ( glFormat === 6403 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 33326;\n\t\t\tif ( glType === 5131 ) internalFormat = 33325;\n\t\t\tif ( glType === 5121 ) internalFormat = 33321;\n\n\t\t}\n\n\t\tif ( glFormat === 6407 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34837;\n\t\t\tif ( glType === 5131 ) internalFormat = 34843;\n\t\t\tif ( glType === 5121 ) internalFormat = 32849;\n\n\t\t}\n\n\t\tif ( glFormat === 6408 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34836;\n\t\t\tif ( glType === 5131 ) internalFormat = 34842;\n\t\t\tif ( glType === 5121 ) internalFormat = 32856;\n\n\t\t}\n\n\t\tif ( internalFormat === 33325 || internalFormat === 33326 ||\n\t\t\tinternalFormat === 34842 || internalFormat === 34836 ) {\n\n\t\t\textensions.get( 'EXT_color_buffer_float' );\n\n\t\t}\n\n\t\treturn internalFormat;\n\n\t}\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback( f ) {\n\n\t\tif ( f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter ) {\n\n\t\t\treturn 9728;\n\n\t\t}\n\n\t\treturn 9729;\n\n\t}\n\n\t//\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\tif ( texture.isVideoTexture ) {\n\n\t\t\t_videoTextures.delete( texture );\n\n\t\t}\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\tfunction onRenderTargetDispose( event ) {\n\n\t\tconst renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\t//\n\n\tfunction deallocateTexture( texture ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( textureProperties.__webglInit === undefined ) return;\n\n\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\tproperties.remove( texture );\n\n\t}\n\n\tfunction deallocateRenderTarget( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( ! renderTarget ) return;\n\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t}\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\trenderTarget.depthTexture.dispose();\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\n\t\t\tif ( renderTargetProperties.__webglMultisampledFramebuffer ) _gl.deleteFramebuffer( renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglColorRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglColorRenderbuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthRenderbuffer );\n\n\t\t}\n\n\t\tproperties.remove( texture );\n\t\tproperties.remove( renderTarget );\n\n\t}\n\n\t//\n\n\tlet textureUnits = 0;\n\n\tfunction resetTextureUnits() {\n\n\t\ttextureUnits = 0;\n\n\t}\n\n\tfunction allocateTextureUnit() {\n\n\t\tconst textureUnit = textureUnits;\n\n\t\tif ( textureUnit >= maxTextures ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures );\n\n\t\t}\n\n\t\ttextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t}\n\n\t//\n\n\tfunction setTexture2D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.isVideoTexture ) updateVideoTexture( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tconst image = texture.image;\n\n\t\t\tif ( image === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined' );\n\n\t\t\t} else if ( image.complete === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\n\n\t\t\t} else {\n\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture2DArray( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 35866, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture3D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 32879, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTextureCube( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadCubeTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t}\n\n\tconst wrappingToGL = {\n\t\t[ RepeatWrapping ]: 10497,\n\t\t[ ClampToEdgeWrapping ]: 33071,\n\t\t[ MirroredRepeatWrapping ]: 33648\n\t};\n\n\tconst filterToGL = {\n\t\t[ NearestFilter ]: 9728,\n\t\t[ NearestMipmapNearestFilter ]: 9984,\n\t\t[ NearestMipmapLinearFilter ]: 9986,\n\n\t\t[ LinearFilter ]: 9729,\n\t\t[ LinearMipmapNearestFilter ]: 9985,\n\t\t[ LinearMipmapLinearFilter ]: 9987\n\t};\n\n\tfunction setTextureParameters( textureType, texture, supportsMips ) {\n\n\t\tif ( supportsMips ) {\n\n\t\t\t_gl.texParameteri( textureType, 10242, wrappingToGL[ texture.wrapS ] );\n\t\t\t_gl.texParameteri( textureType, 10243, wrappingToGL[ texture.wrapT ] );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, wrappingToGL[ texture.wrapR ] );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterToGL[ texture.magFilter ] );\n\t\t\t_gl.texParameteri( textureType, 10241, filterToGL[ texture.minFilter ] );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, 10242, 33071 );\n\t\t\t_gl.texParameteri( textureType, 10243, 33071 );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, 33071 );\n\n\t\t\t}\n\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, 10241, filterFallback( texture.minFilter ) );\n\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( extensions.has( 'EXT_texture_filter_anisotropic' ) === true ) {\n\n\t\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\t\tif ( texture.type === FloatType && extensions.has( 'OES_texture_float_linear' ) === false ) return; // verify extension for WebGL 1 and WebGL 2\n\t\t\tif ( isWebGL2 === false && ( texture.type === HalfFloatType && extensions.has( 'OES_texture_half_float_linear' ) === false ) ) return; // verify extension for WebGL 1 only\n\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction initTexture( textureProperties, texture ) {\n\n\t\tif ( textureProperties.__webglInit === undefined ) {\n\n\t\t\ttextureProperties.__webglInit = true;\n\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\t\tinfo.memory.textures ++;\n\n\t\t}\n\n\t}\n\n\tfunction uploadTexture( textureProperties, texture, slot ) {\n\n\t\tlet textureType = 3553;\n\n\t\tif ( texture.isDataTexture2DArray ) textureType = 35866;\n\t\tif ( texture.isDataTexture3D ) textureType = 32879;\n\n\t\tinitTexture( textureProperties, texture );\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( textureType, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\t\t_gl.pixelStorei( 37443, 0 );\n\n\t\tconst needsPowerOfTwo = textureNeedsPowerOfTwo( texture ) && isPowerOfTwo$1( texture.image ) === false;\n\t\tconst image = resizeImage( texture.image, needsPowerOfTwo, false, maxTextureSize );\n\n\t\tconst supportsMips = isPowerOfTwo$1( image ) || isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format );\n\n\t\tlet glType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tsetTextureParameters( textureType, texture, supportsMips );\n\n\t\tlet mipmap;\n\t\tconst mipmaps = texture.mipmaps;\n\n\t\tif ( texture.isDepthTexture ) {\n\n\t\t\t// populate depth texture with dummy data\n\n\t\t\tglInternalFormat = 6402;\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t} else if ( texture.type === UnsignedIntType ) {\n\n\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t} else if ( texture.type === UnsignedInt248Type ) {\n\n\t\t\t\t\tglInternalFormat = 35056;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tglInternalFormat = 33189; // WebGL2 requires sized internalformat for glTexImage2D\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\tconsole.error( 'WebGLRenderer: Floating point depth texture requires WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// validation checks for WebGL 1\n\n\t\t\tif ( texture.format === DepthFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedShortType;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( texture.format === DepthStencilFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tglInternalFormat = 34041;\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n\t\t} else if ( texture.isDataTexture ) {\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t} else if ( texture.isCompressedTexture ) {\n\n\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\tstate.compressedTexImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else if ( texture.isDataTexture2DArray ) {\n\n\t\t\tstate.texImage3D( 35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else if ( texture.isDataTexture3D ) {\n\n\t\t\tstate.texImage3D( 32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else {\n\n\t\t\t// regular Texture (image, video, canvas)\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, glFormat, glType, mipmap );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, glFormat, glType, image );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tgenerateMipmap( textureType, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\tfunction uploadCubeTexture( textureProperties, texture, slot ) {\n\n\t\tif ( texture.image.length !== 6 ) return;\n\n\t\tinitTexture( textureProperties, texture );\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\t\t_gl.pixelStorei( 37443, 0 );\n\n\t\tconst isCompressed = ( texture && ( texture.isCompressedTexture || texture.image[ 0 ].isCompressedTexture ) );\n\t\tconst isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n\t\tconst cubeImage = [];\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( ! isCompressed && ! isDataTexture ) {\n\n\t\t\t\tcubeImage[ i ] = resizeImage( texture.image[ i ], false, true, maxCubemapSize );\n\n\t\t\t} else {\n\n\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst image = cubeImage[ 0 ],\n\t\t\tsupportsMips = isPowerOfTwo$1( image ) || isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\tglType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\tlet mipmaps;\n\n\t\tif ( isCompressed ) {\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tmipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\t\tstate.compressedTexImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else {\n\n\t\t\tmipmaps = texture.mipmaps;\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tif ( isDataTexture ) {\n\n\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\t\t\t\t\t\tconst mipmapImage = mipmap.image[ i ].image;\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, glFormat, glType, mipmap.image[ i ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length;\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t// We assume images for cube map have the same size.\n\t\t\tgenerateMipmap( 34067, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\t// Render targets\n\n\t// Setup storage for target texture and bind it to correct framebuffer\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, attachment, textureTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst glFormat = utils.convert( texture.format );\n\t\tconst glType = utils.convert( texture.type );\n\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tif ( textureTarget === 32879 || textureTarget === 35866 ) {\n\n\t\t\tstate.texImage3D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, renderTarget.depth, 0, glFormat, glType, null );\n\n\t\t} else {\n\n\t\t\tstate.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, framebuffer );\n\t\t_gl.framebufferTexture2D( 36160, attachment, textureTarget, properties.get( texture ).__webglTexture, 0 );\n\t\tstate.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget, isMultisample ) {\n\n\t\t_gl.bindRenderbuffer( 36161, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\tlet glInternalFormat = 33189;\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst depthTexture = renderTarget.depthTexture;\n\n\t\t\t\tif ( depthTexture && depthTexture.isDepthTexture ) {\n\n\t\t\t\t\tif ( depthTexture.type === FloatType ) {\n\n\t\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t\t} else if ( depthTexture.type === UnsignedIntType ) {\n\n\t\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 36096, 36161, renderbuffer );\n\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 35056, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 34041, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 33306, 36161, renderbuffer );\n\n\t\t} else {\n\n\t\t\tconst texture = renderTarget.texture;\n\n\t\t\tconst glFormat = utils.convert( texture.format );\n\t\t\tconst glType = utils.convert( texture.type );\n\t\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t}\n\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\n\n\t\tconst isCube = ( renderTarget && renderTarget.isWebGLCubeRenderTarget );\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\n\n\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n\t\t}\n\n\t\t// upload an empty depth texture with framebuffer size\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\n\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\n\t\t}\n\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\n\n\t\tconst webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 36096, 3553, webglDepthTexture, 0 );\n\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 33306, 3553, webglDepthTexture, 0 );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\n\n\t\t}\n\n\t}\n\n\t// Setup GL resources for a non-texture depth buffer\n\tfunction setupDepthRenderbuffer( renderTarget ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\n\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n\t\t} else {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget, false );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget, false );\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Set up GL resources for the render target\n\tfunction setupRenderTarget( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( texture );\n\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\t\ttextureProperties.__version = texture.version;\n\n\t\tinfo.memory.textures ++;\n\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\t\tconst isMultisample = ( renderTarget.isWebGLMultisampleRenderTarget === true );\n\t\tconst isRenderTarget3D = texture.isDataTexture3D || texture.isDataTexture2DArray;\n\t\tconst supportsMips = isPowerOfTwo$1( renderTarget ) || isWebGL2;\n\n\t\t// Handles WebGL2 RGBFormat fallback - #18858\n\n\t\tif ( isWebGL2 && texture.format === RGBFormat && ( texture.type === FloatType || texture.type === HalfFloatType ) ) {\n\n\t\t\ttexture.format = RGBAFormat;\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.' );\n\n\t\t}\n\n\t\t// Setup framebuffer\n\n\t\tif ( isCube ) {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();\n\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, renderTargetProperties.__webglColorRenderbuffer );\n\n\t\t\t\t\tconst glFormat = utils.convert( texture.format );\n\t\t\t\t\tconst glType = utils.convert( texture.type );\n\t\t\t\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\t\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer );\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n\t\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, null );\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Setup color buffer\n\n\t\tif ( isCube ) {\n\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, 36064, 34069 + i );\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 34067, texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 34067, null );\n\n\t\t} else {\n\n\t\t\tlet glTextureType = 3553;\n\n\t\t\tif ( isRenderTarget3D ) {\n\n\t\t\t\t// Render targets containing layers, i.e: Texture 3D and 2d arrays\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\tconst isTexture3D = texture.isDataTexture3D;\n\t\t\t\t\tglTextureType = isTexture3D ? 32879 : 35866;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( glTextureType, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( glTextureType, texture, supportsMips );\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, 36064, glTextureType );\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 3553, texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 3553, null );\n\n\t\t}\n\n\t\t// Setup depth and stencil buffers\n\n\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\tfunction updateRenderTargetMipmap( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst supportsMips = isPowerOfTwo$1( renderTarget ) || isWebGL2;\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tconst target = renderTarget.isWebGLCubeRenderTarget ? 34067 : 3553;\n\t\t\tconst webglTexture = properties.get( texture ).__webglTexture;\n\n\t\t\tstate.bindTexture( target, webglTexture );\n\t\t\tgenerateMipmap( target, texture, renderTarget.width, renderTarget.height );\n\t\t\tstate.bindTexture( target, null );\n\n\t\t}\n\n\t}\n\n\tfunction updateMultisampleRenderTarget( renderTarget ) {\n\n\t\tif ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tconst width = renderTarget.width;\n\t\t\t\tconst height = renderTarget.height;\n\t\t\t\tlet mask = 16384;\n\n\t\t\t\tif ( renderTarget.depthBuffer ) mask |= 256;\n\t\t\t\tif ( renderTarget.stencilBuffer ) mask |= 1024;\n\n\t\t\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\t\t\tstate.bindFramebuffer( 36008, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\tstate.bindFramebuffer( 36009, renderTargetProperties.__webglFramebuffer );\n\n\t\t\t\t_gl.blitFramebuffer( 0, 0, width, height, 0, 0, width, height, mask, 9728 );\n\n\t\t\t\tstate.bindFramebuffer( 36008, null );\n\t\t\t\tstate.bindFramebuffer( 36009, renderTargetProperties.__webglMultisampledFramebuffer );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction getRenderTargetSamples( renderTarget ) {\n\n\t\treturn ( isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget ) ?\n\t\t\tMath.min( maxSamples, renderTarget.samples ) : 0;\n\n\t}\n\n\tfunction updateVideoTexture( texture ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\t// Check the last frame we updated the VideoTexture\n\n\t\tif ( _videoTextures.get( texture ) !== frame ) {\n\n\t\t\t_videoTextures.set( texture, frame );\n\t\t\ttexture.update();\n\n\t\t}\n\n\t}\n\n\t// backwards compatibility\n\n\tlet warnedTexture2D = false;\n\tlet warnedTextureCube = false;\n\n\tfunction safeSetTexture2D( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLRenderTarget ) {\n\n\t\t\tif ( warnedTexture2D === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLTextures.safeSetTexture2D: don\\'t use render targets as textures. Use their .texture property instead.' );\n\t\t\t\twarnedTexture2D = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\t\tsetTexture2D( texture, slot );\n\n\t}\n\n\tfunction safeSetTextureCube( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLCubeRenderTarget ) {\n\n\t\t\tif ( warnedTextureCube === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLTextures.safeSetTextureCube: don\\'t use cube render targets as textures. Use their .texture property instead.' );\n\t\t\t\twarnedTextureCube = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\n\t\tsetTextureCube( texture, slot );\n\n\t}\n\n\t//\n\n\tthis.allocateTextureUnit = allocateTextureUnit;\n\tthis.resetTextureUnits = resetTextureUnits;\n\n\tthis.setTexture2D = setTexture2D;\n\tthis.setTexture2DArray = setTexture2DArray;\n\tthis.setTexture3D = setTexture3D;\n\tthis.setTextureCube = setTextureCube;\n\tthis.setupRenderTarget = setupRenderTarget;\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\n\tthis.safeSetTexture2D = safeSetTexture2D;\n\tthis.safeSetTextureCube = safeSetTextureCube;\n\n}\n\nfunction WebGLUtils( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction convert( p ) {\n\n\t\tlet extension;\n\n\t\tif ( p === UnsignedByteType ) return 5121;\n\t\tif ( p === UnsignedShort4444Type ) return 32819;\n\t\tif ( p === UnsignedShort5551Type ) return 32820;\n\t\tif ( p === UnsignedShort565Type ) return 33635;\n\n\t\tif ( p === ByteType ) return 5120;\n\t\tif ( p === ShortType ) return 5122;\n\t\tif ( p === UnsignedShortType ) return 5123;\n\t\tif ( p === IntType ) return 5124;\n\t\tif ( p === UnsignedIntType ) return 5125;\n\t\tif ( p === FloatType ) return 5126;\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\tif ( isWebGL2 ) return 5131;\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.HALF_FLOAT_OES;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) return 6406;\n\t\tif ( p === RGBFormat ) return 6407;\n\t\tif ( p === RGBAFormat ) return 6408;\n\t\tif ( p === LuminanceFormat ) return 6409;\n\t\tif ( p === LuminanceAlphaFormat ) return 6410;\n\t\tif ( p === DepthFormat ) return 6402;\n\t\tif ( p === DepthStencilFormat ) return 34041;\n\t\tif ( p === RedFormat ) return 6403;\n\n\t\t// WebGL2 formats.\n\n\t\tif ( p === RedIntegerFormat ) return 36244;\n\t\tif ( p === RGFormat ) return 33319;\n\t\tif ( p === RGIntegerFormat ) return 33320;\n\t\tif ( p === RGBIntegerFormat ) return 36248;\n\t\tif ( p === RGBAIntegerFormat ) return 36249;\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\n\t\t\tp === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\n\t\t\tp === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_ETC2_Format ) return extension.COMPRESSED_RGB8_ETC2;\n\t\t\t\tif ( p === RGBA_ETC2_EAC_Format ) return extension.COMPRESSED_RGBA8_ETC2_EAC;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_4x4_Format || p === SRGB8_ALPHA8_ASTC_5x4_Format || p === SRGB8_ALPHA8_ASTC_5x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_6x5_Format || p === SRGB8_ALPHA8_ASTC_6x6_Format || p === SRGB8_ALPHA8_ASTC_8x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_8x6_Format || p === SRGB8_ALPHA8_ASTC_8x8_Format || p === SRGB8_ALPHA8_ASTC_10x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_10x6_Format || p === SRGB8_ALPHA8_ASTC_10x8_Format || p === SRGB8_ALPHA8_ASTC_10x10_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_12x10_Format || p === SRGB8_ALPHA8_ASTC_12x12_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\t// TODO Complete?\n\n\t\t\t\treturn p;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGBA_BPTC_Format ) {\n\n\t\t\textension = extensions.get( 'EXT_texture_compression_bptc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\t// TODO Complete?\n\n\t\t\t\treturn p;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\tif ( isWebGL2 ) return 34042;\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.UNSIGNED_INT_24_8_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\nclass ArrayCamera extends PerspectiveCamera {\n\n\tconstructor( array = [] ) {\n\n\t\tsuper();\n\n\t\tthis.cameras = array;\n\n\t}\n\n}\n\nArrayCamera.prototype.isArrayCamera = true;\n\nclass Group extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'Group';\n\n\t}\n\n}\n\nGroup.prototype.isGroup = true;\n\nconst _moveEvent = { type: 'move' };\n\nclass WebXRController {\n\n\tconstructor() {\n\n\t\tthis._targetRay = null;\n\t\tthis._grip = null;\n\t\tthis._hand = null;\n\n\t}\n\n\tgetHandSpace() {\n\n\t\tif ( this._hand === null ) {\n\n\t\t\tthis._hand = new Group();\n\t\t\tthis._hand.matrixAutoUpdate = false;\n\t\t\tthis._hand.visible = false;\n\n\t\t\tthis._hand.joints = {};\n\t\t\tthis._hand.inputState = { pinching: false };\n\n\t\t}\n\n\t\treturn this._hand;\n\n\t}\n\n\tgetTargetRaySpace() {\n\n\t\tif ( this._targetRay === null ) {\n\n\t\t\tthis._targetRay = new Group();\n\t\t\tthis._targetRay.matrixAutoUpdate = false;\n\t\t\tthis._targetRay.visible = false;\n\t\t\tthis._targetRay.hasLinearVelocity = false;\n\t\t\tthis._targetRay.linearVelocity = new Vector3();\n\t\t\tthis._targetRay.hasAngularVelocity = false;\n\t\t\tthis._targetRay.angularVelocity = new Vector3();\n\n\t\t}\n\n\t\treturn this._targetRay;\n\n\t}\n\n\tgetGripSpace() {\n\n\t\tif ( this._grip === null ) {\n\n\t\t\tthis._grip = new Group();\n\t\t\tthis._grip.matrixAutoUpdate = false;\n\t\t\tthis._grip.visible = false;\n\t\t\tthis._grip.hasLinearVelocity = false;\n\t\t\tthis._grip.linearVelocity = new Vector3();\n\t\t\tthis._grip.hasAngularVelocity = false;\n\t\t\tthis._grip.angularVelocity = new Vector3();\n\n\t\t}\n\n\t\treturn this._grip;\n\n\t}\n\n\tdispatchEvent( event ) {\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.dispatchEvent( event );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tdisconnect( inputSource ) {\n\n\t\tthis.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.visible = false;\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.visible = false;\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.visible = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tupdate( inputSource, frame, referenceSpace ) {\n\n\t\tlet inputPose = null;\n\t\tlet gripPose = null;\n\t\tlet handPose = null;\n\n\t\tconst targetRay = this._targetRay;\n\t\tconst grip = this._grip;\n\t\tconst hand = this._hand;\n\n\t\tif ( inputSource && frame.session.visibilityState !== 'visible-blurred' ) {\n\n\t\t\tif ( targetRay !== null ) {\n\n\t\t\t\tinputPose = frame.getPose( inputSource.targetRaySpace, referenceSpace );\n\n\t\t\t\tif ( inputPose !== null ) {\n\n\t\t\t\t\ttargetRay.matrix.fromArray( inputPose.transform.matrix );\n\t\t\t\t\ttargetRay.matrix.decompose( targetRay.position, targetRay.rotation, targetRay.scale );\n\n\t\t\t\t\tif ( inputPose.linearVelocity ) {\n\n\t\t\t\t\t\ttargetRay.hasLinearVelocity = true;\n\t\t\t\t\t\ttargetRay.linearVelocity.copy( inputPose.linearVelocity );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttargetRay.hasLinearVelocity = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( inputPose.angularVelocity ) {\n\n\t\t\t\t\t\ttargetRay.hasAngularVelocity = true;\n\t\t\t\t\t\ttargetRay.angularVelocity.copy( inputPose.angularVelocity );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttargetRay.hasAngularVelocity = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.dispatchEvent( _moveEvent );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hand && inputSource.hand ) {\n\n\t\t\t\thandPose = true;\n\n\t\t\t\tfor ( const inputjoint of inputSource.hand.values() ) {\n\n\t\t\t\t\t// Update the joints groups with the XRJoint poses\n\t\t\t\t\tconst jointPose = frame.getJointPose( inputjoint, referenceSpace );\n\n\t\t\t\t\tif ( hand.joints[ inputjoint.jointName ] === undefined ) {\n\n\t\t\t\t\t\t// The transform of this joint will be updated with the joint pose on each frame\n\t\t\t\t\t\tconst joint = new Group();\n\t\t\t\t\t\tjoint.matrixAutoUpdate = false;\n\t\t\t\t\t\tjoint.visible = false;\n\t\t\t\t\t\thand.joints[ inputjoint.jointName ] = joint;\n\t\t\t\t\t\t// ??\n\t\t\t\t\t\thand.add( joint );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst joint = hand.joints[ inputjoint.jointName ];\n\n\t\t\t\t\tif ( jointPose !== null ) {\n\n\t\t\t\t\t\tjoint.matrix.fromArray( jointPose.transform.matrix );\n\t\t\t\t\t\tjoint.matrix.decompose( joint.position, joint.rotation, joint.scale );\n\t\t\t\t\t\tjoint.jointRadius = jointPose.radius;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tjoint.visible = jointPose !== null;\n\n\t\t\t\t}\n\n\t\t\t\t// Custom events\n\n\t\t\t\t// Check pinchz\n\t\t\t\tconst indexTip = hand.joints[ 'index-finger-tip' ];\n\t\t\t\tconst thumbTip = hand.joints[ 'thumb-tip' ];\n\t\t\t\tconst distance = indexTip.position.distanceTo( thumbTip.position );\n\n\t\t\t\tconst distanceToPinch = 0.02;\n\t\t\t\tconst threshold = 0.005;\n\n\t\t\t\tif ( hand.inputState.pinching && distance > distanceToPinch + threshold ) {\n\n\t\t\t\t\thand.inputState.pinching = false;\n\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\ttype: 'pinchend',\n\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\ttarget: this\n\t\t\t\t\t} );\n\n\t\t\t\t} else if ( ! hand.inputState.pinching && distance <= distanceToPinch - threshold ) {\n\n\t\t\t\t\thand.inputState.pinching = true;\n\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\ttype: 'pinchstart',\n\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\ttarget: this\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( grip !== null && inputSource.gripSpace ) {\n\n\t\t\t\t\tgripPose = frame.getPose( inputSource.gripSpace, referenceSpace );\n\n\t\t\t\t\tif ( gripPose !== null ) {\n\n\t\t\t\t\t\tgrip.matrix.fromArray( gripPose.transform.matrix );\n\t\t\t\t\t\tgrip.matrix.decompose( grip.position, grip.rotation, grip.scale );\n\n\t\t\t\t\t\tif ( gripPose.linearVelocity ) {\n\n\t\t\t\t\t\t\tgrip.hasLinearVelocity = true;\n\t\t\t\t\t\t\tgrip.linearVelocity.copy( gripPose.linearVelocity );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgrip.hasLinearVelocity = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( gripPose.angularVelocity ) {\n\n\t\t\t\t\t\t\tgrip.hasAngularVelocity = true;\n\t\t\t\t\t\t\tgrip.angularVelocity.copy( gripPose.angularVelocity );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgrip.hasAngularVelocity = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( targetRay !== null ) {\n\n\t\t\ttargetRay.visible = ( inputPose !== null );\n\n\t\t}\n\n\t\tif ( grip !== null ) {\n\n\t\t\tgrip.visible = ( gripPose !== null );\n\n\t\t}\n\n\t\tif ( hand !== null ) {\n\n\t\t\thand.visible = ( handPose !== null );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass WebXRManager extends EventDispatcher {\n\n\tconstructor( renderer, gl ) {\n\n\t\tsuper();\n\n\t\tconst scope = this;\n\t\tconst state = renderer.state;\n\n\t\tlet session = null;\n\n\t\tlet framebufferScaleFactor = 1.0;\n\n\t\tlet referenceSpace = null;\n\t\tlet referenceSpaceType = 'local-floor';\n\n\t\tlet pose = null;\n\n\t\tconst controllers = [];\n\t\tconst inputSourcesMap = new Map();\n\n\t\t//\n\n\t\tconst cameraL = new PerspectiveCamera();\n\t\tcameraL.layers.enable( 1 );\n\t\tcameraL.viewport = new Vector4();\n\n\t\tconst cameraR = new PerspectiveCamera();\n\t\tcameraR.layers.enable( 2 );\n\t\tcameraR.viewport = new Vector4();\n\n\t\tconst cameras = [ cameraL, cameraR ];\n\n\t\tconst cameraVR = new ArrayCamera();\n\t\tcameraVR.layers.enable( 1 );\n\t\tcameraVR.layers.enable( 2 );\n\n\t\tlet _currentDepthNear = null;\n\t\tlet _currentDepthFar = null;\n\n\t\t//\n\n\t\tthis.enabled = false;\n\n\t\tthis.isPresenting = false;\n\n\t\tthis.getController = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getTargetRaySpace();\n\n\t\t};\n\n\t\tthis.getControllerGrip = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getGripSpace();\n\n\t\t};\n\n\t\tthis.getHand = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getHandSpace();\n\n\t\t};\n\n\t\t//\n\n\t\tfunction onSessionEvent( event ) {\n\n\t\t\tconst controller = inputSourcesMap.get( event.inputSource );\n\n\t\t\tif ( controller ) {\n\n\t\t\t\tcontroller.dispatchEvent( { type: event.type, data: event.inputSource } );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onSessionEnd() {\n\n\t\t\tinputSourcesMap.forEach( function ( controller, inputSource ) {\n\n\t\t\t\tcontroller.disconnect( inputSource );\n\n\t\t\t} );\n\n\t\t\tinputSourcesMap.clear();\n\n\t\t\t_currentDepthNear = null;\n\t\t\t_currentDepthFar = null;\n\n\t\t\t// restore framebuffer/rendering state\n\n\t\t\tstate.bindXRFramebuffer( null );\n\t\t\trenderer.setRenderTarget( renderer.getRenderTarget() );\n\n\t\t\t//\n\n\t\t\tanimation.stop();\n\n\t\t\tscope.isPresenting = false;\n\n\t\t\tscope.dispatchEvent( { type: 'sessionend' } );\n\n\t\t}\n\n\t\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t\t\tframebufferScaleFactor = value;\n\n\t\t\tif ( scope.isPresenting === true ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change framebuffer scale while presenting.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setReferenceSpaceType = function ( value ) {\n\n\t\t\treferenceSpaceType = value;\n\n\t\t\tif ( scope.isPresenting === true ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change reference space type while presenting.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.getReferenceSpace = function () {\n\n\t\t\treturn referenceSpace;\n\n\t\t};\n\n\t\tthis.getSession = function () {\n\n\t\t\treturn session;\n\n\t\t};\n\n\t\tthis.setSession = async function ( value ) {\n\n\t\t\tsession = value;\n\n\t\t\tif ( session !== null ) {\n\n\t\t\t\tsession.addEventListener( 'select', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'selectstart', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'selectend', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeeze', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeezestart', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeezeend', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'end', onSessionEnd );\n\t\t\t\tsession.addEventListener( 'inputsourceschange', onInputSourcesChange );\n\n\t\t\t\tconst attributes = gl.getContextAttributes();\n\n\t\t\t\tif ( attributes.xrCompatible !== true ) {\n\n\t\t\t\t\tawait gl.makeXRCompatible();\n\n\t\t\t\t}\n\n\t\t\t\tconst layerInit = {\n\t\t\t\t\tantialias: attributes.antialias,\n\t\t\t\t\talpha: attributes.alpha,\n\t\t\t\t\tdepth: attributes.depth,\n\t\t\t\t\tstencil: attributes.stencil,\n\t\t\t\t\tframebufferScaleFactor: framebufferScaleFactor\n\t\t\t\t};\n\n\t\t\t\t// eslint-disable-next-line no-undef\n\t\t\t\tconst baseLayer = new XRWebGLLayer( session, gl, layerInit );\n\n\t\t\t\tsession.updateRenderState( { baseLayer: baseLayer } );\n\n\t\t\t\treferenceSpace = await session.requestReferenceSpace( referenceSpaceType );\n\n\t\t\t\tanimation.setContext( session );\n\t\t\t\tanimation.start();\n\n\t\t\t\tscope.isPresenting = true;\n\n\t\t\t\tscope.dispatchEvent( { type: 'sessionstart' } );\n\n\t\t\t}\n\n\t\t};\n\n\t\tfunction onInputSourcesChange( event ) {\n\n\t\t\tconst inputSources = session.inputSources;\n\n\t\t\t// Assign inputSources to available controllers\n\n\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\tinputSourcesMap.set( inputSources[ i ], controllers[ i ] );\n\n\t\t\t}\n\n\t\t\t// Notify disconnected\n\n\t\t\tfor ( let i = 0; i < event.removed.length; i ++ ) {\n\n\t\t\t\tconst inputSource = event.removed[ i ];\n\t\t\t\tconst controller = inputSourcesMap.get( inputSource );\n\n\t\t\t\tif ( controller ) {\n\n\t\t\t\t\tcontroller.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\t\t\t\t\tinputSourcesMap.delete( inputSource );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Notify connected\n\n\t\t\tfor ( let i = 0; i < event.added.length; i ++ ) {\n\n\t\t\t\tconst inputSource = event.added[ i ];\n\t\t\t\tconst controller = inputSourcesMap.get( inputSource );\n\n\t\t\t\tif ( controller ) {\n\n\t\t\t\t\tcontroller.dispatchEvent( { type: 'connected', data: inputSource } );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst cameraLPos = new Vector3();\n\t\tconst cameraRPos = new Vector3();\n\n\t\t/**\n\t\t * Assumes 2 cameras that are parallel and share an X-axis, and that\n\t\t * the cameras' projection and world matrices have already been set.\n\t\t * And that near and far planes are identical for both cameras.\n\t\t * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n\t\t */\n\t\tfunction setProjectionFromUnion( camera, cameraL, cameraR ) {\n\n\t\t\tcameraLPos.setFromMatrixPosition( cameraL.matrixWorld );\n\t\t\tcameraRPos.setFromMatrixPosition( cameraR.matrixWorld );\n\n\t\t\tconst ipd = cameraLPos.distanceTo( cameraRPos );\n\n\t\t\tconst projL = cameraL.projectionMatrix.elements;\n\t\t\tconst projR = cameraR.projectionMatrix.elements;\n\n\t\t\t// VR systems will have identical far and near planes, and\n\t\t\t// most likely identical top and bottom frustum extents.\n\t\t\t// Use the left camera for these values.\n\t\t\tconst near = projL[ 14 ] / ( projL[ 10 ] - 1 );\n\t\t\tconst far = projL[ 14 ] / ( projL[ 10 ] + 1 );\n\t\t\tconst topFov = ( projL[ 9 ] + 1 ) / projL[ 5 ];\n\t\t\tconst bottomFov = ( projL[ 9 ] - 1 ) / projL[ 5 ];\n\n\t\t\tconst leftFov = ( projL[ 8 ] - 1 ) / projL[ 0 ];\n\t\t\tconst rightFov = ( projR[ 8 ] + 1 ) / projR[ 0 ];\n\t\t\tconst left = near * leftFov;\n\t\t\tconst right = near * rightFov;\n\n\t\t\t// Calculate the new camera's position offset from the\n\t\t\t// left camera. xOffset should be roughly half `ipd`.\n\t\t\tconst zOffset = ipd / ( - leftFov + rightFov );\n\t\t\tconst xOffset = zOffset * - leftFov;\n\n\t\t\t// TODO: Better way to apply this offset?\n\t\t\tcameraL.matrixWorld.decompose( camera.position, camera.quaternion, camera.scale );\n\t\t\tcamera.translateX( xOffset );\n\t\t\tcamera.translateZ( zOffset );\n\t\t\tcamera.matrixWorld.compose( camera.position, camera.quaternion, camera.scale );\n\t\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\n\n\t\t\t// Find the union of the frustum values of the cameras and scale\n\t\t\t// the values so that the near plane's position does not change in world space,\n\t\t\t// although must now be relative to the new union camera.\n\t\t\tconst near2 = near + zOffset;\n\t\t\tconst far2 = far + zOffset;\n\t\t\tconst left2 = left - xOffset;\n\t\t\tconst right2 = right + ( ipd - xOffset );\n\t\t\tconst top2 = topFov * far / far2 * near2;\n\t\t\tconst bottom2 = bottomFov * far / far2 * near2;\n\n\t\t\tcamera.projectionMatrix.makePerspective( left2, right2, top2, bottom2, near2, far2 );\n\n\t\t}\n\n\t\tfunction updateCamera( camera, parent ) {\n\n\t\t\tif ( parent === null ) {\n\n\t\t\t\tcamera.matrixWorld.copy( camera.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tcamera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\n\n\t\t\t}\n\n\t\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\n\n\t\t}\n\n\t\tthis.getCamera = function ( camera ) {\n\n\t\t\tcameraVR.near = cameraR.near = cameraL.near = camera.near;\n\t\t\tcameraVR.far = cameraR.far = cameraL.far = camera.far;\n\n\t\t\tif ( _currentDepthNear !== cameraVR.near || _currentDepthFar !== cameraVR.far ) {\n\n\t\t\t\t// Note that the new renderState won't apply until the next frame. See #18320\n\n\t\t\t\tsession.updateRenderState( {\n\t\t\t\t\tdepthNear: cameraVR.near,\n\t\t\t\t\tdepthFar: cameraVR.far\n\t\t\t\t} );\n\n\t\t\t\t_currentDepthNear = cameraVR.near;\n\t\t\t\t_currentDepthFar = cameraVR.far;\n\n\t\t\t}\n\n\t\t\tconst parent = camera.parent;\n\t\t\tconst cameras = cameraVR.cameras;\n\n\t\t\tupdateCamera( cameraVR, parent );\n\n\t\t\tfor ( let i = 0; i < cameras.length; i ++ ) {\n\n\t\t\t\tupdateCamera( cameras[ i ], parent );\n\n\t\t\t}\n\n\t\t\t// update camera and its children\n\n\t\t\tcamera.matrixWorld.copy( cameraVR.matrixWorld );\n\t\t\tcamera.matrix.copy( cameraVR.matrix );\n\t\t\tcamera.matrix.decompose( camera.position, camera.quaternion, camera.scale );\n\n\t\t\tconst children = camera.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateMatrixWorld( true );\n\n\t\t\t}\n\n\t\t\t// update projection matrix for proper view frustum culling\n\n\t\t\tif ( cameras.length === 2 ) {\n\n\t\t\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\t\t} else {\n\n\t\t\t\t// assume single camera setup (AR)\n\n\t\t\t\tcameraVR.projectionMatrix.copy( cameraL.projectionMatrix );\n\n\t\t\t}\n\n\t\t\treturn cameraVR;\n\n\t\t};\n\n\t\t// Animation Loop\n\n\t\tlet onAnimationFrameCallback = null;\n\n\t\tfunction onAnimationFrame( time, frame ) {\n\n\t\t\tpose = frame.getViewerPose( referenceSpace );\n\n\t\t\tif ( pose !== null ) {\n\n\t\t\t\tconst views = pose.views;\n\t\t\t\tconst baseLayer = session.renderState.baseLayer;\n\n\t\t\t\tstate.bindXRFramebuffer( baseLayer.framebuffer );\n\n\t\t\t\tlet cameraVRNeedsUpdate = false;\n\n\t\t\t\t// check if it's necessary to rebuild cameraVR's camera list\n\n\t\t\t\tif ( views.length !== cameraVR.cameras.length ) {\n\n\t\t\t\t\tcameraVR.cameras.length = 0;\n\t\t\t\t\tcameraVRNeedsUpdate = true;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0; i < views.length; i ++ ) {\n\n\t\t\t\t\tconst view = views[ i ];\n\t\t\t\t\tconst viewport = baseLayer.getViewport( view );\n\n\t\t\t\t\tconst camera = cameras[ i ];\n\t\t\t\t\tcamera.matrix.fromArray( view.transform.matrix );\n\t\t\t\t\tcamera.projectionMatrix.fromArray( view.projectionMatrix );\n\t\t\t\t\tcamera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\n\n\t\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\t\tcameraVR.matrix.copy( camera.matrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( cameraVRNeedsUpdate === true ) {\n\n\t\t\t\t\t\tcameraVR.cameras.push( camera );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tconst inputSources = session.inputSources;\n\n\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\tconst controller = controllers[ i ];\n\t\t\t\tconst inputSource = inputSources[ i ];\n\n\t\t\t\tcontroller.update( inputSource, frame, referenceSpace );\n\n\t\t\t}\n\n\t\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time, frame );\n\n\t\t}\n\n\t\tconst animation = new WebGLAnimation();\n\t\tanimation.setAnimationLoop( onAnimationFrame );\n\n\t\tthis.setAnimationLoop = function ( callback ) {\n\n\t\t\tonAnimationFrameCallback = callback;\n\n\t\t};\n\n\t\tthis.dispose = function () {};\n\n\t}\n\n}\n\nfunction WebGLMaterials( properties ) {\n\n\tfunction refreshFogUniforms( uniforms, fog ) {\n\n\t\tuniforms.fogColor.value.copy( fog.color );\n\n\t\tif ( fog.isFog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t}\n\n\tfunction refreshMaterialUniforms( uniforms, material, pixelRatio, height ) {\n\n\t\tif ( material.isMeshBasicMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isMeshLambertMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsLambert( uniforms, material );\n\n\t\t} else if ( material.isMeshToonMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsToon( uniforms, material );\n\n\t\t} else if ( material.isMeshPhongMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsPhong( uniforms, material );\n\n\t\t} else if ( material.isMeshStandardMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t\tif ( material.isMeshPhysicalMaterial ) {\n\n\t\t\t\trefreshUniformsPhysical( uniforms, material );\n\n\t\t\t} else {\n\n\t\t\t\trefreshUniformsStandard( uniforms, material );\n\n\t\t\t}\n\n\t\t} else if ( material.isMeshMatcapMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsMatcap( uniforms, material );\n\n\t\t} else if ( material.isMeshDepthMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsDepth( uniforms, material );\n\n\t\t} else if ( material.isMeshDistanceMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsDistance( uniforms, material );\n\n\t\t} else if ( material.isMeshNormalMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsNormal( uniforms, material );\n\n\t\t} else if ( material.isLineBasicMaterial ) {\n\n\t\t\trefreshUniformsLine( uniforms, material );\n\n\t\t\tif ( material.isLineDashedMaterial ) {\n\n\t\t\t\trefreshUniformsDash( uniforms, material );\n\n\t\t\t}\n\n\t\t} else if ( material.isPointsMaterial ) {\n\n\t\t\trefreshUniformsPoints( uniforms, material, pixelRatio, height );\n\n\t\t} else if ( material.isSpriteMaterial ) {\n\n\t\t\trefreshUniformsSprites( uniforms, material );\n\n\t\t} else if ( material.isShadowMaterial ) {\n\n\t\t\tuniforms.color.value.copy( material.color );\n\t\t\tuniforms.opacity.value = material.opacity;\n\n\t\t} else if ( material.isShaderMaterial ) {\n\n\t\t\tmaterial.uniformsNeedUpdate = false; // #15581\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsCommon( uniforms, material ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.color ) {\n\n\t\t\tuniforms.diffuse.value.copy( material.color );\n\n\t\t}\n\n\t\tif ( material.emissive ) {\n\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t}\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.specularMap ) {\n\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\tuniforms.envMap.value = envMap;\n\n\t\t\tuniforms.flipEnvMap.value = ( envMap.isCubeTexture && envMap._needsFlipEnvMap ) ? - 1 : 1;\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t\tconst maxMipLevel = properties.get( envMap ).__maxMipLevel;\n\n\t\t\tif ( maxMipLevel !== undefined ) {\n\n\t\t\t\tuniforms.maxMipLevel.value = maxMipLevel;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.lightMap ) {\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. specular map\n\t\t// 3. displacementMap map\n\t\t// 4. normal map\n\t\t// 5. bump map\n\t\t// 6. roughnessMap map\n\t\t// 7. metalnessMap map\n\t\t// 8. alphaMap map\n\t\t// 9. emissiveMap map\n\t\t// 10. clearcoat map\n\t\t// 11. clearcoat normal map\n\t\t// 12. clearcoat roughnessMap map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.specularMap ) {\n\n\t\t\tuvScaleMap = material.specularMap;\n\n\t\t} else if ( material.displacementMap ) {\n\n\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t} else if ( material.normalMap ) {\n\n\t\t\tuvScaleMap = material.normalMap;\n\n\t\t} else if ( material.bumpMap ) {\n\n\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t} else if ( material.roughnessMap ) {\n\n\t\t\tuvScaleMap = material.roughnessMap;\n\n\t\t} else if ( material.metalnessMap ) {\n\n\t\t\tuvScaleMap = material.metalnessMap;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t} else if ( material.emissiveMap ) {\n\n\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t} else if ( material.clearcoatMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatMap;\n\n\t\t} else if ( material.clearcoatNormalMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatNormalMap;\n\n\t\t} else if ( material.clearcoatRoughnessMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatRoughnessMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities for uv2\n\t\t// 1. ao map\n\t\t// 2. light map\n\n\t\tlet uv2ScaleMap;\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuv2ScaleMap = material.aoMap;\n\n\t\t} else if ( material.lightMap ) {\n\n\t\t\tuv2ScaleMap = material.lightMap;\n\n\t\t}\n\n\t\tif ( uv2ScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uv2ScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuv2ScaleMap = uv2ScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uv2ScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuv2ScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uv2Transform.value.copy( uv2ScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLine( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\n\t}\n\n\tfunction refreshUniformsDash( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t}\n\n\tfunction refreshUniformsPoints( uniforms, material, pixelRatio, height ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size * pixelRatio;\n\t\tuniforms.scale.value = height * 0.5;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsSprites( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.rotation.value = material.rotation;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLambert( uniforms, material ) {\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhong( uniforms, material ) {\n\n\t\tuniforms.specular.value.copy( material.specular );\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsToon( uniforms, material ) {\n\n\t\tif ( material.gradientMap ) {\n\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsStandard( uniforms, material ) {\n\n\t\tuniforms.roughness.value = material.roughness;\n\t\tuniforms.metalness.value = material.metalness;\n\n\t\tif ( material.roughnessMap ) {\n\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\n\t\t}\n\n\t\tif ( material.metalnessMap ) {\n\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhysical( uniforms, material ) {\n\n\t\trefreshUniformsStandard( uniforms, material );\n\n\t\tuniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\n\n\t\tuniforms.clearcoat.value = material.clearcoat;\n\t\tuniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n\t\tif ( material.sheen ) uniforms.sheen.value.copy( material.sheen );\n\n\t\tif ( material.clearcoatMap ) {\n\n\t\t\tuniforms.clearcoatMap.value = material.clearcoatMap;\n\n\t\t}\n\n\t\tif ( material.clearcoatRoughnessMap ) {\n\n\t\t\tuniforms.clearcoatRoughnessMap.value = material.clearcoatRoughnessMap;\n\n\t\t}\n\n\t\tif ( material.clearcoatNormalMap ) {\n\n\t\t\tuniforms.clearcoatNormalScale.value.copy( material.clearcoatNormalScale );\n\t\t\tuniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\tuniforms.clearcoatNormalScale.value.negate();\n\n\t\t\t}\n\n\t\t}\n\n\t\tuniforms.transmission.value = material.transmission;\n\n\t\tif ( material.transmissionMap ) {\n\n\t\t\tuniforms.transmissionMap.value = material.transmissionMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsMatcap( uniforms, material ) {\n\n\t\tif ( material.matcap ) {\n\n\t\t\tuniforms.matcap.value = material.matcap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDepth( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDistance( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\n\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\tuniforms.farDistance.value = material.farDistance;\n\n\t}\n\n\tfunction refreshUniformsNormal( uniforms, material ) {\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\trefreshFogUniforms: refreshFogUniforms,\n\t\trefreshMaterialUniforms: refreshMaterialUniforms\n\t};\n\n}\n\nfunction createCanvasElement() {\n\n\tconst canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\tcanvas.style.display = 'block';\n\treturn canvas;\n\n}\n\nfunction WebGLRenderer( parameters ) {\n\n\tparameters = parameters || {};\n\n\tconst _canvas = parameters.canvas !== undefined ? parameters.canvas : createCanvasElement(),\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\n\t\t_failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\n\n\tlet currentRenderList = null;\n\tlet currentRenderState = null;\n\n\t// render() can be called from within a callback triggered by another render.\n\t// We track this so that the nested render call gets its list and state isolated from the parent render call.\n\n\tconst renderListStack = [];\n\tconst renderStateStack = [];\n\n\t// public properties\n\n\tthis.domElement = _canvas;\n\n\t// Debug configuration container\n\tthis.debug = {\n\n\t\t/**\n\t\t * Enables error checking and reporting when shader programs are being compiled\n\t\t * @type {boolean}\n\t\t */\n\t\tcheckShaderErrors: true\n\t};\n\n\t// clearing\n\n\tthis.autoClear = true;\n\tthis.autoClearColor = true;\n\tthis.autoClearDepth = true;\n\tthis.autoClearStencil = true;\n\n\t// scene graph\n\n\tthis.sortObjects = true;\n\n\t// user-defined clipping\n\n\tthis.clippingPlanes = [];\n\tthis.localClippingEnabled = false;\n\n\t// physically based shading\n\n\tthis.gammaFactor = 2.0;\t// for backwards compatibility\n\tthis.outputEncoding = LinearEncoding;\n\n\t// physical lights\n\n\tthis.physicallyCorrectLights = false;\n\n\t// tone mapping\n\n\tthis.toneMapping = NoToneMapping;\n\tthis.toneMappingExposure = 1.0;\n\n\t// internal properties\n\n\tconst _this = this;\n\n\tlet _isContextLost = false;\n\n\t// internal state cache\n\n\tlet _currentActiveCubeFace = 0;\n\tlet _currentActiveMipmapLevel = 0;\n\tlet _currentRenderTarget = null;\n\tlet _currentMaterialId = - 1;\n\n\tlet _currentCamera = null;\n\n\tconst _currentViewport = new Vector4();\n\tconst _currentScissor = new Vector4();\n\tlet _currentScissorTest = null;\n\n\t//\n\n\tlet _width = _canvas.width;\n\tlet _height = _canvas.height;\n\n\tlet _pixelRatio = 1;\n\tlet _opaqueSort = null;\n\tlet _transparentSort = null;\n\n\tconst _viewport = new Vector4( 0, 0, _width, _height );\n\tconst _scissor = new Vector4( 0, 0, _width, _height );\n\tlet _scissorTest = false;\n\n\t// frustum\n\n\tconst _frustum = new Frustum();\n\n\t// clipping\n\n\tlet _clippingEnabled = false;\n\tlet _localClippingEnabled = false;\n\n\t// camera matrices cache\n\n\tconst _projScreenMatrix = new Matrix4();\n\n\tconst _vector3 = new Vector3();\n\n\tconst _emptyScene = { background: null, fog: null, environment: null, overrideMaterial: null, isScene: true };\n\n\tfunction getTargetPixelRatio() {\n\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\n\t}\n\n\t// initialize\n\n\tlet _gl = _context;\n\n\tfunction getContext( contextNames, contextAttributes ) {\n\n\t\tfor ( let i = 0; i < contextNames.length; i ++ ) {\n\n\t\t\tconst contextName = contextNames[ i ];\n\t\t\tconst context = _canvas.getContext( contextName, contextAttributes );\n\t\t\tif ( context !== null ) return context;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\ttry {\n\n\t\tconst contextAttributes = {\n\t\t\talpha: _alpha,\n\t\t\tdepth: _depth,\n\t\t\tstencil: _stencil,\n\t\t\tantialias: _antialias,\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\n\t\t\tpowerPreference: _powerPreference,\n\t\t\tfailIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat\n\t\t};\n\n\t\t// event listeners must be registered before WebGL context is created, see #12753\n\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\tif ( _gl === null ) {\n\n\t\t\tconst contextNames = [ 'webgl2', 'webgl', 'experimental-webgl' ];\n\n\t\t\tif ( _this.isWebGL1Renderer === true ) {\n\n\t\t\t\tcontextNames.shift();\n\n\t\t\t}\n\n\t\t\t_gl = getContext( contextNames, contextAttributes );\n\n\t\t\tif ( _gl === null ) {\n\n\t\t\t\tif ( getContext( contextNames ) ) {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context with your selected attributes.' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t_gl.getShaderPrecisionFormat = function () {\n\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n\t\t\t};\n\n\t\t}\n\n\t} catch ( error ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error.message );\n\t\tthrow error;\n\n\t}\n\n\tlet extensions, capabilities, state, info;\n\tlet properties, textures, cubemaps, attributes, geometries, objects;\n\tlet programCache, materials, renderLists, renderStates, clipping, shadowMap;\n\n\tlet background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n\tlet utils, bindingStates;\n\n\tfunction initGLContext() {\n\n\t\textensions = new WebGLExtensions( _gl );\n\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n\t\textensions.init( capabilities );\n\n\t\tutils = new WebGLUtils( _gl, extensions, capabilities );\n\n\t\tstate = new WebGLState( _gl, extensions, capabilities );\n\n\t\tinfo = new WebGLInfo( _gl );\n\t\tproperties = new WebGLProperties();\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\n\t\tcubemaps = new WebGLCubeMaps( _this );\n\t\tattributes = new WebGLAttributes( _gl, capabilities );\n\t\tbindingStates = new WebGLBindingStates( _gl, extensions, attributes, capabilities );\n\t\tgeometries = new WebGLGeometries( _gl, attributes, info, bindingStates );\n\t\tobjects = new WebGLObjects( _gl, geometries, attributes, info );\n\t\tmorphtargets = new WebGLMorphtargets( _gl );\n\t\tclipping = new WebGLClipping( properties );\n\t\tprogramCache = new WebGLPrograms( _this, cubemaps, extensions, capabilities, bindingStates, clipping );\n\t\tmaterials = new WebGLMaterials( properties );\n\t\trenderLists = new WebGLRenderLists( properties );\n\t\trenderStates = new WebGLRenderStates( extensions, capabilities );\n\t\tbackground = new WebGLBackground( _this, cubemaps, state, objects, _premultipliedAlpha );\n\t\tshadowMap = new WebGLShadowMap( _this, objects, capabilities );\n\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\n\n\t\tinfo.programs = programCache.programs;\n\n\t\t_this.capabilities = capabilities;\n\t\t_this.extensions = extensions;\n\t\t_this.properties = properties;\n\t\t_this.renderLists = renderLists;\n\t\t_this.shadowMap = shadowMap;\n\t\t_this.state = state;\n\t\t_this.info = info;\n\n\t}\n\n\tinitGLContext();\n\n\t// xr\n\n\tconst xr = new WebXRManager( _this, _gl );\n\n\tthis.xr = xr;\n\n\t// API\n\n\tthis.getContext = function () {\n\n\t\treturn _gl;\n\n\t};\n\n\tthis.getContextAttributes = function () {\n\n\t\treturn _gl.getContextAttributes();\n\n\t};\n\n\tthis.forceContextLoss = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.loseContext();\n\n\t};\n\n\tthis.forceContextRestore = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.restoreContext();\n\n\t};\n\n\tthis.getPixelRatio = function () {\n\n\t\treturn _pixelRatio;\n\n\t};\n\n\tthis.setPixelRatio = function ( value ) {\n\n\t\tif ( value === undefined ) return;\n\n\t\t_pixelRatio = value;\n\n\t\tthis.setSize( _width, _height, false );\n\n\t};\n\n\tthis.getSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getsize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width, _height );\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\tif ( xr.isPresenting ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_canvas.width = Math.floor( width * _pixelRatio );\n\t\t_canvas.height = Math.floor( height * _pixelRatio );\n\n\t\tif ( updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getDrawingBufferSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width * _pixelRatio, _height * _pixelRatio ).floor();\n\n\t};\n\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_pixelRatio = pixelRatio;\n\n\t\t_canvas.width = Math.floor( width * pixelRatio );\n\t\t_canvas.height = Math.floor( height * pixelRatio );\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getCurrentViewport = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument' );\n\n\t\t\ttarget = new Vector4();\n\n\t\t}\n\n\t\treturn target.copy( _currentViewport );\n\n\t};\n\n\tthis.getViewport = function ( target ) {\n\n\t\treturn target.copy( _viewport );\n\n\t};\n\n\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_viewport.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_viewport.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissor = function ( target ) {\n\n\t\treturn target.copy( _scissor );\n\n\t};\n\n\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_scissor.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_scissor.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissorTest = function () {\n\n\t\treturn _scissorTest;\n\n\t};\n\n\tthis.setScissorTest = function ( boolean ) {\n\n\t\tstate.setScissorTest( _scissorTest = boolean );\n\n\t};\n\n\tthis.setOpaqueSort = function ( method ) {\n\n\t\t_opaqueSort = method;\n\n\t};\n\n\tthis.setTransparentSort = function ( method ) {\n\n\t\t_transparentSort = method;\n\n\t};\n\n\t// Clearing\n\n\tthis.getClearColor = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getClearColor() now requires a Color as an argument' );\n\n\t\t\ttarget = new Color();\n\n\t\t}\n\n\t\treturn target.copy( background.getClearColor() );\n\n\t};\n\n\tthis.setClearColor = function () {\n\n\t\tbackground.setClearColor.apply( background, arguments );\n\n\t};\n\n\tthis.getClearAlpha = function () {\n\n\t\treturn background.getClearAlpha();\n\n\t};\n\n\tthis.setClearAlpha = function () {\n\n\t\tbackground.setClearAlpha.apply( background, arguments );\n\n\t};\n\n\tthis.clear = function ( color, depth, stencil ) {\n\n\t\tlet bits = 0;\n\n\t\tif ( color === undefined || color ) bits |= 16384;\n\t\tif ( depth === undefined || depth ) bits |= 256;\n\t\tif ( stencil === undefined || stencil ) bits |= 1024;\n\n\t\t_gl.clear( bits );\n\n\t};\n\n\tthis.clearColor = function () {\n\n\t\tthis.clear( true, false, false );\n\n\t};\n\n\tthis.clearDepth = function () {\n\n\t\tthis.clear( false, true, false );\n\n\t};\n\n\tthis.clearStencil = function () {\n\n\t\tthis.clear( false, false, true );\n\n\t};\n\n\t//\n\n\tthis.dispose = function () {\n\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\trenderLists.dispose();\n\t\trenderStates.dispose();\n\t\tproperties.dispose();\n\t\tcubemaps.dispose();\n\t\tobjects.dispose();\n\t\tbindingStates.dispose();\n\n\t\txr.dispose();\n\n\t\txr.removeEventListener( 'sessionstart', onXRSessionStart );\n\t\txr.removeEventListener( 'sessionend', onXRSessionEnd );\n\n\t\tanimation.stop();\n\n\t};\n\n\t// Events\n\n\tfunction onContextLost( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n\t\t_isContextLost = true;\n\n\t}\n\n\tfunction onContextRestore( /* event */ ) {\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n\t\t_isContextLost = false;\n\n\t\tconst infoAutoReset = info.autoReset;\n\t\tconst shadowMapEnabled = shadowMap.enabled;\n\t\tconst shadowMapAutoUpdate = shadowMap.autoUpdate;\n\t\tconst shadowMapNeedsUpdate = shadowMap.needsUpdate;\n\t\tconst shadowMapType = shadowMap.type;\n\n\t\tinitGLContext();\n\n\t\tinfo.autoReset = infoAutoReset;\n\t\tshadowMap.enabled = shadowMapEnabled;\n\t\tshadowMap.autoUpdate = shadowMapAutoUpdate;\n\t\tshadowMap.needsUpdate = shadowMapNeedsUpdate;\n\t\tshadowMap.type = shadowMapType;\n\n\t}\n\n\tfunction onMaterialDispose( event ) {\n\n\t\tconst material = event.target;\n\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\tdeallocateMaterial( material );\n\n\t}\n\n\t// Buffer deallocation\n\n\tfunction deallocateMaterial( material ) {\n\n\t\treleaseMaterialProgramReferences( material );\n\n\t\tproperties.remove( material );\n\n\t}\n\n\n\tfunction releaseMaterialProgramReferences( material ) {\n\n\t\tconst programs = properties.get( material ).programs;\n\n\t\tif ( programs !== undefined ) {\n\n\t\t\tprograms.forEach( function ( program ) {\n\n\t\t\t\tprogramCache.releaseProgram( program );\n\n\t\t\t} );\n\n\t\t}\n\n\t}\n\n\t// Buffer rendering\n\n\tfunction renderObjectImmediate( object, program ) {\n\n\t\tobject.render( function ( object ) {\n\n\t\t\t_this.renderBufferImmediate( object, program );\n\n\t\t} );\n\n\t}\n\n\tthis.renderBufferImmediate = function ( object, program ) {\n\n\t\tbindingStates.initAttributes();\n\n\t\tconst buffers = properties.get( object );\n\n\t\tif ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\n\t\tif ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\n\t\tif ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\n\t\tif ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tif ( object.hasPositions ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.position );\n\t\t\t_gl.bufferData( 34962, object.positionArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.position );\n\t\t\t_gl.vertexAttribPointer( programAttributes.position, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasNormals ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.normal );\n\t\t\t_gl.bufferData( 34962, object.normalArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.normal );\n\t\t\t_gl.vertexAttribPointer( programAttributes.normal, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasUvs ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.uv );\n\t\t\t_gl.bufferData( 34962, object.uvArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.uv );\n\t\t\t_gl.vertexAttribPointer( programAttributes.uv, 2, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasColors ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.color );\n\t\t\t_gl.bufferData( 34962, object.colorArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.color );\n\t\t\t_gl.vertexAttribPointer( programAttributes.color, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tbindingStates.disableUnusedAttributes();\n\n\t\t_gl.drawArrays( 4, 0, object.count );\n\n\t\tobject.count = 0;\n\n\t};\n\n\tthis.renderBufferDirect = function ( camera, scene, geometry, material, object, group ) {\n\n\t\tif ( scene === null ) scene = _emptyScene; // renderBufferDirect second parameter used to be fog (could be null)\n\n\t\tconst frontFaceCW = ( object.isMesh && object.matrixWorld.determinant() < 0 );\n\n\t\tconst program = setProgram( camera, scene, material, object );\n\n\t\tstate.setMaterial( material, frontFaceCW );\n\n\t\t//\n\n\t\tlet index = geometry.index;\n\t\tconst position = geometry.attributes.position;\n\n\t\t//\n\n\t\tif ( index === null ) {\n\n\t\t\tif ( position === undefined || position.count === 0 ) return;\n\n\t\t} else if ( index.count === 0 ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t//\n\n\t\tlet rangeFactor = 1;\n\n\t\tif ( material.wireframe === true ) {\n\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\n\t\t\trangeFactor = 2;\n\n\t\t}\n\n\t\tif ( material.morphTargets || material.morphNormals ) {\n\n\t\t\tmorphtargets.update( object, geometry, material, program );\n\n\t\t}\n\n\t\tbindingStates.setup( object, material, program, geometry, index );\n\n\t\tlet attribute;\n\t\tlet renderer = bufferRenderer;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattribute = attributes.get( index );\n\n\t\t\trenderer = indexedBufferRenderer;\n\t\t\trenderer.setIndex( attribute );\n\n\t\t}\n\n\t\t//\n\n\t\tconst dataCount = ( index !== null ) ? index.count : position.count;\n\n\t\tconst rangeStart = geometry.drawRange.start * rangeFactor;\n\t\tconst rangeCount = geometry.drawRange.count * rangeFactor;\n\n\t\tconst groupStart = group !== null ? group.start * rangeFactor : 0;\n\t\tconst groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n\t\tconst drawStart = Math.max( rangeStart, groupStart );\n\t\tconst drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\n\n\t\tconst drawCount = Math.max( 0, drawEnd - drawStart + 1 );\n\n\t\tif ( drawCount === 0 ) return;\n\n\t\t//\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 4 );\n\n\t\t\t}\n\n\t\t} else if ( object.isLine ) {\n\n\t\t\tlet lineWidth = material.linewidth;\n\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n\t\t\tif ( object.isLineSegments ) {\n\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else if ( object.isLineLoop ) {\n\n\t\t\t\trenderer.setMode( 2 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 3 );\n\n\t\t\t}\n\n\t\t} else if ( object.isPoints ) {\n\n\t\t\trenderer.setMode( 0 );\n\n\t\t} else if ( object.isSprite ) {\n\n\t\t\trenderer.setMode( 4 );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\trenderer.renderInstances( drawStart, drawCount, object.count );\n\n\t\t} else if ( geometry.isInstancedBufferGeometry ) {\n\n\t\t\tconst instanceCount = Math.min( geometry.instanceCount, geometry._maxInstanceCount );\n\n\t\t\trenderer.renderInstances( drawStart, drawCount, instanceCount );\n\n\t\t} else {\n\n\t\t\trenderer.render( drawStart, drawCount );\n\n\t\t}\n\n\t};\n\n\t// Compile\n\n\tthis.compile = function ( scene, camera ) {\n\n\t\tcurrentRenderState = renderStates.get( scene );\n\t\tcurrentRenderState.init();\n\n\t\tscene.traverseVisible( function ( object ) {\n\n\t\t\tif ( object.isLight && object.layers.test( camera.layers ) ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\tcurrentRenderState.setupLights();\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tconst material = object.material;\n\n\t\t\tif ( material ) {\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0; i < material.length; i ++ ) {\n\n\t\t\t\t\t\tconst material2 = material[ i ];\n\n\t\t\t\t\t\tgetProgram( material2, scene, object );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgetProgram( material, scene, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t};\n\n\t// Animation Loop\n\n\tlet onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time ) {\n\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t}\n\n\tfunction onXRSessionStart() {\n\n\t\tanimation.stop();\n\n\t}\n\n\tfunction onXRSessionEnd() {\n\n\t\tanimation.start();\n\n\t}\n\n\tconst animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tif ( typeof window !== 'undefined' ) animation.setContext( window );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\t\txr.setAnimationLoop( callback );\n\n\t\t( callback === null ) ? animation.stop() : animation.start();\n\n\t};\n\n\txr.addEventListener( 'sessionstart', onXRSessionStart );\n\txr.addEventListener( 'sessionend', onXRSessionEnd );\n\n\t// Rendering\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tlet renderTarget, forceClear;\n\n\t\tif ( arguments[ 2 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.' );\n\t\t\trenderTarget = arguments[ 2 ];\n\n\t\t}\n\n\t\tif ( arguments[ 3 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.' );\n\t\t\tforceClear = arguments[ 3 ];\n\n\t\t}\n\n\t\tif ( camera !== undefined && camera.isCamera !== true ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( _isContextLost === true ) return;\n\n\t\t// update scene graph\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t// update camera matrices and frustum\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\tif ( xr.enabled === true && xr.isPresenting === true ) {\n\n\t\t\tcamera = xr.getCamera( camera );\n\n\t\t}\n\n\t\t//\n\t\tif ( scene.isScene === true ) scene.onBeforeRender( _this, scene, camera, renderTarget || _currentRenderTarget );\n\n\t\tcurrentRenderState = renderStates.get( scene, renderStateStack.length );\n\t\tcurrentRenderState.init();\n\n\t\trenderStateStack.push( currentRenderState );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t_clippingEnabled = clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\n\n\t\tcurrentRenderList = renderLists.get( scene, renderListStack.length );\n\t\tcurrentRenderList.init();\n\n\t\trenderListStack.push( currentRenderList );\n\n\t\tprojectObject( scene, camera, 0, _this.sortObjects );\n\n\t\tcurrentRenderList.finish();\n\n\t\tif ( _this.sortObjects === true ) {\n\n\t\t\tcurrentRenderList.sort( _opaqueSort, _transparentSort );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _clippingEnabled === true ) clipping.beginShadows();\n\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tshadowMap.render( shadowsArray, scene, camera );\n\n\t\tcurrentRenderState.setupLights();\n\t\tcurrentRenderState.setupLightsView( camera );\n\n\t\tif ( _clippingEnabled === true ) clipping.endShadows();\n\n\t\t//\n\n\t\tif ( this.info.autoReset === true ) this.info.reset();\n\n\t\tif ( renderTarget !== undefined ) {\n\n\t\t\tthis.setRenderTarget( renderTarget );\n\n\t\t}\n\n\t\t//\n\n\t\tbackground.render( currentRenderList, scene, camera, forceClear );\n\n\t\t// render scene\n\n\t\tconst opaqueObjects = currentRenderList.opaque;\n\t\tconst transparentObjects = currentRenderList.transparent;\n\n\t\tif ( opaqueObjects.length > 0 ) renderObjects( opaqueObjects, scene, camera );\n\t\tif ( transparentObjects.length > 0 ) renderObjects( transparentObjects, scene, camera );\n\n\t\t//\n\n\t\tif ( _currentRenderTarget !== null ) {\n\n\t\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\t\ttextures.updateRenderTargetMipmap( _currentRenderTarget );\n\n\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\n\n\t\t\ttextures.updateMultisampleRenderTarget( _currentRenderTarget );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( scene.isScene === true ) scene.onAfterRender( _this, scene, camera );\n\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\tstate.buffers.depth.setTest( true );\n\t\tstate.buffers.depth.setMask( true );\n\t\tstate.buffers.color.setMask( true );\n\n\t\tstate.setPolygonOffset( false );\n\n\t\t// _gl.finish();\n\n\t\tbindingStates.resetDefaultState();\n\t\t_currentMaterialId = - 1;\n\t\t_currentCamera = null;\n\n\t\trenderStateStack.pop();\n\n\t\tif ( renderStateStack.length > 0 ) {\n\n\t\t\tcurrentRenderState = renderStateStack[ renderStateStack.length - 1 ];\n\n\t\t} else {\n\n\t\t\tcurrentRenderState = null;\n\n\t\t}\n\n\t\trenderListStack.pop();\n\n\t\tif ( renderListStack.length > 0 ) {\n\n\t\t\tcurrentRenderList = renderListStack[ renderListStack.length - 1 ];\n\n\t\t} else {\n\n\t\t\tcurrentRenderList = null;\n\n\t\t}\n\n\t};\n\n\tfunction projectObject( object, camera, groupOrder, sortObjects ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible ) {\n\n\t\t\tif ( object.isGroup ) {\n\n\t\t\t\tgroupOrder = object.renderOrder;\n\n\t\t\t} else if ( object.isLOD ) {\n\n\t\t\t\tif ( object.autoUpdate === true ) object.update( camera );\n\n\t\t\t} else if ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isImmediateRenderObject ) {\n\n\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t}\n\n\t\t\t\tcurrentRenderList.push( object, null, object.material, groupOrder, _vector3.z, null );\n\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\t// update skeleton only once in a frame\n\n\t\t\t\t\tif ( object.skeleton.frame !== info.render.frame ) {\n\n\t\t\t\t\t\tobject.skeleton.update();\n\t\t\t\t\t\tobject.skeleton.frame = info.render.frame;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, groupOrder, _vector3.z, group );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tprojectObject( children[ i ], camera, groupOrder, sortObjects );\n\n\t\t}\n\n\t}\n\n\tfunction renderObjects( renderList, scene, camera ) {\n\n\t\tconst overrideMaterial = scene.isScene === true ? scene.overrideMaterial : null;\n\n\t\tfor ( let i = 0, l = renderList.length; i < l; i ++ ) {\n\n\t\t\tconst renderItem = renderList[ i ];\n\n\t\t\tconst object = renderItem.object;\n\t\t\tconst geometry = renderItem.geometry;\n\t\t\tconst material = overrideMaterial === null ? renderItem.material : overrideMaterial;\n\t\t\tconst group = renderItem.group;\n\n\t\t\tif ( camera.isArrayCamera ) {\n\n\t\t\t\tconst cameras = camera.cameras;\n\n\t\t\t\tfor ( let j = 0, jl = cameras.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst camera2 = cameras[ j ];\n\n\t\t\t\t\tif ( object.layers.test( camera2.layers ) ) {\n\n\t\t\t\t\t\tstate.viewport( _currentViewport.copy( camera2.viewport ) );\n\n\t\t\t\t\t\tcurrentRenderState.setupLightsView( camera2 );\n\n\t\t\t\t\t\trenderObject( object, scene, camera2, geometry, material, group );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\n\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\n\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n\t\tif ( object.isImmediateRenderObject ) {\n\n\t\t\tconst program = setProgram( camera, scene, material, object );\n\n\t\t\tstate.setMaterial( material );\n\n\t\t\tbindingStates.reset();\n\n\t\t\trenderObjectImmediate( object, program );\n\n\t\t} else {\n\n\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t}\n\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\n\n\t}\n\n\tfunction getProgram( material, scene, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tconst lights = currentRenderState.state.lights;\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tconst lightsStateVersion = lights.state.version;\n\n\t\tconst parameters = programCache.getParameters( material, lights.state, shadowsArray, scene, object );\n\t\tconst programCacheKey = programCache.getProgramCacheKey( parameters );\n\n\t\tlet programs = materialProperties.programs;\n\n\t\t// always update environment and fog - changing these trigger an getProgram call, but it's possible that the program doesn't change\n\n\t\tmaterialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tmaterialProperties.fog = scene.fog;\n\t\tmaterialProperties.envMap = cubemaps.get( material.envMap || materialProperties.environment );\n\n\t\tif ( programs === undefined ) {\n\n\t\t\t// new material\n\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\t\tprograms = new Map();\n\t\t\tmaterialProperties.programs = programs;\n\n\t\t}\n\n\t\tlet program = programs.get( programCacheKey );\n\n\t\tif ( program !== undefined ) {\n\n\t\t\t// early out if program and light state is identical\n\n\t\t\tif ( materialProperties.currentProgram === program && materialProperties.lightsStateVersion === lightsStateVersion ) {\n\n\t\t\t\tupdateCommonMaterialProperties( material, parameters );\n\n\t\t\t\treturn program;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tparameters.uniforms = programCache.getUniforms( material );\n\n\t\t\tmaterial.onBuild( parameters, _this );\n\n\t\t\tmaterial.onBeforeCompile( parameters, _this );\n\n\t\t\tprogram = programCache.acquireProgram( parameters, programCacheKey );\n\t\t\tprograms.set( programCacheKey, program );\n\n\t\t\tmaterialProperties.uniforms = parameters.uniforms;\n\n\t\t}\n\n\t\tconst uniforms = materialProperties.uniforms;\n\n\t\tif ( ( ! material.isShaderMaterial && ! material.isRawShaderMaterial ) || material.clipping === true ) {\n\n\t\t\tuniforms.clippingPlanes = clipping.uniform;\n\n\t\t}\n\n\t\tupdateCommonMaterialProperties( material, parameters );\n\n\t\t// store the light setup it was created for\n\n\t\tmaterialProperties.needsLights = materialNeedsLights( material );\n\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t// wire up the material to this renderer's lighting state\n\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\tuniforms.lightProbe.value = lights.state.probe;\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\tuniforms.directionalLightShadows.value = lights.state.directionalShadow;\n\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\tuniforms.spotLightShadows.value = lights.state.spotShadow;\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\tuniforms.ltc_1.value = lights.state.rectAreaLTC1;\n\t\t\tuniforms.ltc_2.value = lights.state.rectAreaLTC2;\n\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\tuniforms.pointLightShadows.value = lights.state.pointShadow;\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\n\n\t\t}\n\n\t\tconst progUniforms = program.getUniforms();\n\t\tconst uniformsList = WebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n\t\tmaterialProperties.currentProgram = program;\n\t\tmaterialProperties.uniformsList = uniformsList;\n\n\t\treturn program;\n\n\t}\n\n\tfunction updateCommonMaterialProperties( material, parameters ) {\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tmaterialProperties.outputEncoding = parameters.outputEncoding;\n\t\tmaterialProperties.instancing = parameters.instancing;\n\t\tmaterialProperties.numClippingPlanes = parameters.numClippingPlanes;\n\t\tmaterialProperties.numIntersection = parameters.numClipIntersection;\n\t\tmaterialProperties.vertexAlphas = parameters.vertexAlphas;\n\n\t}\n\n\tfunction setProgram( camera, scene, material, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\ttextures.resetTextureUnits();\n\n\t\tconst fog = scene.fog;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tconst encoding = ( _currentRenderTarget === null ) ? _this.outputEncoding : _currentRenderTarget.texture.encoding;\n\t\tconst envMap = cubemaps.get( material.envMap || environment );\n\t\tconst vertexAlphas = material.vertexColors === true && object.geometry && object.geometry.attributes.color && object.geometry.attributes.color.itemSize === 4;\n\n\t\tconst materialProperties = properties.get( material );\n\t\tconst lights = currentRenderState.state.lights;\n\n\t\tif ( _clippingEnabled === true ) {\n\n\t\t\tif ( _localClippingEnabled === true || camera !== _currentCamera ) {\n\n\t\t\t\tconst useCache =\n\t\t\t\t\tcamera === _currentCamera &&\n\t\t\t\t\tmaterial.id === _currentMaterialId;\n\n\t\t\t\t// we might want to call this function with some ClippingGroup\n\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t// (#8465, #8379)\n\t\t\t\tclipping.setState( material, camera, useCache );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tlet needsProgramChange = false;\n\n\t\tif ( material.version === materialProperties.__version ) {\n\n\t\t\tif ( materialProperties.needsLights && ( materialProperties.lightsStateVersion !== lights.state.version ) ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.outputEncoding !== encoding ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( object.isInstancedMesh && materialProperties.instancing === false ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( ! object.isInstancedMesh && materialProperties.instancing === true ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.envMap !== envMap ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( material.fog && materialProperties.fog !== fog ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\n\t\t\t\t( materialProperties.numClippingPlanes !== clipping.numPlanes ||\n\t\t\t\tmaterialProperties.numIntersection !== clipping.numIntersection ) ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.vertexAlphas !== vertexAlphas ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tneedsProgramChange = true;\n\t\t\tmaterialProperties.__version = material.version;\n\n\t\t}\n\n\t\t//\n\n\t\tlet program = materialProperties.currentProgram;\n\n\t\tif ( needsProgramChange === true ) {\n\n\t\t\tprogram = getProgram( material, scene, object );\n\n\t\t}\n\n\t\tlet refreshProgram = false;\n\t\tlet refreshMaterial = false;\n\t\tlet refreshLights = false;\n\n\t\tconst p_uniforms = program.getUniforms(),\n\t\t\tm_uniforms = materialProperties.uniforms;\n\n\t\tif ( state.useProgram( program.program ) ) {\n\n\t\t\trefreshProgram = true;\n\t\t\trefreshMaterial = true;\n\t\t\trefreshLights = true;\n\n\t\t}\n\n\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t_currentMaterialId = material.id;\n\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( refreshProgram || _currentCamera !== camera ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n\t\t\t}\n\n\t\t\tif ( _currentCamera !== camera ) {\n\n\t\t\t\t_currentCamera = camera;\n\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\n\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\n\n\t\t\t}\n\n\t\t\t// load material specific uniforms\n\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\tif ( material.isShaderMaterial ||\n\t\t\t\tmaterial.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.envMap ) {\n\n\t\t\t\tconst uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\tif ( uCamPos !== undefined ) {\n\n\t\t\t\t\tuCamPos.setValue( _gl,\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'isOrthographic', camera.isOrthographicCamera === true );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ||\n\t\t\t\tmaterial.isShadowMaterial ||\n\t\t\t\tmaterial.skinning ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// skinning uniforms must be set even if material didn't change\n\t\t// auto-setting of texture unit for bone texture must go before other textures\n\t\t// otherwise textures used for skinning can take over texture units reserved for other material textures\n\n\t\tif ( material.skinning ) {\n\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n\t\t\tconst skeleton = object.skeleton;\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tconst bones = skeleton.bones;\n\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\t\t\tif ( skeleton.boneTexture === null ) {\n\n\t\t\t\t\t\t// layout (1 matrix = 4 pixels)\n\t\t\t\t\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t\t\t\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n\t\t\t\t\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n\t\t\t\t\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n\t\t\t\t\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\n\t\t\t\t\t\tlet size = Math.sqrt( bones.length * 4 ); // 4 pixels needed for 1 matrix\n\t\t\t\t\t\tsize = ceilPowerOfTwo( size );\n\t\t\t\t\t\tsize = Math.max( size, 4 );\n\n\t\t\t\t\t\tconst boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\n\t\t\t\t\t\tboneMatrices.set( skeleton.boneMatrices ); // copy current values\n\n\t\t\t\t\t\tconst boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\n\n\t\t\t\t\t\tskeleton.boneMatrices = boneMatrices;\n\t\t\t\t\t\tskeleton.boneTexture = boneTexture;\n\t\t\t\t\t\tskeleton.boneTextureSize = size;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture, textures );\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tp_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow ) {\n\n\t\t\tmaterialProperties.receiveShadow = object.receiveShadow;\n\t\t\tp_uniforms.setValue( _gl, 'receiveShadow', object.receiveShadow );\n\n\t\t}\n\n\t\tif ( refreshMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n\n\t\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t\t// the current material requires lighting info\n\n\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t// values\n\t\t\t\t//\n\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t// the GL state when required\n\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n\t\t\t}\n\n\t\t\t// refresh uniforms common to several materials\n\n\t\t\tif ( fog && material.fog ) {\n\n\t\t\t\tmaterials.refreshFogUniforms( m_uniforms, fog );\n\n\t\t\t}\n\n\t\t\tmaterials.refreshMaterialUniforms( m_uniforms, material, _pixelRatio, _height );\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\n\t\t}\n\n\t\tif ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\t\t\tmaterial.uniformsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( material.isSpriteMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'center', object.center );\n\n\t\t}\n\n\t\t// common matrices\n\n\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n\t\treturn program;\n\n\t}\n\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n\t\tuniforms.ambientLightColor.needsUpdate = value;\n\t\tuniforms.lightProbe.needsUpdate = value;\n\n\t\tuniforms.directionalLights.needsUpdate = value;\n\t\tuniforms.directionalLightShadows.needsUpdate = value;\n\t\tuniforms.pointLights.needsUpdate = value;\n\t\tuniforms.pointLightShadows.needsUpdate = value;\n\t\tuniforms.spotLights.needsUpdate = value;\n\t\tuniforms.spotLightShadows.needsUpdate = value;\n\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\tuniforms.hemisphereLights.needsUpdate = value;\n\n\t}\n\n\tfunction materialNeedsLights( material ) {\n\n\t\treturn material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial ||\n\t\t\tmaterial.isMeshStandardMaterial || material.isShadowMaterial ||\n\t\t\t( material.isShaderMaterial && material.lights === true );\n\n\t}\n\n\tthis.getActiveCubeFace = function () {\n\n\t\treturn _currentActiveCubeFace;\n\n\t};\n\n\tthis.getActiveMipmapLevel = function () {\n\n\t\treturn _currentActiveMipmapLevel;\n\n\t};\n\n\tthis.getRenderTarget = function () {\n\n\t\treturn _currentRenderTarget;\n\n\t};\n\n\tthis.setRenderTarget = function ( renderTarget, activeCubeFace = 0, activeMipmapLevel = 0 ) {\n\n\t\t_currentRenderTarget = renderTarget;\n\t\t_currentActiveCubeFace = activeCubeFace;\n\t\t_currentActiveMipmapLevel = activeMipmapLevel;\n\n\t\tif ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\n\n\t\t\ttextures.setupRenderTarget( renderTarget );\n\n\t\t}\n\n\t\tlet framebuffer = null;\n\t\tlet isCube = false;\n\t\tlet isRenderTarget3D = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tconst texture = renderTarget.texture;\n\n\t\t\tif ( texture.isDataTexture3D || texture.isDataTexture2DArray ) {\n\n\t\t\t\tisRenderTarget3D = true;\n\n\t\t\t}\n\n\t\t\tconst __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\t\tframebuffer = __webglFramebuffer[ activeCubeFace ];\n\t\t\t\tisCube = true;\n\n\t\t\t} else if ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\t\tframebuffer = properties.get( renderTarget ).__webglMultisampledFramebuffer;\n\n\t\t\t} else {\n\n\t\t\t\tframebuffer = __webglFramebuffer;\n\n\t\t\t}\n\n\t\t\t_currentViewport.copy( renderTarget.viewport );\n\t\t\t_currentScissor.copy( renderTarget.scissor );\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\n\t\t} else {\n\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissorTest = _scissorTest;\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\tstate.viewport( _currentViewport );\n\t\tstate.scissor( _currentScissor );\n\t\tstate.setScissorTest( _currentScissorTest );\n\n\t\tif ( isCube ) {\n\n\t\t\tconst textureProperties = properties.get( renderTarget.texture );\n\t\t\t_gl.framebufferTexture2D( 36160, 36064, 34069 + activeCubeFace, textureProperties.__webglTexture, activeMipmapLevel );\n\n\t\t} else if ( isRenderTarget3D ) {\n\n\t\t\tconst textureProperties = properties.get( renderTarget.texture );\n\t\t\tconst layer = activeCubeFace || 0;\n\t\t\t_gl.framebufferTextureLayer( 36160, 36064, textureProperties.__webglTexture, activeMipmapLevel || 0, layer );\n\n\t\t}\n\n\t};\n\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer, activeCubeFaceIndex ) {\n\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tlet framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget && activeCubeFaceIndex !== undefined ) {\n\n\t\t\tframebuffer = framebuffer[ activeCubeFaceIndex ];\n\n\t\t}\n\n\t\tif ( framebuffer ) {\n\n\t\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\t\ttry {\n\n\t\t\t\tconst texture = renderTarget.texture;\n\t\t\t\tconst textureFormat = texture.format;\n\t\t\t\tconst textureType = texture.type;\n\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( 35739 ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tconst halfFloatSupportedByExt = ( textureType === HalfFloatType ) && ( extensions.has( 'EXT_color_buffer_half_float' ) || ( capabilities.isWebGL2 && extensions.has( 'EXT_color_buffer_float' ) ) );\n\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( 35738 ) && // Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.has( 'OES_texture_float' ) || extensions.has( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t! halfFloatSupportedByExt ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _gl.checkFramebufferStatus( 36160 ) === 36053 ) {\n\n\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\t\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\n\n\t\t\t\t}\n\n\t\t\t} finally {\n\n\t\t\t\t// restore framebuffer of current render target if necessary\n\n\t\t\t\tconst framebuffer = ( _currentRenderTarget !== null ) ? properties.get( _currentRenderTarget ).__webglFramebuffer : null;\n\t\t\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.copyFramebufferToTexture = function ( position, texture, level = 0 ) {\n\n\t\tconst levelScale = Math.pow( 2, - level );\n\t\tconst width = Math.floor( texture.image.width * levelScale );\n\t\tconst height = Math.floor( texture.image.height * levelScale );\n\t\tconst glFormat = utils.convert( texture.format );\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\t_gl.copyTexImage2D( 3553, level, glFormat, position.x, position.y, width, height, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture = function ( position, srcTexture, dstTexture, level = 0 ) {\n\n\t\tconst width = srcTexture.image.width;\n\t\tconst height = srcTexture.image.height;\n\t\tconst glFormat = utils.convert( dstTexture.format );\n\t\tconst glType = utils.convert( dstTexture.type );\n\n\t\ttextures.setTexture2D( dstTexture, 0 );\n\n\t\t// As another texture upload may have changed pixelStorei\n\t\t// parameters, make sure they are correct for the dstTexture\n\t\t_gl.pixelStorei( 37440, dstTexture.flipY );\n\t\t_gl.pixelStorei( 37441, dstTexture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, dstTexture.unpackAlignment );\n\n\t\tif ( srcTexture.isDataTexture ) {\n\n\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\n\n\t\t} else {\n\n\t\t\tif ( srcTexture.isCompressedTexture ) {\n\n\t\t\t\t_gl.compressedTexSubImage2D( 3553, level, position.x, position.y, srcTexture.mipmaps[ 0 ].width, srcTexture.mipmaps[ 0 ].height, glFormat, srcTexture.mipmaps[ 0 ].data );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, glFormat, glType, srcTexture.image );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Generate mipmaps only when copying level 0\n\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( 3553 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture3D = function ( sourceBox, position, srcTexture, dstTexture, level = 0 ) {\n\n\t\tif ( _this.isWebGL1Renderer ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst { width, height, data } = srcTexture.image;\n\t\tconst glFormat = utils.convert( dstTexture.format );\n\t\tconst glType = utils.convert( dstTexture.type );\n\t\tlet glTarget;\n\n\t\tif ( dstTexture.isDataTexture3D ) {\n\n\t\t\ttextures.setTexture3D( dstTexture, 0 );\n\t\t\tglTarget = 32879;\n\n\t\t} else if ( dstTexture.isDataTexture2DArray ) {\n\n\t\t\ttextures.setTexture2DArray( dstTexture, 0 );\n\t\t\tglTarget = 35866;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_gl.pixelStorei( 37440, dstTexture.flipY );\n\t\t_gl.pixelStorei( 37441, dstTexture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, dstTexture.unpackAlignment );\n\n\t\tconst unpackRowLen = _gl.getParameter( 3314 );\n\t\tconst unpackImageHeight = _gl.getParameter( 32878 );\n\t\tconst unpackSkipPixels = _gl.getParameter( 3316 );\n\t\tconst unpackSkipRows = _gl.getParameter( 3315 );\n\t\tconst unpackSkipImages = _gl.getParameter( 32877 );\n\n\t\t_gl.pixelStorei( 3314, width );\n\t\t_gl.pixelStorei( 32878, height );\n\t\t_gl.pixelStorei( 3316, sourceBox.min.x );\n\t\t_gl.pixelStorei( 3315, sourceBox.min.y );\n\t\t_gl.pixelStorei( 32877, sourceBox.min.z );\n\n\t\t_gl.texSubImage3D(\n\t\t\tglTarget,\n\t\t\tlevel,\n\t\t\tposition.x,\n\t\t\tposition.y,\n\t\t\tposition.z,\n\t\t\tsourceBox.max.x - sourceBox.min.x + 1,\n\t\t\tsourceBox.max.y - sourceBox.min.y + 1,\n\t\t\tsourceBox.max.z - sourceBox.min.z + 1,\n\t\t\tglFormat,\n\t\t\tglType,\n\t\t\tdata\n\t\t);\n\n\t\t_gl.pixelStorei( 3314, unpackRowLen );\n\t\t_gl.pixelStorei( 32878, unpackImageHeight );\n\t\t_gl.pixelStorei( 3316, unpackSkipPixels );\n\t\t_gl.pixelStorei( 3315, unpackSkipRows );\n\t\t_gl.pixelStorei( 32877, unpackSkipImages );\n\n\t\t// Generate mipmaps only when copying level 0\n\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( glTarget );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.initTexture = function ( texture ) {\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.resetState = function () {\n\n\t\t_currentActiveCubeFace = 0;\n\t\t_currentActiveMipmapLevel = 0;\n\t\t_currentRenderTarget = null;\n\n\t\tstate.reset();\n\t\tbindingStates.reset();\n\n\t};\n\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t}\n\n}\n\nclass WebGL1Renderer extends WebGLRenderer {}\n\nWebGL1Renderer.prototype.isWebGL1Renderer = true;\n\nclass FogExp2 {\n\n\tconstructor( color, density = 0.00025 ) {\n\n\t\tthis.name = '';\n\n\t\tthis.color = new Color( color );\n\t\tthis.density = density;\n\n\t}\n\n\tclone() {\n\n\t\treturn new FogExp2( this.color, this.density );\n\n\t}\n\n\ttoJSON( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'FogExp2',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tdensity: this.density\n\t\t};\n\n\t}\n\n}\n\nFogExp2.prototype.isFogExp2 = true;\n\nclass Fog {\n\n\tconstructor( color, near = 1, far = 1000 ) {\n\n\t\tthis.name = '';\n\n\t\tthis.color = new Color( color );\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Fog( this.color, this.near, this.far );\n\n\t}\n\n\ttoJSON( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'Fog',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tnear: this.near,\n\t\t\tfar: this.far\n\t\t};\n\n\t}\n\n}\n\nFog.prototype.isFog = true;\n\nclass Scene extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'Scene';\n\n\t\tthis.background = null;\n\t\tthis.environment = null;\n\t\tthis.fog = null;\n\n\t\tthis.overrideMaterial = null;\n\n\t\tthis.autoUpdate = true; // checked by the renderer\n\n\t\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t\t}\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tif ( source.background !== null ) this.background = source.background.clone();\n\t\tif ( source.environment !== null ) this.environment = source.environment.clone();\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\n\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tif ( this.background !== null ) data.object.background = this.background.toJSON( meta );\n\t\tif ( this.environment !== null ) data.object.environment = this.environment.toJSON( meta );\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nScene.prototype.isScene = true;\n\nclass InterleavedBuffer {\n\n\tconstructor( array, stride ) {\n\n\t\tthis.array = array;\n\t\tthis.stride = stride;\n\t\tthis.count = array !== undefined ? array.length / stride : 0;\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.updateRange = { offset: 0, count: - 1 };\n\n\t\tthis.version = 0;\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.onUploadCallback = function () {};\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.count = source.count;\n\t\tthis.stride = source.stride;\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t}\n\n\tcopyAt( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.stride;\n\t\tindex2 *= attribute.stride;\n\n\t\tfor ( let i = 0, l = this.stride; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tset( value, offset = 0 ) {\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = this.array.slice( 0 ).buffer;\n\n\t\t}\n\n\t\tconst array = new this.array.constructor( data.arrayBuffers[ this.array.buffer._uuid ] );\n\n\t\tconst ib = new InterleavedBuffer( array, this.stride );\n\t\tib.setUsage( this.usage );\n\n\t\treturn ib;\n\n\t}\n\n\tonUpload( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\t// generate UUID for array buffer if necessary\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = Array.prototype.slice.call( new Uint32Array( this.array.buffer ) );\n\n\t\t}\n\n\t\t//\n\n\t\treturn {\n\t\t\tuuid: this.uuid,\n\t\t\tbuffer: this.array.buffer._uuid,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tstride: this.stride\n\t\t};\n\n\t}\n\n}\n\nInterleavedBuffer.prototype.isInterleavedBuffer = true;\n\nconst _vector$6 = new /*@__PURE__*/ Vector3();\n\nclass InterleavedBufferAttribute {\n\n\tconstructor( interleavedBuffer, itemSize, offset, normalized ) {\n\n\t\tthis.name = '';\n\n\t\tthis.data = interleavedBuffer;\n\t\tthis.itemSize = itemSize;\n\t\tthis.offset = offset;\n\n\t\tthis.normalized = normalized === true;\n\n\t}\n\n\tget count() {\n\n\t\treturn this.data.count;\n\n\t}\n\n\tget array() {\n\n\t\treturn this.data.array;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tthis.data.needsUpdate = value;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tfor ( let i = 0, l = this.data.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.x = this.getX( i );\n\t\t\t_vector$6.y = this.getY( i );\n\t\t\t_vector$6.z = this.getZ( i );\n\n\t\t\t_vector$6.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.x = this.getX( i );\n\t\t\t_vector$6.y = this.getY( i );\n\t\t\t_vector$6.z = this.getZ( i );\n\n\t\t\t_vector$6.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.x = this.getX( i );\n\t\t\t_vector$6.y = this.getY( i );\n\t\t\t_vector$6.z = this.getZ( i );\n\n\t\t\t_vector$6.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tgetX( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset ];\n\n\t}\n\n\tgetY( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n\t}\n\n\tgetZ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n\t}\n\n\tgetW( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\t\tthis.data.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( new this.array.constructor( array ), this.itemSize, this.normalized );\n\n\t\t} else {\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.clone( data );\n\n\t\t\t}\n\n\t\t\treturn new InterleavedBufferAttribute( data.interleavedBuffers[ this.data.uuid ], this.itemSize, this.offset, this.normalized );\n\n\t\t}\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// deinterleave data and save it as an ordinary buffer attribute for now\n\n\t\t\treturn {\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\ttype: this.array.constructor.name,\n\t\t\t\tarray: array,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t} else {\n\n\t\t\t// save as true interlaved attribtue\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.toJSON( data );\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tisInterleavedBufferAttribute: true,\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\tdata: this.data.uuid,\n\t\t\t\toffset: this.offset,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t}\n\n\t}\n\n}\n\nInterleavedBufferAttribute.prototype.isInterleavedBufferAttribute = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *  rotation: <float>,\n *  sizeAttenuation: <bool>\n * }\n */\n\nclass SpriteMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'SpriteMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.rotation = 0;\n\n\t\tthis.sizeAttenuation = true;\n\n\t\tthis.transparent = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\t\treturn this;\n\n\t}\n\n}\n\nSpriteMaterial.prototype.isSpriteMaterial = true;\n\nlet _geometry;\n\nconst _intersectPoint = /*@__PURE__*/ new Vector3();\nconst _worldScale = /*@__PURE__*/ new Vector3();\nconst _mvPosition = /*@__PURE__*/ new Vector3();\n\nconst _alignedPosition = /*@__PURE__*/ new Vector2();\nconst _rotatedPosition = /*@__PURE__*/ new Vector2();\nconst _viewWorldMatrix = /*@__PURE__*/ new Matrix4();\n\nconst _vA = /*@__PURE__*/ new Vector3();\nconst _vB = /*@__PURE__*/ new Vector3();\nconst _vC = /*@__PURE__*/ new Vector3();\n\nconst _uvA = /*@__PURE__*/ new Vector2();\nconst _uvB = /*@__PURE__*/ new Vector2();\nconst _uvC = /*@__PURE__*/ new Vector2();\n\nclass Sprite extends Object3D {\n\n\tconstructor( material ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Sprite';\n\n\t\tif ( _geometry === undefined ) {\n\n\t\t\t_geometry = new BufferGeometry();\n\n\t\t\tconst float32Array = new Float32Array( [\n\t\t\t\t- 0.5, - 0.5, 0, 0, 0,\n\t\t\t\t0.5, - 0.5, 0, 1, 0,\n\t\t\t\t0.5, 0.5, 0, 1, 1,\n\t\t\t\t- 0.5, 0.5, 0, 0, 1\n\t\t\t] );\n\n\t\t\tconst interleavedBuffer = new InterleavedBuffer( float32Array, 5 );\n\n\t\t\t_geometry.setIndex( [ 0, 1, 2,\t0, 2, 3 ] );\n\t\t\t_geometry.setAttribute( 'position', new InterleavedBufferAttribute( interleavedBuffer, 3, 0, false ) );\n\t\t\t_geometry.setAttribute( 'uv', new InterleavedBufferAttribute( interleavedBuffer, 2, 3, false ) );\n\n\t\t}\n\n\t\tthis.geometry = _geometry;\n\t\tthis.material = ( material !== undefined ) ? material : new SpriteMaterial();\n\n\t\tthis.center = new Vector2( 0.5, 0.5 );\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tif ( raycaster.camera === null ) {\n\n\t\t\tconsole.error( 'THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.' );\n\n\t\t}\n\n\t\t_worldScale.setFromMatrixScale( this.matrixWorld );\n\n\t\t_viewWorldMatrix.copy( raycaster.camera.matrixWorld );\n\t\tthis.modelViewMatrix.multiplyMatrices( raycaster.camera.matrixWorldInverse, this.matrixWorld );\n\n\t\t_mvPosition.setFromMatrixPosition( this.modelViewMatrix );\n\n\t\tif ( raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false ) {\n\n\t\t\t_worldScale.multiplyScalar( - _mvPosition.z );\n\n\t\t}\n\n\t\tconst rotation = this.material.rotation;\n\t\tlet sin, cos;\n\n\t\tif ( rotation !== 0 ) {\n\n\t\t\tcos = Math.cos( rotation );\n\t\t\tsin = Math.sin( rotation );\n\n\t\t}\n\n\t\tconst center = this.center;\n\n\t\ttransformVertex( _vA.set( - 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vB.set( 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vC.set( 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\n\t\t_uvA.set( 0, 0 );\n\t\t_uvB.set( 1, 0 );\n\t\t_uvC.set( 1, 1 );\n\n\t\t// check first triangle\n\t\tlet intersect = raycaster.ray.intersectTriangle( _vA, _vB, _vC, false, _intersectPoint );\n\n\t\tif ( intersect === null ) {\n\n\t\t\t// check second triangle\n\t\t\ttransformVertex( _vB.set( - 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\t\t_uvB.set( 0, 1 );\n\n\t\t\tintersect = raycaster.ray.intersectTriangle( _vA, _vC, _vB, false, _intersectPoint );\n\t\t\tif ( intersect === null ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( _intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tpoint: _intersectPoint.clone(),\n\t\t\tuv: Triangle.getUV( _intersectPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() ),\n\t\t\tface: null,\n\t\t\tobject: this\n\n\t\t} );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tif ( source.center !== undefined ) this.center.copy( source.center );\n\n\t\tthis.material = source.material;\n\n\t\treturn this;\n\n\t}\n\n}\n\nSprite.prototype.isSprite = true;\n\nfunction transformVertex( vertexPosition, mvPosition, center, scale, sin, cos ) {\n\n\t// compute position in camera space\n\t_alignedPosition.subVectors( vertexPosition, center ).addScalar( 0.5 ).multiply( scale );\n\n\t// to check if rotation is not zero\n\tif ( sin !== undefined ) {\n\n\t\t_rotatedPosition.x = ( cos * _alignedPosition.x ) - ( sin * _alignedPosition.y );\n\t\t_rotatedPosition.y = ( sin * _alignedPosition.x ) + ( cos * _alignedPosition.y );\n\n\t} else {\n\n\t\t_rotatedPosition.copy( _alignedPosition );\n\n\t}\n\n\n\tvertexPosition.copy( mvPosition );\n\tvertexPosition.x += _rotatedPosition.x;\n\tvertexPosition.y += _rotatedPosition.y;\n\n\t// transform to world space\n\tvertexPosition.applyMatrix4( _viewWorldMatrix );\n\n}\n\nconst _v1$2 = /*@__PURE__*/ new Vector3();\nconst _v2$1 = /*@__PURE__*/ new Vector3();\n\nclass LOD extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis._currentLevel = 0;\n\n\t\tthis.type = 'LOD';\n\n\t\tObject.defineProperties( this, {\n\t\t\tlevels: {\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tisLOD: {\n\t\t\t\tvalue: true,\n\t\t\t}\n\t\t} );\n\n\t\tthis.autoUpdate = true;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source, false );\n\n\t\tconst levels = source.levels;\n\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tconst level = levels[ i ];\n\n\t\t\tthis.addLevel( level.object.clone(), level.distance );\n\n\t\t}\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\n\t\treturn this;\n\n\t}\n\n\taddLevel( object, distance = 0 ) {\n\n\t\tdistance = Math.abs( distance );\n\n\t\tconst levels = this.levels;\n\n\t\tlet l;\n\n\t\tfor ( l = 0; l < levels.length; l ++ ) {\n\n\t\t\tif ( distance < levels[ l ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlevels.splice( l, 0, { distance: distance, object: object } );\n\n\t\tthis.add( object );\n\n\t\treturn this;\n\n\t}\n\n\tgetCurrentLevel() {\n\n\t\treturn this._currentLevel;\n\n\t}\n\n\tgetObjectForDistance( distance ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\tlet i, l;\n\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance < levels[ i ].distance ) {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn levels[ i - 1 ].object;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\t_v1$2.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tconst distance = raycaster.ray.origin.distanceTo( _v1$2 );\n\n\t\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\n\n\t\t}\n\n\t}\n\n\tupdate( camera ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 1 ) {\n\n\t\t\t_v1$2.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t_v2$1.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tconst distance = _v1$2.distanceTo( _v2$1 ) / camera.zoom;\n\n\t\t\tlevels[ 0 ].object.visible = true;\n\n\t\t\tlet i, l;\n\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance >= levels[ i ].distance ) {\n\n\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\n\t\t\t\t\tlevels[ i ].object.visible = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._currentLevel = i - 1;\n\n\t\t\tfor ( ; i < l; i ++ ) {\n\n\t\t\t\tlevels[ i ].object.visible = false;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tif ( this.autoUpdate === false ) data.object.autoUpdate = false;\n\n\t\tdata.object.levels = [];\n\n\t\tconst levels = this.levels;\n\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tconst level = levels[ i ];\n\n\t\t\tdata.object.levels.push( {\n\t\t\t\tobject: level.object.uuid,\n\t\t\t\tdistance: level.distance\n\t\t\t} );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst _basePosition = /*@__PURE__*/ new Vector3();\n\nconst _skinIndex = /*@__PURE__*/ new Vector4();\nconst _skinWeight = /*@__PURE__*/ new Vector4();\n\nconst _vector$5 = /*@__PURE__*/ new Vector3();\nconst _matrix = /*@__PURE__*/ new Matrix4();\n\nclass SkinnedMesh extends Mesh {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'SkinnedMesh';\n\n\t\tthis.bindMode = 'attached';\n\t\tthis.bindMatrix = new Matrix4();\n\t\tthis.bindMatrixInverse = new Matrix4();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.bindMode = source.bindMode;\n\t\tthis.bindMatrix.copy( source.bindMatrix );\n\t\tthis.bindMatrixInverse.copy( source.bindMatrixInverse );\n\n\t\tthis.skeleton = source.skeleton;\n\n\t\treturn this;\n\n\t}\n\n\tbind( skeleton, bindMatrix ) {\n\n\t\tthis.skeleton = skeleton;\n\n\t\tif ( bindMatrix === undefined ) {\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.skeleton.calculateInverses();\n\n\t\t\tbindMatrix = this.matrixWorld;\n\n\t\t}\n\n\t\tthis.bindMatrix.copy( bindMatrix );\n\t\tthis.bindMatrixInverse.copy( bindMatrix ).invert();\n\n\t}\n\n\tpose() {\n\n\t\tthis.skeleton.pose();\n\n\t}\n\n\tnormalizeSkinWeights() {\n\n\t\tconst vector = new Vector4();\n\n\t\tconst skinWeight = this.geometry.attributes.skinWeight;\n\n\t\tfor ( let i = 0, l = skinWeight.count; i < l; i ++ ) {\n\n\t\t\tvector.x = skinWeight.getX( i );\n\t\t\tvector.y = skinWeight.getY( i );\n\t\t\tvector.z = skinWeight.getZ( i );\n\t\t\tvector.w = skinWeight.getW( i );\n\n\t\t\tconst scale = 1.0 / vector.manhattanLength();\n\n\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\tvector.multiplyScalar( scale );\n\n\t\t\t} else {\n\n\t\t\t\tvector.set( 1, 0, 0, 0 ); // do something reasonable\n\n\t\t\t}\n\n\t\t\tskinWeight.setXYZW( i, vector.x, vector.y, vector.z, vector.w );\n\n\t\t}\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tif ( this.bindMode === 'attached' ) {\n\n\t\t\tthis.bindMatrixInverse.copy( this.matrixWorld ).invert();\n\n\t\t} else if ( this.bindMode === 'detached' ) {\n\n\t\t\tthis.bindMatrixInverse.copy( this.bindMatrix ).invert();\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\n\n\t\t}\n\n\t}\n\n\tboneTransform( index, target ) {\n\n\t\tconst skeleton = this.skeleton;\n\t\tconst geometry = this.geometry;\n\n\t\t_skinIndex.fromBufferAttribute( geometry.attributes.skinIndex, index );\n\t\t_skinWeight.fromBufferAttribute( geometry.attributes.skinWeight, index );\n\n\t\t_basePosition.fromBufferAttribute( geometry.attributes.position, index ).applyMatrix4( this.bindMatrix );\n\n\t\ttarget.set( 0, 0, 0 );\n\n\t\tfor ( let i = 0; i < 4; i ++ ) {\n\n\t\t\tconst weight = _skinWeight.getComponent( i );\n\n\t\t\tif ( weight !== 0 ) {\n\n\t\t\t\tconst boneIndex = _skinIndex.getComponent( i );\n\n\t\t\t\t_matrix.multiplyMatrices( skeleton.bones[ boneIndex ].matrixWorld, skeleton.boneInverses[ boneIndex ] );\n\n\t\t\t\ttarget.addScaledVector( _vector$5.copy( _basePosition ).applyMatrix4( _matrix ), weight );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn target.applyMatrix4( this.bindMatrixInverse );\n\n\t}\n\n}\n\nSkinnedMesh.prototype.isSkinnedMesh = true;\n\nclass Bone extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'Bone';\n\n\t}\n\n}\n\nBone.prototype.isBone = true;\n\nconst _offsetMatrix = /*@__PURE__*/ new Matrix4();\nconst _identityMatrix = /*@__PURE__*/ new Matrix4();\n\nclass Skeleton {\n\n\tconstructor( bones = [], boneInverses = [] ) {\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.bones = bones.slice( 0 );\n\t\tthis.boneInverses = boneInverses;\n\t\tthis.boneMatrices = null;\n\n\t\tthis.boneTexture = null;\n\t\tthis.boneTextureSize = 0;\n\n\t\tthis.frame = - 1;\n\n\t\tthis.init();\n\n\t}\n\n\tinit() {\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\n\t\tthis.boneMatrices = new Float32Array( bones.length * 16 );\n\n\t\t// calculate inverse bone matrices if necessary\n\n\t\tif ( boneInverses.length === 0 ) {\n\n\t\t\tthis.calculateInverses();\n\n\t\t} else {\n\n\t\t\t// handle special case\n\n\t\t\tif ( bones.length !== boneInverses.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.Skeleton: Number of inverse bone matrices does not match amount of bones.' );\n\n\t\t\t\tthis.boneInverses = [];\n\n\t\t\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\t\t\tthis.boneInverses.push( new Matrix4() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcalculateInverses() {\n\n\t\tthis.boneInverses.length = 0;\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst inverse = new Matrix4();\n\n\t\t\tif ( this.bones[ i ] ) {\n\n\t\t\t\tinverse.copy( this.bones[ i ].matrixWorld ).invert();\n\n\t\t\t}\n\n\t\t\tthis.boneInverses.push( inverse );\n\n\t\t}\n\n\t}\n\n\tpose() {\n\n\t\t// recover the bind-time world matrices\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tbone.matrixWorld.copy( this.boneInverses[ i ] ).invert();\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compute the local matrices, positions, rotations and scales\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t\tbone.matrix.copy( bone.parent.matrixWorld ).invert();\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\n\n\t\t\t\t}\n\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tupdate() {\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\t\tconst boneMatrices = this.boneMatrices;\n\t\tconst boneTexture = this.boneTexture;\n\n\t\t// flatten bone matrices to array\n\n\t\tfor ( let i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\t// compute the offset between the current and the original transform\n\n\t\t\tconst matrix = bones[ i ] ? bones[ i ].matrixWorld : _identityMatrix;\n\n\t\t\t_offsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\n\t\t\t_offsetMatrix.toArray( boneMatrices, i * 16 );\n\n\t\t}\n\n\t\tif ( boneTexture !== null ) {\n\n\t\t\tboneTexture.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new Skeleton( this.bones, this.boneInverses );\n\n\t}\n\n\tgetBoneByName( name ) {\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone.name === name ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n\tdispose( ) {\n\n\t\tif ( this.boneTexture !== null ) {\n\n\t\t\tthis.boneTexture.dispose();\n\n\t\t\tthis.boneTexture = null;\n\n\t\t}\n\n\t}\n\n\tfromJSON( json, bones ) {\n\n\t\tthis.uuid = json.uuid;\n\n\t\tfor ( let i = 0, l = json.bones.length; i < l; i ++ ) {\n\n\t\t\tconst uuid = json.bones[ i ];\n\t\t\tlet bone = bones[ uuid ];\n\n\t\t\tif ( bone === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Skeleton: No bone found with UUID:', uuid );\n\t\t\t\tbone = new Bone();\n\n\t\t\t}\n\n\t\t\tthis.bones.push( bone );\n\t\t\tthis.boneInverses.push( new Matrix4().fromArray( json.boneInverses[ i ] ) );\n\n\t\t}\n\n\t\tthis.init();\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Skeleton',\n\t\t\t\tgenerator: 'Skeleton.toJSON'\n\t\t\t},\n\t\t\tbones: [],\n\t\t\tboneInverses: []\n\t\t};\n\n\t\tdata.uuid = this.uuid;\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\n\t\tfor ( let i = 0, l = bones.length; i < l; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\t\t\tdata.bones.push( bone.uuid );\n\n\t\t\tconst boneInverse = boneInverses[ i ];\n\t\t\tdata.boneInverses.push( boneInverse.toArray() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n}\n\nconst _instanceLocalMatrix = /*@__PURE__*/ new Matrix4();\nconst _instanceWorldMatrix = /*@__PURE__*/ new Matrix4();\n\nconst _instanceIntersects = [];\n\nconst _mesh = /*@__PURE__*/ new Mesh();\n\nclass InstancedMesh extends Mesh {\n\n\tconstructor( geometry, material, count ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.instanceMatrix = new BufferAttribute( new Float32Array( count * 16 ), 16 );\n\t\tthis.instanceColor = null;\n\n\t\tthis.count = count;\n\n\t\tthis.frustumCulled = false;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.instanceMatrix.copy( source.instanceMatrix );\n\n\t\tif ( source.instanceColor !== null ) this.instanceColor = source.instanceColor.clone();\n\n\t\tthis.count = source.count;\n\n\t\treturn this;\n\n\t}\n\n\tgetColorAt( index, color ) {\n\n\t\tcolor.fromArray( this.instanceColor.array, index * 3 );\n\n\t}\n\n\tgetMatrixAt( index, matrix ) {\n\n\t\tmatrix.fromArray( this.instanceMatrix.array, index * 16 );\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst raycastTimes = this.count;\n\n\t\t_mesh.geometry = this.geometry;\n\t\t_mesh.material = this.material;\n\n\t\tif ( _mesh.material === undefined ) return;\n\n\t\tfor ( let instanceId = 0; instanceId < raycastTimes; instanceId ++ ) {\n\n\t\t\t// calculate the world matrix for each instance\n\n\t\t\tthis.getMatrixAt( instanceId, _instanceLocalMatrix );\n\n\t\t\t_instanceWorldMatrix.multiplyMatrices( matrixWorld, _instanceLocalMatrix );\n\n\t\t\t// the mesh represents this single instance\n\n\t\t\t_mesh.matrixWorld = _instanceWorldMatrix;\n\n\t\t\t_mesh.raycast( raycaster, _instanceIntersects );\n\n\t\t\t// process the result of raycast\n\n\t\t\tfor ( let i = 0, l = _instanceIntersects.length; i < l; i ++ ) {\n\n\t\t\t\tconst intersect = _instanceIntersects[ i ];\n\t\t\t\tintersect.instanceId = instanceId;\n\t\t\t\tintersect.object = this;\n\t\t\t\tintersects.push( intersect );\n\n\t\t\t}\n\n\t\t\t_instanceIntersects.length = 0;\n\n\t\t}\n\n\t}\n\n\tsetColorAt( index, color ) {\n\n\t\tif ( this.instanceColor === null ) {\n\n\t\t\tthis.instanceColor = new BufferAttribute( new Float32Array( this.count * 3 ), 3 );\n\n\t\t}\n\n\t\tcolor.toArray( this.instanceColor.array, index * 3 );\n\n\t}\n\n\tsetMatrixAt( index, matrix ) {\n\n\t\tmatrix.toArray( this.instanceMatrix.array, index * 16 );\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nInstancedMesh.prototype.isInstancedMesh = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\"\n * }\n */\n\nclass LineBasicMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LineBasicMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.linewidth = 1;\n\t\tthis.linecap = 'round';\n\t\tthis.linejoin = 'round';\n\n\t\tthis.morphTargets = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.linewidth = source.linewidth;\n\t\tthis.linecap = source.linecap;\n\t\tthis.linejoin = source.linejoin;\n\n\t\tthis.morphTargets = source.morphTargets;\n\n\t\treturn this;\n\n\t}\n\n}\n\nLineBasicMaterial.prototype.isLineBasicMaterial = true;\n\nconst _start$1 = /*@__PURE__*/ new Vector3();\nconst _end$1 = /*@__PURE__*/ new Vector3();\nconst _inverseMatrix$1 = /*@__PURE__*/ new Matrix4();\nconst _ray$1 = /*@__PURE__*/ new Ray();\nconst _sphere$1 = /*@__PURE__*/ new Sphere();\n\nclass Line extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new LineBasicMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Line';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\tcomputeLineDistances() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\t\tconst lineDistances = [ 0 ];\n\n\t\t\t\tfor ( let i = 1, l = positionAttribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t_start$1.fromBufferAttribute( positionAttribute, i - 1 );\n\t\t\t\t\t_end$1.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i ] += _start$1.distanceTo( _end$1 );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconsole.error( 'THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Line.threshold;\n\t\tconst drawRange = geometry.drawRange;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$1.copy( geometry.boundingSphere );\n\t\t_sphere$1.applyMatrix4( matrixWorld );\n\t\t_sphere$1.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$1 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$1.copy( matrixWorld ).invert();\n\t\t_ray$1.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$1 );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tconst vStart = new Vector3();\n\t\tconst vEnd = new Vector3();\n\t\tconst interSegment = new Vector3();\n\t\tconst interRay = new Vector3();\n\t\tconst step = this.isLineSegments ? 2 : 1;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst attributes = geometry.attributes;\n\t\t\tconst positionAttribute = attributes.position;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, l = end - 1; i < l; i += step ) {\n\n\t\t\t\t\tconst a = index.getX( i );\n\t\t\t\t\tconst b = index.getX( i + 1 );\n\n\t\t\t\t\tvStart.fromBufferAttribute( positionAttribute, a );\n\t\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, b );\n\n\t\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, l = end - 1; i < l; i += step ) {\n\n\t\t\t\t\tvStart.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconsole.error( 'THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nLine.prototype.isLine = true;\n\nconst _start = /*@__PURE__*/ new Vector3();\nconst _end = /*@__PURE__*/ new Vector3();\n\nclass LineSegments extends Line {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'LineSegments';\n\n\t}\n\n\tcomputeLineDistances() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\t\tconst lineDistances = [];\n\n\t\t\t\tfor ( let i = 0, l = positionAttribute.count; i < l; i += 2 ) {\n\n\t\t\t\t\t_start.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\t_end.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start.distanceTo( _end );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconsole.error( 'THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nLineSegments.prototype.isLineSegments = true;\n\nclass LineLoop extends Line {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'LineLoop';\n\n\t}\n\n}\n\nLineLoop.prototype.isLineLoop = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  size: <float>,\n *  sizeAttenuation: <bool>\n *\n *  morphTargets: <bool>\n * }\n */\n\nclass PointsMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PointsMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.size = 1;\n\t\tthis.sizeAttenuation = true;\n\n\t\tthis.morphTargets = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.size = source.size;\n\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\t\tthis.morphTargets = source.morphTargets;\n\n\t\treturn this;\n\n\t}\n\n}\n\nPointsMaterial.prototype.isPointsMaterial = true;\n\nconst _inverseMatrix = /*@__PURE__*/ new Matrix4();\nconst _ray = /*@__PURE__*/ new Ray();\nconst _sphere = /*@__PURE__*/ new Sphere();\nconst _position$2 = /*@__PURE__*/ new Vector3();\n\nclass Points extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new PointsMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Points';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Points.threshold;\n\t\tconst drawRange = geometry.drawRange;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere.copy( geometry.boundingSphere );\n\t\t_sphere.applyMatrix4( matrixWorld );\n\t\t_sphere.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix.copy( matrixWorld ).invert();\n\t\t_ray.copy( raycaster.ray ).applyMatrix4( _inverseMatrix );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst attributes = geometry.attributes;\n\t\t\tconst positionAttribute = attributes.position;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, il = end; i < il; i ++ ) {\n\n\t\t\t\t\tconst a = index.getX( i );\n\n\t\t\t\t\t_position$2.fromBufferAttribute( positionAttribute, a );\n\n\t\t\t\t\ttestPoint( _position$2, a, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, l = end; i < l; i ++ ) {\n\n\t\t\t\t\t_position$2.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\ttestPoint( _position$2, i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nPoints.prototype.isPoints = true;\n\nfunction testPoint( point, index, localThresholdSq, matrixWorld, raycaster, intersects, object ) {\n\n\tconst rayPointDistanceSq = _ray.distanceSqToPoint( point );\n\n\tif ( rayPointDistanceSq < localThresholdSq ) {\n\n\t\tconst intersectPoint = new Vector3();\n\n\t\t_ray.closestPointToPoint( point, intersectPoint );\n\t\tintersectPoint.applyMatrix4( matrixWorld );\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\tpoint: intersectPoint,\n\t\t\tindex: index,\n\t\t\tface: null,\n\t\t\tobject: object\n\n\t\t} );\n\n\t}\n\n}\n\nclass VideoTexture extends Texture {\n\n\tconstructor( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\t\tsuper( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.format = format !== undefined ? format : RGBFormat;\n\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\n\t\tthis.generateMipmaps = false;\n\n\t\tconst scope = this;\n\n\t\tfunction updateVideo() {\n\n\t\t\tscope.needsUpdate = true;\n\t\t\tvideo.requestVideoFrameCallback( updateVideo );\n\n\t\t}\n\n\t\tif ( 'requestVideoFrameCallback' in video ) {\n\n\t\t\tvideo.requestVideoFrameCallback( updateVideo );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.image ).copy( this );\n\n\t}\n\n\tupdate() {\n\n\t\tconst video = this.image;\n\t\tconst hasVideoFrameCallback = 'requestVideoFrameCallback' in video;\n\n\t\tif ( hasVideoFrameCallback === false && video.readyState >= video.HAVE_CURRENT_DATA ) {\n\n\t\t\tthis.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n}\n\nVideoTexture.prototype.isVideoTexture = true;\n\nclass CompressedTexture extends Texture {\n\n\tconstructor( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.image = { width: width, height: height };\n\t\tthis.mipmaps = mipmaps;\n\n\t\t// no flipping for cube textures\n\t\t// (also flipping doesn't work for compressed textures )\n\n\t\tthis.flipY = false;\n\n\t\t// can't generate mipmaps for compressed textures\n\t\t// mips must be embedded in DDS files\n\n\t\tthis.generateMipmaps = false;\n\n\t}\n\n}\n\nCompressedTexture.prototype.isCompressedTexture = true;\n\nclass CanvasTexture extends Texture {\n\n\tconstructor( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\t\tsuper( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nCanvasTexture.prototype.isCanvasTexture = true;\n\nclass DepthTexture extends Texture {\n\n\tconstructor( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\n\n\t\tformat = format !== undefined ? format : DepthFormat;\n\n\t\tif ( format !== DepthFormat && format !== DepthStencilFormat ) {\n\n\t\t\tthrow new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\n\n\t\t}\n\n\t\tif ( type === undefined && format === DepthFormat ) type = UnsignedShortType;\n\t\tif ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.image = { width: width, height: height };\n\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\t\tthis.flipY = false;\n\t\tthis.generateMipmaps\t= false;\n\n\t}\n\n\n}\n\nDepthTexture.prototype.isDepthTexture = true;\n\nclass CircleGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, segments = 8, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CircleGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tsegments: segments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tsegments = Math.max( 3, segments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// center point\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tnormals.push( 0, 0, 1 );\n\t\tuvs.push( 0.5, 0.5 );\n\n\t\tfor ( let s = 0, i = 3; s <= segments; s ++, i += 3 ) {\n\n\t\t\tconst segment = thetaStart + s / segments * thetaLength;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t// uvs\n\n\t\t\tuv.x = ( vertices[ i ] / radius + 1 ) / 2;\n\t\t\tuv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\tindices.push( i, i + 1, 0 );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass CylinderGeometry extends BufferGeometry {\n\n\tconstructor( radiusTop = 1, radiusBottom = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\t\tthis.type = 'CylinderGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradiusTop: radiusTop,\n\t\t\tradiusBottom: radiusBottom,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tconst scope = this;\n\n\t\tradialSegments = Math.floor( radialSegments );\n\t\theightSegments = Math.floor( heightSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet index = 0;\n\t\tconst indexArray = [];\n\t\tconst halfHeight = height / 2;\n\t\tlet groupStart = 0;\n\n\t\t// generate geometry\n\n\t\tgenerateTorso();\n\n\t\tif ( openEnded === false ) {\n\n\t\t\tif ( radiusTop > 0 ) generateCap( true );\n\t\t\tif ( radiusBottom > 0 ) generateCap( false );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction generateTorso() {\n\n\t\t\tconst normal = new Vector3();\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tlet groupCount = 0;\n\n\t\t\t// this will be used to calculate the normal\n\t\t\tconst slope = ( radiusBottom - radiusTop ) / height;\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let y = 0; y <= heightSegments; y ++ ) {\n\n\t\t\t\tconst indexRow = [];\n\n\t\t\t\tconst v = y / heightSegments;\n\n\t\t\t\t// calculate the radius of the current row\n\n\t\t\t\tconst radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\n\t\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\t\tconst u = x / radialSegments;\n\n\t\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\t\t\tconst sinTheta = Math.sin( theta );\n\t\t\t\t\tconst cosTheta = Math.cos( theta );\n\n\t\t\t\t\t// vertex\n\n\t\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\t\tvertex.y = - v * height + halfHeight;\n\t\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\t// normal\n\n\t\t\t\t\tnormal.set( sinTheta, slope, cosTheta ).normalize();\n\t\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t\t// uv\n\n\t\t\t\t\tuvs.push( u, 1 - v );\n\n\t\t\t\t\t// save index of vertex in respective row\n\n\t\t\t\t\tindexRow.push( index ++ );\n\n\t\t\t\t}\n\n\t\t\t\t// now save vertices of the row in our index array\n\n\t\t\t\tindexArray.push( indexRow );\n\n\t\t\t}\n\n\t\t\t// generate indices\n\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\t\tfor ( let y = 0; y < heightSegments; y ++ ) {\n\n\t\t\t\t\t// we use the index array to access the correct indices\n\n\t\t\t\t\tconst a = indexArray[ y ][ x ];\n\t\t\t\t\tconst b = indexArray[ y + 1 ][ x ];\n\t\t\t\t\tconst c = indexArray[ y + 1 ][ x + 1 ];\n\t\t\t\t\tconst d = indexArray[ y ][ x + 1 ];\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// update group counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, 0 );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t}\n\n\t\tfunction generateCap( top ) {\n\n\t\t\t// save the index of the first center vertex\n\t\t\tconst centerIndexStart = index;\n\n\t\t\tconst uv = new Vector2();\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst radius = ( top === true ) ? radiusTop : radiusBottom;\n\t\t\tconst sign = ( top === true ) ? 1 : - 1;\n\n\t\t\t// first we generate the center vertex data of the cap.\n\t\t\t// because the geometry needs one set of uvs per face,\n\t\t\t// we must generate a center vertex per face/segment\n\n\t\t\tfor ( let x = 1; x <= radialSegments; x ++ ) {\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertices.push( 0, halfHeight * sign, 0 );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( 0.5, 0.5 );\n\n\t\t\t\t// increase index\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\t// save the index of the last center vertex\n\t\t\tconst centerIndexEnd = index;\n\n\t\t\t// now we generate the surrounding vertices, normals and uvs\n\n\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\tconst u = x / radialSegments;\n\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\t\tconst cosTheta = Math.cos( theta );\n\t\t\t\tconst sinTheta = Math.sin( theta );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\tvertex.y = halfHeight * sign;\n\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\n\t\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t// increase index\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\t// generate indices\n\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\t\tconst c = centerIndexStart + x;\n\t\t\t\tconst i = centerIndexEnd + x;\n\n\t\t\t\tif ( top === true ) {\n\n\t\t\t\t\t// face top\n\n\t\t\t\t\tindices.push( i, i + 1, c );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// face bottom\n\n\t\t\t\t\tindices.push( i + 1, i, c );\n\n\t\t\t\t}\n\n\t\t\t\tgroupCount += 3;\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t}\n\n\t}\n\n}\n\nclass ConeGeometry extends CylinderGeometry {\n\n\tconstructor( radius = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper( 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\t\tthis.type = 'ConeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t}\n\n}\n\nclass PolyhedronGeometry extends BufferGeometry {\n\n\tconstructor( vertices, indices, radius = 1, detail = 0 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PolyhedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tvertices: vertices,\n\t\t\tindices: indices,\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t\t// default buffer data\n\n\t\tconst vertexBuffer = [];\n\t\tconst uvBuffer = [];\n\n\t\t// the subdivision creates the vertex buffer data\n\n\t\tsubdivide( detail );\n\n\t\t// all vertices should lie on a conceptual sphere with a given radius\n\n\t\tapplyRadius( radius );\n\n\t\t// finally, create the uv data\n\n\t\tgenerateUVs();\n\n\t\t// build non-indexed geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\n\n\t\tif ( detail === 0 ) {\n\n\t\t\tthis.computeVertexNormals(); // flat normals\n\n\t\t} else {\n\n\t\t\tthis.normalizeNormals(); // smooth normals\n\n\t\t}\n\n\t\t// helper functions\n\n\t\tfunction subdivide( detail ) {\n\n\t\t\tconst a = new Vector3();\n\t\t\tconst b = new Vector3();\n\t\t\tconst c = new Vector3();\n\n\t\t\t// iterate over all faces and apply a subdivison with the given detail value\n\n\t\t\tfor ( let i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t\t// get the vertices of the face\n\n\t\t\t\tgetVertexByIndex( indices[ i + 0 ], a );\n\t\t\t\tgetVertexByIndex( indices[ i + 1 ], b );\n\t\t\t\tgetVertexByIndex( indices[ i + 2 ], c );\n\n\t\t\t\t// perform subdivision\n\n\t\t\t\tsubdivideFace( a, b, c, detail );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction subdivideFace( a, b, c, detail ) {\n\n\t\t\tconst cols = detail + 1;\n\n\t\t\t// we use this multidimensional array as a data structure for creating the subdivision\n\n\t\t\tconst v = [];\n\n\t\t\t// construct all of the vertices for this subdivision\n\n\t\t\tfor ( let i = 0; i <= cols; i ++ ) {\n\n\t\t\t\tv[ i ] = [];\n\n\t\t\t\tconst aj = a.clone().lerp( c, i / cols );\n\t\t\t\tconst bj = b.clone().lerp( c, i / cols );\n\n\t\t\t\tconst rows = cols - i;\n\n\t\t\t\tfor ( let j = 0; j <= rows; j ++ ) {\n\n\t\t\t\t\tif ( j === 0 && i === cols ) {\n\n\t\t\t\t\t\tv[ i ][ j ] = aj;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tv[ i ][ j ] = aj.clone().lerp( bj, j / rows );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// construct all of the faces\n\n\t\t\tfor ( let i = 0; i < cols; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\n\n\t\t\t\t\tconst k = Math.floor( j / 2 );\n\n\t\t\t\t\tif ( j % 2 === 0 ) {\n\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\t\t\t\t\t\tpushVertex( v[ i ][ k ] );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction applyRadius( radius ) {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\t// iterate over the entire buffer and apply the radius to each vertex\n\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\t\tvertex.normalize().multiplyScalar( radius );\n\n\t\t\t\tvertexBuffer[ i + 0 ] = vertex.x;\n\t\t\t\tvertexBuffer[ i + 1 ] = vertex.y;\n\t\t\t\tvertexBuffer[ i + 2 ] = vertex.z;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateUVs() {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\t\tconst u = azimuth( vertex ) / 2 / Math.PI + 0.5;\n\t\t\t\tconst v = inclination( vertex ) / Math.PI + 0.5;\n\t\t\t\tuvBuffer.push( u, 1 - v );\n\n\t\t\t}\n\n\t\t\tcorrectUVs();\n\n\t\t\tcorrectSeam();\n\n\t\t}\n\n\t\tfunction correctSeam() {\n\n\t\t\t// handle case when face straddles the seam, see #3269\n\n\t\t\tfor ( let i = 0; i < uvBuffer.length; i += 6 ) {\n\n\t\t\t\t// uv data of a single face\n\n\t\t\t\tconst x0 = uvBuffer[ i + 0 ];\n\t\t\t\tconst x1 = uvBuffer[ i + 2 ];\n\t\t\t\tconst x2 = uvBuffer[ i + 4 ];\n\n\t\t\t\tconst max = Math.max( x0, x1, x2 );\n\t\t\t\tconst min = Math.min( x0, x1, x2 );\n\n\t\t\t\t// 0.9 is somewhat arbitrary\n\n\t\t\t\tif ( max > 0.9 && min < 0.1 ) {\n\n\t\t\t\t\tif ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\n\t\t\t\t\tif ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\n\t\t\t\t\tif ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction pushVertex( vertex ) {\n\n\t\t\tvertexBuffer.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tfunction getVertexByIndex( index, vertex ) {\n\n\t\t\tconst stride = index * 3;\n\n\t\t\tvertex.x = vertices[ stride + 0 ];\n\t\t\tvertex.y = vertices[ stride + 1 ];\n\t\t\tvertex.z = vertices[ stride + 2 ];\n\n\t\t}\n\n\t\tfunction correctUVs() {\n\n\t\t\tconst a = new Vector3();\n\t\t\tconst b = new Vector3();\n\t\t\tconst c = new Vector3();\n\n\t\t\tconst centroid = new Vector3();\n\n\t\t\tconst uvA = new Vector2();\n\t\t\tconst uvB = new Vector2();\n\t\t\tconst uvC = new Vector2();\n\n\t\t\tfor ( let i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\n\n\t\t\t\ta.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\n\t\t\t\tb.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\n\t\t\t\tc.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\n\n\t\t\t\tuvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\n\t\t\t\tuvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\n\t\t\t\tuvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\n\n\t\t\t\tcentroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\n\n\t\t\t\tconst azi = azimuth( centroid );\n\n\t\t\t\tcorrectUV( uvA, j + 0, a, azi );\n\t\t\t\tcorrectUV( uvB, j + 2, b, azi );\n\t\t\t\tcorrectUV( uvC, j + 4, c, azi );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction correctUV( uv, stride, vector, azimuth ) {\n\n\t\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\n\n\t\t\t\tuvBuffer[ stride ] = uv.x - 1;\n\n\t\t\t}\n\n\t\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\n\n\t\t\t\tuvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Angle around the Y axis, counter-clockwise when looking from above.\n\n\t\tfunction azimuth( vector ) {\n\n\t\t\treturn Math.atan2( vector.z, - vector.x );\n\n\t\t}\n\n\n\t\t// Angle above the XZ plane.\n\n\t\tfunction inclination( vector ) {\n\n\t\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\n\t\t}\n\n\t}\n\n}\n\nclass DodecahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\t\tconst r = 1 / t;\n\n\t\tconst vertices = [\n\n\t\t\t// (±1, ±1, ±1)\n\t\t\t- 1, - 1, - 1,\t- 1, - 1, 1,\n\t\t\t- 1, 1, - 1, - 1, 1, 1,\n\t\t\t1, - 1, - 1, 1, - 1, 1,\n\t\t\t1, 1, - 1, 1, 1, 1,\n\n\t\t\t// (0, ±1/φ, ±φ)\n\t\t\t0, - r, - t, 0, - r, t,\n\t\t\t0, r, - t, 0, r, t,\n\n\t\t\t// (±1/φ, ±φ, 0)\n\t\t\t- r, - t, 0, - r, t, 0,\n\t\t\tr, - t, 0, r, t, 0,\n\n\t\t\t// (±φ, 0, ±1/φ)\n\t\t\t- t, 0, - r, t, 0, - r,\n\t\t\t- t, 0, r, t, 0, r\n\t\t];\n\n\t\tconst indices = [\n\t\t\t3, 11, 7, \t3, 7, 15, \t3, 15, 13,\n\t\t\t7, 19, 17, \t7, 17, 6, \t7, 6, 15,\n\t\t\t17, 4, 8, \t17, 8, 10, \t17, 10, 6,\n\t\t\t8, 0, 16, \t8, 16, 2, \t8, 2, 10,\n\t\t\t0, 12, 1, \t0, 1, 18, \t0, 18, 16,\n\t\t\t6, 10, 2, \t6, 2, 13, \t6, 13, 15,\n\t\t\t2, 16, 18, \t2, 18, 3, \t2, 3, 13,\n\t\t\t18, 1, 9, \t18, 9, 11, \t18, 11, 3,\n\t\t\t4, 14, 12, \t4, 12, 0, \t4, 0, 8,\n\t\t\t11, 9, 5, \t11, 5, 19, \t11, 19, 7,\n\t\t\t19, 5, 14, \t19, 14, 4, \t19, 4, 17,\n\t\t\t1, 12, 14, \t1, 14, 5, \t1, 5, 9\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'DodecahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n}\n\nconst _v0 = new Vector3();\nconst _v1$1 = new Vector3();\nconst _normal = new Vector3();\nconst _triangle = new Triangle();\n\nclass EdgesGeometry extends BufferGeometry {\n\n\tconstructor( geometry, thresholdAngle ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'EdgesGeometry';\n\n\t\tthis.parameters = {\n\t\t\tthresholdAngle: thresholdAngle\n\t\t};\n\n\t\tthresholdAngle = ( thresholdAngle !== undefined ) ? thresholdAngle : 1;\n\n\t\tif ( geometry.isGeometry === true ) {\n\n\t\t\tconsole.error( 'THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst precisionPoints = 4;\n\t\tconst precision = Math.pow( 10, precisionPoints );\n\t\tconst thresholdDot = Math.cos( DEG2RAD * thresholdAngle );\n\n\t\tconst indexAttr = geometry.getIndex();\n\t\tconst positionAttr = geometry.getAttribute( 'position' );\n\t\tconst indexCount = indexAttr ? indexAttr.count : positionAttr.count;\n\n\t\tconst indexArr = [ 0, 0, 0 ];\n\t\tconst vertKeys = [ 'a', 'b', 'c' ];\n\t\tconst hashes = new Array( 3 );\n\n\t\tconst edgeData = {};\n\t\tconst vertices = [];\n\t\tfor ( let i = 0; i < indexCount; i += 3 ) {\n\n\t\t\tif ( indexAttr ) {\n\n\t\t\t\tindexArr[ 0 ] = indexAttr.getX( i );\n\t\t\t\tindexArr[ 1 ] = indexAttr.getX( i + 1 );\n\t\t\t\tindexArr[ 2 ] = indexAttr.getX( i + 2 );\n\n\t\t\t} else {\n\n\t\t\t\tindexArr[ 0 ] = i;\n\t\t\t\tindexArr[ 1 ] = i + 1;\n\t\t\t\tindexArr[ 2 ] = i + 2;\n\n\t\t\t}\n\n\t\t\tconst { a, b, c } = _triangle;\n\t\t\ta.fromBufferAttribute( positionAttr, indexArr[ 0 ] );\n\t\t\tb.fromBufferAttribute( positionAttr, indexArr[ 1 ] );\n\t\t\tc.fromBufferAttribute( positionAttr, indexArr[ 2 ] );\n\t\t\t_triangle.getNormal( _normal );\n\n\t\t\t// create hashes for the edge from the vertices\n\t\t\thashes[ 0 ] = `${ Math.round( a.x * precision ) },${ Math.round( a.y * precision ) },${ Math.round( a.z * precision ) }`;\n\t\t\thashes[ 1 ] = `${ Math.round( b.x * precision ) },${ Math.round( b.y * precision ) },${ Math.round( b.z * precision ) }`;\n\t\t\thashes[ 2 ] = `${ Math.round( c.x * precision ) },${ Math.round( c.y * precision ) },${ Math.round( c.z * precision ) }`;\n\n\t\t\t// skip degenerate triangles\n\t\t\tif ( hashes[ 0 ] === hashes[ 1 ] || hashes[ 1 ] === hashes[ 2 ] || hashes[ 2 ] === hashes[ 0 ] ) {\n\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// iterate over every edge\n\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t// get the first and next vertex making up the edge\n\t\t\t\tconst jNext = ( j + 1 ) % 3;\n\t\t\t\tconst vecHash0 = hashes[ j ];\n\t\t\t\tconst vecHash1 = hashes[ jNext ];\n\t\t\t\tconst v0 = _triangle[ vertKeys[ j ] ];\n\t\t\t\tconst v1 = _triangle[ vertKeys[ jNext ] ];\n\n\t\t\t\tconst hash = `${ vecHash0 }_${ vecHash1 }`;\n\t\t\t\tconst reverseHash = `${ vecHash1 }_${ vecHash0 }`;\n\n\t\t\t\tif ( reverseHash in edgeData && edgeData[ reverseHash ] ) {\n\n\t\t\t\t\t// if we found a sibling edge add it into the vertex array if\n\t\t\t\t\t// it meets the angle threshold and delete the edge from the map.\n\t\t\t\t\tif ( _normal.dot( edgeData[ reverseHash ].normal ) <= thresholdDot ) {\n\n\t\t\t\t\t\tvertices.push( v0.x, v0.y, v0.z );\n\t\t\t\t\t\tvertices.push( v1.x, v1.y, v1.z );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tedgeData[ reverseHash ] = null;\n\n\t\t\t\t} else if ( ! ( hash in edgeData ) ) {\n\n\t\t\t\t\t// if we've already got an edge here then skip adding a new one\n\t\t\t\t\tedgeData[ hash ] = {\n\n\t\t\t\t\t\tindex0: indexArr[ j ],\n\t\t\t\t\t\tindex1: indexArr[ jNext ],\n\t\t\t\t\t\tnormal: _normal.clone(),\n\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// iterate over all remaining, unmatched edges and add them to the vertex array\n\t\tfor ( const key in edgeData ) {\n\n\t\t\tif ( edgeData[ key ] ) {\n\n\t\t\t\tconst { index0, index1 } = edgeData[ key ];\n\t\t\t\t_v0.fromBufferAttribute( positionAttr, index0 );\n\t\t\t\t_v1$1.fromBufferAttribute( positionAttr, index1 );\n\n\t\t\t\tvertices.push( _v0.x, _v0.y, _v0.z );\n\t\t\t\tvertices.push( _v1$1.x, _v1$1.y, _v1$1.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t}\n\n}\n\n/**\n * Port from https://github.com/mapbox/earcut (v2.2.2)\n */\n\nconst Earcut = {\n\n\ttriangulate: function ( data, holeIndices, dim ) {\n\n\t\tdim = dim || 2;\n\n\t\tconst hasHoles = holeIndices && holeIndices.length;\n\t\tconst outerLen = hasHoles ? holeIndices[ 0 ] * dim : data.length;\n\t\tlet outerNode = linkedList( data, 0, outerLen, dim, true );\n\t\tconst triangles = [];\n\n\t\tif ( ! outerNode || outerNode.next === outerNode.prev ) return triangles;\n\n\t\tlet minX, minY, maxX, maxY, x, y, invSize;\n\n\t\tif ( hasHoles ) outerNode = eliminateHoles( data, holeIndices, outerNode, dim );\n\n\t\t// if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\t\tif ( data.length > 80 * dim ) {\n\n\t\t\tminX = maxX = data[ 0 ];\n\t\t\tminY = maxY = data[ 1 ];\n\n\t\t\tfor ( let i = dim; i < outerLen; i += dim ) {\n\n\t\t\t\tx = data[ i ];\n\t\t\t\ty = data[ i + 1 ];\n\t\t\t\tif ( x < minX ) minX = x;\n\t\t\t\tif ( y < minY ) minY = y;\n\t\t\t\tif ( x > maxX ) maxX = x;\n\t\t\t\tif ( y > maxY ) maxY = y;\n\n\t\t\t}\n\n\t\t\t// minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\t\t\tinvSize = Math.max( maxX - minX, maxY - minY );\n\t\t\tinvSize = invSize !== 0 ? 1 / invSize : 0;\n\n\t\t}\n\n\t\tearcutLinked( outerNode, triangles, dim, minX, minY, invSize );\n\n\t\treturn triangles;\n\n\t}\n\n};\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList( data, start, end, dim, clockwise ) {\n\n\tlet i, last;\n\n\tif ( clockwise === ( signedArea( data, start, end, dim ) > 0 ) ) {\n\n\t\tfor ( i = start; i < end; i += dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t} else {\n\n\t\tfor ( i = end - dim; i >= start; i -= dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t}\n\n\tif ( last && equals( last, last.next ) ) {\n\n\t\tremoveNode( last );\n\t\tlast = last.next;\n\n\t}\n\n\treturn last;\n\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints( start, end ) {\n\n\tif ( ! start ) return start;\n\tif ( ! end ) end = start;\n\n\tlet p = start,\n\t\tagain;\n\tdo {\n\n\t\tagain = false;\n\n\t\tif ( ! p.steiner && ( equals( p, p.next ) || area( p.prev, p, p.next ) === 0 ) ) {\n\n\t\t\tremoveNode( p );\n\t\t\tp = end = p.prev;\n\t\t\tif ( p === p.next ) break;\n\t\t\tagain = true;\n\n\t\t} else {\n\n\t\t\tp = p.next;\n\n\t\t}\n\n\t} while ( again || p !== end );\n\n\treturn end;\n\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked( ear, triangles, dim, minX, minY, invSize, pass ) {\n\n\tif ( ! ear ) return;\n\n\t// interlink polygon nodes in z-order\n\tif ( ! pass && invSize ) indexCurve( ear, minX, minY, invSize );\n\n\tlet stop = ear,\n\t\tprev, next;\n\n\t// iterate through ears, slicing them one by one\n\twhile ( ear.prev !== ear.next ) {\n\n\t\tprev = ear.prev;\n\t\tnext = ear.next;\n\n\t\tif ( invSize ? isEarHashed( ear, minX, minY, invSize ) : isEar( ear ) ) {\n\n\t\t\t// cut off the triangle\n\t\t\ttriangles.push( prev.i / dim );\n\t\t\ttriangles.push( ear.i / dim );\n\t\t\ttriangles.push( next.i / dim );\n\n\t\t\tremoveNode( ear );\n\n\t\t\t// skipping the next vertex leads to less sliver triangles\n\t\t\tear = next.next;\n\t\t\tstop = next.next;\n\n\t\t\tcontinue;\n\n\t\t}\n\n\t\tear = next;\n\n\t\t// if we looped through the whole remaining polygon and can't find any more ears\n\t\tif ( ear === stop ) {\n\n\t\t\t// try filtering points and slicing again\n\t\t\tif ( ! pass ) {\n\n\t\t\t\tearcutLinked( filterPoints( ear ), triangles, dim, minX, minY, invSize, 1 );\n\n\t\t\t\t// if this didn't work, try curing all small self-intersections locally\n\n\t\t\t} else if ( pass === 1 ) {\n\n\t\t\t\tear = cureLocalIntersections( filterPoints( ear ), triangles, dim );\n\t\t\t\tearcutLinked( ear, triangles, dim, minX, minY, invSize, 2 );\n\n\t\t\t\t// as a last resort, try splitting the remaining polygon into two\n\n\t\t\t} else if ( pass === 2 ) {\n\n\t\t\t\tsplitEarcut( ear, triangles, dim, minX, minY, invSize );\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar( ear ) {\n\n\tconst a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// now make sure we don't have other points inside the potential ear\n\tlet p = ear.next.next;\n\n\twhile ( p !== ear.prev ) {\n\n\t\tif ( pointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.next;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction isEarHashed( ear, minX, minY, invSize ) {\n\n\tconst a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// triangle bbox; min & max are calculated like this for speed\n\tconst minTX = a.x < b.x ? ( a.x < c.x ? a.x : c.x ) : ( b.x < c.x ? b.x : c.x ),\n\t\tminTY = a.y < b.y ? ( a.y < c.y ? a.y : c.y ) : ( b.y < c.y ? b.y : c.y ),\n\t\tmaxTX = a.x > b.x ? ( a.x > c.x ? a.x : c.x ) : ( b.x > c.x ? b.x : c.x ),\n\t\tmaxTY = a.y > b.y ? ( a.y > c.y ? a.y : c.y ) : ( b.y > c.y ? b.y : c.y );\n\n\t// z-order range for the current triangle bbox;\n\tconst minZ = zOrder( minTX, minTY, minX, minY, invSize ),\n\t\tmaxZ = zOrder( maxTX, maxTY, minX, minY, invSize );\n\n\tlet p = ear.prevZ,\n\t\tn = ear.nextZ;\n\n\t// look for points inside the triangle in both directions\n\twhile ( p && p.z >= minZ && n && n.z <= maxZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\t// look for remaining points in decreasing z-order\n\twhile ( p && p.z >= minZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t}\n\n\t// look for remaining points in increasing z-order\n\twhile ( n && n.z <= maxZ ) {\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\treturn true;\n\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections( start, triangles, dim ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tconst a = p.prev,\n\t\t\tb = p.next.next;\n\n\t\tif ( ! equals( a, b ) && intersects( a, p, p.next, b ) && locallyInside( a, b ) && locallyInside( b, a ) ) {\n\n\t\t\ttriangles.push( a.i / dim );\n\t\t\ttriangles.push( p.i / dim );\n\t\t\ttriangles.push( b.i / dim );\n\n\t\t\t// remove two nodes involved\n\t\t\tremoveNode( p );\n\t\t\tremoveNode( p.next );\n\n\t\t\tp = start = b;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn filterPoints( p );\n\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut( start, triangles, dim, minX, minY, invSize ) {\n\n\t// look for a valid diagonal that divides the polygon into two\n\tlet a = start;\n\tdo {\n\n\t\tlet b = a.next.next;\n\t\twhile ( b !== a.prev ) {\n\n\t\t\tif ( a.i !== b.i && isValidDiagonal( a, b ) ) {\n\n\t\t\t\t// split the polygon in two by the diagonal\n\t\t\t\tlet c = splitPolygon( a, b );\n\n\t\t\t\t// filter colinear points around the cuts\n\t\t\t\ta = filterPoints( a, a.next );\n\t\t\t\tc = filterPoints( c, c.next );\n\n\t\t\t\t// run earcut on each half\n\t\t\t\tearcutLinked( a, triangles, dim, minX, minY, invSize );\n\t\t\t\tearcutLinked( c, triangles, dim, minX, minY, invSize );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tb = b.next;\n\n\t\t}\n\n\t\ta = a.next;\n\n\t} while ( a !== start );\n\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles( data, holeIndices, outerNode, dim ) {\n\n\tconst queue = [];\n\tlet i, len, start, end, list;\n\n\tfor ( i = 0, len = holeIndices.length; i < len; i ++ ) {\n\n\t\tstart = holeIndices[ i ] * dim;\n\t\tend = i < len - 1 ? holeIndices[ i + 1 ] * dim : data.length;\n\t\tlist = linkedList( data, start, end, dim, false );\n\t\tif ( list === list.next ) list.steiner = true;\n\t\tqueue.push( getLeftmost( list ) );\n\n\t}\n\n\tqueue.sort( compareX );\n\n\t// process holes from left to right\n\tfor ( i = 0; i < queue.length; i ++ ) {\n\n\t\teliminateHole( queue[ i ], outerNode );\n\t\touterNode = filterPoints( outerNode, outerNode.next );\n\n\t}\n\n\treturn outerNode;\n\n}\n\nfunction compareX( a, b ) {\n\n\treturn a.x - b.x;\n\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole( hole, outerNode ) {\n\n\touterNode = findHoleBridge( hole, outerNode );\n\tif ( outerNode ) {\n\n\t\tconst b = splitPolygon( outerNode, hole );\n\n\t\t// filter collinear points around the cuts\n\t\tfilterPoints( outerNode, outerNode.next );\n\t\tfilterPoints( b, b.next );\n\n\t}\n\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge( hole, outerNode ) {\n\n\tlet p = outerNode;\n\tconst hx = hole.x;\n\tconst hy = hole.y;\n\tlet qx = - Infinity, m;\n\n\t// find a segment intersected by a ray from the hole's leftmost point to the left;\n\t// segment's endpoint with lesser x will be potential connection point\n\tdo {\n\n\t\tif ( hy <= p.y && hy >= p.next.y && p.next.y !== p.y ) {\n\n\t\t\tconst x = p.x + ( hy - p.y ) * ( p.next.x - p.x ) / ( p.next.y - p.y );\n\t\t\tif ( x <= hx && x > qx ) {\n\n\t\t\t\tqx = x;\n\t\t\t\tif ( x === hx ) {\n\n\t\t\t\t\tif ( hy === p.y ) return p;\n\t\t\t\t\tif ( hy === p.next.y ) return p.next;\n\n\t\t\t\t}\n\n\t\t\t\tm = p.x < p.next.x ? p : p.next;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== outerNode );\n\n\tif ( ! m ) return null;\n\n\tif ( hx === qx ) return m; // hole touches outer segment; pick leftmost endpoint\n\n\t// look for points inside the triangle of hole point, segment intersection and endpoint;\n\t// if there are no points found, we have a valid connection;\n\t// otherwise choose the point of the minimum angle with the ray as connection point\n\n\tconst stop = m,\n\t\tmx = m.x,\n\t\tmy = m.y;\n\tlet tanMin = Infinity, tan;\n\n\tp = m;\n\n\tdo {\n\n\t\tif ( hx >= p.x && p.x >= mx && hx !== p.x &&\n\t\t\t\tpointInTriangle( hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y ) ) {\n\n\t\t\ttan = Math.abs( hy - p.y ) / ( hx - p.x ); // tangential\n\n\t\t\tif ( locallyInside( p, hole ) && ( tan < tanMin || ( tan === tanMin && ( p.x > m.x || ( p.x === m.x && sectorContainsSector( m, p ) ) ) ) ) ) {\n\n\t\t\t\tm = p;\n\t\t\t\ttanMin = tan;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== stop );\n\n\treturn m;\n\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector( m, p ) {\n\n\treturn area( m.prev, m, p.prev ) < 0 && area( p.next, m, m.next ) < 0;\n\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve( start, minX, minY, invSize ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tif ( p.z === null ) p.z = zOrder( p.x, p.y, minX, minY, invSize );\n\t\tp.prevZ = p.prev;\n\t\tp.nextZ = p.next;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\tp.prevZ.nextZ = null;\n\tp.prevZ = null;\n\n\tsortLinked( p );\n\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked( list ) {\n\n\tlet i, p, q, e, tail, numMerges, pSize, qSize,\n\t\tinSize = 1;\n\n\tdo {\n\n\t\tp = list;\n\t\tlist = null;\n\t\ttail = null;\n\t\tnumMerges = 0;\n\n\t\twhile ( p ) {\n\n\t\t\tnumMerges ++;\n\t\t\tq = p;\n\t\t\tpSize = 0;\n\t\t\tfor ( i = 0; i < inSize; i ++ ) {\n\n\t\t\t\tpSize ++;\n\t\t\t\tq = q.nextZ;\n\t\t\t\tif ( ! q ) break;\n\n\t\t\t}\n\n\t\t\tqSize = inSize;\n\n\t\t\twhile ( pSize > 0 || ( qSize > 0 && q ) ) {\n\n\t\t\t\tif ( pSize !== 0 && ( qSize === 0 || ! q || p.z <= q.z ) ) {\n\n\t\t\t\t\te = p;\n\t\t\t\t\tp = p.nextZ;\n\t\t\t\t\tpSize --;\n\n\t\t\t\t} else {\n\n\t\t\t\t\te = q;\n\t\t\t\t\tq = q.nextZ;\n\t\t\t\t\tqSize --;\n\n\t\t\t\t}\n\n\t\t\t\tif ( tail ) tail.nextZ = e;\n\t\t\t\telse list = e;\n\n\t\t\t\te.prevZ = tail;\n\t\t\t\ttail = e;\n\n\t\t\t}\n\n\t\t\tp = q;\n\n\t\t}\n\n\t\ttail.nextZ = null;\n\t\tinSize *= 2;\n\n\t} while ( numMerges > 1 );\n\n\treturn list;\n\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder( x, y, minX, minY, invSize ) {\n\n\t// coords are transformed into non-negative 15-bit integer range\n\tx = 32767 * ( x - minX ) * invSize;\n\ty = 32767 * ( y - minY ) * invSize;\n\n\tx = ( x | ( x << 8 ) ) & 0x00FF00FF;\n\tx = ( x | ( x << 4 ) ) & 0x0F0F0F0F;\n\tx = ( x | ( x << 2 ) ) & 0x33333333;\n\tx = ( x | ( x << 1 ) ) & 0x55555555;\n\n\ty = ( y | ( y << 8 ) ) & 0x00FF00FF;\n\ty = ( y | ( y << 4 ) ) & 0x0F0F0F0F;\n\ty = ( y | ( y << 2 ) ) & 0x33333333;\n\ty = ( y | ( y << 1 ) ) & 0x55555555;\n\n\treturn x | ( y << 1 );\n\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost( start ) {\n\n\tlet p = start,\n\t\tleftmost = start;\n\tdo {\n\n\t\tif ( p.x < leftmost.x || ( p.x === leftmost.x && p.y < leftmost.y ) ) leftmost = p;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn leftmost;\n\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle( ax, ay, bx, by, cx, cy, px, py ) {\n\n\treturn ( cx - px ) * ( ay - py ) - ( ax - px ) * ( cy - py ) >= 0 &&\n\t\t\t( ax - px ) * ( by - py ) - ( bx - px ) * ( ay - py ) >= 0 &&\n\t\t\t( bx - px ) * ( cy - py ) - ( cx - px ) * ( by - py ) >= 0;\n\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal( a, b ) {\n\n\treturn a.next.i !== b.i && a.prev.i !== b.i && ! intersectsPolygon( a, b ) && // dones't intersect other edges\n\t\t( locallyInside( a, b ) && locallyInside( b, a ) && middleInside( a, b ) && // locally visible\n\t\t( area( a.prev, a, b.prev ) || area( a, b.prev, b ) ) || // does not create opposite-facing sectors\n\t\tequals( a, b ) && area( a.prev, a, a.next ) > 0 && area( b.prev, b, b.next ) > 0 ); // special zero-length case\n\n}\n\n// signed area of a triangle\nfunction area( p, q, r ) {\n\n\treturn ( q.y - p.y ) * ( r.x - q.x ) - ( q.x - p.x ) * ( r.y - q.y );\n\n}\n\n// check if two points are equal\nfunction equals( p1, p2 ) {\n\n\treturn p1.x === p2.x && p1.y === p2.y;\n\n}\n\n// check if two segments intersect\nfunction intersects( p1, q1, p2, q2 ) {\n\n\tconst o1 = sign( area( p1, q1, p2 ) );\n\tconst o2 = sign( area( p1, q1, q2 ) );\n\tconst o3 = sign( area( p2, q2, p1 ) );\n\tconst o4 = sign( area( p2, q2, q1 ) );\n\n\tif ( o1 !== o2 && o3 !== o4 ) return true; // general case\n\n\tif ( o1 === 0 && onSegment( p1, p2, q1 ) ) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n\tif ( o2 === 0 && onSegment( p1, q2, q1 ) ) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n\tif ( o3 === 0 && onSegment( p2, p1, q2 ) ) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n\tif ( o4 === 0 && onSegment( p2, q1, q2 ) ) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n\treturn false;\n\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment( p, q, r ) {\n\n\treturn q.x <= Math.max( p.x, r.x ) && q.x >= Math.min( p.x, r.x ) && q.y <= Math.max( p.y, r.y ) && q.y >= Math.min( p.y, r.y );\n\n}\n\nfunction sign( num ) {\n\n\treturn num > 0 ? 1 : num < 0 ? - 1 : 0;\n\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon( a, b ) {\n\n\tlet p = a;\n\tdo {\n\n\t\tif ( p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n\t\t\t\tintersects( p, p.next, a, b ) ) return true;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn false;\n\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside( a, b ) {\n\n\treturn area( a.prev, a, a.next ) < 0 ?\n\t\tarea( a, b, a.next ) >= 0 && area( a, a.prev, b ) >= 0 :\n\t\tarea( a, b, a.prev ) < 0 || area( a, a.next, b ) < 0;\n\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside( a, b ) {\n\n\tlet p = a,\n\t\tinside = false;\n\tconst px = ( a.x + b.x ) / 2,\n\t\tpy = ( a.y + b.y ) / 2;\n\tdo {\n\n\t\tif ( ( ( p.y > py ) !== ( p.next.y > py ) ) && p.next.y !== p.y &&\n\t\t\t\t( px < ( p.next.x - p.x ) * ( py - p.y ) / ( p.next.y - p.y ) + p.x ) )\n\t\t\tinside = ! inside;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn inside;\n\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon( a, b ) {\n\n\tconst a2 = new Node( a.i, a.x, a.y ),\n\t\tb2 = new Node( b.i, b.x, b.y ),\n\t\tan = a.next,\n\t\tbp = b.prev;\n\n\ta.next = b;\n\tb.prev = a;\n\n\ta2.next = an;\n\tan.prev = a2;\n\n\tb2.next = a2;\n\ta2.prev = b2;\n\n\tbp.next = b2;\n\tb2.prev = bp;\n\n\treturn b2;\n\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode( i, x, y, last ) {\n\n\tconst p = new Node( i, x, y );\n\n\tif ( ! last ) {\n\n\t\tp.prev = p;\n\t\tp.next = p;\n\n\t} else {\n\n\t\tp.next = last.next;\n\t\tp.prev = last;\n\t\tlast.next.prev = p;\n\t\tlast.next = p;\n\n\t}\n\n\treturn p;\n\n}\n\nfunction removeNode( p ) {\n\n\tp.next.prev = p.prev;\n\tp.prev.next = p.next;\n\n\tif ( p.prevZ ) p.prevZ.nextZ = p.nextZ;\n\tif ( p.nextZ ) p.nextZ.prevZ = p.prevZ;\n\n}\n\nfunction Node( i, x, y ) {\n\n\t// vertex index in coordinates array\n\tthis.i = i;\n\n\t// vertex coordinates\n\tthis.x = x;\n\tthis.y = y;\n\n\t// previous and next vertex nodes in a polygon ring\n\tthis.prev = null;\n\tthis.next = null;\n\n\t// z-order curve value\n\tthis.z = null;\n\n\t// previous and next nodes in z-order\n\tthis.prevZ = null;\n\tthis.nextZ = null;\n\n\t// indicates whether this is a steiner point\n\tthis.steiner = false;\n\n}\n\nfunction signedArea( data, start, end, dim ) {\n\n\tlet sum = 0;\n\tfor ( let i = start, j = end - dim; i < end; i += dim ) {\n\n\t\tsum += ( data[ j ] - data[ i ] ) * ( data[ i + 1 ] + data[ j + 1 ] );\n\t\tj = i;\n\n\t}\n\n\treturn sum;\n\n}\n\nclass ShapeUtils {\n\n\t// calculate area of the contour polygon\n\n\tstatic area( contour ) {\n\n\t\tconst n = contour.length;\n\t\tlet a = 0.0;\n\n\t\tfor ( let p = n - 1, q = 0; q < n; p = q ++ ) {\n\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n\t\t}\n\n\t\treturn a * 0.5;\n\n\t}\n\n\tstatic isClockWise( pts ) {\n\n\t\treturn ShapeUtils.area( pts ) < 0;\n\n\t}\n\n\tstatic triangulateShape( contour, holes ) {\n\n\t\tconst vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\t\tconst holeIndices = []; // array of hole indices\n\t\tconst faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n\t\tremoveDupEndPts( contour );\n\t\taddContour( vertices, contour );\n\n\t\t//\n\n\t\tlet holeIndex = contour.length;\n\n\t\tholes.forEach( removeDupEndPts );\n\n\t\tfor ( let i = 0; i < holes.length; i ++ ) {\n\n\t\t\tholeIndices.push( holeIndex );\n\t\t\tholeIndex += holes[ i ].length;\n\t\t\taddContour( vertices, holes[ i ] );\n\n\t\t}\n\n\t\t//\n\n\t\tconst triangles = Earcut.triangulate( vertices, holeIndices );\n\n\t\t//\n\n\t\tfor ( let i = 0; i < triangles.length; i += 3 ) {\n\n\t\t\tfaces.push( triangles.slice( i, i + 3 ) );\n\n\t\t}\n\n\t\treturn faces;\n\n\t}\n\n}\n\nfunction removeDupEndPts( points ) {\n\n\tconst l = points.length;\n\n\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\n\n\t\tpoints.pop();\n\n\t}\n\n}\n\nfunction addContour( vertices, contour ) {\n\n\tfor ( let i = 0; i < contour.length; i ++ ) {\n\n\t\tvertices.push( contour[ i ].x );\n\t\tvertices.push( contour[ i ].y );\n\n\t}\n\n}\n\n/**\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  depth: <float>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n *  bevelOffset: <float>, // how far from shape outline does bevel start\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\nclass ExtrudeGeometry extends BufferGeometry {\n\n\tconstructor( shapes, options ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ExtrudeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\toptions: options\n\t\t};\n\n\t\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\n\n\t\tconst scope = this;\n\n\t\tconst verticesArray = [];\n\t\tconst uvArray = [];\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\t\t\taddShape( shape );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvArray, 2 ) );\n\n\t\tthis.computeVertexNormals();\n\n\t\t// functions\n\n\t\tfunction addShape( shape ) {\n\n\t\t\tconst placeholder = [];\n\n\t\t\t// options\n\n\t\t\tconst curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\t\t\tconst steps = options.steps !== undefined ? options.steps : 1;\n\t\t\tlet depth = options.depth !== undefined ? options.depth : 100;\n\n\t\t\tlet bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n\t\t\tlet bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;\n\t\t\tlet bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;\n\t\t\tlet bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\n\t\t\tlet bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n\t\t\tconst extrudePath = options.extrudePath;\n\n\t\t\tconst uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\n\n\t\t\t// deprecated options\n\n\t\t\tif ( options.amount !== undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ExtrudeBufferGeometry: amount has been renamed to depth.' );\n\t\t\t\tdepth = options.amount;\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tlet extrudePts, extrudeByPath = false;\n\t\t\tlet splineTube, binormal, normal, position2;\n\n\t\t\tif ( extrudePath ) {\n\n\t\t\t\textrudePts = extrudePath.getSpacedPoints( steps );\n\n\t\t\t\textrudeByPath = true;\n\t\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\n\t\t\t\t// SETUP TNB variables\n\n\t\t\t\t// TODO1 - have a .isClosed in spline?\n\n\t\t\t\tsplineTube = extrudePath.computeFrenetFrames( steps, false );\n\n\t\t\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\t\t\tbinormal = new Vector3();\n\t\t\t\tnormal = new Vector3();\n\t\t\t\tposition2 = new Vector3();\n\n\t\t\t}\n\n\t\t\t// Safeguards if bevels are not enabled\n\n\t\t\tif ( ! bevelEnabled ) {\n\n\t\t\t\tbevelSegments = 0;\n\t\t\t\tbevelThickness = 0;\n\t\t\t\tbevelSize = 0;\n\t\t\t\tbevelOffset = 0;\n\n\t\t\t}\n\n\t\t\t// Variables initialization\n\n\t\t\tconst shapePoints = shape.extractPoints( curveSegments );\n\n\t\t\tlet vertices = shapePoints.shape;\n\t\t\tconst holes = shapePoints.holes;\n\n\t\t\tconst reverse = ! ShapeUtils.isClockWise( vertices );\n\n\t\t\tif ( reverse ) {\n\n\t\t\t\tvertices = vertices.reverse();\n\n\t\t\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\t\tif ( ShapeUtils.isClockWise( ahole ) ) {\n\n\t\t\t\t\t\tholes[ h ] = ahole.reverse();\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tconst faces = ShapeUtils.triangulateShape( vertices, holes );\n\n\t\t\t/* Vertices */\n\n\t\t\tconst contour = vertices; // vertices has all points but contour has only points of circumference\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\tvertices = vertices.concat( ahole );\n\n\t\t\t}\n\n\n\t\t\tfunction scalePt2( pt, vec, size ) {\n\n\t\t\t\tif ( ! vec ) console.error( 'THREE.ExtrudeGeometry: vec does not exist' );\n\n\t\t\t\treturn vec.clone().multiplyScalar( size ).add( pt );\n\n\t\t\t}\n\n\t\t\tconst vlen = vertices.length, flen = faces.length;\n\n\n\t\t\t// Find directions for point movement\n\n\n\t\t\tfunction getBevelVec( inPt, inPrev, inNext ) {\n\n\t\t\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t\t\t//   shifted by 1 unit (length of normalized vector) to the left\n\t\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t\t\t//\n\t\t\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n\t\t\t\tlet v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n\t\t\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\n\t\t\t\tconst v_prev_x = inPt.x - inPrev.x,\n\t\t\t\t\tv_prev_y = inPt.y - inPrev.y;\n\t\t\t\tconst v_next_x = inNext.x - inPt.x,\n\t\t\t\t\tv_next_y = inNext.y - inPt.y;\n\n\t\t\t\tconst v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\n\n\t\t\t\t// check for collinear edges\n\t\t\t\tconst collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not collinear\n\n\t\t\t\t\t// length of vectors for normalizing\n\n\t\t\t\t\tconst v_prev_len = Math.sqrt( v_prev_lensq );\n\t\t\t\t\tconst v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\n\n\t\t\t\t\t// shift adjacent points by unit vectors to the left\n\n\t\t\t\t\tconst ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\n\t\t\t\t\tconst ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\n\n\t\t\t\t\tconst ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\n\t\t\t\t\tconst ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\n\n\t\t\t\t\t// scaling factor for v_prev to intersection point\n\n\t\t\t\t\tconst sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\n\t\t\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\n\t\t\t\t\t\t( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\t\t// vector from inPt to intersection point\n\n\t\t\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\n\t\t\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\n\n\t\t\t\t\t// Don't normalize!, otherwise sharp corners become ugly\n\t\t\t\t\t//  but prevent crazy spikes\n\t\t\t\t\tconst v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\n\t\t\t\t\tif ( v_trans_lensq <= 2 ) {\n\n\t\t\t\t\t\treturn new Vector2( v_trans_x, v_trans_y );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// handle special case of collinear edges\n\n\t\t\t\t\tlet direction_eq = false; // assumes: opposite\n\n\t\t\t\t\tif ( v_prev_x > Number.EPSILON ) {\n\n\t\t\t\t\t\tif ( v_next_x > Number.EPSILON ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\n\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( direction_eq ) {\n\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\t\t\tv_trans_x = - v_prev_y;\n\t\t\t\t\t\tv_trans_y = v_prev_x;\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\n\n\t\t\t}\n\n\n\t\t\tconst contourMovements = [];\n\n\t\t\tfor ( let i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\t// console.log('i,j,k', i, j , k)\n\n\t\t\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\n\t\t\t}\n\n\t\t\tconst holesMovements = [];\n\t\t\tlet oneHoleMovements, verticesMovements = contourMovements.concat();\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\toneHoleMovements = [];\n\n\t\t\t\tfor ( let i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\n\t\t\t\t}\n\n\t\t\t\tholesMovements.push( oneHoleMovements );\n\t\t\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\n\n\t\t\t}\n\n\n\t\t\t// Loop bevelSegments, 1 for the front, 1 for the back\n\n\t\t\tfor ( let b = 0; b < bevelSegments; b ++ ) {\n\n\t\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\n\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t\t// contract shape\n\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\n\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t}\n\n\t\t\t\t// expand holes\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst bs = bevelSize + bevelOffset;\n\n\t\t\t// Back facing vertices\n\n\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\tv( vert.x, vert.y, 0 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n\t\t\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\n\t\t\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\n\n\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Add stepped vertices...\n\t\t\t// Including front facing vertices\n\n\t\t\tfor ( let s = 1; s <= steps; s ++ ) {\n\n\t\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\tv( vert.x, vert.y, depth / steps * s );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n\t\t\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\n\t\t\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\n\n\t\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\t// Add bevel segments planes\n\n\t\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\t\t\tfor ( let b = bevelSegments - 1; b >= 0; b -- ) {\n\n\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t\t// contract shape\n\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t}\n\n\t\t\t\t// expand holes\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t/* Faces */\n\n\t\t\t// Top and bottom faces\n\n\t\t\tbuildLidFaces();\n\n\t\t\t// Sides faces\n\n\t\t\tbuildSideFaces();\n\n\n\t\t\t/////  Internal functions\n\n\t\t\tfunction buildLidFaces() {\n\n\t\t\t\tconst start = verticesArray.length / 3;\n\n\t\t\t\tif ( bevelEnabled ) {\n\n\t\t\t\t\tlet layer = 0; // steps + 1\n\t\t\t\t\tlet offset = vlen * layer;\n\n\t\t\t\t\t// Bottom faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\t\t\toffset = vlen * layer;\n\n\t\t\t\t\t// Top faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Bottom faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Top faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 0 );\n\n\t\t\t}\n\n\t\t\t// Create faces for the z-sides of the shape\n\n\t\t\tfunction buildSideFaces() {\n\n\t\t\t\tconst start = verticesArray.length / 3;\n\t\t\t\tlet layeroffset = 0;\n\t\t\t\tsidewalls( contour, layeroffset );\n\t\t\t\tlayeroffset += contour.length;\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\tsidewalls( ahole, layeroffset );\n\n\t\t\t\t\t//, true\n\t\t\t\t\tlayeroffset += ahole.length;\n\n\t\t\t\t}\n\n\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 1 );\n\n\n\t\t\t}\n\n\t\t\tfunction sidewalls( contour, layeroffset ) {\n\n\t\t\t\tlet i = contour.length;\n\n\t\t\t\twhile ( -- i >= 0 ) {\n\n\t\t\t\t\tconst j = i;\n\t\t\t\t\tlet k = i - 1;\n\t\t\t\t\tif ( k < 0 ) k = contour.length - 1;\n\n\t\t\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\t\t\tfor ( let s = 0, sl = ( steps + bevelSegments * 2 ); s < sl; s ++ ) {\n\n\t\t\t\t\t\tconst slen1 = vlen * s;\n\t\t\t\t\t\tconst slen2 = vlen * ( s + 1 );\n\n\t\t\t\t\t\tconst a = layeroffset + j + slen1,\n\t\t\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\t\t\td = layeroffset + j + slen2;\n\n\t\t\t\t\t\tf4( a, b, c, d );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfunction v( x, y, z ) {\n\n\t\t\t\tplaceholder.push( x );\n\t\t\t\tplaceholder.push( y );\n\t\t\t\tplaceholder.push( z );\n\n\t\t\t}\n\n\n\t\t\tfunction f3( a, b, c ) {\n\n\t\t\t\taddVertex( a );\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( c );\n\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\tconst uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\t\taddUV( uvs[ 0 ] );\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 2 ] );\n\n\t\t\t}\n\n\t\t\tfunction f4( a, b, c, d ) {\n\n\t\t\t\taddVertex( a );\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( d );\n\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( c );\n\t\t\t\taddVertex( d );\n\n\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\tconst uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\t\taddUV( uvs[ 0 ] );\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 2 ] );\n\t\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\t}\n\n\t\t\tfunction addVertex( index ) {\n\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 0 ] );\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 1 ] );\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 2 ] );\n\n\t\t\t}\n\n\n\t\t\tfunction addUV( vector2 ) {\n\n\t\t\t\tuvArray.push( vector2.x );\n\t\t\t\tuvArray.push( vector2.y );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = BufferGeometry.prototype.toJSON.call( this );\n\n\t\tconst shapes = this.parameters.shapes;\n\t\tconst options = this.parameters.options;\n\n\t\treturn toJSON$1( shapes, options, data );\n\n\t}\n\n}\n\nconst WorldUVGenerator = {\n\n\tgenerateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\n\t\treturn [\n\t\t\tnew Vector2( a_x, a_y ),\n\t\t\tnew Vector2( b_x, b_y ),\n\t\t\tnew Vector2( c_x, c_y )\n\t\t];\n\n\t},\n\n\tgenerateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst a_z = vertices[ indexA * 3 + 2 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst b_z = vertices[ indexB * 3 + 2 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\t\tconst c_z = vertices[ indexC * 3 + 2 ];\n\t\tconst d_x = vertices[ indexD * 3 ];\n\t\tconst d_y = vertices[ indexD * 3 + 1 ];\n\t\tconst d_z = vertices[ indexD * 3 + 2 ];\n\n\t\tif ( Math.abs( a_y - b_y ) < 0.01 ) {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_x, 1 - a_z ),\n\t\t\t\tnew Vector2( b_x, 1 - b_z ),\n\t\t\t\tnew Vector2( c_x, 1 - c_z ),\n\t\t\t\tnew Vector2( d_x, 1 - d_z )\n\t\t\t];\n\n\t\t} else {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_y, 1 - a_z ),\n\t\t\t\tnew Vector2( b_y, 1 - b_z ),\n\t\t\t\tnew Vector2( c_y, 1 - c_z ),\n\t\t\t\tnew Vector2( d_y, 1 - d_z )\n\t\t\t];\n\n\t\t}\n\n\t}\n\n};\n\nfunction toJSON$1( shapes, options, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\tif ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\n\n\treturn data;\n\n}\n\nclass IcosahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\n\t\tconst vertices = [\n\t\t\t- 1, t, 0, \t1, t, 0, \t- 1, - t, 0, \t1, - t, 0,\n\t\t\t0, - 1, t, \t0, 1, t,\t0, - 1, - t, \t0, 1, - t,\n\t\t\tt, 0, - 1, \tt, 0, 1, \t- t, 0, - 1, \t- t, 0, 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t0, 11, 5, \t0, 5, 1, \t0, 1, 7, \t0, 7, 10, \t0, 10, 11,\n\t\t\t1, 5, 9, \t5, 11, 4,\t11, 10, 2,\t10, 7, 6,\t7, 1, 8,\n\t\t\t3, 9, 4, \t3, 4, 2,\t3, 2, 6,\t3, 6, 8,\t3, 8, 9,\n\t\t\t4, 9, 5, \t2, 4, 11,\t6, 2, 10,\t8, 6, 7,\t9, 8, 1\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'IcosahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n}\n\nclass LatheGeometry extends BufferGeometry {\n\n\tconstructor( points, segments = 12, phiStart = 0, phiLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LatheGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpoints: points,\n\t\t\tsegments: segments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength\n\t\t};\n\n\t\tsegments = Math.floor( segments );\n\n\t\t// clamp phiLength so it's in range of [ 0, 2PI ]\n\n\t\tphiLength = clamp( phiLength, 0, Math.PI * 2 );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst inverseSegments = 1.0 / segments;\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// generate vertices and uvs\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst phi = phiStart + i * inverseSegments * phiLength;\n\n\t\t\tconst sin = Math.sin( phi );\n\t\t\tconst cos = Math.cos( phi );\n\n\t\t\tfor ( let j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = points[ j ].x * sin;\n\t\t\t\tvertex.y = points[ j ].y;\n\t\t\t\tvertex.z = points[ j ].x * cos;\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = i / segments;\n\t\t\t\tuv.y = j / ( points.length - 1 );\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\n\t\t\t}\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let i = 0; i < segments; i ++ ) {\n\n\t\t\tfor ( let j = 0; j < ( points.length - 1 ); j ++ ) {\n\n\t\t\t\tconst base = j + i * points.length;\n\n\t\t\t\tconst a = base;\n\t\t\t\tconst b = base + points.length;\n\t\t\t\tconst c = base + points.length + 1;\n\t\t\t\tconst d = base + 1;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// generate normals\n\n\t\tthis.computeVertexNormals();\n\n\t\t// if the geometry is closed, we need to average the normals along the seam.\n\t\t// because the corresponding vertices are identical (but still have different UVs).\n\n\t\tif ( phiLength === Math.PI * 2 ) {\n\n\t\t\tconst normals = this.attributes.normal.array;\n\t\t\tconst n1 = new Vector3();\n\t\t\tconst n2 = new Vector3();\n\t\t\tconst n = new Vector3();\n\n\t\t\t// this is the buffer offset for the last line of vertices\n\n\t\t\tconst base = segments * points.length * 3;\n\n\t\t\tfor ( let i = 0, j = 0; i < points.length; i ++, j += 3 ) {\n\n\t\t\t\t// select the normal of the vertex in the first line\n\n\t\t\t\tn1.x = normals[ j + 0 ];\n\t\t\t\tn1.y = normals[ j + 1 ];\n\t\t\t\tn1.z = normals[ j + 2 ];\n\n\t\t\t\t// select the normal of the vertex in the last line\n\n\t\t\t\tn2.x = normals[ base + j + 0 ];\n\t\t\t\tn2.y = normals[ base + j + 1 ];\n\t\t\t\tn2.z = normals[ base + j + 2 ];\n\n\t\t\t\t// average normals\n\n\t\t\t\tn.addVectors( n1, n2 ).normalize();\n\n\t\t\t\t// assign the new values to both normals\n\n\t\t\t\tnormals[ j + 0 ] = normals[ base + j + 0 ] = n.x;\n\t\t\t\tnormals[ j + 1 ] = normals[ base + j + 1 ] = n.y;\n\t\t\t\tnormals[ j + 2 ] = normals[ base + j + 2 ] = n.z;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nclass OctahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst vertices = [\n\t\t\t1, 0, 0, \t- 1, 0, 0,\t0, 1, 0,\n\t\t\t0, - 1, 0, \t0, 0, 1,\t0, 0, - 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t0, 2, 4,\t0, 4, 3,\t0, 3, 5,\n\t\t\t0, 5, 2,\t1, 2, 5,\t1, 5, 3,\n\t\t\t1, 3, 4,\t1, 4, 2\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'OctahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n}\n\n/**\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout https://prideout.net/blog/old/blog/index.html@p=44.html\n */\n\nclass ParametricGeometry extends BufferGeometry {\n\n\tconstructor( func, slices, stacks ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ParametricGeometry';\n\n\t\tthis.parameters = {\n\t\t\tfunc: func,\n\t\t\tslices: slices,\n\t\t\tstacks: stacks\n\t\t};\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\tconst EPS = 0.00001;\n\n\t\tconst normal = new Vector3();\n\n\t\tconst p0 = new Vector3(), p1 = new Vector3();\n\t\tconst pu = new Vector3(), pv = new Vector3();\n\n\t\tif ( func.length < 3 ) {\n\n\t\t\tconsole.error( 'THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.' );\n\n\t\t}\n\n\t\t// generate vertices, normals and uvs\n\n\t\tconst sliceCount = slices + 1;\n\n\t\tfor ( let i = 0; i <= stacks; i ++ ) {\n\n\t\t\tconst v = i / stacks;\n\n\t\t\tfor ( let j = 0; j <= slices; j ++ ) {\n\n\t\t\t\tconst u = j / slices;\n\n\t\t\t\t// vertex\n\n\t\t\t\tfunc( u, v, p0 );\n\t\t\t\tvertices.push( p0.x, p0.y, p0.z );\n\n\t\t\t\t// normal\n\n\t\t\t\t// approximate tangent vectors via finite differences\n\n\t\t\t\tif ( u - EPS >= 0 ) {\n\n\t\t\t\t\tfunc( u - EPS, v, p1 );\n\t\t\t\t\tpu.subVectors( p0, p1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfunc( u + EPS, v, p1 );\n\t\t\t\t\tpu.subVectors( p1, p0 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( v - EPS >= 0 ) {\n\n\t\t\t\t\tfunc( u, v - EPS, p1 );\n\t\t\t\t\tpv.subVectors( p0, p1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfunc( u, v + EPS, p1 );\n\t\t\t\t\tpv.subVectors( p1, p0 );\n\n\t\t\t\t}\n\n\t\t\t\t// cross product of tangent vectors returns surface normal\n\n\t\t\t\tnormal.crossVectors( pu, pv ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u, v );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let i = 0; i < stacks; i ++ ) {\n\n\t\t\tfor ( let j = 0; j < slices; j ++ ) {\n\n\t\t\t\tconst a = i * sliceCount + j;\n\t\t\t\tconst b = i * sliceCount + j + 1;\n\t\t\t\tconst c = ( i + 1 ) * sliceCount + j + 1;\n\t\t\t\tconst d = ( i + 1 ) * sliceCount + j;\n\n\t\t\t\t// faces one and two\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass RingGeometry extends BufferGeometry {\n\n\tconstructor( innerRadius = 0.5, outerRadius = 1, thetaSegments = 8, phiSegments = 1, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'RingGeometry';\n\n\t\tthis.parameters = {\n\t\t\tinnerRadius: innerRadius,\n\t\t\touterRadius: outerRadius,\n\t\t\tthetaSegments: thetaSegments,\n\t\t\tphiSegments: phiSegments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tthetaSegments = Math.max( 3, thetaSegments );\n\t\tphiSegments = Math.max( 1, phiSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// some helper variables\n\n\t\tlet radius = innerRadius;\n\t\tconst radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let j = 0; j <= phiSegments; j ++ ) {\n\n\t\t\tfor ( let i = 0; i <= thetaSegments; i ++ ) {\n\n\t\t\t\t// values are generate from the inside of the ring to the outside\n\n\t\t\t\tconst segment = thetaStart + i / thetaSegments * thetaLength;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\n\t\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t}\n\n\t\t\t// increase the radius for next row of vertices\n\n\t\t\tradius += radiusStep;\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let j = 0; j < phiSegments; j ++ ) {\n\n\t\t\tconst thetaSegmentLevel = j * ( thetaSegments + 1 );\n\n\t\t\tfor ( let i = 0; i < thetaSegments; i ++ ) {\n\n\t\t\t\tconst segment = i + thetaSegmentLevel;\n\n\t\t\t\tconst a = segment;\n\t\t\t\tconst b = segment + thetaSegments + 1;\n\t\t\t\tconst c = segment + thetaSegments + 2;\n\t\t\t\tconst d = segment + 1;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass ShapeGeometry extends BufferGeometry {\n\n\tconstructor( shapes, curveSegments = 12 ) {\n\n\t\tsuper();\n\t\tthis.type = 'ShapeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\tcurveSegments: curveSegments\n\t\t};\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet groupStart = 0;\n\t\tlet groupCount = 0;\n\n\t\t// allow single and array values for \"shapes\" parameter\n\n\t\tif ( Array.isArray( shapes ) === false ) {\n\n\t\t\taddShape( shapes );\n\n\t\t} else {\n\n\t\t\tfor ( let i = 0; i < shapes.length; i ++ ) {\n\n\t\t\t\taddShape( shapes[ i ] );\n\n\t\t\t\tthis.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\n\n\t\t\t\tgroupStart += groupCount;\n\t\t\t\tgroupCount = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\n\t\t// helper functions\n\n\t\tfunction addShape( shape ) {\n\n\t\t\tconst indexOffset = vertices.length / 3;\n\t\t\tconst points = shape.extractPoints( curveSegments );\n\n\t\t\tlet shapeVertices = points.shape;\n\t\t\tconst shapeHoles = points.holes;\n\n\t\t\t// check direction of vertices\n\n\t\t\tif ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\n\n\t\t\t\tshapeVertices = shapeVertices.reverse();\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\n\n\t\t\t\tif ( ShapeUtils.isClockWise( shapeHole ) === true ) {\n\n\t\t\t\t\tshapeHoles[ i ] = shapeHole.reverse();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\n\n\t\t\t// join vertices of inner and outer paths to a single array\n\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\n\t\t\t\tshapeVertices = shapeVertices.concat( shapeHole );\n\n\t\t\t}\n\n\t\t\t// vertices, normals, uvs\n\n\t\t\tfor ( let i = 0, l = shapeVertices.length; i < l; i ++ ) {\n\n\t\t\t\tconst vertex = shapeVertices[ i ];\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, 0 );\n\t\t\t\tnormals.push( 0, 0, 1 );\n\t\t\t\tuvs.push( vertex.x, vertex.y ); // world uvs\n\n\t\t\t}\n\n\t\t\t// incides\n\n\t\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\t\tconst face = faces[ i ];\n\n\t\t\t\tconst a = face[ 0 ] + indexOffset;\n\t\t\t\tconst b = face[ 1 ] + indexOffset;\n\t\t\t\tconst c = face[ 2 ] + indexOffset;\n\n\t\t\t\tindices.push( a, b, c );\n\t\t\t\tgroupCount += 3;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = BufferGeometry.prototype.toJSON.call( this );\n\n\t\tconst shapes = this.parameters.shapes;\n\n\t\treturn toJSON( shapes, data );\n\n\t}\n\n}\n\nfunction toJSON( shapes, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\treturn data;\n\n}\n\nclass SphereGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, widthSegments = 8, heightSegments = 6, phiStart = 0, phiLength = Math.PI * 2, thetaStart = 0, thetaLength = Math.PI ) {\n\n\t\tsuper();\n\t\tthis.type = 'SphereGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\twidthSegments = Math.max( 3, Math.floor( widthSegments ) );\n\t\theightSegments = Math.max( 2, Math.floor( heightSegments ) );\n\n\t\tconst thetaEnd = Math.min( thetaStart + thetaLength, Math.PI );\n\n\t\tlet index = 0;\n\t\tconst grid = [];\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let iy = 0; iy <= heightSegments; iy ++ ) {\n\n\t\t\tconst verticesRow = [];\n\n\t\t\tconst v = iy / heightSegments;\n\n\t\t\t// special case for the poles\n\n\t\t\tlet uOffset = 0;\n\n\t\t\tif ( iy == 0 && thetaStart == 0 ) {\n\n\t\t\t\tuOffset = 0.5 / widthSegments;\n\n\t\t\t} else if ( iy == heightSegments && thetaEnd == Math.PI ) {\n\n\t\t\t\tuOffset = - 0.5 / widthSegments;\n\n\t\t\t}\n\n\t\t\tfor ( let ix = 0; ix <= widthSegments; ix ++ ) {\n\n\t\t\t\tconst u = ix / widthSegments;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\n\t\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.copy( vertex ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u + uOffset, 1 - v );\n\n\t\t\t\tverticesRow.push( index ++ );\n\n\t\t\t}\n\n\t\t\tgrid.push( verticesRow );\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let iy = 0; iy < heightSegments; iy ++ ) {\n\n\t\t\tfor ( let ix = 0; ix < widthSegments; ix ++ ) {\n\n\t\t\t\tconst a = grid[ iy ][ ix + 1 ];\n\t\t\t\tconst b = grid[ iy ][ ix ];\n\t\t\t\tconst c = grid[ iy + 1 ][ ix ];\n\t\t\t\tconst d = grid[ iy + 1 ][ ix + 1 ];\n\n\t\t\t\tif ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\n\t\t\t\tif ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass TetrahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst vertices = [\n\t\t\t1, 1, 1, \t- 1, - 1, 1, \t- 1, 1, - 1, \t1, - 1, - 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t2, 1, 0, \t0, 3, 2,\t1, 3, 0,\t2, 3, 1\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'TetrahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n}\n\n/**\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\n *  bevelOffset: <float> // how far from text outline does bevel start\n * }\n */\n\nclass TextGeometry extends ExtrudeGeometry {\n\n\tconstructor( text, parameters = {} ) {\n\n\t\tconst font = parameters.font;\n\n\t\tif ( ! ( font && font.isFont ) ) {\n\n\t\t\tconsole.error( 'THREE.TextGeometry: font parameter is not an instance of THREE.Font.' );\n\t\t\treturn new BufferGeometry();\n\n\t\t}\n\n\t\tconst shapes = font.generateShapes( text, parameters.size );\n\n\t\t// translate parameters to ExtrudeGeometry API\n\n\t\tparameters.depth = parameters.height !== undefined ? parameters.height : 50;\n\n\t\t// defaults\n\n\t\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\n\t\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\n\t\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\n\n\t\tsuper( shapes, parameters );\n\n\t\tthis.type = 'TextGeometry';\n\n\t}\n\n}\n\nclass TorusGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, tube = 0.4, radialSegments = 8, tubularSegments = 6, arc = Math.PI * 2 ) {\n\n\t\tsuper();\n\t\tthis.type = 'TorusGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\tradialSegments: radialSegments,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tarc: arc\n\t\t};\n\n\t\tradialSegments = Math.floor( radialSegments );\n\t\ttubularSegments = Math.floor( tubularSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst center = new Vector3();\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\t\tconst u = i / tubularSegments * arc;\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n\t\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n\t\t\t\tvertex.z = tube * Math.sin( v );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tcenter.x = radius * Math.cos( u );\n\t\t\t\tcenter.y = radius * Math.sin( u );\n\t\t\t\tnormal.subVectors( vertex, center ).normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( i / tubularSegments );\n\t\t\t\tuvs.push( j / radialSegments );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let j = 1; j <= radialSegments; j ++ ) {\n\n\t\t\tfor ( let i = 1; i <= tubularSegments; i ++ ) {\n\n\t\t\t\t// indices\n\n\t\t\t\tconst a = ( tubularSegments + 1 ) * j + i - 1;\n\t\t\t\tconst b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n\t\t\t\tconst c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n\t\t\t\tconst d = ( tubularSegments + 1 ) * j + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass TorusKnotGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, tube = 0.4, tubularSegments = 64, radialSegments = 8, p = 2, q = 3 ) {\n\n\t\tsuper();\n\t\tthis.type = 'TorusKnotGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradialSegments: radialSegments,\n\t\t\tp: p,\n\t\t\tq: q\n\t\t};\n\n\t\ttubularSegments = Math.floor( tubularSegments );\n\t\tradialSegments = Math.floor( radialSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\tconst P1 = new Vector3();\n\t\tconst P2 = new Vector3();\n\n\t\tconst B = new Vector3();\n\t\tconst T = new Vector3();\n\t\tconst N = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let i = 0; i <= tubularSegments; ++ i ) {\n\n\t\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n\n\t\t\tconst u = i / tubularSegments * p * Math.PI * 2;\n\n\t\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n\t\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n\t\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\n\t\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\n\n\t\t\t// calculate orthonormal basis\n\n\t\t\tT.subVectors( P2, P1 );\n\t\t\tN.addVectors( P2, P1 );\n\t\t\tB.crossVectors( T, N );\n\t\t\tN.crossVectors( B, T );\n\n\t\t\t// normalize B, N. T can be ignored, we don't use it\n\n\t\t\tB.normalize();\n\t\t\tN.normalize();\n\n\t\t\tfor ( let j = 0; j <= radialSegments; ++ j ) {\n\n\t\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n\t\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\t\t\t\tconst cx = - tube * Math.cos( v );\n\t\t\t\tconst cy = tube * Math.sin( v );\n\n\t\t\t\t// now calculate the final vertex position.\n\t\t\t\t// first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n\t\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\n\t\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\n\t\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n\t\t\t\tnormal.subVectors( vertex, P1 ).normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( i / tubularSegments );\n\t\t\t\tuvs.push( j / radialSegments );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\t// indices\n\n\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// this function calculates the current position on the torus curve\n\n\t\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\n\n\t\t\tconst cu = Math.cos( u );\n\t\t\tconst su = Math.sin( u );\n\t\t\tconst quOverP = q / p * u;\n\t\t\tconst cs = Math.cos( quOverP );\n\n\t\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\n\t\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\n\t\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\n\n\t\t}\n\n\t}\n\n}\n\nclass TubeGeometry extends BufferGeometry {\n\n\tconstructor( path, tubularSegments = 64, radius = 1, radialSegments = 8, closed = false ) {\n\n\t\tsuper();\n\t\tthis.type = 'TubeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpath: path,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradius: radius,\n\t\t\tradialSegments: radialSegments,\n\t\t\tclosed: closed\n\t\t};\n\n\t\tconst frames = path.computeFrenetFrames( tubularSegments, closed );\n\n\t\t// expose internals\n\n\t\tthis.tangents = frames.tangents;\n\t\tthis.normals = frames.normals;\n\t\tthis.binormals = frames.binormals;\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\t\tconst uv = new Vector2();\n\t\tlet P = new Vector3();\n\n\t\t// buffer\n\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\t\tconst indices = [];\n\n\t\t// create buffer data\n\n\t\tgenerateBufferData();\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// functions\n\n\t\tfunction generateBufferData() {\n\n\t\t\tfor ( let i = 0; i < tubularSegments; i ++ ) {\n\n\t\t\t\tgenerateSegment( i );\n\n\t\t\t}\n\n\t\t\t// if the geometry is not closed, generate the last row of vertices and normals\n\t\t\t// at the regular position on the given path\n\t\t\t//\n\t\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\t\t\tgenerateSegment( ( closed === false ) ? tubularSegments : 0 );\n\n\t\t\t// uvs are generated in a separate function.\n\t\t\t// this makes it easy compute correct values for closed geometries\n\n\t\t\tgenerateUVs();\n\n\t\t\t// finally create faces\n\n\t\t\tgenerateIndices();\n\n\t\t}\n\n\t\tfunction generateSegment( i ) {\n\n\t\t\t// we use getPointAt to sample evenly distributed points from the given path\n\n\t\t\tP = path.getPointAt( i / tubularSegments, P );\n\n\t\t\t// retrieve corresponding normal and binormal\n\n\t\t\tconst N = frames.normals[ i ];\n\t\t\tconst B = frames.binormals[ i ];\n\n\t\t\t// generate normals and vertices for the current segment\n\n\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\t\tconst sin = Math.sin( v );\n\t\t\t\tconst cos = - Math.cos( v );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.x = ( cos * N.x + sin * B.x );\n\t\t\t\tnormal.y = ( cos * N.y + sin * B.y );\n\t\t\t\tnormal.z = ( cos * N.z + sin * B.z );\n\t\t\t\tnormal.normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = P.x + radius * normal.x;\n\t\t\t\tvertex.y = P.y + radius * normal.y;\n\t\t\t\tvertex.z = P.z + radius * normal.z;\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateIndices() {\n\n\t\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateUVs() {\n\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\t\tuv.x = i / tubularSegments;\n\t\t\t\t\tuv.y = j / radialSegments;\n\n\t\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\ttoJSON() {\n\n\t\tconst data = BufferGeometry.prototype.toJSON.call( this );\n\n\t\tdata.path = this.parameters.path.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass WireframeGeometry extends BufferGeometry {\n\n\tconstructor( geometry ) {\n\n\t\tsuper();\n\t\tthis.type = 'WireframeGeometry';\n\n\t\tif ( geometry.isGeometry === true ) {\n\n\t\t\tconsole.error( 'THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// buffer\n\n\t\tconst vertices = [];\n\n\t\t// helper variables\n\n\t\tconst edge = [ 0, 0 ], edges = {};\n\n\t\tconst vertex = new Vector3();\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\t// indexed BufferGeometry\n\n\t\t\tconst position = geometry.attributes.position;\n\t\t\tconst indices = geometry.index;\n\t\t\tlet groups = geometry.groups;\n\n\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\n\n\t\t\t}\n\n\t\t\t// create a data structure that contains all eges without duplicates\n\n\t\t\tfor ( let o = 0, ol = groups.length; o < ol; ++ o ) {\n\n\t\t\t\tconst group = groups[ o ];\n\n\t\t\t\tconst start = group.start;\n\t\t\t\tconst count = group.count;\n\n\t\t\t\tfor ( let i = start, l = ( start + count ); i < l; i += 3 ) {\n\n\t\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\tconst edge1 = indices.getX( i + j );\n\t\t\t\t\t\tconst edge2 = indices.getX( i + ( j + 1 ) % 3 );\n\t\t\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\t\t\tconst key = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// generate vertices\n\n\t\t\tfor ( const key in edges ) {\n\n\t\t\t\tconst e = edges[ key ];\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index1 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index2 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// non-indexed BufferGeometry\n\n\t\t\tconst position = geometry.attributes.position;\n\n\t\t\tfor ( let i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n\t\t\t\t\tconst index1 = 3 * i + j;\n\t\t\t\t\tvertex.fromBufferAttribute( position, index1 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\tconst index2 = 3 * i + ( ( j + 1 ) % 3 );\n\t\t\t\t\tvertex.fromBufferAttribute( position, index2 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t}\n\n}\n\nvar Geometries = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tBoxGeometry: BoxGeometry,\n\tBoxBufferGeometry: BoxGeometry,\n\tCircleGeometry: CircleGeometry,\n\tCircleBufferGeometry: CircleGeometry,\n\tConeGeometry: ConeGeometry,\n\tConeBufferGeometry: ConeGeometry,\n\tCylinderGeometry: CylinderGeometry,\n\tCylinderBufferGeometry: CylinderGeometry,\n\tDodecahedronGeometry: DodecahedronGeometry,\n\tDodecahedronBufferGeometry: DodecahedronGeometry,\n\tEdgesGeometry: EdgesGeometry,\n\tExtrudeGeometry: ExtrudeGeometry,\n\tExtrudeBufferGeometry: ExtrudeGeometry,\n\tIcosahedronGeometry: IcosahedronGeometry,\n\tIcosahedronBufferGeometry: IcosahedronGeometry,\n\tLatheGeometry: LatheGeometry,\n\tLatheBufferGeometry: LatheGeometry,\n\tOctahedronGeometry: OctahedronGeometry,\n\tOctahedronBufferGeometry: OctahedronGeometry,\n\tParametricGeometry: ParametricGeometry,\n\tParametricBufferGeometry: ParametricGeometry,\n\tPlaneGeometry: PlaneGeometry,\n\tPlaneBufferGeometry: PlaneGeometry,\n\tPolyhedronGeometry: PolyhedronGeometry,\n\tPolyhedronBufferGeometry: PolyhedronGeometry,\n\tRingGeometry: RingGeometry,\n\tRingBufferGeometry: RingGeometry,\n\tShapeGeometry: ShapeGeometry,\n\tShapeBufferGeometry: ShapeGeometry,\n\tSphereGeometry: SphereGeometry,\n\tSphereBufferGeometry: SphereGeometry,\n\tTetrahedronGeometry: TetrahedronGeometry,\n\tTetrahedronBufferGeometry: TetrahedronGeometry,\n\tTextGeometry: TextGeometry,\n\tTextBufferGeometry: TextGeometry,\n\tTorusGeometry: TorusGeometry,\n\tTorusBufferGeometry: TorusGeometry,\n\tTorusKnotGeometry: TorusKnotGeometry,\n\tTorusKnotBufferGeometry: TorusKnotGeometry,\n\tTubeGeometry: TubeGeometry,\n\tTubeBufferGeometry: TubeGeometry,\n\tWireframeGeometry: WireframeGeometry\n});\n\n/**\n * parameters = {\n *  color: <THREE.Color>\n * }\n */\n\nclass ShadowMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ShadowMaterial';\n\n\t\tthis.color = new Color( 0x000000 );\n\t\tthis.transparent = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\treturn this;\n\n\t}\n\n}\n\nShadowMaterial.prototype.isShadowMaterial = true;\n\nclass RawShaderMaterial extends ShaderMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper( parameters );\n\n\t\tthis.type = 'RawShaderMaterial';\n\n\t}\n\n}\n\nRawShaderMaterial.prototype.isRawShaderMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  roughness: <float>,\n *  metalness: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  roughnessMap: new THREE.Texture( <Image> ),\n *\n *  metalnessMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  envMapIntensity: <float>\n *\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>,\n *\n *  flatShading: <bool>\n * }\n */\n\nclass MeshStandardMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.defines = { 'STANDARD': '' };\n\n\t\tthis.type = 'MeshStandardMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\t\tthis.roughness = 1.0;\n\t\tthis.metalness = 0.0;\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.roughnessMap = null;\n\n\t\tthis.metalnessMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.envMapIntensity = 1.0;\n\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\t\tthis.morphNormals = false;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.vertexTangents = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = { 'STANDARD': '' };\n\n\t\tthis.color.copy( source.color );\n\t\tthis.roughness = source.roughness;\n\t\tthis.metalness = source.metalness;\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.roughnessMap = source.roughnessMap;\n\n\t\tthis.metalnessMap = source.metalnessMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.envMapIntensity = source.envMapIntensity;\n\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\tthis.vertexTangents = source.vertexTangents;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\n/**\n * parameters = {\n *  clearcoat: <float>,\n *  clearcoatMap: new THREE.Texture( <Image> ),\n *  clearcoatRoughness: <float>,\n *  clearcoatRoughnessMap: new THREE.Texture( <Image> ),\n *  clearcoatNormalScale: <Vector2>,\n *  clearcoatNormalMap: new THREE.Texture( <Image> ),\n *\n *  reflectivity: <float>,\n *  ior: <float>,\n *\n *  sheen: <Color>,\n *\n *  transmission: <float>,\n *  transmissionMap: new THREE.Texture( <Image> )\n * }\n */\n\nclass MeshPhysicalMaterial extends MeshStandardMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.defines = {\n\n\t\t\t'STANDARD': '',\n\t\t\t'PHYSICAL': ''\n\n\t\t};\n\n\t\tthis.type = 'MeshPhysicalMaterial';\n\n\t\tthis.clearcoat = 0.0;\n\t\tthis.clearcoatMap = null;\n\t\tthis.clearcoatRoughness = 0.0;\n\t\tthis.clearcoatRoughnessMap = null;\n\t\tthis.clearcoatNormalScale = new Vector2( 1, 1 );\n\t\tthis.clearcoatNormalMap = null;\n\n\t\tthis.reflectivity = 0.5; // maps to F0 = 0.04\n\n\t\tObject.defineProperty( this, 'ior', {\n\t\t\tget: function () {\n\n\t\t\t\treturn ( 1 + 0.4 * this.reflectivity ) / ( 1 - 0.4 * this.reflectivity );\n\n\t\t\t},\n\t\t\tset: function ( ior ) {\n\n\t\t\t\tthis.reflectivity = clamp( 2.5 * ( ior - 1 ) / ( ior + 1 ), 0, 1 );\n\n\t\t\t}\n\t\t} );\n\n\t\tthis.sheen = null; // null will disable sheen bsdf\n\n\t\tthis.transmission = 0.0;\n\t\tthis.transmissionMap = null;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = {\n\n\t\t\t'STANDARD': '',\n\t\t\t'PHYSICAL': ''\n\n\t\t};\n\n\t\tthis.clearcoat = source.clearcoat;\n\t\tthis.clearcoatMap = source.clearcoatMap;\n\t\tthis.clearcoatRoughness = source.clearcoatRoughness;\n\t\tthis.clearcoatRoughnessMap = source.clearcoatRoughnessMap;\n\t\tthis.clearcoatNormalMap = source.clearcoatNormalMap;\n\t\tthis.clearcoatNormalScale.copy( source.clearcoatNormalScale );\n\n\t\tthis.reflectivity = source.reflectivity;\n\n\t\tif ( source.sheen ) {\n\n\t\t\tthis.sheen = ( this.sheen || new Color() ).copy( source.sheen );\n\n\t\t} else {\n\n\t\t\tthis.sheen = null;\n\n\t\t}\n\n\t\tthis.transmission = source.transmission;\n\t\tthis.transmissionMap = source.transmissionMap;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.MultiplyOperation,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>,\n *\n *  flatShading: <bool>\n * }\n */\n\nclass MeshPhongMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshPhongMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\t\tthis.specular = new Color( 0x111111 );\n\t\tthis.shininess = 30;\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\t\tthis.morphNormals = false;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.specular.copy( source.specular );\n\t\tthis.shininess = source.shininess;\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *\n *  map: new THREE.Texture( <Image> ),\n *  gradientMap: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nclass MeshToonMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.defines = { 'TOON': '' };\n\n\t\tthis.type = 'MeshToonMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\t\tthis.gradientMap = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\t\tthis.morphNormals = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\t\tthis.gradientMap = source.gradientMap;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshToonMaterial.prototype.isMeshToonMaterial = true;\n\n/**\n * parameters = {\n *  opacity: <float>,\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>,\n *\n *  flatShading: <bool>\n * }\n */\n\nclass MeshNormalMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshNormalMaterial';\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.fog = false;\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\t\tthis.morphNormals = false;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nclass MeshLambertMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshLambertMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\t\tthis.morphNormals = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  matcap: new THREE.Texture( <Image> ),\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n *\n *  flatShading: <bool>\n * }\n */\n\nclass MeshMatcapMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.defines = { 'MATCAP': '' };\n\n\t\tthis.type = 'MeshMatcapMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\n\t\tthis.matcap = null;\n\n\t\tthis.map = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\t\tthis.morphNormals = false;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = { 'MATCAP': '' };\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.matcap = source.matcap;\n\n\t\tthis.map = source.map;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *\n *  scale: <float>,\n *  dashSize: <float>,\n *  gapSize: <float>\n * }\n */\n\nclass LineDashedMaterial extends LineBasicMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LineDashedMaterial';\n\n\t\tthis.scale = 1;\n\t\tthis.dashSize = 3;\n\t\tthis.gapSize = 1;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.scale = source.scale;\n\t\tthis.dashSize = source.dashSize;\n\t\tthis.gapSize = source.gapSize;\n\n\t\treturn this;\n\n\t}\n\n}\n\nLineDashedMaterial.prototype.isLineDashedMaterial = true;\n\nvar Materials = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tShadowMaterial: ShadowMaterial,\n\tSpriteMaterial: SpriteMaterial,\n\tRawShaderMaterial: RawShaderMaterial,\n\tShaderMaterial: ShaderMaterial,\n\tPointsMaterial: PointsMaterial,\n\tMeshPhysicalMaterial: MeshPhysicalMaterial,\n\tMeshStandardMaterial: MeshStandardMaterial,\n\tMeshPhongMaterial: MeshPhongMaterial,\n\tMeshToonMaterial: MeshToonMaterial,\n\tMeshNormalMaterial: MeshNormalMaterial,\n\tMeshLambertMaterial: MeshLambertMaterial,\n\tMeshDepthMaterial: MeshDepthMaterial,\n\tMeshDistanceMaterial: MeshDistanceMaterial,\n\tMeshBasicMaterial: MeshBasicMaterial,\n\tMeshMatcapMaterial: MeshMatcapMaterial,\n\tLineDashedMaterial: LineDashedMaterial,\n\tLineBasicMaterial: LineBasicMaterial,\n\tMaterial: Material\n});\n\nconst AnimationUtils = {\n\n\t// same as Array.prototype.slice, but also works on typed arrays\n\tarraySlice: function ( array, from, to ) {\n\n\t\tif ( AnimationUtils.isTypedArray( array ) ) {\n\n\t\t\t// in ios9 array.subarray(from, undefined) will return empty array\n\t\t\t// but array.subarray(from) or array.subarray(from, len) is correct\n\t\t\treturn new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\n\n\t\t}\n\n\t\treturn array.slice( from, to );\n\n\t},\n\n\t// converts an array to a specific type\n\tconvertArray: function ( array, type, forceClone ) {\n\n\t\tif ( ! array || // let 'undefined' and 'null' pass\n\t\t\t! forceClone && array.constructor === type ) return array;\n\n\t\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\n\n\t\t\treturn new type( array ); // create typed array\n\n\t\t}\n\n\t\treturn Array.prototype.slice.call( array ); // create Array\n\n\t},\n\n\tisTypedArray: function ( object ) {\n\n\t\treturn ArrayBuffer.isView( object ) &&\n\t\t\t! ( object instanceof DataView );\n\n\t},\n\n\t// returns an array by which times and values can be sorted\n\tgetKeyframeOrder: function ( times ) {\n\n\t\tfunction compareTime( i, j ) {\n\n\t\t\treturn times[ i ] - times[ j ];\n\n\t\t}\n\n\t\tconst n = times.length;\n\t\tconst result = new Array( n );\n\t\tfor ( let i = 0; i !== n; ++ i ) result[ i ] = i;\n\n\t\tresult.sort( compareTime );\n\n\t\treturn result;\n\n\t},\n\n\t// uses the array previously returned by 'getKeyframeOrder' to sort data\n\tsortedArray: function ( values, stride, order ) {\n\n\t\tconst nValues = values.length;\n\t\tconst result = new values.constructor( nValues );\n\n\t\tfor ( let i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\n\n\t\t\tconst srcOffset = order[ i ] * stride;\n\n\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// function for parsing AOS keyframe formats\n\tflattenJSON: function ( jsonKeys, times, values, valuePropertyName ) {\n\n\t\tlet i = 1, key = jsonKeys[ 0 ];\n\n\t\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t}\n\n\t\tif ( key === undefined ) return; // no data\n\n\t\tlet value = key[ valuePropertyName ];\n\t\tif ( value === undefined ) return; // no data\n\n\t\tif ( Array.isArray( value ) ) {\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push.apply( values, value ); // push all elements\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else if ( value.toArray !== undefined ) {\n\n\t\t\t// ...assume THREE.Math-ish\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalue.toArray( values, values.length );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else {\n\n\t\t\t// otherwise push as-is\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push( value );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t}\n\n\t},\n\n\tsubclip: function ( sourceClip, name, startFrame, endFrame, fps = 30 ) {\n\n\t\tconst clip = sourceClip.clone();\n\n\t\tclip.name = name;\n\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tconst track = clip.tracks[ i ];\n\t\t\tconst valueSize = track.getValueSize();\n\n\t\t\tconst times = [];\n\t\t\tconst values = [];\n\n\t\t\tfor ( let j = 0; j < track.times.length; ++ j ) {\n\n\t\t\t\tconst frame = track.times[ j ] * fps;\n\n\t\t\t\tif ( frame < startFrame || frame >= endFrame ) continue;\n\n\t\t\t\ttimes.push( track.times[ j ] );\n\n\t\t\t\tfor ( let k = 0; k < valueSize; ++ k ) {\n\n\t\t\t\t\tvalues.push( track.values[ j * valueSize + k ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( times.length === 0 ) continue;\n\n\t\t\ttrack.times = AnimationUtils.convertArray( times, track.times.constructor );\n\t\t\ttrack.values = AnimationUtils.convertArray( values, track.values.constructor );\n\n\t\t\ttracks.push( track );\n\n\t\t}\n\n\t\tclip.tracks = tracks;\n\n\t\t// find minimum .times value across all tracks in the trimmed clip\n\n\t\tlet minStartTime = Infinity;\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tif ( minStartTime > clip.tracks[ i ].times[ 0 ] ) {\n\n\t\t\t\tminStartTime = clip.tracks[ i ].times[ 0 ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// shift all tracks such that clip begins at t=0\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tclip.tracks[ i ].shift( - 1 * minStartTime );\n\n\t\t}\n\n\t\tclip.resetDuration();\n\n\t\treturn clip;\n\n\t},\n\n\tmakeClipAdditive: function ( targetClip, referenceFrame = 0, referenceClip = targetClip, fps = 30 ) {\n\n\t\tif ( fps <= 0 ) fps = 30;\n\n\t\tconst numTracks = referenceClip.tracks.length;\n\t\tconst referenceTime = referenceFrame / fps;\n\n\t\t// Make each track's values relative to the values at the reference frame\n\t\tfor ( let i = 0; i < numTracks; ++ i ) {\n\n\t\t\tconst referenceTrack = referenceClip.tracks[ i ];\n\t\t\tconst referenceTrackType = referenceTrack.ValueTypeName;\n\n\t\t\t// Skip this track if it's non-numeric\n\t\t\tif ( referenceTrackType === 'bool' || referenceTrackType === 'string' ) continue;\n\n\t\t\t// Find the track in the target clip whose name and type matches the reference track\n\t\t\tconst targetTrack = targetClip.tracks.find( function ( track ) {\n\n\t\t\t\treturn track.name === referenceTrack.name\n\t\t\t\t\t&& track.ValueTypeName === referenceTrackType;\n\n\t\t\t} );\n\n\t\t\tif ( targetTrack === undefined ) continue;\n\n\t\t\tlet referenceOffset = 0;\n\t\t\tconst referenceValueSize = referenceTrack.getValueSize();\n\n\t\t\tif ( referenceTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\n\n\t\t\t\treferenceOffset = referenceValueSize / 3;\n\n\t\t\t}\n\n\t\t\tlet targetOffset = 0;\n\t\t\tconst targetValueSize = targetTrack.getValueSize();\n\n\t\t\tif ( targetTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\n\n\t\t\t\ttargetOffset = targetValueSize / 3;\n\n\t\t\t}\n\n\t\t\tconst lastIndex = referenceTrack.times.length - 1;\n\t\t\tlet referenceValue;\n\n\t\t\t// Find the value to subtract out of the track\n\t\t\tif ( referenceTime <= referenceTrack.times[ 0 ] ) {\n\n\t\t\t\t// Reference frame is earlier than the first keyframe, so just use the first keyframe\n\t\t\t\tconst startIndex = referenceOffset;\n\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( referenceTrack.values, startIndex, endIndex );\n\n\t\t\t} else if ( referenceTime >= referenceTrack.times[ lastIndex ] ) {\n\n\t\t\t\t// Reference frame is after the last keyframe, so just use the last keyframe\n\t\t\t\tconst startIndex = lastIndex * referenceValueSize + referenceOffset;\n\t\t\t\tconst endIndex = startIndex + referenceValueSize - referenceOffset;\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( referenceTrack.values, startIndex, endIndex );\n\n\t\t\t} else {\n\n\t\t\t\t// Interpolate to the reference value\n\t\t\t\tconst interpolant = referenceTrack.createInterpolant();\n\t\t\t\tconst startIndex = referenceOffset;\n\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\t\tinterpolant.evaluate( referenceTime );\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( interpolant.resultBuffer, startIndex, endIndex );\n\n\t\t\t}\n\n\t\t\t// Conjugate the quaternion\n\t\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\t\tconst referenceQuat = new Quaternion().fromArray( referenceValue ).normalize().conjugate();\n\t\t\t\treferenceQuat.toArray( referenceValue );\n\n\t\t\t}\n\n\t\t\t// Subtract the reference value from all of the track values\n\n\t\t\tconst numTimes = targetTrack.times.length;\n\t\t\tfor ( let j = 0; j < numTimes; ++ j ) {\n\n\t\t\t\tconst valueStart = j * targetValueSize + targetOffset;\n\n\t\t\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\t\t\t// Multiply the conjugate for quaternion track types\n\t\t\t\t\tQuaternion.multiplyQuaternionsFlat(\n\t\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\t\tvalueStart,\n\t\t\t\t\t\treferenceValue,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\t\tvalueStart\n\t\t\t\t\t);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst valueEnd = targetValueSize - targetOffset * 2;\n\n\t\t\t\t\t// Subtract each value for all other numeric track types\n\t\t\t\t\tfor ( let k = 0; k < valueEnd; ++ k ) {\n\n\t\t\t\t\t\ttargetTrack.values[ valueStart + k ] -= referenceValue[ k ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\ttargetClip.blendMode = AdditiveAnimationBlendMode;\n\n\t\treturn targetClip;\n\n\t}\n\n};\n\n/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n */\n\nclass Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tthis.parameterPositions = parameterPositions;\n\t\tthis._cachedIndex = 0;\n\n\t\tthis.resultBuffer = resultBuffer !== undefined ?\n\t\t\tresultBuffer : new sampleValues.constructor( sampleSize );\n\t\tthis.sampleValues = sampleValues;\n\t\tthis.valueSize = sampleSize;\n\n\t\tthis.settings = null;\n\t\tthis.DefaultSettings_ = {};\n\n\t}\n\n\tevaluate( t ) {\n\n\t\tconst pp = this.parameterPositions;\n\t\tlet i1 = this._cachedIndex,\n\t\t\tt1 = pp[ i1 ],\n\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\tvalidate_interval: {\n\n\t\t\tseek: {\n\n\t\t\t\tlet right;\n\n\t\t\t\tlinear_scan: {\n\n\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\n\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 + 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\n\n\t\t\t\t\t\t\t\t// after end\n\n\t\t\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\t\t\treturn this.afterEnd_( i1 - 1, t, t0 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt0 = t1;\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\n\n\t\t\t\t\t\t\tif ( t < t1 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the right side of the index\n\t\t\t\t\t\tright = pp.length;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\n\n\t\t\t\t\t\t// looping?\n\n\t\t\t\t\t\tconst t1global = pp[ 1 ];\n\n\t\t\t\t\t\tif ( t < t1global ) {\n\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\n\t\t\t\t\t\t\tt0 = t1global;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// linear reverse scan\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 - 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\t\t\t\t// before start\n\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt1 = t0;\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\n\n\t\t\t\t\t\t\tif ( t >= t0 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the left side of the index\n\t\t\t\t\t\tright = i1;\n\t\t\t\t\t\ti1 = 0;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// the interval is valid\n\n\t\t\t\t\tbreak validate_interval;\n\n\t\t\t\t} // linear scan\n\n\t\t\t\t// binary search\n\n\t\t\t\twhile ( i1 < right ) {\n\n\t\t\t\t\tconst mid = ( i1 + right ) >>> 1;\n\n\t\t\t\t\tif ( t < pp[ mid ] ) {\n\n\t\t\t\t\t\tright = mid;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ti1 = mid + 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tt1 = pp[ i1 ];\n\t\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\t\t\t// check boundary cases, again\n\n\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\treturn this.afterEnd_( i1 - 1, t0, t );\n\n\t\t\t\t}\n\n\t\t\t} // seek\n\n\t\t\tthis._cachedIndex = i1;\n\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\n\n\t\t} // validate_interval\n\n\t\treturn this.interpolate_( i1, t0, t, t1 );\n\n\t}\n\n\tgetSettings_() {\n\n\t\treturn this.settings || this.DefaultSettings_;\n\n\t}\n\n\tcopySampleValue_( index ) {\n\n\t\t// copies a sample value to the result buffer\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = index * stride;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t// Template methods for derived classes:\n\n\tinterpolate_( /* i1, t0, t, t1 */ ) {\n\n\t\tthrow new Error( 'call to abstract method' );\n\t\t// implementations shall return this.resultBuffer\n\n\t}\n\n\tintervalChanged_( /* i1, t0, t1 */ ) {\n\n\t\t// empty\n\n\t}\n\n}\n\n// ALIAS DEFINITIONS\n\nInterpolant.prototype.beforeStart_ = Interpolant.prototype.copySampleValue_;\nInterpolant.prototype.afterEnd_ = Interpolant.prototype.copySampleValue_;\n\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n */\n\nclass CubicInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t\tthis._weightPrev = - 0;\n\t\tthis._offsetPrev = - 0;\n\t\tthis._weightNext = - 0;\n\t\tthis._offsetNext = - 0;\n\n\t\tthis.DefaultSettings_ = {\n\n\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\tendingEnd: ZeroCurvatureEnding\n\n\t\t};\n\n\t}\n\n\tintervalChanged_( i1, t0, t1 ) {\n\n\t\tconst pp = this.parameterPositions;\n\t\tlet iPrev = i1 - 2,\n\t\t\tiNext = i1 + 1,\n\n\t\t\ttPrev = pp[ iPrev ],\n\t\t\ttNext = pp[ iNext ];\n\n\t\tif ( tPrev === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingStart ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(t0) = 0\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = 2 * t0 - t1;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiPrev = pp.length - 2;\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = t1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tNext === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(tN) = 0\n\t\t\t\t\tiNext = i1;\n\t\t\t\t\ttNext = 2 * t1 - t0;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiNext = 1;\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\n\t\t\t\t\tiNext = i1 - 1;\n\t\t\t\t\ttNext = t0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst halfDt = ( t1 - t0 ) * 0.5,\n\t\t\tstride = this.valueSize;\n\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\n\t\tthis._offsetPrev = iPrev * stride;\n\t\tthis._offsetNext = iNext * stride;\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\n\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tpp = p * p,\n\t\t\tppp = pp * p;\n\n\t\t// evaluate polynomials\n\n\t\tconst sP = - wP * ppp + 2 * wP * pp - wP * p;\n\t\tconst s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\n\t\tconst s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\n\t\tconst sN = wN * ppp - wN * pp;\n\n\t\t// combine data linearly\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tsP * values[ oP + i ] +\n\t\t\t\t\ts0 * values[ o0 + i ] +\n\t\t\t\t\ts1 * values[ o1 + i ] +\n\t\t\t\t\tsN * values[ oN + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\nclass LinearInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset1 = i1 * stride,\n\t\t\toffset0 = offset1 - stride,\n\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tweight0 = 1 - weight1;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceeding\n * the parameter.\n */\n\nclass DiscreteInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1 /*, t0, t, t1 */ ) {\n\n\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t}\n\n}\n\nclass KeyframeTrack {\n\n\tconstructor( name, times, values, interpolation ) {\n\n\t\tif ( name === undefined ) throw new Error( 'THREE.KeyframeTrack: track name is undefined' );\n\t\tif ( times === undefined || times.length === 0 ) throw new Error( 'THREE.KeyframeTrack: no keyframes in track named ' + name );\n\n\t\tthis.name = name;\n\n\t\tthis.times = AnimationUtils.convertArray( times, this.TimeBufferType );\n\t\tthis.values = AnimationUtils.convertArray( values, this.ValueBufferType );\n\n\t\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\n\n\t}\n\n\t// Serialization (in static context, because of constructor invocation\n\t// and automatic invocation of .toJSON):\n\n\tstatic toJSON( track ) {\n\n\t\tconst trackType = track.constructor;\n\n\t\tlet json;\n\n\t\t// derived classes can define a static toJSON method\n\t\tif ( trackType.toJSON !== this.toJSON ) {\n\n\t\t\tjson = trackType.toJSON( track );\n\n\t\t} else {\n\n\t\t\t// by default, we assume the data can be serialized as-is\n\t\t\tjson = {\n\n\t\t\t\t'name': track.name,\n\t\t\t\t'times': AnimationUtils.convertArray( track.times, Array ),\n\t\t\t\t'values': AnimationUtils.convertArray( track.values, Array )\n\n\t\t\t};\n\n\t\t\tconst interpolation = track.getInterpolation();\n\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\n\n\t\t\t\tjson.interpolation = interpolation;\n\n\t\t\t}\n\n\t\t}\n\n\t\tjson.type = track.ValueTypeName; // mandatory\n\n\t\treturn json;\n\n\t}\n\n\tInterpolantFactoryMethodDiscrete( result ) {\n\n\t\treturn new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tInterpolantFactoryMethodLinear( result ) {\n\n\t\treturn new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tInterpolantFactoryMethodSmooth( result ) {\n\n\t\treturn new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tsetInterpolation( interpolation ) {\n\n\t\tlet factoryMethod;\n\n\t\tswitch ( interpolation ) {\n\n\t\t\tcase InterpolateDiscrete:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateLinear:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateSmooth:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( factoryMethod === undefined ) {\n\n\t\t\tconst message = 'unsupported interpolation for ' +\n\t\t\t\tthis.ValueTypeName + ' keyframe track named ' + this.name;\n\n\t\t\tif ( this.createInterpolant === undefined ) {\n\n\t\t\t\t// fall back to default, unless the default itself is messed up\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\n\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.KeyframeTrack:', message );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.createInterpolant = factoryMethod;\n\n\t\treturn this;\n\n\t}\n\n\tgetInterpolation() {\n\n\t\tswitch ( this.createInterpolant ) {\n\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\n\n\t\t\t\treturn InterpolateDiscrete;\n\n\t\t\tcase this.InterpolantFactoryMethodLinear:\n\n\t\t\t\treturn InterpolateLinear;\n\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\n\n\t\t\t\treturn InterpolateSmooth;\n\n\t\t}\n\n\t}\n\n\tgetValueSize() {\n\n\t\treturn this.values.length / this.times.length;\n\n\t}\n\n\t// move all keyframes either forwards or backwards in time\n\tshift( timeOffset ) {\n\n\t\tif ( timeOffset !== 0.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] += timeOffset;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\tscale( timeScale ) {\n\n\t\tif ( timeScale !== 1.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] *= timeScale;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\ttrim( startTime, endTime ) {\n\n\t\tconst times = this.times,\n\t\t\tnKeys = times.length;\n\n\t\tlet from = 0,\n\t\t\tto = nKeys - 1;\n\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) {\n\n\t\t\t++ from;\n\n\t\t}\n\n\t\twhile ( to !== - 1 && times[ to ] > endTime ) {\n\n\t\t\t-- to;\n\n\t\t}\n\n\t\t++ to; // inclusive -> exclusive bound\n\n\t\tif ( from !== 0 || to !== nKeys ) {\n\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\n\t\t\tif ( from >= to ) {\n\n\t\t\t\tto = Math.max( to, 1 );\n\t\t\t\tfrom = to - 1;\n\n\t\t\t}\n\n\t\t\tconst stride = this.getValueSize();\n\t\t\tthis.times = AnimationUtils.arraySlice( times, from, to );\n\t\t\tthis.values = AnimationUtils.arraySlice( this.values, from * stride, to * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\tvalidate() {\n\n\t\tlet valid = true;\n\n\t\tconst valueSize = this.getValueSize();\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Invalid value size in track.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tconst times = this.times,\n\t\t\tvalues = this.values,\n\n\t\t\tnKeys = times.length;\n\n\t\tif ( nKeys === 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Track is empty.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tlet prevTime = null;\n\n\t\tfor ( let i = 0; i !== nKeys; i ++ ) {\n\n\t\t\tconst currTime = times[ i ];\n\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( prevTime !== null && prevTime > currTime ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tprevTime = currTime;\n\n\t\t}\n\n\t\tif ( values !== undefined ) {\n\n\t\t\tif ( AnimationUtils.isTypedArray( values ) ) {\n\n\t\t\t\tfor ( let i = 0, n = values.length; i !== n; ++ i ) {\n\n\t\t\t\t\tconst value = values[ i ];\n\n\t\t\t\t\tif ( isNaN( value ) ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Value is not a valid number.', this, i, value );\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn valid;\n\n\t}\n\n\t// removes equivalent sequential keys as common in morph target sequences\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n\toptimize() {\n\n\t\t// times or values may be shared with other tracks, so overwriting is unsafe\n\t\tconst times = AnimationUtils.arraySlice( this.times ),\n\t\t\tvalues = AnimationUtils.arraySlice( this.values ),\n\t\t\tstride = this.getValueSize(),\n\n\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n\t\t\tlastIndex = times.length - 1;\n\n\t\tlet writeIndex = 1;\n\n\t\tfor ( let i = 1; i < lastIndex; ++ i ) {\n\n\t\t\tlet keep = false;\n\n\t\t\tconst time = times[ i ];\n\t\t\tconst timeNext = times[ i + 1 ];\n\n\t\t\t// remove adjacent keyframes scheduled at the same time\n\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== times[ 0 ] ) ) {\n\n\t\t\t\tif ( ! smoothInterpolation ) {\n\n\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\n\n\t\t\t\t\tconst offset = i * stride,\n\t\t\t\t\t\toffsetP = offset - stride,\n\t\t\t\t\t\toffsetN = offset + stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tconst value = values[ offset + j ];\n\n\t\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\n\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\n\n\t\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tkeep = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// in-place compaction\n\n\t\t\tif ( keep ) {\n\n\t\t\t\tif ( i !== writeIndex ) {\n\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\n\n\t\t\t\t\tconst readOffset = i * stride,\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t++ writeIndex;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// flush last keyframe (compaction looks ahead)\n\n\t\tif ( lastIndex > 0 ) {\n\n\t\t\ttimes[ writeIndex ] = times[ lastIndex ];\n\n\t\t\tfor ( let readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t}\n\n\t\t\t++ writeIndex;\n\n\t\t}\n\n\t\tif ( writeIndex !== times.length ) {\n\n\t\t\tthis.times = AnimationUtils.arraySlice( times, 0, writeIndex );\n\t\t\tthis.values = AnimationUtils.arraySlice( values, 0, writeIndex * stride );\n\n\t\t} else {\n\n\t\t\tthis.times = times;\n\t\t\tthis.values = values;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\tconst times = AnimationUtils.arraySlice( this.times, 0 );\n\t\tconst values = AnimationUtils.arraySlice( this.values, 0 );\n\n\t\tconst TypedKeyframeTrack = this.constructor;\n\t\tconst track = new TypedKeyframeTrack( this.name, times, values );\n\n\t\t// Interpolant argument to constructor is not saved, so copy the factory method directly.\n\t\ttrack.createInterpolant = this.createInterpolant;\n\n\t\treturn track;\n\n\t}\n\n}\n\nKeyframeTrack.prototype.TimeBufferType = Float32Array;\nKeyframeTrack.prototype.ValueBufferType = Float32Array;\nKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\n\n/**\n * A Track of Boolean keyframe values.\n */\nclass BooleanKeyframeTrack extends KeyframeTrack {}\n\nBooleanKeyframeTrack.prototype.ValueTypeName = 'bool';\nBooleanKeyframeTrack.prototype.ValueBufferType = Array;\nBooleanKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\nBooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\nBooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track of keyframe values that represent color.\n */\nclass ColorKeyframeTrack extends KeyframeTrack {}\n\nColorKeyframeTrack.prototype.ValueTypeName = 'color';\n\n/**\n * A Track of numeric keyframe values.\n */\nclass NumberKeyframeTrack extends KeyframeTrack {}\n\nNumberKeyframeTrack.prototype.ValueTypeName = 'number';\n\n/**\n * Spherical linear unit quaternion interpolant.\n */\n\nclass QuaternionLinearInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\n\n\t\tlet offset = i1 * stride;\n\n\t\tfor ( let end = offset + stride; offset !== end; offset += 4 ) {\n\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\n/**\n * A Track of quaternion keyframe values.\n */\nclass QuaternionKeyframeTrack extends KeyframeTrack {\n\n\tInterpolantFactoryMethodLinear( result ) {\n\n\t\treturn new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n}\n\nQuaternionKeyframeTrack.prototype.ValueTypeName = 'quaternion';\n// ValueBufferType is inherited\nQuaternionKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\nQuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track that interpolates Strings\n */\nclass StringKeyframeTrack extends KeyframeTrack {}\n\nStringKeyframeTrack.prototype.ValueTypeName = 'string';\nStringKeyframeTrack.prototype.ValueBufferType = Array;\nStringKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\nStringKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\nStringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track of vectored keyframe values.\n */\nclass VectorKeyframeTrack extends KeyframeTrack {}\n\nVectorKeyframeTrack.prototype.ValueTypeName = 'vector';\n\nclass AnimationClip {\n\n\tconstructor( name, duration = - 1, tracks, blendMode = NormalAnimationBlendMode ) {\n\n\t\tthis.name = name;\n\t\tthis.tracks = tracks;\n\t\tthis.duration = duration;\n\t\tthis.blendMode = blendMode;\n\n\t\tthis.uuid = generateUUID();\n\n\t\t// this means it should figure out its duration by scanning the tracks\n\t\tif ( this.duration < 0 ) {\n\n\t\t\tthis.resetDuration();\n\n\t\t}\n\n\t}\n\n\n\tstatic parse( json ) {\n\n\t\tconst tracks = [],\n\t\t\tjsonTracks = json.tracks,\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\n\n\t\tfor ( let i = 0, n = jsonTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( parseKeyframeTrack( jsonTracks[ i ] ).scale( frameTime ) );\n\n\t\t}\n\n\t\tconst clip = new this( json.name, json.duration, tracks, json.blendMode );\n\t\tclip.uuid = json.uuid;\n\n\t\treturn clip;\n\n\t}\n\n\tstatic toJSON( clip ) {\n\n\t\tconst tracks = [],\n\t\t\tclipTracks = clip.tracks;\n\n\t\tconst json = {\n\n\t\t\t'name': clip.name,\n\t\t\t'duration': clip.duration,\n\t\t\t'tracks': tracks,\n\t\t\t'uuid': clip.uuid,\n\t\t\t'blendMode': clip.blendMode\n\n\t\t};\n\n\t\tfor ( let i = 0, n = clipTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\n\n\t\t}\n\n\t\treturn json;\n\n\t}\n\n\tstatic CreateFromMorphTargetSequence( name, morphTargetSequence, fps, noLoop ) {\n\n\t\tconst numMorphTargets = morphTargetSequence.length;\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < numMorphTargets; i ++ ) {\n\n\t\t\tlet times = [];\n\t\t\tlet values = [];\n\n\t\t\ttimes.push(\n\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\n\t\t\t\ti,\n\t\t\t\t( i + 1 ) % numMorphTargets );\n\n\t\t\tvalues.push( 0, 1, 0 );\n\n\t\t\tconst order = AnimationUtils.getKeyframeOrder( times );\n\t\t\ttimes = AnimationUtils.sortedArray( times, 1, order );\n\t\t\tvalues = AnimationUtils.sortedArray( values, 1, order );\n\n\t\t\t// if there is a key at the first frame, duplicate it as the\n\t\t\t// last frame as well for perfect loop.\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\n\n\t\t\t\ttimes.push( numMorphTargets );\n\t\t\t\tvalues.push( values[ 0 ] );\n\n\t\t\t}\n\n\t\t\ttracks.push(\n\t\t\t\tnew NumberKeyframeTrack(\n\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\n\t\t\t\t\ttimes, values\n\t\t\t\t).scale( 1.0 / fps ) );\n\n\t\t}\n\n\t\treturn new this( name, - 1, tracks );\n\n\t}\n\n\tstatic findByName( objectOrClipArray, name ) {\n\n\t\tlet clipArray = objectOrClipArray;\n\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\n\n\t\t\tconst o = objectOrClipArray;\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\n\n\t\t}\n\n\t\tfor ( let i = 0; i < clipArray.length; i ++ ) {\n\n\t\t\tif ( clipArray[ i ].name === name ) {\n\n\t\t\t\treturn clipArray[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\tstatic CreateClipsFromMorphTargetSequences( morphTargets, fps, noLoop ) {\n\n\t\tconst animationToMorphTargets = {};\n\n\t\t// tested with https://regex101.com/ on trick sequences\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\t\tconst pattern = /^([\\w-]*?)([\\d]+)$/;\n\n\t\t// sort morph target names into animation groups based\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\n\t\tfor ( let i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tconst morphTarget = morphTargets[ i ];\n\t\t\tconst parts = morphTarget.name.match( pattern );\n\n\t\t\tif ( parts && parts.length > 1 ) {\n\n\t\t\t\tconst name = parts[ 1 ];\n\n\t\t\t\tlet animationMorphTargets = animationToMorphTargets[ name ];\n\n\t\t\t\tif ( ! animationMorphTargets ) {\n\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\n\n\t\t\t\t}\n\n\t\t\t\tanimationMorphTargets.push( morphTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst clips = [];\n\n\t\tfor ( const name in animationToMorphTargets ) {\n\n\t\t\tclips.push( this.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\n\n\t\t}\n\n\t\treturn clips;\n\n\t}\n\n\t// parse the animation.hierarchy format\n\tstatic parseAnimation( animation, bones ) {\n\n\t\tif ( ! animation ) {\n\n\t\t\tconsole.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\n\n\t\t\t// only return track if there are actually keys.\n\t\t\tif ( animationKeys.length !== 0 ) {\n\n\t\t\t\tconst times = [];\n\t\t\t\tconst values = [];\n\n\t\t\t\tAnimationUtils.flattenJSON( animationKeys, times, values, propertyName );\n\n\t\t\t\t// empty keys are filtered out, so check again\n\t\t\t\tif ( times.length !== 0 ) {\n\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tconst tracks = [];\n\n\t\tconst clipName = animation.name || 'default';\n\t\tconst fps = animation.fps || 30;\n\t\tconst blendMode = animation.blendMode;\n\n\t\t// automatic length determination in AnimationClip.\n\t\tlet duration = animation.length || - 1;\n\n\t\tconst hierarchyTracks = animation.hierarchy || [];\n\n\t\tfor ( let h = 0; h < hierarchyTracks.length; h ++ ) {\n\n\t\t\tconst animationKeys = hierarchyTracks[ h ].keys;\n\n\t\t\t// skip empty tracks\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\n\n\t\t\t// process morph targets\n\t\t\tif ( animationKeys[ 0 ].morphTargets ) {\n\n\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\tconst morphTargetNames = {};\n\n\t\t\t\tlet k;\n\n\t\t\t\tfor ( k = 0; k < animationKeys.length; k ++ ) {\n\n\t\t\t\t\tif ( animationKeys[ k ].morphTargets ) {\n\n\t\t\t\t\t\tfor ( let m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\n\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// create a track for each morph target with all zero\n\t\t\t\t// morphTargetInfluences except for the keys in which\n\t\t\t\t// the morphTarget is named.\n\t\t\t\tfor ( const morphTargetName in morphTargetNames ) {\n\n\t\t\t\t\tconst times = [];\n\t\t\t\t\tconst values = [];\n\n\t\t\t\t\tfor ( let m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\n\n\t\t\t\t\t\tconst animationKey = animationKeys[ k ];\n\n\t\t\t\t\t\ttimes.push( animationKey.time );\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\n\n\t\t\t\t}\n\n\t\t\t\tduration = morphTargetNames.length * ( fps || 1.0 );\n\n\t\t\t} else {\n\n\t\t\t\t// ...assume skeletal animation\n\n\t\t\t\tconst boneName = '.bones[' + bones[ h ].name + ']';\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.position',\n\t\t\t\t\tanimationKeys, 'pos', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tQuaternionKeyframeTrack, boneName + '.quaternion',\n\t\t\t\t\tanimationKeys, 'rot', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.scale',\n\t\t\t\t\tanimationKeys, 'scl', tracks );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tracks.length === 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst clip = new this( clipName, duration, tracks, blendMode );\n\n\t\treturn clip;\n\n\t}\n\n\tresetDuration() {\n\n\t\tconst tracks = this.tracks;\n\t\tlet duration = 0;\n\n\t\tfor ( let i = 0, n = tracks.length; i !== n; ++ i ) {\n\n\t\t\tconst track = this.tracks[ i ];\n\n\t\t\tduration = Math.max( duration, track.times[ track.times.length - 1 ] );\n\n\t\t}\n\n\t\tthis.duration = duration;\n\n\t\treturn this;\n\n\t}\n\n\ttrim() {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tvalidate() {\n\n\t\tlet valid = true;\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tvalid = valid && this.tracks[ i ].validate();\n\n\t\t}\n\n\t\treturn valid;\n\n\t}\n\n\toptimize() {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].optimize();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\ttracks.push( this.tracks[ i ].clone() );\n\n\t\t}\n\n\t\treturn new this.constructor( this.name, this.duration, tracks, this.blendMode );\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.constructor.toJSON( this );\n\n\t}\n\n}\n\nfunction getTrackTypeForValueTypeName( typeName ) {\n\n\tswitch ( typeName.toLowerCase() ) {\n\n\t\tcase 'scalar':\n\t\tcase 'double':\n\t\tcase 'float':\n\t\tcase 'number':\n\t\tcase 'integer':\n\n\t\t\treturn NumberKeyframeTrack;\n\n\t\tcase 'vector':\n\t\tcase 'vector2':\n\t\tcase 'vector3':\n\t\tcase 'vector4':\n\n\t\t\treturn VectorKeyframeTrack;\n\n\t\tcase 'color':\n\n\t\t\treturn ColorKeyframeTrack;\n\n\t\tcase 'quaternion':\n\n\t\t\treturn QuaternionKeyframeTrack;\n\n\t\tcase 'bool':\n\t\tcase 'boolean':\n\n\t\t\treturn BooleanKeyframeTrack;\n\n\t\tcase 'string':\n\n\t\t\treturn StringKeyframeTrack;\n\n\t}\n\n\tthrow new Error( 'THREE.KeyframeTrack: Unsupported typeName: ' + typeName );\n\n}\n\nfunction parseKeyframeTrack( json ) {\n\n\tif ( json.type === undefined ) {\n\n\t\tthrow new Error( 'THREE.KeyframeTrack: track type undefined, can not parse' );\n\n\t}\n\n\tconst trackType = getTrackTypeForValueTypeName( json.type );\n\n\tif ( json.times === undefined ) {\n\n\t\tconst times = [], values = [];\n\n\t\tAnimationUtils.flattenJSON( json.keys, times, values, 'value' );\n\n\t\tjson.times = times;\n\t\tjson.values = values;\n\n\t}\n\n\t// derived classes can define a static parse method\n\tif ( trackType.parse !== undefined ) {\n\n\t\treturn trackType.parse( json );\n\n\t} else {\n\n\t\t// by default, we assume a constructor compatible with the base\n\t\treturn new trackType( json.name, json.times, json.values, json.interpolation );\n\n\t}\n\n}\n\nconst Cache = {\n\n\tenabled: false,\n\n\tfiles: {},\n\n\tadd: function ( key, file ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\tthis.files[ key ] = file;\n\n\t},\n\n\tget: function ( key ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\treturn this.files[ key ];\n\n\t},\n\n\tremove: function ( key ) {\n\n\t\tdelete this.files[ key ];\n\n\t},\n\n\tclear: function () {\n\n\t\tthis.files = {};\n\n\t}\n\n};\n\nclass LoadingManager {\n\n\tconstructor( onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tlet isLoading = false;\n\t\tlet itemsLoaded = 0;\n\t\tlet itemsTotal = 0;\n\t\tlet urlModifier = undefined;\n\t\tconst handlers = [];\n\n\t\t// Refer to #5689 for the reason why we don't set .onStart\n\t\t// in the constructor\n\n\t\tthis.onStart = undefined;\n\t\tthis.onLoad = onLoad;\n\t\tthis.onProgress = onProgress;\n\t\tthis.onError = onError;\n\n\t\tthis.itemStart = function ( url ) {\n\n\t\t\titemsTotal ++;\n\n\t\t\tif ( isLoading === false ) {\n\n\t\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tisLoading = true;\n\n\t\t};\n\n\t\tthis.itemEnd = function ( url ) {\n\n\t\t\titemsLoaded ++;\n\n\t\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\t\tisLoading = false;\n\n\t\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\t\tscope.onLoad();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.itemError = function ( url ) {\n\n\t\t\tif ( scope.onError !== undefined ) {\n\n\t\t\t\tscope.onError( url );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.resolveURL = function ( url ) {\n\n\t\t\tif ( urlModifier ) {\n\n\t\t\t\treturn urlModifier( url );\n\n\t\t\t}\n\n\t\t\treturn url;\n\n\t\t};\n\n\t\tthis.setURLModifier = function ( transform ) {\n\n\t\t\turlModifier = transform;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.addHandler = function ( regex, loader ) {\n\n\t\t\thandlers.push( regex, loader );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.removeHandler = function ( regex ) {\n\n\t\t\tconst index = handlers.indexOf( regex );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\thandlers.splice( index, 2 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.getHandler = function ( file ) {\n\n\t\t\tfor ( let i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\t\tconst regex = handlers[ i ];\n\t\t\t\tconst loader = handlers[ i + 1 ];\n\n\t\t\t\tif ( regex.global ) regex.lastIndex = 0; // see #17920\n\n\t\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\t\treturn loader;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn null;\n\n\t\t};\n\n\t}\n\n}\n\nconst DefaultLoadingManager = new LoadingManager();\n\nclass Loader {\n\n\tconstructor( manager ) {\n\n\t\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\t\tthis.crossOrigin = 'anonymous';\n\t\tthis.withCredentials = false;\n\t\tthis.path = '';\n\t\tthis.resourcePath = '';\n\t\tthis.requestHeader = {};\n\n\t}\n\n\tload( /* url, onLoad, onProgress, onError */ ) {}\n\n\tloadAsync( url, onProgress ) {\n\n\t\tconst scope = this;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tscope.load( url, resolve, onProgress, reject );\n\n\t\t} );\n\n\t}\n\n\tparse( /* data */ ) {}\n\n\tsetCrossOrigin( crossOrigin ) {\n\n\t\tthis.crossOrigin = crossOrigin;\n\t\treturn this;\n\n\t}\n\n\tsetWithCredentials( value ) {\n\n\t\tthis.withCredentials = value;\n\t\treturn this;\n\n\t}\n\n\tsetPath( path ) {\n\n\t\tthis.path = path;\n\t\treturn this;\n\n\t}\n\n\tsetResourcePath( resourcePath ) {\n\n\t\tthis.resourcePath = resourcePath;\n\t\treturn this;\n\n\t}\n\n\tsetRequestHeader( requestHeader ) {\n\n\t\tthis.requestHeader = requestHeader;\n\t\treturn this;\n\n\t}\n\n}\n\nconst loading = {};\n\nclass FileLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\t// Check if request is duplicate\n\n\t\tif ( loading[ url ] !== undefined ) {\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Check for data: URI\n\t\tconst dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n\t\tconst dataUriRegexResult = url.match( dataUriRegex );\n\t\tlet request;\n\n\t\t// Safari can not handle Data URIs through XMLHttpRequest so process manually\n\t\tif ( dataUriRegexResult ) {\n\n\t\t\tconst mimeType = dataUriRegexResult[ 1 ];\n\t\t\tconst isBase64 = !! dataUriRegexResult[ 2 ];\n\n\t\t\tlet data = dataUriRegexResult[ 3 ];\n\t\t\tdata = decodeURIComponent( data );\n\n\t\t\tif ( isBase64 ) data = atob( data );\n\n\t\t\ttry {\n\n\t\t\t\tlet response;\n\t\t\t\tconst responseType = ( this.responseType || '' ).toLowerCase();\n\n\t\t\t\tswitch ( responseType ) {\n\n\t\t\t\t\tcase 'arraybuffer':\n\t\t\t\t\tcase 'blob':\n\n\t\t\t\t\t\tconst view = new Uint8Array( data.length );\n\n\t\t\t\t\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\t\t\t\t\tview[ i ] = data.charCodeAt( i );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( responseType === 'blob' ) {\n\n\t\t\t\t\t\t\tresponse = new Blob( [ view.buffer ], { type: mimeType } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tresponse = view.buffer;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'document':\n\n\t\t\t\t\t\tconst parser = new DOMParser();\n\t\t\t\t\t\tresponse = parser.parseFromString( data, mimeType );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'json':\n\n\t\t\t\t\t\tresponse = JSON.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault: // 'text' or other\n\n\t\t\t\t\t\tresponse = data;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onLoad ) onLoad( response );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Initialise array for duplicate requests\n\n\t\t\tloading[ url ] = [];\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\trequest = new XMLHttpRequest();\n\n\t\t\trequest.open( 'GET', url, true );\n\n\t\t\trequest.addEventListener( 'load', function ( event ) {\n\n\t\t\t\tconst response = this.response;\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tif ( this.status === 200 || this.status === 0 ) {\n\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\n\n\t\t\t\t\tif ( this.status === 0 ) console.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\n\n\t\t\t\t\t// Add to cache only on HTTP success, so that we do not cache\n\t\t\t\t\t// error response bodies as proper responses to requests.\n\t\t\t\t\tCache.add( url, response );\n\n\t\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( response );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'progress', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onProgress ) callback.onProgress( event );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'error', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'abort', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\tif ( this.responseType !== undefined ) request.responseType = this.responseType;\n\t\t\tif ( this.withCredentials !== undefined ) request.withCredentials = this.withCredentials;\n\n\t\t\tif ( request.overrideMimeType ) request.overrideMimeType( this.mimeType !== undefined ? this.mimeType : 'text/plain' );\n\n\t\t\tfor ( const header in this.requestHeader ) {\n\n\t\t\t\trequest.setRequestHeader( header, this.requestHeader[ header ] );\n\n\t\t\t}\n\n\t\t\trequest.send( null );\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\treturn request;\n\n\t}\n\n\tsetResponseType( value ) {\n\n\t\tthis.responseType = value;\n\t\treturn this;\n\n\t}\n\n\tsetMimeType( value ) {\n\n\t\tthis.mimeType = value;\n\t\treturn this;\n\n\t}\n\n}\n\nclass AnimationLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst animations = [];\n\n\t\tfor ( let i = 0; i < json.length; i ++ ) {\n\n\t\t\tconst clip = AnimationClip.parse( json[ i ] );\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n}\n\n/**\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nclass CompressedTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst images = [];\n\n\t\tconst texture = new CompressedTexture();\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\n\t\tlet loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( url[ i ], function ( buffer ) {\n\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\n\n\t\t\t\timages[ i ] = {\n\t\t\t\t\twidth: texDatas.width,\n\t\t\t\t\theight: texDatas.height,\n\t\t\t\t\tformat: texDatas.format,\n\t\t\t\t\tmipmaps: texDatas.mipmaps\n\t\t\t\t};\n\n\t\t\t\tloaded += 1;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 ) texture.minFilter = LinearFilter;\n\n\t\t\t\t\ttexture.image = images;\n\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\tif ( Array.isArray( url ) ) {\n\n\t\t\tfor ( let i = 0, il = url.length; i < il; ++ i ) {\n\n\t\t\t\tloadTexture( i );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// compressed cubemap texture stored in a single DDS file\n\n\t\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\n\n\t\t\t\tif ( texDatas.isCubemap ) {\n\n\t\t\t\t\tconst faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n\t\t\t\t\tfor ( let f = 0; f < faces; f ++ ) {\n\n\t\t\t\t\t\timages[ f ] = { mipmaps: [] };\n\n\t\t\t\t\t\tfor ( let i = 0; i < texDatas.mipmapCount; i ++ ) {\n\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\n\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\n\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\n\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.image = images;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture.image.width = texDatas.width;\n\t\t\t\t\ttexture.image.height = texDatas.height;\n\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\n\n\t\t\t\t}\n\n\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\n\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t}\n\n\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n}\n\nclass ImageLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\n\n\t\tfunction onImageLoad() {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction onImageError( event ) {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\timage.addEventListener( 'load', onImageLoad, false );\n\t\timage.addEventListener( 'error', onImageError, false );\n\n\t\tif ( url.substr( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t}\n\n}\n\nclass CubeTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( urls, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new CubeTexture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tlet loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( urls[ i ], function ( image ) {\n\n\t\t\t\ttexture.images[ i ] = image;\n\n\t\t\t\tloaded ++;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, undefined, onError );\n\n\t\t}\n\n\t\tfor ( let i = 0; i < urls.length; ++ i ) {\n\n\t\t\tloadTexture( i );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n}\n\n/**\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nclass DataTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst texture = new DataTexture();\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setPath( this.path );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\tconst texData = scope.parse( buffer );\n\n\t\t\tif ( ! texData ) return;\n\n\t\t\tif ( texData.image !== undefined ) {\n\n\t\t\t\ttexture.image = texData.image;\n\n\t\t\t} else if ( texData.data !== undefined ) {\n\n\t\t\t\ttexture.image.width = texData.width;\n\t\t\t\ttexture.image.height = texData.height;\n\t\t\t\ttexture.image.data = texData.data;\n\n\t\t\t}\n\n\t\t\ttexture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n\t\t\ttexture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n\n\t\t\ttexture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n\t\t\ttexture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearFilter;\n\n\t\t\ttexture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n\t\t\tif ( texData.encoding !== undefined ) {\n\n\t\t\t\ttexture.encoding = texData.encoding;\n\n\t\t\t}\n\n\t\t\tif ( texData.flipY !== undefined ) {\n\n\t\t\t\ttexture.flipY = texData.flipY;\n\n\t\t\t}\n\n\t\t\tif ( texData.format !== undefined ) {\n\n\t\t\t\ttexture.format = texData.format;\n\n\t\t\t}\n\n\t\t\tif ( texData.type !== undefined ) {\n\n\t\t\t\ttexture.type = texData.type;\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmaps !== undefined ) {\n\n\t\t\t\ttexture.mipmaps = texData.mipmaps;\n\t\t\t\ttexture.minFilter = LinearMipmapLinearFilter; // presumably...\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmapCount === 1 ) {\n\n\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t}\n\n\t\t\tif ( texData.generateMipmaps !== undefined ) {\n\n\t\t\t\ttexture.generateMipmaps = texData.generateMipmaps;\n\n\t\t\t}\n\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad ) onLoad( texture, texData );\n\n\t\t}, onProgress, onError );\n\n\n\t\treturn texture;\n\n\t}\n\n}\n\nclass TextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new Texture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tloader.load( url, function ( image ) {\n\n\t\t\ttexture.image = image;\n\n\t\t\t// JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n\t\t\tconst isJPEG = url.search( /\\.jpe?g($|\\?)/i ) > 0 || url.search( /^data\\:image\\/jpeg/ ) === 0;\n\n\t\t\ttexture.format = isJPEG ? RGBFormat : RGBAFormat;\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad !== undefined ) {\n\n\t\t\t\tonLoad( texture );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t}\n\n}\n\n/**\n * Extensible curve object.\n *\n * Some common of curve methods:\n * .getPoint( t, optionalTarget ), .getTangent( t, optionalTarget )\n * .getPointAt( u, optionalTarget ), .getTangentAt( u, optionalTarget )\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **/\n\nclass Curve {\n\n\tconstructor() {\n\n\t\tthis.type = 'Curve';\n\n\t\tthis.arcLengthDivisions = 200;\n\n\t}\n\n\t// Virtual base class method to overwrite and implement in subclasses\n\t//\t- t [0 .. 1]\n\n\tgetPoint( /* t, optionalTarget */ ) {\n\n\t\tconsole.warn( 'THREE.Curve: .getPoint() not implemented.' );\n\t\treturn null;\n\n\t}\n\n\t// Get point at relative position in curve according to arc length\n\t// - u [0 .. 1]\n\n\tgetPointAt( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getPoint( t, optionalTarget );\n\n\t}\n\n\t// Get sequence of points using getPoint( t )\n\n\tgetPoints( divisions = 5 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPoint( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\t// Get sequence of points using getPointAt( u )\n\n\tgetSpacedPoints( divisions = 5 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPointAt( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\t// Get total curve arc length\n\n\tgetLength() {\n\n\t\tconst lengths = this.getLengths();\n\t\treturn lengths[ lengths.length - 1 ];\n\n\t}\n\n\t// Get list of cumulative segment lengths\n\n\tgetLengths( divisions = this.arcLengthDivisions ) {\n\n\t\tif ( this.cacheArcLengths &&\n\t\t\t( this.cacheArcLengths.length === divisions + 1 ) &&\n\t\t\t! this.needsUpdate ) {\n\n\t\t\treturn this.cacheArcLengths;\n\n\t\t}\n\n\t\tthis.needsUpdate = false;\n\n\t\tconst cache = [];\n\t\tlet current, last = this.getPoint( 0 );\n\t\tlet sum = 0;\n\n\t\tcache.push( 0 );\n\n\t\tfor ( let p = 1; p <= divisions; p ++ ) {\n\n\t\t\tcurrent = this.getPoint( p / divisions );\n\t\t\tsum += current.distanceTo( last );\n\t\t\tcache.push( sum );\n\t\t\tlast = current;\n\n\t\t}\n\n\t\tthis.cacheArcLengths = cache;\n\n\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n\t}\n\n\tupdateArcLengths() {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.getLengths();\n\n\t}\n\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n\tgetUtoTmapping( u, distance ) {\n\n\t\tconst arcLengths = this.getLengths();\n\n\t\tlet i = 0;\n\t\tconst il = arcLengths.length;\n\n\t\tlet targetArcLength; // The targeted u distance value to get\n\n\t\tif ( distance ) {\n\n\t\t\ttargetArcLength = distance;\n\n\t\t} else {\n\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\n\n\t\t}\n\n\t\t// binary search for the index with largest value smaller than target u distance\n\n\t\tlet low = 0, high = il - 1, comparison;\n\n\t\twhile ( low <= high ) {\n\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\n\n\t\t\tif ( comparison < 0 ) {\n\n\t\t\t\tlow = i + 1;\n\n\t\t\t} else if ( comparison > 0 ) {\n\n\t\t\t\thigh = i - 1;\n\n\t\t\t} else {\n\n\t\t\t\thigh = i;\n\t\t\t\tbreak;\n\n\t\t\t\t// DONE\n\n\t\t\t}\n\n\t\t}\n\n\t\ti = high;\n\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\n\n\t\t\treturn i / ( il - 1 );\n\n\t\t}\n\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\n\n\t\tconst lengthBefore = arcLengths[ i ];\n\t\tconst lengthAfter = arcLengths[ i + 1 ];\n\n\t\tconst segmentLength = lengthAfter - lengthBefore;\n\n\t\t// determine where we are between the 'before' and 'after' points\n\n\t\tconst segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n\t\t// add that fractional amount to t\n\n\t\tconst t = ( i + segmentFraction ) / ( il - 1 );\n\n\t\treturn t;\n\n\t}\n\n\t// Returns a unit vector tangent at t\n\t// In case any sub curve does not implement its tangent derivation,\n\t// 2 points a small delta apart will be used to find its gradient\n\t// which seems to give a reasonable approximation\n\n\tgetTangent( t, optionalTarget ) {\n\n\t\tconst delta = 0.0001;\n\t\tlet t1 = t - delta;\n\t\tlet t2 = t + delta;\n\n\t\t// Capping in case of danger\n\n\t\tif ( t1 < 0 ) t1 = 0;\n\t\tif ( t2 > 1 ) t2 = 1;\n\n\t\tconst pt1 = this.getPoint( t1 );\n\t\tconst pt2 = this.getPoint( t2 );\n\n\t\tconst tangent = optionalTarget || ( ( pt1.isVector2 ) ? new Vector2() : new Vector3() );\n\n\t\ttangent.copy( pt2 ).sub( pt1 ).normalize();\n\n\t\treturn tangent;\n\n\t}\n\n\tgetTangentAt( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getTangent( t, optionalTarget );\n\n\t}\n\n\tcomputeFrenetFrames( segments, closed ) {\n\n\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n\t\tconst normal = new Vector3();\n\n\t\tconst tangents = [];\n\t\tconst normals = [];\n\t\tconst binormals = [];\n\n\t\tconst vec = new Vector3();\n\t\tconst mat = new Matrix4();\n\n\t\t// compute the tangent vectors for each segment on the curve\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst u = i / segments;\n\n\t\t\ttangents[ i ] = this.getTangentAt( u, new Vector3() );\n\t\t\ttangents[ i ].normalize();\n\n\t\t}\n\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\n\t\t// and in the direction of the minimum tangent xyz component\n\n\t\tnormals[ 0 ] = new Vector3();\n\t\tbinormals[ 0 ] = new Vector3();\n\t\tlet min = Number.MAX_VALUE;\n\t\tconst tx = Math.abs( tangents[ 0 ].x );\n\t\tconst ty = Math.abs( tangents[ 0 ].y );\n\t\tconst tz = Math.abs( tangents[ 0 ].z );\n\n\t\tif ( tx <= min ) {\n\n\t\t\tmin = tx;\n\t\t\tnormal.set( 1, 0, 0 );\n\n\t\t}\n\n\t\tif ( ty <= min ) {\n\n\t\t\tmin = ty;\n\t\t\tnormal.set( 0, 1, 0 );\n\n\t\t}\n\n\t\tif ( tz <= min ) {\n\n\t\t\tnormal.set( 0, 0, 1 );\n\n\t\t}\n\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\n\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\n\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\n\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\n\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\n\n\t\t\tif ( vec.length() > Number.EPSILON ) {\n\n\t\t\t\tvec.normalize();\n\n\t\t\t\tconst theta = Math.acos( clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\n\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\n\t\t\t}\n\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t}\n\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\t\tif ( closed === true ) {\n\n\t\t\tlet theta = Math.acos( clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\n\t\t\ttheta /= segments;\n\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\n\n\t\t\t\ttheta = - theta;\n\n\t\t\t}\n\n\t\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\t\t// twist a little...\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttangents: tangents,\n\t\t\tnormals: normals,\n\t\t\tbinormals: binormals\n\t\t};\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Curve',\n\t\t\t\tgenerator: 'Curve.toJSON'\n\t\t\t}\n\t\t};\n\n\t\tdata.arcLengthDivisions = this.arcLengthDivisions;\n\t\tdata.type = this.type;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tthis.arcLengthDivisions = json.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass EllipseCurve extends Curve {\n\n\tconstructor( aX = 0, aY = 0, xRadius = 1, yRadius = 1, aStartAngle = 0, aEndAngle = Math.PI * 2, aClockwise = false, aRotation = 0 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'EllipseCurve';\n\n\t\tthis.aX = aX;\n\t\tthis.aY = aY;\n\n\t\tthis.xRadius = xRadius;\n\t\tthis.yRadius = yRadius;\n\n\t\tthis.aStartAngle = aStartAngle;\n\t\tthis.aEndAngle = aEndAngle;\n\n\t\tthis.aClockwise = aClockwise;\n\n\t\tthis.aRotation = aRotation;\n\n\t}\n\n\tgetPoint( t, optionalTarget ) {\n\n\t\tconst point = optionalTarget || new Vector2();\n\n\t\tconst twoPi = Math.PI * 2;\n\t\tlet deltaAngle = this.aEndAngle - this.aStartAngle;\n\t\tconst samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\n\n\t\t// ensures that deltaAngle is 0 .. 2 PI\n\t\twhile ( deltaAngle < 0 ) deltaAngle += twoPi;\n\t\twhile ( deltaAngle > twoPi ) deltaAngle -= twoPi;\n\n\t\tif ( deltaAngle < Number.EPSILON ) {\n\n\t\t\tif ( samePoints ) {\n\n\t\t\t\tdeltaAngle = 0;\n\n\t\t\t} else {\n\n\t\t\t\tdeltaAngle = twoPi;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.aClockwise === true && ! samePoints ) {\n\n\t\t\tif ( deltaAngle === twoPi ) {\n\n\t\t\t\tdeltaAngle = - twoPi;\n\n\t\t\t} else {\n\n\t\t\t\tdeltaAngle = deltaAngle - twoPi;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst angle = this.aStartAngle + t * deltaAngle;\n\t\tlet x = this.aX + this.xRadius * Math.cos( angle );\n\t\tlet y = this.aY + this.yRadius * Math.sin( angle );\n\n\t\tif ( this.aRotation !== 0 ) {\n\n\t\t\tconst cos = Math.cos( this.aRotation );\n\t\t\tconst sin = Math.sin( this.aRotation );\n\n\t\t\tconst tx = x - this.aX;\n\t\t\tconst ty = y - this.aY;\n\n\t\t\t// Rotate the point about the center of the ellipse.\n\t\t\tx = tx * cos - ty * sin + this.aX;\n\t\t\ty = tx * sin + ty * cos + this.aY;\n\n\t\t}\n\n\t\treturn point.set( x, y );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.aX = source.aX;\n\t\tthis.aY = source.aY;\n\n\t\tthis.xRadius = source.xRadius;\n\t\tthis.yRadius = source.yRadius;\n\n\t\tthis.aStartAngle = source.aStartAngle;\n\t\tthis.aEndAngle = source.aEndAngle;\n\n\t\tthis.aClockwise = source.aClockwise;\n\n\t\tthis.aRotation = source.aRotation;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.aX = this.aX;\n\t\tdata.aY = this.aY;\n\n\t\tdata.xRadius = this.xRadius;\n\t\tdata.yRadius = this.yRadius;\n\n\t\tdata.aStartAngle = this.aStartAngle;\n\t\tdata.aEndAngle = this.aEndAngle;\n\n\t\tdata.aClockwise = this.aClockwise;\n\n\t\tdata.aRotation = this.aRotation;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.aX = json.aX;\n\t\tthis.aY = json.aY;\n\n\t\tthis.xRadius = json.xRadius;\n\t\tthis.yRadius = json.yRadius;\n\n\t\tthis.aStartAngle = json.aStartAngle;\n\t\tthis.aEndAngle = json.aEndAngle;\n\n\t\tthis.aClockwise = json.aClockwise;\n\n\t\tthis.aRotation = json.aRotation;\n\n\t\treturn this;\n\n\t}\n\n}\n\nEllipseCurve.prototype.isEllipseCurve = true;\n\nclass ArcCurve extends EllipseCurve {\n\n\tconstructor( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tsuper( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\tthis.type = 'ArcCurve';\n\n\t}\n\n}\n\nArcCurve.prototype.isArcCurve = true;\n\n/**\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\n\n\n/*\nBased on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\nThis CubicPoly class could be used for reusing some variables and calculations,\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\nwhich can be placed in CurveUtils.\n*/\n\nfunction CubicPoly() {\n\n\tlet c0 = 0, c1 = 0, c2 = 0, c3 = 0;\n\n\t/*\n\t * Compute coefficients for a cubic polynomial\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t * such that\n\t *   p(0) = x0, p(1) = x1\n\t *  and\n\t *   p'(0) = t0, p'(1) = t1.\n\t */\n\tfunction init( x0, x1, t0, t1 ) {\n\n\t\tc0 = x0;\n\t\tc1 = t0;\n\t\tc2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n\t}\n\n\treturn {\n\n\t\tinitCatmullRom: function ( x0, x1, x2, x3, tension ) {\n\n\t\t\tinit( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\n\n\t\t},\n\n\t\tinitNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\n\n\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\tlet t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\n\t\t\tlet t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\n\n\t\t\t// rescale tangents for parametrization in [0,1]\n\t\t\tt1 *= dt1;\n\t\t\tt2 *= dt1;\n\n\t\t\tinit( x1, x2, t1, t2 );\n\n\t\t},\n\n\t\tcalc: function ( t ) {\n\n\t\t\tconst t2 = t * t;\n\t\t\tconst t3 = t2 * t;\n\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\n\n\t\t}\n\n\t};\n\n}\n\n//\n\nconst tmp = new Vector3();\nconst px = new CubicPoly(), py = new CubicPoly(), pz = new CubicPoly();\n\nclass CatmullRomCurve3 extends Curve {\n\n\tconstructor( points = [], closed = false, curveType = 'centripetal', tension = 0.5 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CatmullRomCurve3';\n\n\t\tthis.points = points;\n\t\tthis.closed = closed;\n\t\tthis.curveType = curveType;\n\t\tthis.tension = tension;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst points = this.points;\n\t\tconst l = points.length;\n\n\t\tconst p = ( l - ( this.closed ? 0 : 1 ) ) * t;\n\t\tlet intPoint = Math.floor( p );\n\t\tlet weight = p - intPoint;\n\n\t\tif ( this.closed ) {\n\n\t\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / l ) + 1 ) * l;\n\n\t\t} else if ( weight === 0 && intPoint === l - 1 ) {\n\n\t\t\tintPoint = l - 2;\n\t\t\tweight = 1;\n\n\t\t}\n\n\t\tlet p0, p3; // 4 points (p1 & p2 defined below)\n\n\t\tif ( this.closed || intPoint > 0 ) {\n\n\t\t\tp0 = points[ ( intPoint - 1 ) % l ];\n\n\t\t} else {\n\n\t\t\t// extrapolate first point\n\t\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\n\t\t\tp0 = tmp;\n\n\t\t}\n\n\t\tconst p1 = points[ intPoint % l ];\n\t\tconst p2 = points[ ( intPoint + 1 ) % l ];\n\n\t\tif ( this.closed || intPoint + 2 < l ) {\n\n\t\t\tp3 = points[ ( intPoint + 2 ) % l ];\n\n\t\t} else {\n\n\t\t\t// extrapolate last point\n\t\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\n\t\t\tp3 = tmp;\n\n\t\t}\n\n\t\tif ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\n\n\t\t\t// init Centripetal / Chordal Catmull-Rom\n\t\t\tconst pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n\t\t\tlet dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\n\t\t\tlet dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\n\t\t\tlet dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\n\n\t\t\t// safety check for repeated points\n\t\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\n\t\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\n\t\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\n\n\t\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\n\t\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\n\t\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\n\n\t\t} else if ( this.curveType === 'catmullrom' ) {\n\n\t\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\n\t\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\n\t\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\n\n\t\t}\n\n\t\tpoint.set(\n\t\t\tpx.calc( weight ),\n\t\t\tpy.calc( weight ),\n\t\t\tpz.calc( weight )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = source.points[ i ];\n\n\t\t\tthis.points.push( point.clone() );\n\n\t\t}\n\n\t\tthis.closed = source.closed;\n\t\tthis.curveType = source.curveType;\n\t\tthis.tension = source.tension;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.points = [];\n\n\t\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = this.points[ i ];\n\t\t\tdata.points.push( point.toArray() );\n\n\t\t}\n\n\t\tdata.closed = this.closed;\n\t\tdata.curveType = this.curveType;\n\t\tdata.tension = this.tension;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = json.points[ i ];\n\t\t\tthis.points.push( new Vector3().fromArray( point ) );\n\n\t\t}\n\n\t\tthis.closed = json.closed;\n\t\tthis.curveType = json.curveType;\n\t\tthis.tension = json.tension;\n\n\t\treturn this;\n\n\t}\n\n}\n\nCatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\n\n/**\n * Bezier Curves formulas obtained from\n * http://en.wikipedia.org/wiki/Bézier_curve\n */\n\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\n\n\tconst v0 = ( p2 - p0 ) * 0.5;\n\tconst v1 = ( p3 - p1 ) * 0.5;\n\tconst t2 = t * t;\n\tconst t3 = t * t2;\n\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n}\n\n//\n\nfunction QuadraticBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * p;\n\n}\n\nfunction QuadraticBezierP1( t, p ) {\n\n\treturn 2 * ( 1 - t ) * t * p;\n\n}\n\nfunction QuadraticBezierP2( t, p ) {\n\n\treturn t * t * p;\n\n}\n\nfunction QuadraticBezier( t, p0, p1, p2 ) {\n\n\treturn QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\n\t\tQuadraticBezierP2( t, p2 );\n\n}\n\n//\n\nfunction CubicBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * k * p;\n\n}\n\nfunction CubicBezierP1( t, p ) {\n\n\tconst k = 1 - t;\n\treturn 3 * k * k * t * p;\n\n}\n\nfunction CubicBezierP2( t, p ) {\n\n\treturn 3 * ( 1 - t ) * t * t * p;\n\n}\n\nfunction CubicBezierP3( t, p ) {\n\n\treturn t * t * t * p;\n\n}\n\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\n\n\treturn CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\n\t\tCubicBezierP3( t, p3 );\n\n}\n\nclass CubicBezierCurve extends Curve {\n\n\tconstructor( v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2(), v3 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CubicBezierCurve';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\t\tthis.v3 = v3;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\t\tpoint.set(\n\t\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\t\tthis.v3.copy( source.v3 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\t\tdata.v3 = this.v3.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\t\tthis.v3.fromArray( json.v3 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nCubicBezierCurve.prototype.isCubicBezierCurve = true;\n\nclass CubicBezierCurve3 extends Curve {\n\n\tconstructor( v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3(), v3 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CubicBezierCurve3';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\t\tthis.v3 = v3;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\t\tpoint.set(\n\t\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\n\t\t\tCubicBezier( t, v0.z, v1.z, v2.z, v3.z )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\t\tthis.v3.copy( source.v3 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\t\tdata.v3 = this.v3.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\t\tthis.v3.fromArray( json.v3 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nCubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\n\nclass LineCurve extends Curve {\n\n\tconstructor( v1 = new Vector2(), v2 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LineCurve';\n\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tif ( t === 1 ) {\n\n\t\t\tpoint.copy( this.v2 );\n\n\t\t} else {\n\n\t\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t\t}\n\n\t\treturn point;\n\n\t}\n\n\t// Line curve is linear, so we can overwrite default getPointAt\n\tgetPointAt( u, optionalTarget ) {\n\n\t\treturn this.getPoint( u, optionalTarget );\n\n\t}\n\n\tgetTangent( t, optionalTarget ) {\n\n\t\tconst tangent = optionalTarget || new Vector2();\n\n\t\ttangent.copy( this.v2 ).sub( this.v1 ).normalize();\n\n\t\treturn tangent;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nLineCurve.prototype.isLineCurve = true;\n\nclass LineCurve3 extends Curve {\n\n\tconstructor( v1 = new Vector3(), v2 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LineCurve3';\n\t\tthis.isLineCurve3 = true;\n\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tif ( t === 1 ) {\n\n\t\t\tpoint.copy( this.v2 );\n\n\t\t} else {\n\n\t\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t\t}\n\n\t\treturn point;\n\n\t}\n\t// Line curve is linear, so we can overwrite default getPointAt\n\tgetPointAt( u, optionalTarget ) {\n\n\t\treturn this.getPoint( u, optionalTarget );\n\n\t}\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass QuadraticBezierCurve extends Curve {\n\n\tconstructor( v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'QuadraticBezierCurve';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\t\tpoint.set(\n\t\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\t\tQuadraticBezier( t, v0.y, v1.y, v2.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nQuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\n\nclass QuadraticBezierCurve3 extends Curve {\n\n\tconstructor( v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'QuadraticBezierCurve3';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\t\tpoint.set(\n\t\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\t\tQuadraticBezier( t, v0.y, v1.y, v2.y ),\n\t\t\tQuadraticBezier( t, v0.z, v1.z, v2.z )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nQuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\n\nclass SplineCurve extends Curve {\n\n\tconstructor( points = [] ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'SplineCurve';\n\n\t\tthis.points = points;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst points = this.points;\n\t\tconst p = ( points.length - 1 ) * t;\n\n\t\tconst intPoint = Math.floor( p );\n\t\tconst weight = p - intPoint;\n\n\t\tconst p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\n\t\tconst p1 = points[ intPoint ];\n\t\tconst p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n\t\tconst p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\n\t\tpoint.set(\n\t\t\tCatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\n\t\t\tCatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = source.points[ i ];\n\n\t\t\tthis.points.push( point.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.points = [];\n\n\t\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = this.points[ i ];\n\t\t\tdata.points.push( point.toArray() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = json.points[ i ];\n\t\t\tthis.points.push( new Vector2().fromArray( point ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nSplineCurve.prototype.isSplineCurve = true;\n\nvar Curves = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tArcCurve: ArcCurve,\n\tCatmullRomCurve3: CatmullRomCurve3,\n\tCubicBezierCurve: CubicBezierCurve,\n\tCubicBezierCurve3: CubicBezierCurve3,\n\tEllipseCurve: EllipseCurve,\n\tLineCurve: LineCurve,\n\tLineCurve3: LineCurve3,\n\tQuadraticBezierCurve: QuadraticBezierCurve,\n\tQuadraticBezierCurve3: QuadraticBezierCurve3,\n\tSplineCurve: SplineCurve\n});\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nclass CurvePath extends Curve {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'CurvePath';\n\n\t\tthis.curves = [];\n\t\tthis.autoClose = false; // Automatically closes the path\n\n\t}\n\n\tadd( curve ) {\n\n\t\tthis.curves.push( curve );\n\n\t}\n\n\tclosePath() {\n\n\t\t// Add a line curve if start and end of lines are not connected\n\t\tconst startPoint = this.curves[ 0 ].getPoint( 0 );\n\t\tconst endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\n\n\t\tif ( ! startPoint.equals( endPoint ) ) {\n\n\t\t\tthis.curves.push( new LineCurve( endPoint, startPoint ) );\n\n\t\t}\n\n\t}\n\n\t// To get accurate point with reference to\n\t// entire path distance at time t,\n\t// following has to be done:\n\n\t// 1. Length of each sub path have to be known\n\t// 2. Locate and identify type of curve\n\t// 3. Get t for the curve\n\t// 4. Return curve.getPointAt(t')\n\n\tgetPoint( t ) {\n\n\t\tconst d = t * this.getLength();\n\t\tconst curveLengths = this.getCurveLengths();\n\t\tlet i = 0;\n\n\t\t// To think about boundaries points.\n\n\t\twhile ( i < curveLengths.length ) {\n\n\t\t\tif ( curveLengths[ i ] >= d ) {\n\n\t\t\t\tconst diff = curveLengths[ i ] - d;\n\t\t\t\tconst curve = this.curves[ i ];\n\n\t\t\t\tconst segmentLength = curve.getLength();\n\t\t\t\tconst u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n\t\t\t\treturn curve.getPointAt( u );\n\n\t\t\t}\n\n\t\t\ti ++;\n\n\t\t}\n\n\t\treturn null;\n\n\t\t// loop where sum != 0, sum > d , sum+1 <d\n\n\t}\n\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t// getPoint() depends on getLength\n\n\tgetLength() {\n\n\t\tconst lens = this.getCurveLengths();\n\t\treturn lens[ lens.length - 1 ];\n\n\t}\n\n\t// cacheLengths must be recalculated.\n\tupdateArcLengths() {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.cacheLengths = null;\n\t\tthis.getCurveLengths();\n\n\t}\n\n\t// Compute lengths and cache them\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\n\tgetCurveLengths() {\n\n\t\t// We use cache values if curves and cache array are same length\n\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\n\n\t\t\treturn this.cacheLengths;\n\n\t\t}\n\n\t\t// Get length of sub-curve\n\t\t// Push sums into cached array\n\n\t\tconst lengths = [];\n\t\tlet sums = 0;\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tsums += this.curves[ i ].getLength();\n\t\t\tlengths.push( sums );\n\n\t\t}\n\n\t\tthis.cacheLengths = lengths;\n\n\t\treturn lengths;\n\n\t}\n\n\tgetSpacedPoints( divisions = 40 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let i = 0; i <= divisions; i ++ ) {\n\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\n\n\t\t}\n\n\t\tif ( this.autoClose ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\tgetPoints( divisions = 12 ) {\n\n\t\tconst points = [];\n\t\tlet last;\n\n\t\tfor ( let i = 0, curves = this.curves; i < curves.length; i ++ ) {\n\n\t\t\tconst curve = curves[ i ];\n\t\t\tconst resolution = ( curve && curve.isEllipseCurve ) ? divisions * 2\n\t\t\t\t: ( curve && ( curve.isLineCurve || curve.isLineCurve3 ) ) ? 1\n\t\t\t\t\t: ( curve && curve.isSplineCurve ) ? divisions * curve.points.length\n\t\t\t\t\t\t: divisions;\n\n\t\t\tconst pts = curve.getPoints( resolution );\n\n\t\t\tfor ( let j = 0; j < pts.length; j ++ ) {\n\n\t\t\t\tconst point = pts[ j ];\n\n\t\t\t\tif ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\n\n\t\t\t\tpoints.push( point );\n\t\t\t\tlast = point;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = source.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = source.curves[ i ];\n\n\t\t\tthis.curves.push( curve.clone() );\n\n\t\t}\n\n\t\tthis.autoClose = source.autoClose;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.autoClose = this.autoClose;\n\t\tdata.curves = [];\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = this.curves[ i ];\n\t\t\tdata.curves.push( curve.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.autoClose = json.autoClose;\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = json.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = json.curves[ i ];\n\t\t\tthis.curves.push( new Curves[ curve.type ]().fromJSON( curve ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Path extends CurvePath {\n\n\tconstructor( points ) {\n\n\t\tsuper();\n\t\tthis.type = 'Path';\n\n\t\tthis.currentPoint = new Vector2();\n\n\t\tif ( points ) {\n\n\t\t\tthis.setFromPoints( points );\n\n\t\t}\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.moveTo( points[ 0 ].x, points[ 0 ].y );\n\n\t\tfor ( let i = 1, l = points.length; i < l; i ++ ) {\n\n\t\t\tthis.lineTo( points[ i ].x, points[ i ].y );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tmoveTo( x, y ) {\n\n\t\tthis.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\n\n\t\treturn this;\n\n\t}\n\n\tlineTo( x, y ) {\n\n\t\tconst curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tquadraticCurveTo( aCPx, aCPy, aX, aY ) {\n\n\t\tconst curve = new QuadraticBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCPx, aCPy ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tbezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tconst curve = new CubicBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCP1x, aCP1y ),\n\t\t\tnew Vector2( aCP2x, aCP2y ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tsplineThru( pts /*Array of Vector*/ ) {\n\n\t\tconst npts = [ this.currentPoint.clone() ].concat( pts );\n\n\t\tconst curve = new SplineCurve( npts );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.copy( pts[ pts.length - 1 ] );\n\n\t\treturn this;\n\n\t}\n\n\tarc( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\n\t\t\taStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t}\n\n\tabsarc( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t}\n\n\tellipse( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\treturn this;\n\n\t}\n\n\tabsellipse( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\tif ( this.curves.length > 0 ) {\n\n\t\t\t// if a previous curve is present, attempt to join\n\t\t\tconst firstPoint = curve.getPoint( 0 );\n\n\t\t\tif ( ! firstPoint.equals( this.currentPoint ) ) {\n\n\t\t\t\tthis.lineTo( firstPoint.x, firstPoint.y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.curves.push( curve );\n\n\t\tconst lastPoint = curve.getPoint( 1 );\n\t\tthis.currentPoint.copy( lastPoint );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.currentPoint.copy( source.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.currentPoint = this.currentPoint.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.currentPoint.fromArray( json.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Shape extends Path {\n\n\tconstructor( points ) {\n\n\t\tsuper( points );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.type = 'Shape';\n\n\t\tthis.holes = [];\n\n\t}\n\n\tgetPointsHoles( divisions ) {\n\n\t\tconst holesPts = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\n\t\t}\n\n\t\treturn holesPts;\n\n\t}\n\n\t// get points of shape and holes (keypoints based on segments parameter)\n\n\textractPoints( divisions ) {\n\n\t\treturn {\n\n\t\t\tshape: this.getPoints( divisions ),\n\t\t\tholes: this.getPointsHoles( divisions )\n\n\t\t};\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = source.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = source.holes[ i ];\n\n\t\t\tthis.holes.push( hole.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.holes = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = this.holes[ i ];\n\t\t\tdata.holes.push( hole.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.uuid = json.uuid;\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = json.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = json.holes[ i ];\n\t\t\tthis.holes.push( new Path().fromJSON( hole ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Light extends Object3D {\n\n\tconstructor( color, intensity = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Light';\n\n\t\tthis.color = new Color( color );\n\t\tthis.intensity = intensity;\n\n\t}\n\n\tdispose() {\n\n\t\t// Empty here in base class; some subclasses override.\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.color = this.color.getHex();\n\t\tdata.object.intensity = this.intensity;\n\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\n\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\n\n\t\tif ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nLight.prototype.isLight = true;\n\nclass HemisphereLight extends Light {\n\n\tconstructor( skyColor, groundColor, intensity ) {\n\n\t\tsuper( skyColor, intensity );\n\n\t\tthis.type = 'HemisphereLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.groundColor = new Color( groundColor );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.groundColor.copy( source.groundColor );\n\n\t\treturn this;\n\n\t}\n\n}\n\nHemisphereLight.prototype.isHemisphereLight = true;\n\nconst _projScreenMatrix$1 = /*@__PURE__*/ new Matrix4();\nconst _lightPositionWorld$1 = /*@__PURE__*/ new Vector3();\nconst _lookTarget$1 = /*@__PURE__*/ new Vector3();\n\nclass LightShadow {\n\n\tconstructor( camera ) {\n\n\t\tthis.camera = camera;\n\n\t\tthis.bias = 0;\n\t\tthis.normalBias = 0;\n\t\tthis.radius = 1;\n\n\t\tthis.mapSize = new Vector2( 512, 512 );\n\n\t\tthis.map = null;\n\t\tthis.mapPass = null;\n\t\tthis.matrix = new Matrix4();\n\n\t\tthis.autoUpdate = true;\n\t\tthis.needsUpdate = false;\n\n\t\tthis._frustum = new Frustum();\n\t\tthis._frameExtents = new Vector2( 1, 1 );\n\n\t\tthis._viewportCount = 1;\n\n\t\tthis._viewports = [\n\n\t\t\tnew Vector4( 0, 0, 1, 1 )\n\n\t\t];\n\n\t}\n\n\tgetViewportCount() {\n\n\t\treturn this._viewportCount;\n\n\t}\n\n\tgetFrustum() {\n\n\t\treturn this._frustum;\n\n\t}\n\n\tupdateMatrices( light ) {\n\n\t\tconst shadowCamera = this.camera;\n\t\tconst shadowMatrix = this.matrix;\n\n\t\t_lightPositionWorld$1.setFromMatrixPosition( light.matrixWorld );\n\t\tshadowCamera.position.copy( _lightPositionWorld$1 );\n\n\t\t_lookTarget$1.setFromMatrixPosition( light.target.matrixWorld );\n\t\tshadowCamera.lookAt( _lookTarget$1 );\n\t\tshadowCamera.updateMatrixWorld();\n\n\t\t_projScreenMatrix$1.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( _projScreenMatrix$1 );\n\n\t\tshadowMatrix.set(\n\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t);\n\n\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\n\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\n\n\t}\n\n\tgetViewport( viewportIndex ) {\n\n\t\treturn this._viewports[ viewportIndex ];\n\n\t}\n\n\tgetFrameExtents() {\n\n\t\treturn this._frameExtents;\n\n\t}\n\n\tdispose() {\n\n\t\tif ( this.map ) {\n\n\t\t\tthis.map.dispose();\n\n\t\t}\n\n\t\tif ( this.mapPass ) {\n\n\t\t\tthis.mapPass.dispose();\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.camera = source.camera.clone();\n\n\t\tthis.bias = source.bias;\n\t\tthis.radius = source.radius;\n\n\t\tthis.mapSize.copy( source.mapSize );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst object = {};\n\n\t\tif ( this.bias !== 0 ) object.bias = this.bias;\n\t\tif ( this.normalBias !== 0 ) object.normalBias = this.normalBias;\n\t\tif ( this.radius !== 1 ) object.radius = this.radius;\n\t\tif ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\n\n\t\tobject.camera = this.camera.toJSON( false ).object;\n\t\tdelete object.camera.matrix;\n\n\t\treturn object;\n\n\t}\n\n}\n\nclass SpotLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n\t\tthis.focus = 1;\n\n\t}\n\n\tupdateMatrices( light ) {\n\n\t\tconst camera = this.camera;\n\n\t\tconst fov = RAD2DEG * 2 * light.angle * this.focus;\n\t\tconst aspect = this.mapSize.width / this.mapSize.height;\n\t\tconst far = light.distance || camera.far;\n\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n\t\t\tcamera.fov = fov;\n\t\t\tcamera.aspect = aspect;\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\tsuper.updateMatrices( light );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.focus = source.focus;\n\n\t\treturn this;\n\n\t}\n\n}\n\nSpotLightShadow.prototype.isSpotLightShadow = true;\n\nclass SpotLight extends Light {\n\n\tconstructor( color, intensity, distance = 0, angle = Math.PI / 3, penumbra = 0, decay = 1 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'SpotLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.target = new Object3D();\n\n\t\tthis.distance = distance;\n\t\tthis.angle = angle;\n\t\tthis.penumbra = penumbra;\n\t\tthis.decay = decay; // for physically correct lights, should be 2.\n\n\t\tthis.shadow = new SpotLightShadow();\n\n\t}\n\n\tget power() {\n\n\t\t// intensity = power per solid angle.\n\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\treturn this.intensity * Math.PI;\n\n\t}\n\n\tset power( power ) {\n\n\t\t// intensity = power per solid angle.\n\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\tthis.intensity = power / Math.PI;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.angle = source.angle;\n\t\tthis.penumbra = source.penumbra;\n\t\tthis.decay = source.decay;\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nSpotLight.prototype.isSpotLight = true;\n\nconst _projScreenMatrix = /*@__PURE__*/ new Matrix4();\nconst _lightPositionWorld = /*@__PURE__*/ new Vector3();\nconst _lookTarget = /*@__PURE__*/ new Vector3();\n\nclass PointLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new PerspectiveCamera( 90, 1, 0.5, 500 ) );\n\n\t\tthis._frameExtents = new Vector2( 4, 2 );\n\n\t\tthis._viewportCount = 6;\n\n\t\tthis._viewports = [\n\t\t\t// These viewports map a cube-map onto a 2D texture with the\n\t\t\t// following orientation:\n\t\t\t//\n\t\t\t//  xzXZ\n\t\t\t//   y Y\n\t\t\t//\n\t\t\t// X - Positive x direction\n\t\t\t// x - Negative x direction\n\t\t\t// Y - Positive y direction\n\t\t\t// y - Negative y direction\n\t\t\t// Z - Positive z direction\n\t\t\t// z - Negative z direction\n\n\t\t\t// positive X\n\t\t\tnew Vector4( 2, 1, 1, 1 ),\n\t\t\t// negative X\n\t\t\tnew Vector4( 0, 1, 1, 1 ),\n\t\t\t// positive Z\n\t\t\tnew Vector4( 3, 1, 1, 1 ),\n\t\t\t// negative Z\n\t\t\tnew Vector4( 1, 1, 1, 1 ),\n\t\t\t// positive Y\n\t\t\tnew Vector4( 3, 0, 1, 1 ),\n\t\t\t// negative Y\n\t\t\tnew Vector4( 1, 0, 1, 1 )\n\t\t];\n\n\t\tthis._cubeDirections = [\n\t\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\n\t\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\n\t\t];\n\n\t\tthis._cubeUps = [\n\t\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\n\t\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\n\t\t];\n\n\t}\n\n\tupdateMatrices( light, viewportIndex = 0 ) {\n\n\t\tconst camera = this.camera;\n\t\tconst shadowMatrix = this.matrix;\n\n\t\tconst far = light.distance || camera.far;\n\n\t\tif ( far !== camera.far ) {\n\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\t_lightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\tcamera.position.copy( _lightPositionWorld );\n\n\t\t_lookTarget.copy( camera.position );\n\t\t_lookTarget.add( this._cubeDirections[ viewportIndex ] );\n\t\tcamera.up.copy( this._cubeUps[ viewportIndex ] );\n\t\tcamera.lookAt( _lookTarget );\n\t\tcamera.updateMatrixWorld();\n\n\t\tshadowMatrix.makeTranslation( - _lightPositionWorld.x, - _lightPositionWorld.y, - _lightPositionWorld.z );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t}\n\n}\n\nPointLightShadow.prototype.isPointLightShadow = true;\n\nclass PointLight extends Light {\n\n\tconstructor( color, intensity, distance = 0, decay = 1 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'PointLight';\n\n\t\tthis.distance = distance;\n\t\tthis.decay = decay; // for physically correct lights, should be 2.\n\n\t\tthis.shadow = new PointLightShadow();\n\n\t}\n\n\tget power() {\n\n\t\t// intensity = power per solid angle.\n\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\treturn this.intensity * 4 * Math.PI;\n\n\t}\n\n\tset power( power ) {\n\n\t\t// intensity = power per solid angle.\n\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\tthis.intensity = power / ( 4 * Math.PI );\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.decay = source.decay;\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nPointLight.prototype.isPointLight = true;\n\nclass OrthographicCamera extends Camera {\n\n\tconstructor( left = - 1, right = 1, top = 1, bottom = - 1, near = 0.1, far = 2000 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'OrthographicCamera';\n\n\t\tthis.zoom = 1;\n\t\tthis.view = null;\n\n\t\tthis.left = left;\n\t\tthis.right = right;\n\t\tthis.top = top;\n\t\tthis.bottom = bottom;\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\n\t\tthis.zoom = source.zoom;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\treturn this;\n\n\t}\n\n\tsetViewOffset( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tclearViewOffset() {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tupdateProjectionMatrix() {\n\n\t\tconst dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tconst dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tconst cx = ( this.right + this.left ) / 2;\n\t\tconst cy = ( this.top + this.bottom ) / 2;\n\n\t\tlet left = cx - dx;\n\t\tlet right = cx + dx;\n\t\tlet top = cy + dy;\n\t\tlet bottom = cy - dy;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst scaleW = ( this.right - this.left ) / this.view.fullWidth / this.zoom;\n\t\t\tconst scaleH = ( this.top - this.bottom ) / this.view.fullHeight / this.zoom;\n\n\t\t\tleft += scaleW * this.view.offsetX;\n\t\t\tright = left + scaleW * this.view.width;\n\t\t\ttop -= scaleH * this.view.offsetY;\n\t\t\tbottom = top - scaleH * this.view.height;\n\n\t\t}\n\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\treturn data;\n\n\t}\n\n}\n\nOrthographicCamera.prototype.isOrthographicCamera = true;\n\nclass DirectionalLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\n\n\t}\n\n}\n\nDirectionalLightShadow.prototype.isDirectionalLightShadow = true;\n\nclass DirectionalLight extends Light {\n\n\tconstructor( color, intensity ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'DirectionalLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.target = new Object3D();\n\n\t\tthis.shadow = new DirectionalLightShadow();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.target = source.target.clone();\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nDirectionalLight.prototype.isDirectionalLight = true;\n\nclass AmbientLight extends Light {\n\n\tconstructor( color, intensity ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'AmbientLight';\n\n\t}\n\n}\n\nAmbientLight.prototype.isAmbientLight = true;\n\nclass RectAreaLight extends Light {\n\n\tconstructor( color, intensity, width = 10, height = 10 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'RectAreaLight';\n\n\t\tthis.width = width;\n\t\tthis.height = height;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.width = this.width;\n\t\tdata.object.height = this.height;\n\n\t\treturn data;\n\n\t}\n\n}\n\nRectAreaLight.prototype.isRectAreaLight = true;\n\n/**\n * Primary reference:\n *   https://graphics.stanford.edu/papers/envmap/envmap.pdf\n *\n * Secondary reference:\n *   https://www.ppsloan.org/publications/StupidSH36.pdf\n */\n\n// 3-band SH defined by 9 coefficients\n\nclass SphericalHarmonics3 {\n\n\tconstructor() {\n\n\t\tthis.coefficients = [];\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients.push( new Vector3() );\n\n\t\t}\n\n\t}\n\n\tset( coefficients ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].copy( coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tzero() {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].set( 0, 0, 0 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// get the radiance in the direction of the normal\n\t// target is a Vector3\n\tgetAt( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.282095 );\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 0.488603 * y );\n\t\ttarget.addScaledVector( coeff[ 2 ], 0.488603 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 0.488603 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 1.092548 * ( x * y ) );\n\t\ttarget.addScaledVector( coeff[ 5 ], 1.092548 * ( y * z ) );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.315392 * ( 3.0 * z * z - 1.0 ) );\n\t\ttarget.addScaledVector( coeff[ 7 ], 1.092548 * ( x * z ) );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.546274 * ( x * x - y * y ) );\n\n\t\treturn target;\n\n\t}\n\n\t// get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n\t// target is a Vector3\n\t// https://graphics.stanford.edu/papers/envmap/envmap.pdf\n\tgetIrradianceAt( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.886227 ); // π * 0.282095\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 2.0 * 0.511664 * y ); // ( 2 * π / 3 ) * 0.488603\n\t\ttarget.addScaledVector( coeff[ 2 ], 2.0 * 0.511664 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 2.0 * 0.511664 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 2.0 * 0.429043 * x * y ); // ( π / 4 ) * 1.092548\n\t\ttarget.addScaledVector( coeff[ 5 ], 2.0 * 0.429043 * y * z );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.743125 * z * z - 0.247708 ); // ( π / 4 ) * 0.315392 * 3\n\t\ttarget.addScaledVector( coeff[ 7 ], 2.0 * 0.429043 * x * z );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.429043 * ( x * x - y * y ) ); // ( π / 4 ) * 0.546274\n\n\t\treturn target;\n\n\t}\n\n\tadd( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].add( sh.coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\taddScaledSH( sh, s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].addScaledVector( sh.coefficients[ i ], s );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tscale( s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].multiplyScalar( s );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tlerp( sh, alpha ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].lerp( sh.coefficients[ i ], alpha );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tequals( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( ! this.coefficients[ i ].equals( sh.coefficients[ i ] ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tcopy( sh ) {\n\n\t\treturn this.set( sh.coefficients );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].fromArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].toArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn array;\n\n\t}\n\n\t// evaluate the basis functions\n\t// shBasis is an Array[ 9 ]\n\tstatic getBasisAt( normal, shBasis ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\t// band 0\n\t\tshBasis[ 0 ] = 0.282095;\n\n\t\t// band 1\n\t\tshBasis[ 1 ] = 0.488603 * y;\n\t\tshBasis[ 2 ] = 0.488603 * z;\n\t\tshBasis[ 3 ] = 0.488603 * x;\n\n\t\t// band 2\n\t\tshBasis[ 4 ] = 1.092548 * x * y;\n\t\tshBasis[ 5 ] = 1.092548 * y * z;\n\t\tshBasis[ 6 ] = 0.315392 * ( 3 * z * z - 1 );\n\t\tshBasis[ 7 ] = 1.092548 * x * z;\n\t\tshBasis[ 8 ] = 0.546274 * ( x * x - y * y );\n\n\t}\n\n}\n\nSphericalHarmonics3.prototype.isSphericalHarmonics3 = true;\n\nclass LightProbe extends Light {\n\n\tconstructor( sh = new SphericalHarmonics3(), intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tthis.sh = sh;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.sh.copy( source.sh );\n\n\t\treturn this;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tthis.intensity = json.intensity; // TODO: Move this bit to Light.fromJSON();\n\t\tthis.sh.fromArray( json.sh );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.sh = this.sh.toArray();\n\n\t\treturn data;\n\n\t}\n\n}\n\nLightProbe.prototype.isLightProbe = true;\n\nclass MaterialLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\t\tthis.textures = {};\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst textures = this.textures;\n\n\t\tfunction getTexture( name ) {\n\n\t\t\tif ( textures[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\n\n\t\t\t}\n\n\t\t\treturn textures[ name ];\n\n\t\t}\n\n\t\tconst material = new Materials[ json.type ]();\n\n\t\tif ( json.uuid !== undefined ) material.uuid = json.uuid;\n\t\tif ( json.name !== undefined ) material.name = json.name;\n\t\tif ( json.color !== undefined && material.color !== undefined ) material.color.setHex( json.color );\n\t\tif ( json.roughness !== undefined ) material.roughness = json.roughness;\n\t\tif ( json.metalness !== undefined ) material.metalness = json.metalness;\n\t\tif ( json.sheen !== undefined ) material.sheen = new Color().setHex( json.sheen );\n\t\tif ( json.emissive !== undefined && material.emissive !== undefined ) material.emissive.setHex( json.emissive );\n\t\tif ( json.specular !== undefined && material.specular !== undefined ) material.specular.setHex( json.specular );\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\n\t\tif ( json.clearcoat !== undefined ) material.clearcoat = json.clearcoat;\n\t\tif ( json.clearcoatRoughness !== undefined ) material.clearcoatRoughness = json.clearcoatRoughness;\n\t\tif ( json.fog !== undefined ) material.fog = json.fog;\n\t\tif ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\n\t\tif ( json.combine !== undefined ) material.combine = json.combine;\n\t\tif ( json.side !== undefined ) material.side = json.side;\n\t\tif ( json.shadowSide !== undefined ) material.shadowSide = json.shadowSide;\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\n\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\n\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\n\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\n\t\tif ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\n\n\t\tif ( json.stencilWrite !== undefined ) material.stencilWrite = json.stencilWrite;\n\t\tif ( json.stencilWriteMask !== undefined ) material.stencilWriteMask = json.stencilWriteMask;\n\t\tif ( json.stencilFunc !== undefined ) material.stencilFunc = json.stencilFunc;\n\t\tif ( json.stencilRef !== undefined ) material.stencilRef = json.stencilRef;\n\t\tif ( json.stencilFuncMask !== undefined ) material.stencilFuncMask = json.stencilFuncMask;\n\t\tif ( json.stencilFail !== undefined ) material.stencilFail = json.stencilFail;\n\t\tif ( json.stencilZFail !== undefined ) material.stencilZFail = json.stencilZFail;\n\t\tif ( json.stencilZPass !== undefined ) material.stencilZPass = json.stencilZPass;\n\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\n\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\n\t\tif ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\n\t\tif ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\n\n\t\tif ( json.rotation !== undefined ) material.rotation = json.rotation;\n\n\t\tif ( json.linewidth !== 1 ) material.linewidth = json.linewidth;\n\t\tif ( json.dashSize !== undefined ) material.dashSize = json.dashSize;\n\t\tif ( json.gapSize !== undefined ) material.gapSize = json.gapSize;\n\t\tif ( json.scale !== undefined ) material.scale = json.scale;\n\n\t\tif ( json.polygonOffset !== undefined ) material.polygonOffset = json.polygonOffset;\n\t\tif ( json.polygonOffsetFactor !== undefined ) material.polygonOffsetFactor = json.polygonOffsetFactor;\n\t\tif ( json.polygonOffsetUnits !== undefined ) material.polygonOffsetUnits = json.polygonOffsetUnits;\n\n\t\tif ( json.skinning !== undefined ) material.skinning = json.skinning;\n\t\tif ( json.morphTargets !== undefined ) material.morphTargets = json.morphTargets;\n\t\tif ( json.morphNormals !== undefined ) material.morphNormals = json.morphNormals;\n\t\tif ( json.dithering !== undefined ) material.dithering = json.dithering;\n\n\t\tif ( json.alphaToCoverage !== undefined ) material.alphaToCoverage = json.alphaToCoverage;\n\t\tif ( json.premultipliedAlpha !== undefined ) material.premultipliedAlpha = json.premultipliedAlpha;\n\n\t\tif ( json.vertexTangents !== undefined ) material.vertexTangents = json.vertexTangents;\n\n\t\tif ( json.visible !== undefined ) material.visible = json.visible;\n\n\t\tif ( json.toneMapped !== undefined ) material.toneMapped = json.toneMapped;\n\n\t\tif ( json.userData !== undefined ) material.userData = json.userData;\n\n\t\tif ( json.vertexColors !== undefined ) {\n\n\t\t\tif ( typeof json.vertexColors === 'number' ) {\n\n\t\t\t\tmaterial.vertexColors = ( json.vertexColors > 0 ) ? true : false;\n\n\t\t\t} else {\n\n\t\t\t\tmaterial.vertexColors = json.vertexColors;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Shader Material\n\n\t\tif ( json.uniforms !== undefined ) {\n\n\t\t\tfor ( const name in json.uniforms ) {\n\n\t\t\t\tconst uniform = json.uniforms[ name ];\n\n\t\t\t\tmaterial.uniforms[ name ] = {};\n\n\t\t\t\tswitch ( uniform.type ) {\n\n\t\t\t\t\tcase 't':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = getTexture( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'c':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Color().setHex( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v2':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector2().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = uniform.value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json.defines !== undefined ) material.defines = json.defines;\n\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\n\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\n\n\t\tif ( json.extensions !== undefined ) {\n\n\t\t\tfor ( const key in json.extensions ) {\n\n\t\t\t\tmaterial.extensions[ key ] = json.extensions[ key ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Deprecated\n\n\t\tif ( json.shading !== undefined ) material.flatShading = json.shading === 1; // THREE.FlatShading\n\n\t\t// for PointsMaterial\n\n\t\tif ( json.size !== undefined ) material.size = json.size;\n\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\n\n\t\t// maps\n\n\t\tif ( json.map !== undefined ) material.map = getTexture( json.map );\n\t\tif ( json.matcap !== undefined ) material.matcap = getTexture( json.matcap );\n\n\t\tif ( json.alphaMap !== undefined ) material.alphaMap = getTexture( json.alphaMap );\n\n\t\tif ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\n\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\n\n\t\tif ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\n\t\tif ( json.normalMapType !== undefined ) material.normalMapType = json.normalMapType;\n\t\tif ( json.normalScale !== undefined ) {\n\n\t\t\tlet normalScale = json.normalScale;\n\n\t\t\tif ( Array.isArray( normalScale ) === false ) {\n\n\t\t\t\t// Blender exporter used to export a scalar. See #7459\n\n\t\t\t\tnormalScale = [ normalScale, normalScale ];\n\n\t\t\t}\n\n\t\t\tmaterial.normalScale = new Vector2().fromArray( normalScale );\n\n\t\t}\n\n\t\tif ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\n\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\n\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\n\n\t\tif ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\n\t\tif ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\n\n\t\tif ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\n\t\tif ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\n\n\t\tif ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\n\n\t\tif ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\n\t\tif ( json.envMapIntensity !== undefined ) material.envMapIntensity = json.envMapIntensity;\n\n\t\tif ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\n\t\tif ( json.refractionRatio !== undefined ) material.refractionRatio = json.refractionRatio;\n\n\t\tif ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\n\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\n\n\t\tif ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\n\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\n\n\t\tif ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\n\n\t\tif ( json.clearcoatMap !== undefined ) material.clearcoatMap = getTexture( json.clearcoatMap );\n\t\tif ( json.clearcoatRoughnessMap !== undefined ) material.clearcoatRoughnessMap = getTexture( json.clearcoatRoughnessMap );\n\t\tif ( json.clearcoatNormalMap !== undefined ) material.clearcoatNormalMap = getTexture( json.clearcoatNormalMap );\n\t\tif ( json.clearcoatNormalScale !== undefined ) material.clearcoatNormalScale = new Vector2().fromArray( json.clearcoatNormalScale );\n\n\t\tif ( json.transmission !== undefined ) material.transmission = json.transmission;\n\t\tif ( json.transmissionMap !== undefined ) material.transmissionMap = getTexture( json.transmissionMap );\n\n\t\treturn material;\n\n\t}\n\n\tsetTextures( value ) {\n\n\t\tthis.textures = value;\n\t\treturn this;\n\n\t}\n\n}\n\nclass LoaderUtils {\n\n\tstatic decodeText( array ) {\n\n\t\tif ( typeof TextDecoder !== 'undefined' ) {\n\n\t\t\treturn new TextDecoder().decode( array );\n\n\t\t}\n\n\t\t// Avoid the String.fromCharCode.apply(null, array) shortcut, which\n\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\t\tlet s = '';\n\n\t\tfor ( let i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t// Implicitly assumes little-endian.\n\t\t\ts += String.fromCharCode( array[ i ] );\n\n\t\t}\n\n\t\ttry {\n\n\t\t\t// merges multi-byte utf-8 characters.\n\n\t\t\treturn decodeURIComponent( escape( s ) );\n\n\t\t} catch ( e ) { // see #16358\n\n\t\t\treturn s;\n\n\t\t}\n\n\t}\n\n\tstatic extractUrlBase( url ) {\n\n\t\tconst index = url.lastIndexOf( '/' );\n\n\t\tif ( index === - 1 ) return './';\n\n\t\treturn url.substr( 0, index + 1 );\n\n\t}\n\n}\n\nclass InstancedBufferGeometry extends BufferGeometry {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'InstancedBufferGeometry';\n\t\tthis.instanceCount = Infinity;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.instanceCount = source.instanceCount;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON( this );\n\n\t\tdata.instanceCount = this.instanceCount;\n\n\t\tdata.isInstancedBufferGeometry = true;\n\n\t\treturn data;\n\n\t}\n\n}\n\nInstancedBufferGeometry.prototype.isInstancedBufferGeometry = true;\n\nclass InstancedBufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized, meshPerAttribute ) {\n\n\t\tif ( typeof ( normalized ) === 'number' ) {\n\n\t\t\tmeshPerAttribute = normalized;\n\n\t\t\tnormalized = false;\n\n\t\t\tconsole.error( 'THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.' );\n\n\t\t}\n\n\t\tsuper( array, itemSize, normalized );\n\n\t\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON()\t{\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.meshPerAttribute = this.meshPerAttribute;\n\n\t\tdata.isInstancedBufferAttribute = true;\n\n\t\treturn data;\n\n\t}\n\n}\n\nInstancedBufferAttribute.prototype.isInstancedBufferAttribute = true;\n\nclass BufferGeometryLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\tconst interleavedBufferMap = {};\n\t\tconst arrayBufferMap = {};\n\n\t\tfunction getInterleavedBuffer( json, uuid ) {\n\n\t\t\tif ( interleavedBufferMap[ uuid ] !== undefined ) return interleavedBufferMap[ uuid ];\n\n\t\t\tconst interleavedBuffers = json.interleavedBuffers;\n\t\t\tconst interleavedBuffer = interleavedBuffers[ uuid ];\n\n\t\t\tconst buffer = getArrayBuffer( json, interleavedBuffer.buffer );\n\n\t\t\tconst array = getTypedArray( interleavedBuffer.type, buffer );\n\t\t\tconst ib = new InterleavedBuffer( array, interleavedBuffer.stride );\n\t\t\tib.uuid = interleavedBuffer.uuid;\n\n\t\t\tinterleavedBufferMap[ uuid ] = ib;\n\n\t\t\treturn ib;\n\n\t\t}\n\n\t\tfunction getArrayBuffer( json, uuid ) {\n\n\t\t\tif ( arrayBufferMap[ uuid ] !== undefined ) return arrayBufferMap[ uuid ];\n\n\t\t\tconst arrayBuffers = json.arrayBuffers;\n\t\t\tconst arrayBuffer = arrayBuffers[ uuid ];\n\n\t\t\tconst ab = new Uint32Array( arrayBuffer ).buffer;\n\n\t\t\tarrayBufferMap[ uuid ] = ab;\n\n\t\t\treturn ab;\n\n\t\t}\n\n\t\tconst geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\n\n\t\tconst index = json.data.index;\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tconst typedArray = getTypedArray( index.type, index.array );\n\t\t\tgeometry.setIndex( new BufferAttribute( typedArray, 1 ) );\n\n\t\t}\n\n\t\tconst attributes = json.data.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\t\t\tlet bufferAttribute;\n\n\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\n\n\t\t\t} else {\n\n\t\t\t\tconst typedArray = getTypedArray( attribute.type, attribute.array );\n\t\t\t\tconst bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\n\t\t\t\tbufferAttribute = new bufferAttributeConstr( typedArray, attribute.itemSize, attribute.normalized );\n\n\t\t\t}\n\n\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\tif ( attribute.usage !== undefined ) bufferAttribute.setUsage( attribute.usage );\n\n\t\t\tif ( attribute.updateRange !== undefined ) {\n\n\t\t\t\tbufferAttribute.updateRange.offset = attribute.updateRange.offset;\n\t\t\t\tbufferAttribute.updateRange.count = attribute.updateRange.count;\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( key, bufferAttribute );\n\n\t\t}\n\n\t\tconst morphAttributes = json.data.morphAttributes;\n\n\t\tif ( morphAttributes ) {\n\n\t\t\tfor ( const key in morphAttributes ) {\n\n\t\t\t\tconst attributeArray = morphAttributes[ key ];\n\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst attribute = attributeArray[ i ];\n\t\t\t\t\tlet bufferAttribute;\n\n\t\t\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\n\t\t\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst typedArray = getTypedArray( attribute.type, attribute.array );\n\t\t\t\t\t\tbufferAttribute = new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\t\t\tarray.push( bufferAttribute );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.morphAttributes[ key ] = array;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst morphTargetsRelative = json.data.morphTargetsRelative;\n\n\t\tif ( morphTargetsRelative ) {\n\n\t\t\tgeometry.morphTargetsRelative = true;\n\n\t\t}\n\n\t\tconst groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n\t\tif ( groups !== undefined ) {\n\n\t\t\tfor ( let i = 0, n = groups.length; i !== n; ++ i ) {\n\n\t\t\t\tconst group = groups[ i ];\n\n\t\t\t\tgeometry.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst boundingSphere = json.data.boundingSphere;\n\n\t\tif ( boundingSphere !== undefined ) {\n\n\t\t\tconst center = new Vector3();\n\n\t\t\tif ( boundingSphere.center !== undefined ) {\n\n\t\t\t\tcenter.fromArray( boundingSphere.center );\n\n\t\t\t}\n\n\t\t\tgeometry.boundingSphere = new Sphere( center, boundingSphere.radius );\n\n\t\t}\n\n\t\tif ( json.name ) geometry.name = json.name;\n\t\tif ( json.userData ) geometry.userData = json.userData;\n\n\t\treturn geometry;\n\n\t}\n\n}\n\nclass ObjectLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tlet json = null;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\tif ( onError !== undefined ) onError( error );\n\n\t\t\t\tconsole.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst metadata = json.metadata;\n\n\t\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\t\tconsole.error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tscope.parse( json, onLoad );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json, onLoad ) {\n\n\t\tconst animations = this.parseAnimations( json.animations );\n\t\tconst shapes = this.parseShapes( json.shapes );\n\t\tconst geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tconst images = this.parseImages( json.images, function () {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t} );\n\n\t\tconst textures = this.parseTextures( json.textures, images );\n\t\tconst materials = this.parseMaterials( json.materials, textures );\n\n\t\tconst object = this.parseObject( json.object, geometries, materials, animations );\n\t\tconst skeletons = this.parseSkeletons( json.skeletons, object );\n\n\t\tthis.bindSkeletons( object, skeletons );\n\n\t\t//\n\n\t\tif ( onLoad !== undefined ) {\n\n\t\t\tlet hasImages = false;\n\n\t\t\tfor ( const uuid in images ) {\n\n\t\t\t\tif ( images[ uuid ] instanceof HTMLImageElement ) {\n\n\t\t\t\t\thasImages = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasImages === false ) onLoad( object );\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n\tparseShapes( json ) {\n\n\t\tconst shapes = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst shape = new Shape().fromJSON( json[ i ] );\n\n\t\t\t\tshapes[ shape.uuid ] = shape;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n\tparseSkeletons( json, object ) {\n\n\t\tconst skeletons = {};\n\t\tconst bones = {};\n\n\t\t// generate bone lookup table\n\n\t\tobject.traverse( function ( child ) {\n\n\t\t\tif ( child.isBone ) bones[ child.uuid ] = child;\n\n\t\t} );\n\n\t\t// create skeletons\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst skeleton = new Skeleton().fromJSON( json[ i ], bones );\n\n\t\t\t\tskeletons[ skeleton.uuid ] = skeleton;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn skeletons;\n\n\t}\n\n\tparseGeometries( json, shapes ) {\n\n\t\tconst geometries = {};\n\t\tlet geometryShapes;\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst bufferGeometryLoader = new BufferGeometryLoader();\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tlet geometry;\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tswitch ( data.type ) {\n\n\t\t\t\t\tcase 'PlaneGeometry':\n\t\t\t\t\tcase 'PlaneBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BoxGeometry':\n\t\t\t\t\tcase 'BoxBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.depth,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.depthSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CircleGeometry':\n\t\t\t\t\tcase 'CircleBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CylinderGeometry':\n\t\t\t\t\tcase 'CylinderBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radiusTop,\n\t\t\t\t\t\t\tdata.radiusBottom,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ConeGeometry':\n\t\t\t\t\tcase 'ConeBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SphereGeometry':\n\t\t\t\t\tcase 'SphereBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'DodecahedronGeometry':\n\t\t\t\t\tcase 'DodecahedronBufferGeometry':\n\t\t\t\t\tcase 'IcosahedronGeometry':\n\t\t\t\t\tcase 'IcosahedronBufferGeometry':\n\t\t\t\t\tcase 'OctahedronGeometry':\n\t\t\t\t\tcase 'OctahedronBufferGeometry':\n\t\t\t\t\tcase 'TetrahedronGeometry':\n\t\t\t\t\tcase 'TetrahedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.detail\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'RingGeometry':\n\t\t\t\t\tcase 'RingBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.innerRadius,\n\t\t\t\t\t\t\tdata.outerRadius,\n\t\t\t\t\t\t\tdata.thetaSegments,\n\t\t\t\t\t\t\tdata.phiSegments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusGeometry':\n\t\t\t\t\tcase 'TorusBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.arc\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusKnotGeometry':\n\t\t\t\t\tcase 'TorusKnotBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.p,\n\t\t\t\t\t\t\tdata.q\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TubeGeometry':\n\t\t\t\t\tcase 'TubeBufferGeometry':\n\n\t\t\t\t\t\t// This only works for built-in curves (e.g. CatmullRomCurve3).\n\t\t\t\t\t\t// User defined curves or instances of CurvePath will not be deserialized.\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tnew Curves[ data.path.type ]().fromJSON( data.path ),\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.closed\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'LatheGeometry':\n\t\t\t\t\tcase 'LatheBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.points,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'PolyhedronGeometry':\n\t\t\t\t\tcase 'PolyhedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.vertices,\n\t\t\t\t\t\t\tdata.indices,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.details\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ShapeGeometry':\n\t\t\t\t\tcase 'ShapeBufferGeometry':\n\n\t\t\t\t\t\tgeometryShapes = [];\n\n\t\t\t\t\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.curveSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\n\t\t\t\t\tcase 'ExtrudeGeometry':\n\t\t\t\t\tcase 'ExtrudeBufferGeometry':\n\n\t\t\t\t\t\tgeometryShapes = [];\n\n\t\t\t\t\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst extrudePath = data.options.extrudePath;\n\n\t\t\t\t\t\tif ( extrudePath !== undefined ) {\n\n\t\t\t\t\t\t\tdata.options.extrudePath = new Curves[ extrudePath.type ]().fromJSON( extrudePath );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.options\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BufferGeometry':\n\t\t\t\t\tcase 'InstancedBufferGeometry':\n\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Geometry':\n\n\t\t\t\t\t\tconsole.error( 'THREE.ObjectLoader: Loading \"Geometry\" is not supported anymore.' );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"' );\n\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\n\t\t\t\tif ( geometry.isBufferGeometry === true && data.userData !== undefined ) geometry.userData = data.userData;\n\n\t\t\t\tgeometries[ data.uuid ] = geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometries;\n\n\t}\n\n\tparseMaterials( json, textures ) {\n\n\t\tconst cache = {}; // MultiMaterial\n\t\tconst materials = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst loader = new MaterialLoader();\n\t\t\tloader.setTextures( textures );\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tif ( data.type === 'MultiMaterial' ) {\n\n\t\t\t\t\t// Deprecated\n\n\t\t\t\t\tconst array = [];\n\n\t\t\t\t\tfor ( let j = 0; j < data.materials.length; j ++ ) {\n\n\t\t\t\t\t\tconst material = data.materials[ j ];\n\n\t\t\t\t\t\tif ( cache[ material.uuid ] === undefined ) {\n\n\t\t\t\t\t\t\tcache[ material.uuid ] = loader.parse( material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tarray.push( cache[ material.uuid ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = array;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( cache[ data.uuid ] === undefined ) {\n\n\t\t\t\t\t\tcache[ data.uuid ] = loader.parse( data );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = cache[ data.uuid ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materials;\n\n\t}\n\n\tparseAnimations( json ) {\n\n\t\tconst animations = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0; i < json.length; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tconst clip = AnimationClip.parse( data );\n\n\t\t\t\tanimations[ clip.uuid ] = clip;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n\tparseImages( json, onLoad ) {\n\n\t\tconst scope = this;\n\t\tconst images = {};\n\n\t\tlet loader;\n\n\t\tfunction loadImage( url ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\treturn loader.load( url, function () {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, undefined, function () {\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t} );\n\n\t\t}\n\n\t\tfunction deserializeImage( image ) {\n\n\t\t\tif ( typeof image === 'string' ) {\n\n\t\t\t\tconst url = image;\n\n\t\t\t\tconst path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( url ) ? url : scope.resourcePath + url;\n\n\t\t\t\treturn loadImage( path );\n\n\t\t\t} else {\n\n\t\t\t\tif ( image.data ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdata: getTypedArray( image.type, image.data ),\n\t\t\t\t\t\twidth: image.width,\n\t\t\t\t\t\theight: image.height\n\t\t\t\t\t};\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tconst manager = new LoadingManager( onLoad );\n\n\t\t\tloader = new ImageLoader( manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( let i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tconst image = json[ i ];\n\t\t\t\tconst url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\timages[ image.uuid ] = [];\n\n\t\t\t\t\tfor ( let j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tconst currentUrl = url[ j ];\n\n\t\t\t\t\t\tconst deserializedImage = deserializeImage( currentUrl );\n\n\t\t\t\t\t\tif ( deserializedImage !== null ) {\n\n\t\t\t\t\t\t\tif ( deserializedImage instanceof HTMLImageElement ) {\n\n\t\t\t\t\t\t\t\timages[ image.uuid ].push( deserializedImage );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// special case: handle array of data textures for cube textures\n\n\t\t\t\t\t\t\t\timages[ image.uuid ].push( new DataTexture( deserializedImage.data, deserializedImage.width, deserializedImage.height ) );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tconst deserializedImage = deserializeImage( image.url );\n\n\t\t\t\t\tif ( deserializedImage !== null ) {\n\n\t\t\t\t\t\timages[ image.uuid ] = deserializedImage;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t}\n\n\tparseTextures( json, images ) {\n\n\t\tfunction parseConstant( value, type ) {\n\n\t\t\tif ( typeof value === 'number' ) return value;\n\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\n\n\t\t\treturn type[ value ];\n\n\t\t}\n\n\t\tconst textures = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tif ( data.image === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\n\n\t\t\t\t}\n\n\t\t\t\tif ( images[ data.image ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\n\n\t\t\t\t}\n\n\t\t\t\tlet texture;\n\t\t\t\tconst image = images[ data.image ];\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\ttexture = new CubeTexture( image );\n\n\t\t\t\t\tif ( image.length === 6 ) texture.needsUpdate = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( image && image.data ) {\n\n\t\t\t\t\t\ttexture = new DataTexture( image.data, image.width, image.height );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttexture = new Texture( image );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( image ) texture.needsUpdate = true; // textures can have undefined image data\n\n\t\t\t\t}\n\n\t\t\t\ttexture.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\n\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\n\n\t\t\t\tif ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\n\t\t\t\tif ( data.center !== undefined ) texture.center.fromArray( data.center );\n\t\t\t\tif ( data.rotation !== undefined ) texture.rotation = data.rotation;\n\n\t\t\t\tif ( data.wrap !== undefined ) {\n\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.format !== undefined ) texture.format = data.format;\n\t\t\t\tif ( data.type !== undefined ) texture.type = data.type;\n\t\t\t\tif ( data.encoding !== undefined ) texture.encoding = data.encoding;\n\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\n\n\t\t\t\tif ( data.flipY !== undefined ) texture.flipY = data.flipY;\n\n\t\t\t\tif ( data.premultiplyAlpha !== undefined ) texture.premultiplyAlpha = data.premultiplyAlpha;\n\t\t\t\tif ( data.unpackAlignment !== undefined ) texture.unpackAlignment = data.unpackAlignment;\n\n\t\t\t\ttextures[ data.uuid ] = texture;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn textures;\n\n\t}\n\n\tparseObject( data, geometries, materials, animations ) {\n\n\t\tlet object;\n\n\t\tfunction getGeometry( name ) {\n\n\t\t\tif ( geometries[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\n\n\t\t\t}\n\n\t\t\treturn geometries[ name ];\n\n\t\t}\n\n\t\tfunction getMaterial( name ) {\n\n\t\t\tif ( name === undefined ) return undefined;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor ( let i = 0, l = name.length; i < l; i ++ ) {\n\n\t\t\t\t\tconst uuid = name[ i ];\n\n\t\t\t\t\tif ( materials[ uuid ] === undefined ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', uuid );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tarray.push( materials[ uuid ] );\n\n\t\t\t\t}\n\n\t\t\t\treturn array;\n\n\t\t\t}\n\n\t\t\tif ( materials[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\n\n\t\t\t}\n\n\t\t\treturn materials[ name ];\n\n\t\t}\n\n\t\tlet geometry, material;\n\n\t\tswitch ( data.type ) {\n\n\t\t\tcase 'Scene':\n\n\t\t\t\tobject = new Scene();\n\n\t\t\t\tif ( data.background !== undefined ) {\n\n\t\t\t\t\tif ( Number.isInteger( data.background ) ) {\n\n\t\t\t\t\t\tobject.background = new Color( data.background );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.fog !== undefined ) {\n\n\t\t\t\t\tif ( data.fog.type === 'Fog' ) {\n\n\t\t\t\t\t\tobject.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\n\n\t\t\t\t\t} else if ( data.fog.type === 'FogExp2' ) {\n\n\t\t\t\t\t\tobject.fog = new FogExp2( data.fog.color, data.fog.density );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PerspectiveCamera':\n\n\t\t\t\tobject = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\n\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\n\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'OrthographicCamera':\n\n\t\t\t\tobject = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'AmbientLight':\n\n\t\t\t\tobject = new AmbientLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'DirectionalLight':\n\n\t\t\t\tobject = new DirectionalLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointLight':\n\n\t\t\t\tobject = new PointLight( data.color, data.intensity, data.distance, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'RectAreaLight':\n\n\t\t\t\tobject = new RectAreaLight( data.color, data.intensity, data.width, data.height );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SpotLight':\n\n\t\t\t\tobject = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'HemisphereLight':\n\n\t\t\t\tobject = new HemisphereLight( data.color, data.groundColor, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LightProbe':\n\n\t\t\t\tobject = new LightProbe().fromJSON( data );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SkinnedMesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t \tmaterial = getMaterial( data.material );\n\n\t\t\t\tobject = new SkinnedMesh( geometry, material );\n\n\t\t\t\tif ( data.bindMode !== undefined ) object.bindMode = data.bindMode;\n\t\t\t\tif ( data.bindMatrix !== undefined ) object.bindMatrix.fromArray( data.bindMatrix );\n\t\t\t\tif ( data.skeleton !== undefined ) object.skeleton = data.skeleton;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Mesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t\tmaterial = getMaterial( data.material );\n\n\t\t\t\tobject = new Mesh( geometry, material );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'InstancedMesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t\tmaterial = getMaterial( data.material );\n\t\t\t\tconst count = data.count;\n\t\t\t\tconst instanceMatrix = data.instanceMatrix;\n\t\t\t\tconst instanceColor = data.instanceColor;\n\n\t\t\t\tobject = new InstancedMesh( geometry, material, count );\n\t\t\t\tobject.instanceMatrix = new BufferAttribute( new Float32Array( instanceMatrix.array ), 16 );\n\t\t\t\tif ( instanceColor !== undefined ) object.instanceColor = new BufferAttribute( new Float32Array( instanceColor.array ), instanceColor.itemSize );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LOD':\n\n\t\t\t\tobject = new LOD();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Line':\n\n\t\t\t\tobject = new Line( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineLoop':\n\n\t\t\t\tobject = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineSegments':\n\n\t\t\t\tobject = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointCloud':\n\t\t\tcase 'Points':\n\n\t\t\t\tobject = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Sprite':\n\n\t\t\t\tobject = new Sprite( getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Group':\n\n\t\t\t\tobject = new Group();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Bone':\n\n\t\t\t\tobject = new Bone();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tobject = new Object3D();\n\n\t\t}\n\n\t\tobject.uuid = data.uuid;\n\n\t\tif ( data.name !== undefined ) object.name = data.name;\n\n\t\tif ( data.matrix !== undefined ) {\n\n\t\t\tobject.matrix.fromArray( data.matrix );\n\n\t\t\tif ( data.matrixAutoUpdate !== undefined ) object.matrixAutoUpdate = data.matrixAutoUpdate;\n\t\t\tif ( object.matrixAutoUpdate ) object.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t} else {\n\n\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\n\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n\t\t\tif ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\n\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\n\t\t}\n\n\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\n\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\n\n\t\tif ( data.shadow ) {\n\n\t\t\tif ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\n\t\t\tif ( data.shadow.normalBias !== undefined ) object.shadow.normalBias = data.shadow.normalBias;\n\t\t\tif ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\n\t\t\tif ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\n\t\t\tif ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\n\n\t\t}\n\n\t\tif ( data.visible !== undefined ) object.visible = data.visible;\n\t\tif ( data.frustumCulled !== undefined ) object.frustumCulled = data.frustumCulled;\n\t\tif ( data.renderOrder !== undefined ) object.renderOrder = data.renderOrder;\n\t\tif ( data.userData !== undefined ) object.userData = data.userData;\n\t\tif ( data.layers !== undefined ) object.layers.mask = data.layers;\n\n\t\tif ( data.children !== undefined ) {\n\n\t\t\tconst children = data.children;\n\n\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\tobject.add( this.parseObject( children[ i ], geometries, materials, animations ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.animations !== undefined ) {\n\n\t\t\tconst objectAnimations = data.animations;\n\n\t\t\tfor ( let i = 0; i < objectAnimations.length; i ++ ) {\n\n\t\t\t\tconst uuid = objectAnimations[ i ];\n\n\t\t\t\tobject.animations.push( animations[ uuid ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.type === 'LOD' ) {\n\n\t\t\tif ( data.autoUpdate !== undefined ) object.autoUpdate = data.autoUpdate;\n\n\t\t\tconst levels = data.levels;\n\n\t\t\tfor ( let l = 0; l < levels.length; l ++ ) {\n\n\t\t\t\tconst level = levels[ l ];\n\t\t\t\tconst child = object.getObjectByProperty( 'uuid', level.object );\n\n\t\t\t\tif ( child !== undefined ) {\n\n\t\t\t\t\tobject.addLevel( child, level.distance );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n\tbindSkeletons( object, skeletons ) {\n\n\t\tif ( Object.keys( skeletons ).length === 0 ) return;\n\n\t\tobject.traverse( function ( child ) {\n\n\t\t\tif ( child.isSkinnedMesh === true && child.skeleton !== undefined ) {\n\n\t\t\t\tconst skeleton = skeletons[ child.skeleton ];\n\n\t\t\t\tif ( skeleton === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No skeleton found with UUID:', child.skeleton );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tchild.bind( skeleton, child.bindMatrix );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n\t/* DEPRECATED */\n\n\tsetTexturePath( value ) {\n\n\t\tconsole.warn( 'THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().' );\n\t\treturn this.setResourcePath( value );\n\n\t}\n\n}\n\nconst TEXTURE_MAPPING = {\n\tUVMapping: UVMapping,\n\tCubeReflectionMapping: CubeReflectionMapping,\n\tCubeRefractionMapping: CubeRefractionMapping,\n\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\n\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\n\tCubeUVReflectionMapping: CubeUVReflectionMapping,\n\tCubeUVRefractionMapping: CubeUVRefractionMapping\n};\n\nconst TEXTURE_WRAPPING = {\n\tRepeatWrapping: RepeatWrapping,\n\tClampToEdgeWrapping: ClampToEdgeWrapping,\n\tMirroredRepeatWrapping: MirroredRepeatWrapping\n};\n\nconst TEXTURE_FILTER = {\n\tNearestFilter: NearestFilter,\n\tNearestMipmapNearestFilter: NearestMipmapNearestFilter,\n\tNearestMipmapLinearFilter: NearestMipmapLinearFilter,\n\tLinearFilter: LinearFilter,\n\tLinearMipmapNearestFilter: LinearMipmapNearestFilter,\n\tLinearMipmapLinearFilter: LinearMipmapLinearFilter\n};\n\nclass ImageBitmapLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tif ( typeof createImageBitmap === 'undefined' ) {\n\n\t\t\tconsole.warn( 'THREE.ImageBitmapLoader: createImageBitmap() not supported.' );\n\n\t\t}\n\n\t\tif ( typeof fetch === 'undefined' ) {\n\n\t\t\tconsole.warn( 'THREE.ImageBitmapLoader: fetch() not supported.' );\n\n\t\t}\n\n\t\tthis.options = { premultiplyAlpha: 'none' };\n\n\t}\n\n\tsetOptions( options ) {\n\n\t\tthis.options = options;\n\n\t\treturn this;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst fetchOptions = {};\n\t\tfetchOptions.credentials = ( this.crossOrigin === 'anonymous' ) ? 'same-origin' : 'include';\n\t\tfetchOptions.headers = this.requestHeader;\n\n\t\tfetch( url, fetchOptions ).then( function ( res ) {\n\n\t\t\treturn res.blob();\n\n\t\t} ).then( function ( blob ) {\n\n\t\t\treturn createImageBitmap( blob, Object.assign( scope.options, { colorSpaceConversion: 'none' } ) );\n\n\t\t} ).then( function ( imageBitmap ) {\n\n\t\t\tCache.add( url, imageBitmap );\n\n\t\t\tif ( onLoad ) onLoad( imageBitmap );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} ).catch( function ( e ) {\n\n\t\t\tif ( onError ) onError( e );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} );\n\n\t\tscope.manager.itemStart( url );\n\n\t}\n\n}\n\nImageBitmapLoader.prototype.isImageBitmapLoader = true;\n\nclass ShapePath {\n\n\tconstructor() {\n\n\t\tthis.type = 'ShapePath';\n\n\t\tthis.color = new Color();\n\n\t\tthis.subPaths = [];\n\t\tthis.currentPath = null;\n\n\t}\n\n\tmoveTo( x, y ) {\n\n\t\tthis.currentPath = new Path();\n\t\tthis.subPaths.push( this.currentPath );\n\t\tthis.currentPath.moveTo( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tlineTo( x, y ) {\n\n\t\tthis.currentPath.lineTo( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tquadraticCurveTo( aCPx, aCPy, aX, aY ) {\n\n\t\tthis.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tbezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tthis.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tsplineThru( pts ) {\n\n\t\tthis.currentPath.splineThru( pts );\n\n\t\treturn this;\n\n\t}\n\n\ttoShapes( isCCW, noHoles ) {\n\n\t\tfunction toShapesNoHoles( inSubpaths ) {\n\n\t\t\tconst shapes = [];\n\n\t\t\tfor ( let i = 0, l = inSubpaths.length; i < l; i ++ ) {\n\n\t\t\t\tconst tmpPath = inSubpaths[ i ];\n\n\t\t\t\tconst tmpShape = new Shape();\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\n\t\t\t\tshapes.push( tmpShape );\n\n\t\t\t}\n\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\n\n\t\t\tconst polyLen = inPolygon.length;\n\n\t\t\t// inPt on polygon contour => immediate success    or\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t//  with the horizontal line through inPt, left of inPt\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\n\t\t\tlet inside = false;\n\t\t\tfor ( let p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\n\n\t\t\t\tlet edgeLowPt = inPolygon[ p ];\n\t\t\t\tlet edgeHighPt = inPolygon[ q ];\n\n\t\t\t\tlet edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\tlet edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not parallel\n\t\t\t\t\tif ( edgeDy < 0 ) {\n\n\t\t\t\t\t\tedgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\n\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\n\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// parallel or collinear\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\n\t\t\t\t\t// continue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn\tinside;\n\n\t\t}\n\n\t\tconst isClockWise = ShapeUtils.isClockWise;\n\n\t\tconst subPaths = this.subPaths;\n\t\tif ( subPaths.length === 0 ) return [];\n\n\t\tif ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tlet solid, tmpPath, tmpShape;\n\t\tconst shapes = [];\n\n\t\tif ( subPaths.length === 1 ) {\n\n\t\t\ttmpPath = subPaths[ 0 ];\n\t\t\ttmpShape = new Shape();\n\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\tshapes.push( tmpShape );\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tlet holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\n\n\t\t// console.log(\"Holes first\", holesFirst);\n\n\t\tconst betterShapeHoles = [];\n\t\tconst newShapes = [];\n\t\tlet newShapeHoles = [];\n\t\tlet mainIdx = 0;\n\t\tlet tmpPoints;\n\n\t\tnewShapes[ mainIdx ] = undefined;\n\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\tfor ( let i = 0, l = subPaths.length; i < l; i ++ ) {\n\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\tsolid = isClockWise( tmpPoints );\n\t\t\tsolid = isCCW ? ! solid : solid;\n\n\t\t\tif ( solid ) {\n\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\n\n\t\t\t\tnewShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\n\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\t\t\t//console.log('cw', i);\n\n\t\t\t} else {\n\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\n\n\t\t\t\t//console.log('ccw', i);\n\n\t\t\t}\n\n\t\t}\n\n\t\t// only Holes? -> probably all Shapes with wrong orientation\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tif ( newShapes.length > 1 ) {\n\n\t\t\tlet ambiguous = false;\n\t\t\tconst toChange = [];\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tconst sho = newShapeHoles[ sIdx ];\n\n\t\t\t\tfor ( let hIdx = 0; hIdx < sho.length; hIdx ++ ) {\n\n\t\t\t\t\tconst ho = sho[ hIdx ];\n\t\t\t\t\tlet hole_unassigned = true;\n\n\t\t\t\t\tfor ( let s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\n\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\n\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange.push( { froms: sIdx, tos: s2Idx, hole: hIdx } );\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tambiguous = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\t// console.log(\"ambiguous: \", ambiguous);\n\n\t\t\tif ( toChange.length > 0 ) {\n\n\t\t\t\t// console.log(\"to change: \", toChange);\n\t\t\t\tif ( ! ambiguous )\tnewShapeHoles = betterShapeHoles;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet tmpHoles;\n\n\t\tfor ( let i = 0, il = newShapes.length; i < il; i ++ ) {\n\n\t\t\ttmpShape = newShapes[ i ].s;\n\t\t\tshapes.push( tmpShape );\n\t\t\ttmpHoles = newShapeHoles[ i ];\n\n\t\t\tfor ( let j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\n\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//console.log(\"shape\", shapes);\n\n\t\treturn shapes;\n\n\t}\n\n}\n\nclass Font {\n\n\tconstructor( data ) {\n\n\t\tthis.type = 'Font';\n\n\t\tthis.data = data;\n\n\t}\n\n\tgenerateShapes( text, size = 100 ) {\n\n\t\tconst shapes = [];\n\t\tconst paths = createPaths( text, size, this.data );\n\n\t\tfor ( let p = 0, pl = paths.length; p < pl; p ++ ) {\n\n\t\t\tArray.prototype.push.apply( shapes, paths[ p ].toShapes() );\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n}\n\nfunction createPaths( text, size, data ) {\n\n\tconst chars = Array.from( text );\n\tconst scale = size / data.resolution;\n\tconst line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\n\n\tconst paths = [];\n\n\tlet offsetX = 0, offsetY = 0;\n\n\tfor ( let i = 0; i < chars.length; i ++ ) {\n\n\t\tconst char = chars[ i ];\n\n\t\tif ( char === '\\n' ) {\n\n\t\t\toffsetX = 0;\n\t\t\toffsetY -= line_height;\n\n\t\t} else {\n\n\t\t\tconst ret = createPath( char, scale, offsetX, offsetY, data );\n\t\t\toffsetX += ret.offsetX;\n\t\t\tpaths.push( ret.path );\n\n\t\t}\n\n\t}\n\n\treturn paths;\n\n}\n\nfunction createPath( char, scale, offsetX, offsetY, data ) {\n\n\tconst glyph = data.glyphs[ char ] || data.glyphs[ '?' ];\n\n\tif ( ! glyph ) {\n\n\t\tconsole.error( 'THREE.Font: character \"' + char + '\" does not exists in font family ' + data.familyName + '.' );\n\n\t\treturn;\n\n\t}\n\n\tconst path = new ShapePath();\n\n\tlet x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n\n\tif ( glyph.o ) {\n\n\t\tconst outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\n\n\t\tfor ( let i = 0, l = outline.length; i < l; ) {\n\n\t\t\tconst action = outline[ i ++ ];\n\n\t\t\tswitch ( action ) {\n\n\t\t\t\tcase 'm': // moveTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.moveTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'l': // lineTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.lineTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'q': // quadraticCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'b': // bezierCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx2 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy2 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { offsetX: glyph.ha * scale, path: path };\n\n}\n\nFont.prototype.isFont = true;\n\nclass FontLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tlet json;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tconsole.warn( 'THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.' );\n\t\t\t\tjson = JSON.parse( text.substring( 65, text.length - 2 ) );\n\n\t\t\t}\n\n\t\t\tconst font = scope.parse( json );\n\n\t\t\tif ( onLoad ) onLoad( font );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\treturn new Font( json );\n\n\t}\n\n}\n\nlet _context;\n\nconst AudioContext = {\n\n\tgetContext: function () {\n\n\t\tif ( _context === undefined ) {\n\n\t\t\t_context = new ( window.AudioContext || window.webkitAudioContext )();\n\n\t\t}\n\n\t\treturn _context;\n\n\t},\n\n\tsetContext: function ( value ) {\n\n\t\t_context = value;\n\n\t}\n\n};\n\nclass AudioLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\ttry {\n\n\t\t\t\t// Create a copy of the buffer. The `decodeAudioData` method\n\t\t\t\t// detaches the buffer when complete, preventing reuse.\n\t\t\t\tconst bufferCopy = buffer.slice( 0 );\n\n\t\t\t\tconst context = AudioContext.getContext();\n\t\t\t\tcontext.decodeAudioData( bufferCopy, function ( audioBuffer ) {\n\n\t\t\t\t\tonLoad( audioBuffer );\n\n\t\t\t\t} );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n}\n\nclass HemisphereLightProbe extends LightProbe {\n\n\tconstructor( skyColor, groundColor, intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tconst color1 = new Color().set( skyColor );\n\t\tconst color2 = new Color().set( groundColor );\n\n\t\tconst sky = new Vector3( color1.r, color1.g, color1.b );\n\t\tconst ground = new Vector3( color2.r, color2.g, color2.b );\n\n\t\t// without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n\t\tconst c0 = Math.sqrt( Math.PI );\n\t\tconst c1 = c0 * Math.sqrt( 0.75 );\n\n\t\tthis.sh.coefficients[ 0 ].copy( sky ).add( ground ).multiplyScalar( c0 );\n\t\tthis.sh.coefficients[ 1 ].copy( sky ).sub( ground ).multiplyScalar( c1 );\n\n\t}\n\n}\n\nHemisphereLightProbe.prototype.isHemisphereLightProbe = true;\n\nclass AmbientLightProbe extends LightProbe {\n\n\tconstructor( color, intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tconst color1 = new Color().set( color );\n\n\t\t// without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n\t\tthis.sh.coefficients[ 0 ].set( color1.r, color1.g, color1.b ).multiplyScalar( 2 * Math.sqrt( Math.PI ) );\n\n\t}\n\n}\n\nAmbientLightProbe.prototype.isAmbientLightProbe = true;\n\nconst _eyeRight = /*@__PURE__*/ new Matrix4();\nconst _eyeLeft = /*@__PURE__*/ new Matrix4();\n\nclass StereoCamera {\n\n\tconstructor() {\n\n\t\tthis.type = 'StereoCamera';\n\n\t\tthis.aspect = 1;\n\n\t\tthis.eyeSep = 0.064;\n\n\t\tthis.cameraL = new PerspectiveCamera();\n\t\tthis.cameraL.layers.enable( 1 );\n\t\tthis.cameraL.matrixAutoUpdate = false;\n\n\t\tthis.cameraR = new PerspectiveCamera();\n\t\tthis.cameraR.layers.enable( 2 );\n\t\tthis.cameraR.matrixAutoUpdate = false;\n\n\t\tthis._cache = {\n\t\t\tfocus: null,\n\t\t\tfov: null,\n\t\t\taspect: null,\n\t\t\tnear: null,\n\t\t\tfar: null,\n\t\t\tzoom: null,\n\t\t\teyeSep: null\n\t\t};\n\n\t}\n\n\tupdate( camera ) {\n\n\t\tconst cache = this._cache;\n\n\t\tconst needsUpdate = cache.focus !== camera.focus || cache.fov !== camera.fov ||\n\t\t\tcache.aspect !== camera.aspect * this.aspect || cache.near !== camera.near ||\n\t\t\tcache.far !== camera.far || cache.zoom !== camera.zoom || cache.eyeSep !== this.eyeSep;\n\n\t\tif ( needsUpdate ) {\n\n\t\t\tcache.focus = camera.focus;\n\t\t\tcache.fov = camera.fov;\n\t\t\tcache.aspect = camera.aspect * this.aspect;\n\t\t\tcache.near = camera.near;\n\t\t\tcache.far = camera.far;\n\t\t\tcache.zoom = camera.zoom;\n\t\t\tcache.eyeSep = this.eyeSep;\n\n\t\t\t// Off-axis stereoscopic effect based on\n\t\t\t// http://paulbourke.net/stereographics/stereorender/\n\n\t\t\tconst projectionMatrix = camera.projectionMatrix.clone();\n\t\t\tconst eyeSepHalf = cache.eyeSep / 2;\n\t\t\tconst eyeSepOnProjection = eyeSepHalf * cache.near / cache.focus;\n\t\t\tconst ymax = ( cache.near * Math.tan( DEG2RAD * cache.fov * 0.5 ) ) / cache.zoom;\n\t\t\tlet xmin, xmax;\n\n\t\t\t// translate xOffset\n\n\t\t\t_eyeLeft.elements[ 12 ] = - eyeSepHalf;\n\t\t\t_eyeRight.elements[ 12 ] = eyeSepHalf;\n\n\t\t\t// for left eye\n\n\t\t\txmin = - ymax * cache.aspect + eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect + eyeSepOnProjection;\n\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraL.projectionMatrix.copy( projectionMatrix );\n\n\t\t\t// for right eye\n\n\t\t\txmin = - ymax * cache.aspect - eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect - eyeSepOnProjection;\n\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraR.projectionMatrix.copy( projectionMatrix );\n\n\t\t}\n\n\t\tthis.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeLeft );\n\t\tthis.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeRight );\n\n\t}\n\n}\n\nclass Clock {\n\n\tconstructor( autoStart = true ) {\n\n\t\tthis.autoStart = autoStart;\n\n\t\tthis.startTime = 0;\n\t\tthis.oldTime = 0;\n\t\tthis.elapsedTime = 0;\n\n\t\tthis.running = false;\n\n\t}\n\n\tstart() {\n\n\t\tthis.startTime = now();\n\n\t\tthis.oldTime = this.startTime;\n\t\tthis.elapsedTime = 0;\n\t\tthis.running = true;\n\n\t}\n\n\tstop() {\n\n\t\tthis.getElapsedTime();\n\t\tthis.running = false;\n\t\tthis.autoStart = false;\n\n\t}\n\n\tgetElapsedTime() {\n\n\t\tthis.getDelta();\n\t\treturn this.elapsedTime;\n\n\t}\n\n\tgetDelta() {\n\n\t\tlet diff = 0;\n\n\t\tif ( this.autoStart && ! this.running ) {\n\n\t\t\tthis.start();\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tif ( this.running ) {\n\n\t\t\tconst newTime = now();\n\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\n\t\t\tthis.oldTime = newTime;\n\n\t\t\tthis.elapsedTime += diff;\n\n\t\t}\n\n\t\treturn diff;\n\n\t}\n\n}\n\nfunction now() {\n\n\treturn ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\n\n}\n\nconst _position$1 = /*@__PURE__*/ new Vector3();\nconst _quaternion$1 = /*@__PURE__*/ new Quaternion();\nconst _scale$1 = /*@__PURE__*/ new Vector3();\nconst _orientation$1 = /*@__PURE__*/ new Vector3();\n\nclass AudioListener extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'AudioListener';\n\n\t\tthis.context = AudioContext.getContext();\n\n\t\tthis.gain = this.context.createGain();\n\t\tthis.gain.connect( this.context.destination );\n\n\t\tthis.filter = null;\n\n\t\tthis.timeDelta = 0;\n\n\t\t// private\n\n\t\tthis._clock = new Clock();\n\n\t}\n\n\tgetInput() {\n\n\t\treturn this.gain;\n\n\t}\n\n\tremoveFilter() {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\t\t\tthis.gain.connect( this.context.destination );\n\t\t\tthis.filter = null;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetFilter() {\n\n\t\treturn this.filter;\n\n\t}\n\n\tsetFilter( value ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\n\t\t} else {\n\n\t\t\tthis.gain.disconnect( this.context.destination );\n\n\t\t}\n\n\t\tthis.filter = value;\n\t\tthis.gain.connect( this.filter );\n\t\tthis.filter.connect( this.context.destination );\n\n\t\treturn this;\n\n\t}\n\n\tgetMasterVolume() {\n\n\t\treturn this.gain.gain.value;\n\n\t}\n\n\tsetMasterVolume( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tconst listener = this.context.listener;\n\t\tconst up = this.up;\n\n\t\tthis.timeDelta = this._clock.getDelta();\n\n\t\tthis.matrixWorld.decompose( _position$1, _quaternion$1, _scale$1 );\n\n\t\t_orientation$1.set( 0, 0, - 1 ).applyQuaternion( _quaternion$1 );\n\n\t\tif ( listener.positionX ) {\n\n\t\t\t// code path for Chrome (see #14393)\n\n\t\t\tconst endTime = this.context.currentTime + this.timeDelta;\n\n\t\t\tlistener.positionX.linearRampToValueAtTime( _position$1.x, endTime );\n\t\t\tlistener.positionY.linearRampToValueAtTime( _position$1.y, endTime );\n\t\t\tlistener.positionZ.linearRampToValueAtTime( _position$1.z, endTime );\n\t\t\tlistener.forwardX.linearRampToValueAtTime( _orientation$1.x, endTime );\n\t\t\tlistener.forwardY.linearRampToValueAtTime( _orientation$1.y, endTime );\n\t\t\tlistener.forwardZ.linearRampToValueAtTime( _orientation$1.z, endTime );\n\t\t\tlistener.upX.linearRampToValueAtTime( up.x, endTime );\n\t\t\tlistener.upY.linearRampToValueAtTime( up.y, endTime );\n\t\t\tlistener.upZ.linearRampToValueAtTime( up.z, endTime );\n\n\t\t} else {\n\n\t\t\tlistener.setPosition( _position$1.x, _position$1.y, _position$1.z );\n\t\t\tlistener.setOrientation( _orientation$1.x, _orientation$1.y, _orientation$1.z, up.x, up.y, up.z );\n\n\t\t}\n\n\t}\n\n}\n\nclass Audio extends Object3D {\n\n\tconstructor( listener ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Audio';\n\n\t\tthis.listener = listener;\n\t\tthis.context = listener.context;\n\n\t\tthis.gain = this.context.createGain();\n\t\tthis.gain.connect( listener.getInput() );\n\n\t\tthis.autoplay = false;\n\n\t\tthis.buffer = null;\n\t\tthis.detune = 0;\n\t\tthis.loop = false;\n\t\tthis.loopStart = 0;\n\t\tthis.loopEnd = 0;\n\t\tthis.offset = 0;\n\t\tthis.duration = undefined;\n\t\tthis.playbackRate = 1;\n\t\tthis.isPlaying = false;\n\t\tthis.hasPlaybackControl = true;\n\t\tthis.source = null;\n\t\tthis.sourceType = 'empty';\n\n\t\tthis._startedAt = 0;\n\t\tthis._progress = 0;\n\t\tthis._connected = false;\n\n\t\tthis.filters = [];\n\n\t}\n\n\tgetOutput() {\n\n\t\treturn this.gain;\n\n\t}\n\n\tsetNodeSource( audioNode ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'audioNode';\n\t\tthis.source = audioNode;\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetMediaElementSource( mediaElement ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaNode';\n\t\tthis.source = this.context.createMediaElementSource( mediaElement );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetMediaStreamSource( mediaStream ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaStreamNode';\n\t\tthis.source = this.context.createMediaStreamSource( mediaStream );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetBuffer( audioBuffer ) {\n\n\t\tthis.buffer = audioBuffer;\n\t\tthis.sourceType = 'buffer';\n\n\t\tif ( this.autoplay ) this.play();\n\n\t\treturn this;\n\n\t}\n\n\tplay( delay = 0 ) {\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._startedAt = this.context.currentTime + delay;\n\n\t\tconst source = this.context.createBufferSource();\n\t\tsource.buffer = this.buffer;\n\t\tsource.loop = this.loop;\n\t\tsource.loopStart = this.loopStart;\n\t\tsource.loopEnd = this.loopEnd;\n\t\tsource.onended = this.onEnded.bind( this );\n\t\tsource.start( this._startedAt, this._progress + this.offset, this.duration );\n\n\t\tthis.isPlaying = true;\n\n\t\tthis.source = source;\n\n\t\tthis.setDetune( this.detune );\n\t\tthis.setPlaybackRate( this.playbackRate );\n\n\t\treturn this.connect();\n\n\t}\n\n\tpause() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\t// update current progress\n\n\t\t\tthis._progress += Math.max( this.context.currentTime - this._startedAt, 0 ) * this.playbackRate;\n\n\t\t\tif ( this.loop === true ) {\n\n\t\t\t\t// ensure _progress does not exceed duration with looped audios\n\n\t\t\t\tthis._progress = this._progress % ( this.duration || this.buffer.duration );\n\n\t\t\t}\n\n\t\t\tthis.source.stop();\n\t\t\tthis.source.onended = null;\n\n\t\t\tthis.isPlaying = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tstop() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._progress = 0;\n\n\t\tthis.source.stop();\n\t\tthis.source.onended = null;\n\t\tthis.isPlaying = false;\n\n\t\treturn this;\n\n\t}\n\n\tconnect() {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.connect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.connect( this.getOutput() );\n\n\t\t}\n\n\t\tthis._connected = true;\n\n\t\treturn this;\n\n\t}\n\n\tdisconnect() {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.disconnect( this.getOutput() );\n\n\t\t}\n\n\t\tthis._connected = false;\n\n\t\treturn this;\n\n\t}\n\n\tgetFilters() {\n\n\t\treturn this.filters;\n\n\t}\n\n\tsetFilters( value ) {\n\n\t\tif ( ! value ) value = [];\n\n\t\tif ( this._connected === true ) {\n\n\t\t\tthis.disconnect();\n\t\t\tthis.filters = value.slice();\n\t\t\tthis.connect();\n\n\t\t} else {\n\n\t\t\tthis.filters = value.slice();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetDetune( value ) {\n\n\t\tthis.detune = value;\n\n\t\tif ( this.source.detune === undefined ) return; // only set detune when available\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.detune.setTargetAtTime( this.detune, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetDetune() {\n\n\t\treturn this.detune;\n\n\t}\n\n\tgetFilter() {\n\n\t\treturn this.getFilters()[ 0 ];\n\n\t}\n\n\tsetFilter( filter ) {\n\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\n\n\t}\n\n\tsetPlaybackRate( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.playbackRate = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.playbackRate.setTargetAtTime( this.playbackRate, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetPlaybackRate() {\n\n\t\treturn this.playbackRate;\n\n\t}\n\n\tonEnded() {\n\n\t\tthis.isPlaying = false;\n\n\t}\n\n\tgetLoop() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn this.loop;\n\n\t}\n\n\tsetLoop( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.loop = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.loop = this.loop;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetLoopStart( value ) {\n\n\t\tthis.loopStart = value;\n\n\t\treturn this;\n\n\t}\n\n\tsetLoopEnd( value ) {\n\n\t\tthis.loopEnd = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetVolume() {\n\n\t\treturn this.gain.gain.value;\n\n\t}\n\n\tsetVolume( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _position = /*@__PURE__*/ new Vector3();\nconst _quaternion = /*@__PURE__*/ new Quaternion();\nconst _scale = /*@__PURE__*/ new Vector3();\nconst _orientation = /*@__PURE__*/ new Vector3();\n\nclass PositionalAudio extends Audio {\n\n\tconstructor( listener ) {\n\n\t\tsuper( listener );\n\n\t\tthis.panner = this.context.createPanner();\n\t\tthis.panner.panningModel = 'HRTF';\n\t\tthis.panner.connect( this.gain );\n\n\t}\n\n\tgetOutput() {\n\n\t\treturn this.panner;\n\n\t}\n\n\tgetRefDistance() {\n\n\t\treturn this.panner.refDistance;\n\n\t}\n\n\tsetRefDistance( value ) {\n\n\t\tthis.panner.refDistance = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetRolloffFactor() {\n\n\t\treturn this.panner.rolloffFactor;\n\n\t}\n\n\tsetRolloffFactor( value ) {\n\n\t\tthis.panner.rolloffFactor = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetDistanceModel() {\n\n\t\treturn this.panner.distanceModel;\n\n\t}\n\n\tsetDistanceModel( value ) {\n\n\t\tthis.panner.distanceModel = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxDistance() {\n\n\t\treturn this.panner.maxDistance;\n\n\t}\n\n\tsetMaxDistance( value ) {\n\n\t\tthis.panner.maxDistance = value;\n\n\t\treturn this;\n\n\t}\n\n\tsetDirectionalCone( coneInnerAngle, coneOuterAngle, coneOuterGain ) {\n\n\t\tthis.panner.coneInnerAngle = coneInnerAngle;\n\t\tthis.panner.coneOuterAngle = coneOuterAngle;\n\t\tthis.panner.coneOuterGain = coneOuterGain;\n\n\t\treturn this;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tif ( this.hasPlaybackControl === true && this.isPlaying === false ) return;\n\n\t\tthis.matrixWorld.decompose( _position, _quaternion, _scale );\n\n\t\t_orientation.set( 0, 0, 1 ).applyQuaternion( _quaternion );\n\n\t\tconst panner = this.panner;\n\n\t\tif ( panner.positionX ) {\n\n\t\t\t// code path for Chrome and Firefox (see #14393)\n\n\t\t\tconst endTime = this.context.currentTime + this.listener.timeDelta;\n\n\t\t\tpanner.positionX.linearRampToValueAtTime( _position.x, endTime );\n\t\t\tpanner.positionY.linearRampToValueAtTime( _position.y, endTime );\n\t\t\tpanner.positionZ.linearRampToValueAtTime( _position.z, endTime );\n\t\t\tpanner.orientationX.linearRampToValueAtTime( _orientation.x, endTime );\n\t\t\tpanner.orientationY.linearRampToValueAtTime( _orientation.y, endTime );\n\t\t\tpanner.orientationZ.linearRampToValueAtTime( _orientation.z, endTime );\n\n\t\t} else {\n\n\t\t\tpanner.setPosition( _position.x, _position.y, _position.z );\n\t\t\tpanner.setOrientation( _orientation.x, _orientation.y, _orientation.z );\n\n\t\t}\n\n\t}\n\n}\n\nclass AudioAnalyser {\n\n\tconstructor( audio, fftSize = 2048 ) {\n\n\t\tthis.analyser = audio.context.createAnalyser();\n\t\tthis.analyser.fftSize = fftSize;\n\n\t\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\n\n\t\taudio.getOutput().connect( this.analyser );\n\n\t}\n\n\n\tgetFrequencyData() {\n\n\t\tthis.analyser.getByteFrequencyData( this.data );\n\n\t\treturn this.data;\n\n\t}\n\n\tgetAverageFrequency() {\n\n\t\tlet value = 0;\n\t\tconst data = this.getFrequencyData();\n\n\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\tvalue += data[ i ];\n\n\t\t}\n\n\t\treturn value / data.length;\n\n\t}\n\n}\n\nclass PropertyMixer {\n\n\tconstructor( binding, typeName, valueSize ) {\n\n\t\tthis.binding = binding;\n\t\tthis.valueSize = valueSize;\n\n\t\tlet mixFunction,\n\t\t\tmixFunctionAdditive,\n\t\t\tsetIdentity;\n\n\t\t// buffer layout: [ incoming | accu0 | accu1 | orig | addAccu | (optional work) ]\n\t\t//\n\t\t// interpolators can use .buffer as their .result\n\t\t// the data then goes to 'incoming'\n\t\t//\n\t\t// 'accu0' and 'accu1' are used frame-interleaved for\n\t\t// the cumulative result and are compared to detect\n\t\t// changes\n\t\t//\n\t\t// 'orig' stores the original state of the property\n\t\t//\n\t\t// 'add' is used for additive cumulative results\n\t\t//\n\t\t// 'work' is optional and is only present for quaternion types. It is used\n\t\t// to store intermediate quaternion multiplication results\n\n\t\tswitch ( typeName ) {\n\n\t\t\tcase 'quaternion':\n\t\t\t\tmixFunction = this._slerp;\n\t\t\t\tmixFunctionAdditive = this._slerpAdditive;\n\t\t\t\tsetIdentity = this._setAdditiveIdentityQuaternion;\n\n\t\t\t\tthis.buffer = new Float64Array( valueSize * 6 );\n\t\t\t\tthis._workIndex = 5;\n\t\t\t\tbreak;\n\n\t\t\tcase 'string':\n\t\t\tcase 'bool':\n\t\t\t\tmixFunction = this._select;\n\n\t\t\t\t// Use the regular mix function and for additive on these types,\n\t\t\t\t// additive is not relevant for non-numeric types\n\t\t\t\tmixFunctionAdditive = this._select;\n\n\t\t\t\tsetIdentity = this._setAdditiveIdentityOther;\n\n\t\t\t\tthis.buffer = new Array( valueSize * 5 );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tmixFunction = this._lerp;\n\t\t\t\tmixFunctionAdditive = this._lerpAdditive;\n\t\t\t\tsetIdentity = this._setAdditiveIdentityNumeric;\n\n\t\t\t\tthis.buffer = new Float64Array( valueSize * 5 );\n\n\t\t}\n\n\t\tthis._mixBufferRegion = mixFunction;\n\t\tthis._mixBufferRegionAdditive = mixFunctionAdditive;\n\t\tthis._setIdentity = setIdentity;\n\t\tthis._origIndex = 3;\n\t\tthis._addIndex = 4;\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t\tthis.useCount = 0;\n\t\tthis.referenceCount = 0;\n\n\t}\n\n\t// accumulate data in the 'incoming' region into 'accu<i>'\n\taccumulate( accuIndex, weight ) {\n\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\n\t\t// the weight and shouldn't have made the call in the first place\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = accuIndex * stride + stride;\n\n\t\tlet currentWeight = this.cumulativeWeight;\n\n\t\tif ( currentWeight === 0 ) {\n\n\t\t\t// accuN := incoming * weight\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\n\n\t\t\t}\n\n\t\t\tcurrentWeight = weight;\n\n\t\t} else {\n\n\t\t\t// accuN := accuN + incoming * weight\n\n\t\t\tcurrentWeight += weight;\n\t\t\tconst mix = weight / currentWeight;\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\n\n\t\t}\n\n\t\tthis.cumulativeWeight = currentWeight;\n\n\t}\n\n\t// accumulate data in the 'incoming' region into 'add'\n\taccumulateAdditive( weight ) {\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = stride * this._addIndex;\n\n\t\tif ( this.cumulativeWeightAdditive === 0 ) {\n\n\t\t\t// add = identity\n\n\t\t\tthis._setIdentity();\n\n\t\t}\n\n\t\t// add := add + incoming * weight\n\n\t\tthis._mixBufferRegionAdditive( buffer, offset, 0, weight, stride );\n\t\tthis.cumulativeWeightAdditive += weight;\n\n\t}\n\n\t// apply the state of 'accu<i>' to the binding when accus differ\n\tapply( accuIndex ) {\n\n\t\tconst stride = this.valueSize,\n\t\t\tbuffer = this.buffer,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tweight = this.cumulativeWeight,\n\t\t\tweightAdditive = this.cumulativeWeightAdditive,\n\n\t\t\tbinding = this.binding;\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t\tif ( weight < 1 ) {\n\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\n\n\t\t\tconst originalValueOffset = stride * this._origIndex;\n\n\t\t\tthis._mixBufferRegion(\n\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\n\n\t\t}\n\n\t\tif ( weightAdditive > 0 ) {\n\n\t\t\t// accuN := accuN + additive accuN\n\n\t\t\tthis._mixBufferRegionAdditive( buffer, offset, this._addIndex * stride, 1, stride );\n\n\t\t}\n\n\t\tfor ( let i = stride, e = stride + stride; i !== e; ++ i ) {\n\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\n\n\t\t\t\t// value has changed -> update scene graph\n\n\t\t\t\tbinding.setValue( buffer, offset );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// remember the state of the bound property and copy it to both accus\n\tsaveOriginalState() {\n\n\t\tconst binding = this.binding;\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\n\t\t\toriginalValueOffset = stride * this._origIndex;\n\n\t\tbinding.getValue( buffer, originalValueOffset );\n\n\t\t// accu[0..1] := orig -- initially detect changes against the original\n\t\tfor ( let i = stride, e = originalValueOffset; i !== e; ++ i ) {\n\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\n\n\t\t}\n\n\t\t// Add to identity for additive\n\t\tthis._setIdentity();\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t}\n\n\t// apply the state previously taken via 'saveOriginalState' to the binding\n\trestoreOriginalState() {\n\n\t\tconst originalValueOffset = this.valueSize * 3;\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\n\n\t}\n\n\t_setAdditiveIdentityNumeric() {\n\n\t\tconst startIndex = this._addIndex * this.valueSize;\n\t\tconst endIndex = startIndex + this.valueSize;\n\n\t\tfor ( let i = startIndex; i < endIndex; i ++ ) {\n\n\t\t\tthis.buffer[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\t_setAdditiveIdentityQuaternion() {\n\n\t\tthis._setAdditiveIdentityNumeric();\n\t\tthis.buffer[ this._addIndex * this.valueSize + 3 ] = 1;\n\n\t}\n\n\t_setAdditiveIdentityOther() {\n\n\t\tconst startIndex = this._origIndex * this.valueSize;\n\t\tconst targetIndex = this._addIndex * this.valueSize;\n\n\t\tfor ( let i = 0; i < this.valueSize; i ++ ) {\n\n\t\t\tthis.buffer[ targetIndex + i ] = this.buffer[ startIndex + i ];\n\n\t\t}\n\n\t}\n\n\n\t// mix functions\n\n\t_select( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tif ( t >= 0.5 ) {\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_slerp( buffer, dstOffset, srcOffset, t ) {\n\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\n\n\t}\n\n\t_slerpAdditive( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst workOffset = this._workIndex * stride;\n\n\t\t// Store result in intermediate buffer offset\n\t\tQuaternion.multiplyQuaternionsFlat( buffer, workOffset, buffer, dstOffset, buffer, srcOffset );\n\n\t\t// Slerp to the intermediate result\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, workOffset, t );\n\n\t}\n\n\t_lerp( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst s = 1 - t;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n\t_lerpAdditive( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n}\n\n// Characters [].:/ are reserved for track binding syntax.\nconst _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\nconst _reservedRe = new RegExp( '[' + _RESERVED_CHARS_RE + ']', 'g' );\n\n// Attempts to allow node names from any language. ES5's `\\w` regexp matches\n// only latin characters, and the unicode \\p{L} is not yet supported. So\n// instead, we exclude reserved characters and match everything else.\nconst _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\nconst _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace( '\\\\.', '' ) + ']';\n\n// Parent directories, delimited by '/' or ':'. Currently unused, but must\n// be matched to parse the rest of the track name.\nconst _directoryRe = /((?:WC+[\\/:])*)/.source.replace( 'WC', _wordChar );\n\n// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\nconst _nodeRe = /(WCOD+)?/.source.replace( 'WCOD', _wordCharOrDot );\n\n// Object on target node, and accessor. May not contain reserved\n// characters. Accessor may contain any character except closing bracket.\nconst _objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace( 'WC', _wordChar );\n\n// Property and accessor. May not contain reserved characters. Accessor may\n// contain any non-bracket characters.\nconst _propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace( 'WC', _wordChar );\n\nconst _trackRe = new RegExp( ''\n\t+ '^'\n\t+ _directoryRe\n\t+ _nodeRe\n\t+ _objectRe\n\t+ _propertyRe\n\t+ '$'\n);\n\nconst _supportedObjectNames = [ 'material', 'materials', 'bones' ];\n\nclass Composite {\n\n\tconstructor( targetGroup, path, optionalParsedPath ) {\n\n\t\tconst parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\n\n\t\tthis._targetGroup = targetGroup;\n\t\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\n\n\t}\n\n\tgetValue( array, offset ) {\n\n\t\tthis.bind(); // bind all binding\n\n\t\tconst firstValidIndex = this._targetGroup.nCachedObjects_,\n\t\t\tbinding = this._bindings[ firstValidIndex ];\n\n\t\t// and only call .getValue on the first\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\n\n\t}\n\n\tsetValue( array, offset ) {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].setValue( array, offset );\n\n\t\t}\n\n\t}\n\n\tbind() {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].bind();\n\n\t\t}\n\n\t}\n\n\tunbind() {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].unbind();\n\n\t\t}\n\n\t}\n\n}\n\n// Note: This class uses a State pattern on a per-method basis:\n// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n// prototype version of these methods with one that represents\n// the bound state. When the property is not found, the methods\n// become no-ops.\nclass PropertyBinding {\n\n\tconstructor( rootNode, path, parsedPath ) {\n\n\t\tthis.path = path;\n\t\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\n\n\t\tthis.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\n\n\t\tthis.rootNode = rootNode;\n\n\t\t// initial state of these methods that calls 'bind'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n\n\tstatic create( root, path, parsedPath ) {\n\n\t\tif ( ! ( root && root.isAnimationObjectGroup ) ) {\n\n\t\t\treturn new PropertyBinding( root, path, parsedPath );\n\n\t\t} else {\n\n\t\t\treturn new PropertyBinding.Composite( root, path, parsedPath );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Replaces spaces with underscores and removes unsupported characters from\n\t * node names, to ensure compatibility with parseTrackName().\n\t *\n\t * @param {string} name Node name to be sanitized.\n\t * @return {string}\n\t */\n\tstatic sanitizeNodeName( name ) {\n\n\t\treturn name.replace( /\\s/g, '_' ).replace( _reservedRe, '' );\n\n\t}\n\n\tstatic parseTrackName( trackName ) {\n\n\t\tconst matches = _trackRe.exec( trackName );\n\n\t\tif ( ! matches ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\n\n\t\t}\n\n\t\tconst results = {\n\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\n\t\t\tnodeName: matches[ 2 ],\n\t\t\tobjectName: matches[ 3 ],\n\t\t\tobjectIndex: matches[ 4 ],\n\t\t\tpropertyName: matches[ 5 ], // required\n\t\t\tpropertyIndex: matches[ 6 ]\n\t\t};\n\n\t\tconst lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\n\n\t\tif ( lastDot !== undefined && lastDot !== - 1 ) {\n\n\t\t\tconst objectName = results.nodeName.substring( lastDot + 1 );\n\n\t\t\t// Object names must be checked against an allowlist. Otherwise, there\n\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\n\t\t\t// include '.' characters).\n\t\t\tif ( _supportedObjectNames.indexOf( objectName ) !== - 1 ) {\n\n\t\t\t\tresults.nodeName = results.nodeName.substring( 0, lastDot );\n\t\t\t\tresults.objectName = objectName;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\n\n\t\t}\n\n\t\treturn results;\n\n\t}\n\n\tstatic findNode( root, nodeName ) {\n\n\t\tif ( ! nodeName || nodeName === '' || nodeName === '.' || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\n\n\t\t\treturn root;\n\n\t\t}\n\n\t\t// search into skeleton bones.\n\t\tif ( root.skeleton ) {\n\n\t\t\tconst bone = root.skeleton.getBoneByName( nodeName );\n\n\t\t\tif ( bone !== undefined ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// search into node subtree.\n\t\tif ( root.children ) {\n\n\t\t\tconst searchNodeSubtree = function ( children ) {\n\n\t\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\t\tconst childNode = children[ i ];\n\n\t\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\n\n\t\t\t\t\t\treturn childNode;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst result = searchNodeSubtree( childNode.children );\n\n\t\t\t\t\tif ( result ) return result;\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t};\n\n\t\t\tconst subTreeNode = searchNodeSubtree( root.children );\n\n\t\t\tif ( subTreeNode ) {\n\n\t\t\t\treturn subTreeNode;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t// these are used to \"bind\" a nonexistent property\n\t_getValue_unavailable() {}\n\t_setValue_unavailable() {}\n\n\t// Getters\n\n\t_getValue_direct( buffer, offset ) {\n\n\t\tbuffer[ offset ] = this.node[ this.propertyName ];\n\n\t}\n\n\t_getValue_array( buffer, offset ) {\n\n\t\tconst source = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = source.length; i !== n; ++ i ) {\n\n\t\t\tbuffer[ offset ++ ] = source[ i ];\n\n\t\t}\n\n\t}\n\n\t_getValue_arrayElement( buffer, offset ) {\n\n\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\n\n\t}\n\n\t_getValue_toArray( buffer, offset ) {\n\n\t\tthis.resolvedProperty.toArray( buffer, offset );\n\n\t}\n\n\t// Direct\n\n\t_setValue_direct( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\n\t}\n\n\t_setValue_direct_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// EntireArray\n\n\t_setValue_array( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t}\n\n\t_setValue_array_setNeedsUpdate( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// ArrayElement\n\n\t_setValue_arrayElement( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\n\t}\n\n\t_setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// HasToFromArray\n\n\t_setValue_fromArray( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\n\t}\n\n\t_setValue_fromArray_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t_getValue_unbound( targetArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.getValue( targetArray, offset );\n\n\t}\n\n\t_setValue_unbound( sourceArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.setValue( sourceArray, offset );\n\n\t}\n\n\t// create getter / setter pair for a property in the scene graph\n\tbind() {\n\n\t\tlet targetObject = this.node;\n\t\tconst parsedPath = this.parsedPath;\n\n\t\tconst objectName = parsedPath.objectName;\n\t\tconst propertyName = parsedPath.propertyName;\n\t\tlet propertyIndex = parsedPath.propertyIndex;\n\n\t\tif ( ! targetObject ) {\n\n\t\t\ttargetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName ) || this.rootNode;\n\n\t\t\tthis.node = targetObject;\n\n\t\t}\n\n\t\t// set fail state so we can just 'return' on error\n\t\tthis.getValue = this._getValue_unavailable;\n\t\tthis.setValue = this._setValue_unavailable;\n\n\t\t// ensure there is a value node\n\t\tif ( ! targetObject ) {\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( objectName ) {\n\n\t\t\tlet objectIndex = parsedPath.objectIndex;\n\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\n\t\t\tswitch ( objectName ) {\n\n\t\t\t\tcase 'materials':\n\n\t\t\t\t\tif ( ! targetObject.material ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject.material.materials;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bones':\n\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\n\t\t\t\t\t// and convert the integer string to a true integer.\n\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\n\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tfor ( let i = 0; i < targetObject.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject[ i ].name === objectIndex ) {\n\n\t\t\t\t\t\t\tobjectIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\n\n\t\t\t}\n\n\n\t\t\tif ( objectIndex !== undefined ) {\n\n\t\t\t\tif ( targetObject[ objectIndex ] === undefined ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// resolve property\n\t\tconst nodeProperty = targetObject[ propertyName ];\n\n\t\tif ( nodeProperty === undefined ) {\n\n\t\t\tconst nodeName = parsedPath.nodeName;\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n\t\t\t\t'.' + propertyName + ' but it wasn\\'t found.', targetObject );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// determine versioning scheme\n\t\tlet versioning = this.Versioning.None;\n\n\t\tthis.targetObject = targetObject;\n\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\n\n\t\t\tversioning = this.Versioning.NeedsUpdate;\n\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\n\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\n\n\t\t}\n\n\t\t// determine how the property gets bound\n\t\tlet bindingType = this.BindingType.Direct;\n\n\t\tif ( propertyIndex !== undefined ) {\n\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\n\t\t\tif ( propertyName === 'morphTargetInfluences' ) {\n\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\tif ( ! targetObject.geometry ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( targetObject.geometry.isBufferGeometry ) {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphAttributes ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( targetObject.morphTargetDictionary[ propertyIndex ] !== undefined ) {\n\n\t\t\t\t\t\tpropertyIndex = targetObject.morphTargetDictionary[ propertyIndex ];\n\n\t\t\t\t\t}\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tbindingType = this.BindingType.ArrayElement;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\tthis.propertyIndex = propertyIndex;\n\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\n\n\t\t\t// must use copy for Object3D.Euler/Quaternion\n\n\t\t\tbindingType = this.BindingType.HasFromToArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else if ( Array.isArray( nodeProperty ) ) {\n\n\t\t\tbindingType = this.BindingType.EntireArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else {\n\n\t\t\tthis.propertyName = propertyName;\n\n\t\t}\n\n\t\t// select getter / setter\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\n\n\t}\n\n\tunbind() {\n\n\t\tthis.node = null;\n\n\t\t// back to the prototype version of getValue / setValue\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n}\n\nPropertyBinding.Composite = Composite;\n\nPropertyBinding.prototype.BindingType = {\n\tDirect: 0,\n\tEntireArray: 1,\n\tArrayElement: 2,\n\tHasFromToArray: 3\n};\n\nPropertyBinding.prototype.Versioning = {\n\tNone: 0,\n\tNeedsUpdate: 1,\n\tMatrixWorldNeedsUpdate: 2\n};\n\nPropertyBinding.prototype.GetterByBindingType = [\n\n\tPropertyBinding.prototype._getValue_direct,\n\tPropertyBinding.prototype._getValue_array,\n\tPropertyBinding.prototype._getValue_arrayElement,\n\tPropertyBinding.prototype._getValue_toArray,\n\n];\n\nPropertyBinding.prototype.SetterByBindingTypeAndVersioning = [\n\n\t[\n\t\t// Direct\n\t\tPropertyBinding.prototype._setValue_direct,\n\t\tPropertyBinding.prototype._setValue_direct_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// EntireArray\n\n\t\tPropertyBinding.prototype._setValue_array,\n\t\tPropertyBinding.prototype._setValue_array_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// ArrayElement\n\t\tPropertyBinding.prototype._setValue_arrayElement,\n\t\tPropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// HasToFromArray\n\t\tPropertyBinding.prototype._setValue_fromArray,\n\t\tPropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate,\n\n\t]\n\n];\n\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n *  - Add objects you would otherwise pass as 'root' to the\n *    constructor or the .clipAction method of AnimationMixer.\n *\n *  - Instead pass this object as 'root'.\n *\n *  - You can also add and remove objects later when the mixer\n *    is running.\n *\n * Note:\n *\n *    Objects of this class appear as one object to the mixer,\n *    so cache control of the individual objects must be done\n *    on the group.\n *\n * Limitation:\n *\n *  - The animated properties must be compatible among the\n *    all objects in the group.\n *\n *  - A single property can either be controlled through a\n *    target group or directly, but not both.\n */\n\nclass AnimationObjectGroup {\n\n\tconstructor() {\n\n\t\tthis.uuid = generateUUID();\n\n\t\t// cached objects followed by the active ones\n\t\tthis._objects = Array.prototype.slice.call( arguments );\n\n\t\tthis.nCachedObjects_ = 0; // threshold\n\t\t// note: read by PropertyBinding.Composite\n\n\t\tconst indices = {};\n\t\tthis._indicesByUUID = indices; // for bookkeeping\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tindices[ arguments[ i ].uuid ] = i;\n\n\t\t}\n\n\t\tthis._paths = []; // inside: string\n\t\tthis._parsedPaths = []; // inside: { we don't care, here }\n\t\tthis._bindings = []; // inside: Array< PropertyBinding >\n\t\tthis._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n\t\tconst scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tobjects: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._objects.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn this.total - scope.nCachedObjects_;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tget bindingsPerObject() {\n\n\t\t\t\treturn scope._bindings.length;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tadd() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tpaths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet knownObject = undefined,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid;\n\t\t\tlet index = indicesByUUID[ uuid ];\n\n\t\t\tif ( index === undefined ) {\n\n\t\t\t\t// unknown object -> add it to the ACTIVE region\n\n\t\t\t\tindex = nObjects ++;\n\t\t\t\tindicesByUUID[ uuid ] = index;\n\t\t\t\tobjects.push( object );\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tbindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\n\n\t\t\t\t}\n\n\t\t\t} else if ( index < nCachedObjects ) {\n\n\t\t\t\tknownObject = objects[ index ];\n\n\t\t\t\t// move existing object to the ACTIVE region\n\n\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\n\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\n\t\t\t\tobjects[ firstActiveIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ];\n\n\t\t\t\t\tlet binding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\n\t\t\t\t\tif ( binding === undefined ) {\n\n\t\t\t\t\t\t// since we do not bother to create new bindings\n\t\t\t\t\t\t// for objects that are cached, the binding may\n\t\t\t\t\t\t// or may not exist\n\n\t\t\t\t\t\tbinding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t} else if ( objects[ index ] !== knownObject ) {\n\n\t\t\t\tconsole.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n\t\t\t\t\t'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\n\n\t\t\t} // else the object is already where we want it to be\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\tremove() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\n\n\t\t\t\t// move existing object into the CACHED region\n\n\t\t\t\tconst lastCachedIndex = nCachedObjects ++,\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\n\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = firstActiveObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\n\t\t\t\tobjects[ lastCachedIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\t// remove & forget\n\tuncache() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_,\n\t\t\tnObjects = objects.length;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tdelete indicesByUUID[ uuid ];\n\n\t\t\t\tif ( index < nCachedObjects ) {\n\n\t\t\t\t\t// object is cached, shrink the CACHED region\n\n\t\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\n\t\t\t\t\t\tlastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\t// last cached object takes this object's place\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\t\t// last object goes to the activated slot and pop\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// object is active, just swap with the last and pop\n\n\t\t\t\t\tconst lastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\tif ( lastIndex > 0 ) {\n\n\t\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobjects[ index ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} // cached or active\n\n\t\t\t} // if object is known\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\t// Internal interface used by befriended PropertyBinding.Composite:\n\n\tsubscribe_( path, parsedPath ) {\n\n\t\t// returns an array of bindings for the given path that is changed\n\t\t// according to the contained objects in the group\n\n\t\tconst indicesByPath = this._bindingsIndicesByPath;\n\t\tlet index = indicesByPath[ path ];\n\t\tconst bindings = this._bindings;\n\n\t\tif ( index !== undefined ) return bindings[ index ];\n\n\t\tconst paths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tobjects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tbindingsForPath = new Array( nObjects );\n\n\t\tindex = bindings.length;\n\n\t\tindicesByPath[ path ] = index;\n\n\t\tpaths.push( path );\n\t\tparsedPaths.push( parsedPath );\n\t\tbindings.push( bindingsForPath );\n\n\t\tfor ( let i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\n\n\t\t\tconst object = objects[ i ];\n\t\t\tbindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\n\n\t\t}\n\n\t\treturn bindingsForPath;\n\n\t}\n\n\tunsubscribe_( path ) {\n\n\t\t// tells the group to forget about a property path and no longer\n\t\t// update the array previously obtained with 'subscribe_'\n\n\t\tconst indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ];\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tconst paths = this._paths,\n\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\tbindings = this._bindings,\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\n\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\n\n\t\t\tbindings[ index ] = lastBindings;\n\t\t\tbindings.pop();\n\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\n\t\t\tparsedPaths.pop();\n\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\n\t\t\tpaths.pop();\n\n\t\t}\n\n\t}\n\n}\n\nAnimationObjectGroup.prototype.isAnimationObjectGroup = true;\n\nclass AnimationAction {\n\n\tconstructor( mixer, clip, localRoot = null, blendMode = clip.blendMode ) {\n\n\t\tthis._mixer = mixer;\n\t\tthis._clip = clip;\n\t\tthis._localRoot = localRoot;\n\t\tthis.blendMode = blendMode;\n\n\t\tconst tracks = clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tinterpolants = new Array( nTracks );\n\n\t\tconst interpolantSettings = {\n\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\tendingEnd: ZeroCurvatureEnding\n\t\t};\n\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tconst interpolant = tracks[ i ].createInterpolant( null );\n\t\t\tinterpolants[ i ] = interpolant;\n\t\t\tinterpolant.settings = interpolantSettings;\n\n\t\t}\n\n\t\tthis._interpolantSettings = interpolantSettings;\n\n\t\tthis._interpolants = interpolants; // bound by the mixer\n\n\t\t// inside: PropertyMixer (managed by the mixer)\n\t\tthis._propertyBindings = new Array( nTracks );\n\n\t\tthis._cacheIndex = null; // for the memory manager\n\t\tthis._byClipCacheIndex = null; // for the memory manager\n\n\t\tthis._timeScaleInterpolant = null;\n\t\tthis._weightInterpolant = null;\n\n\t\tthis.loop = LoopRepeat;\n\t\tthis._loopCount = - 1;\n\n\t\t// global mixer time when the action is to be started\n\t\t// it's set back to 'null' upon start of the action\n\t\tthis._startTime = null;\n\n\t\t// scaled local time of the action\n\t\t// gets clamped or wrapped to 0..clip.duration according to loop\n\t\tthis.time = 0;\n\n\t\tthis.timeScale = 1;\n\t\tthis._effectiveTimeScale = 1;\n\n\t\tthis.weight = 1;\n\t\tthis._effectiveWeight = 1;\n\n\t\tthis.repetitions = Infinity; // no. of repetitions when looping\n\n\t\tthis.paused = false; // true -> zero effective time scale\n\t\tthis.enabled = true; // false -> zero effective weight\n\n\t\tthis.clampWhenFinished = false;// keep feeding the last frame?\n\n\t\tthis.zeroSlopeAtStart = true;// for smooth interpolation w/o separate\n\t\tthis.zeroSlopeAtEnd = true;// clips for start, loop and end\n\n\t}\n\n\t// State & Scheduling\n\n\tplay() {\n\n\t\tthis._mixer._activateAction( this );\n\n\t\treturn this;\n\n\t}\n\n\tstop() {\n\n\t\tthis._mixer._deactivateAction( this );\n\n\t\treturn this.reset();\n\n\t}\n\n\treset() {\n\n\t\tthis.paused = false;\n\t\tthis.enabled = true;\n\n\t\tthis.time = 0; // restart clip\n\t\tthis._loopCount = - 1;// forget previous loops\n\t\tthis._startTime = null;// forget scheduling\n\n\t\treturn this.stopFading().stopWarping();\n\n\t}\n\n\tisRunning() {\n\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\n\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\n\n\t}\n\n\t// return true when play has been called\n\tisScheduled() {\n\n\t\treturn this._mixer._isActiveAction( this );\n\n\t}\n\n\tstartAt( time ) {\n\n\t\tthis._startTime = time;\n\n\t\treturn this;\n\n\t}\n\n\tsetLoop( mode, repetitions ) {\n\n\t\tthis.loop = mode;\n\t\tthis.repetitions = repetitions;\n\n\t\treturn this;\n\n\t}\n\n\t// Weight\n\n\t// set the weight stopping any scheduled fading\n\t// although .enabled = false yields an effective weight of zero, this\n\t// method does *not* change .enabled, because it would be confusing\n\tsetEffectiveWeight( weight ) {\n\n\t\tthis.weight = weight;\n\n\t\t// note: same logic as when updated at runtime\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\n\n\t\treturn this.stopFading();\n\n\t}\n\n\t// return the weight considering fading and .enabled\n\tgetEffectiveWeight() {\n\n\t\treturn this._effectiveWeight;\n\n\t}\n\n\tfadeIn( duration ) {\n\n\t\treturn this._scheduleFading( duration, 0, 1 );\n\n\t}\n\n\tfadeOut( duration ) {\n\n\t\treturn this._scheduleFading( duration, 1, 0 );\n\n\t}\n\n\tcrossFadeFrom( fadeOutAction, duration, warp ) {\n\n\t\tfadeOutAction.fadeOut( duration );\n\t\tthis.fadeIn( duration );\n\n\t\tif ( warp ) {\n\n\t\t\tconst fadeInDuration = this._clip.duration,\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\n\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\n\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcrossFadeTo( fadeInAction, duration, warp ) {\n\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\n\n\t}\n\n\tstopFading() {\n\n\t\tconst weightInterpolant = this._weightInterpolant;\n\n\t\tif ( weightInterpolant !== null ) {\n\n\t\t\tthis._weightInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Time Scale Control\n\n\t// set the time scale stopping any scheduled warping\n\t// although .paused = true yields an effective time scale of zero, this\n\t// method does *not* change .paused, because it would be confusing\n\tsetEffectiveTimeScale( timeScale ) {\n\n\t\tthis.timeScale = timeScale;\n\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\t// return the time scale considering warping and .paused\n\tgetEffectiveTimeScale() {\n\n\t\treturn this._effectiveTimeScale;\n\n\t}\n\n\tsetDuration( duration ) {\n\n\t\tthis.timeScale = this._clip.duration / duration;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\tsyncWith( action ) {\n\n\t\tthis.time = action.time;\n\t\tthis.timeScale = action.timeScale;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\thalt( duration ) {\n\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\n\n\t}\n\n\twarp( startTimeScale, endTimeScale, duration ) {\n\n\t\tconst mixer = this._mixer,\n\t\t\tnow = mixer.time,\n\t\t\ttimeScale = this.timeScale;\n\n\t\tlet interpolant = this._timeScaleInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._timeScaleInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\ttimes[ 1 ] = now + duration;\n\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\n\n\t\treturn this;\n\n\t}\n\n\tstopWarping() {\n\n\t\tconst timeScaleInterpolant = this._timeScaleInterpolant;\n\n\t\tif ( timeScaleInterpolant !== null ) {\n\n\t\t\tthis._timeScaleInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Object Accessors\n\n\tgetMixer() {\n\n\t\treturn this._mixer;\n\n\t}\n\n\tgetClip() {\n\n\t\treturn this._clip;\n\n\t}\n\n\tgetRoot() {\n\n\t\treturn this._localRoot || this._mixer._root;\n\n\t}\n\n\t// Interna\n\n\t_update( time, deltaTime, timeDirection, accuIndex ) {\n\n\t\t// called by the mixer\n\n\t\tif ( ! this.enabled ) {\n\n\t\t\t// call ._updateWeight() to update ._effectiveWeight\n\n\t\t\tthis._updateWeight( time );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst startTime = this._startTime;\n\n\t\tif ( startTime !== null ) {\n\n\t\t\t// check for scheduled start of action\n\n\t\t\tconst timeRunning = ( time - startTime ) * timeDirection;\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\n\n\t\t\t\treturn; // yet to come / don't decide when delta = 0\n\n\t\t\t}\n\n\t\t\t// start\n\n\t\t\tthis._startTime = null; // unschedule\n\t\t\tdeltaTime = timeDirection * timeRunning;\n\n\t\t}\n\n\t\t// apply time scale and advance time\n\n\t\tdeltaTime *= this._updateTimeScale( time );\n\t\tconst clipTime = this._updateTime( deltaTime );\n\n\t\t// note: _updateTime may disable the action resulting in\n\t\t// an effective weight of 0\n\n\t\tconst weight = this._updateWeight( time );\n\n\t\tif ( weight > 0 ) {\n\n\t\t\tconst interpolants = this._interpolants;\n\t\t\tconst propertyMixers = this._propertyBindings;\n\n\t\t\tswitch ( this.blendMode ) {\n\n\t\t\t\tcase AdditiveAnimationBlendMode:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulateAdditive( weight );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase NormalAnimationBlendMode:\n\t\t\t\tdefault:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\n\n\t\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_updateWeight( time ) {\n\n\t\tlet weight = 0;\n\n\t\tif ( this.enabled ) {\n\n\t\t\tweight = this.weight;\n\t\t\tconst interpolant = this._weightInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\tweight *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopFading();\n\n\t\t\t\t\tif ( interpolantValue === 0 ) {\n\n\t\t\t\t\t\t// faded out, disable\n\t\t\t\t\t\tthis.enabled = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveWeight = weight;\n\t\treturn weight;\n\n\t}\n\n\t_updateTimeScale( time ) {\n\n\t\tlet timeScale = 0;\n\n\t\tif ( ! this.paused ) {\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\t\tconst interpolant = this._timeScaleInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\ttimeScale *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopWarping();\n\n\t\t\t\t\tif ( timeScale === 0 ) {\n\n\t\t\t\t\t\t// motion has halted, pause\n\t\t\t\t\t\tthis.paused = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// warp done - apply final time scale\n\t\t\t\t\t\tthis.timeScale = timeScale;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveTimeScale = timeScale;\n\t\treturn timeScale;\n\n\t}\n\n\t_updateTime( deltaTime ) {\n\n\t\tconst duration = this._clip.duration;\n\t\tconst loop = this.loop;\n\n\t\tlet time = this.time + deltaTime;\n\t\tlet loopCount = this._loopCount;\n\n\t\tconst pingPong = ( loop === LoopPingPong );\n\n\t\tif ( deltaTime === 0 ) {\n\n\t\t\tif ( loopCount === - 1 ) return time;\n\n\t\t\treturn ( pingPong && ( loopCount & 1 ) === 1 ) ? duration - time : time;\n\n\t\t}\n\n\t\tif ( loop === LoopOnce ) {\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tthis._loopCount = 0;\n\t\t\t\tthis._setEndings( true, true, false );\n\n\t\t\t}\n\n\t\t\thandle_stop: {\n\n\t\t\t\tif ( time >= duration ) {\n\n\t\t\t\t\ttime = duration;\n\n\t\t\t\t} else if ( time < 0 ) {\n\n\t\t\t\t\ttime = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tbreak handle_stop;\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\telse this.enabled = false;\n\n\t\t\t\tthis.time = time;\n\n\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\tdirection: deltaTime < 0 ? - 1 : 1\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else { // repetitive Repeat or PingPong\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tif ( deltaTime >= 0 ) {\n\n\t\t\t\t\tloopCount = 0;\n\n\t\t\t\t\tthis._setEndings( true, this.repetitions === 0, pingPong );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// when looping in reverse direction, the initial\n\t\t\t\t\t// transition through zero counts as a repetition,\n\t\t\t\t\t// so leave loopCount at -1\n\n\t\t\t\t\tthis._setEndings( this.repetitions === 0, true, pingPong );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( time >= duration || time < 0 ) {\n\n\t\t\t\t// wrap around\n\n\t\t\t\tconst loopDelta = Math.floor( time / duration ); // signed\n\t\t\t\ttime -= duration * loopDelta;\n\n\t\t\t\tloopCount += Math.abs( loopDelta );\n\n\t\t\t\tconst pending = this.repetitions - loopCount;\n\n\t\t\t\tif ( pending <= 0 ) {\n\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\n\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\t\telse this.enabled = false;\n\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : - 1\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// keep running\n\n\t\t\t\t\tif ( pending === 1 ) {\n\n\t\t\t\t\t\t// entering the last round\n\n\t\t\t\t\t\tconst atStart = deltaTime < 0;\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._loopCount = loopCount;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis.time = time;\n\n\t\t\t}\n\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\n\n\t\t\t\t// invert time for the \"pong round\"\n\n\t\t\t\treturn duration - time;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn time;\n\n\t}\n\n\t_setEndings( atStart, atEnd, pingPong ) {\n\n\t\tconst settings = this._interpolantSettings;\n\n\t\tif ( pingPong ) {\n\n\t\t\tsettings.endingStart = ZeroSlopeEnding;\n\t\t\tsettings.endingEnd = ZeroSlopeEnding;\n\n\t\t} else {\n\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\n\n\t\t\tif ( atStart ) {\n\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingStart = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t\tif ( atEnd ) {\n\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingEnd \t = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_scheduleFading( duration, weightNow, weightThen ) {\n\n\t\tconst mixer = this._mixer, now = mixer.time;\n\t\tlet interpolant = this._weightInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._weightInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\tvalues[ 0 ] = weightNow;\n\t\ttimes[ 1 ] = now + duration;\n\t\tvalues[ 1 ] = weightThen;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass AnimationMixer extends EventDispatcher {\n\n\tconstructor( root ) {\n\n\t\tsuper();\n\n\t\tthis._root = root;\n\t\tthis._initMemoryManager();\n\t\tthis._accuIndex = 0;\n\t\tthis.time = 0;\n\t\tthis.timeScale = 1.0;\n\n\t}\n\n\t_bindAction( action, prototypeAction ) {\n\n\t\tconst root = action._localRoot || this._root,\n\t\t\ttracks = action._clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tbindings = action._propertyBindings,\n\t\t\tinterpolants = action._interpolants,\n\t\t\trootUuid = root.uuid,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName;\n\n\t\tlet bindingsByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingsByName === undefined ) {\n\n\t\t\tbindingsByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\n\n\t\t}\n\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tconst track = tracks[ i ],\n\t\t\t\ttrackName = track.name;\n\n\t\t\tlet binding = bindingsByName[ trackName ];\n\n\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t} else {\n\n\t\t\t\tbinding = bindings[ i ];\n\n\t\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t\t// existing binding, make sure the cache knows\n\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\n\n\t\t\t\t\t\t++ binding.referenceCount;\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tconst path = prototypeAction && prototypeAction.\n\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\n\n\t\t\t\tbinding = new PropertyMixer(\n\t\t\t\t\tPropertyBinding.create( root, trackName, path ),\n\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t}\n\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\n\n\t\t}\n\n\t}\n\n\t_activateAction( action ) {\n\n\t\tif ( ! this._isActiveAction( action ) ) {\n\n\t\t\tif ( action._cacheIndex === null ) {\n\n\t\t\t\t// this action has been forgotten by the cache, but the user\n\t\t\t\t// appears to be still using it -> rebind\n\n\t\t\t\tconst rootUuid = ( action._localRoot || this._root ).uuid,\n\t\t\t\t\tclipUuid = action._clip.uuid,\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\t\t\tthis._bindAction( action,\n\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\n\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\n\n\t\t\t}\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// increment reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\n\n\t\t\t\t\tthis._lendBinding( binding );\n\t\t\t\t\tbinding.saveOriginalState();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._lendAction( action );\n\n\t\t}\n\n\t}\n\n\t_deactivateAction( action ) {\n\n\t\tif ( this._isActiveAction( action ) ) {\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// decrement reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( -- binding.useCount === 0 ) {\n\n\t\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\t\tthis._takeBackBinding( binding );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._takeBackAction( action );\n\n\t\t}\n\n\t}\n\n\t// Memory manager\n\n\t_initMemoryManager() {\n\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\n\t\tthis._nActiveActions = 0;\n\n\t\tthis._actionsByClip = {};\n\t\t// inside:\n\t\t// {\n\t\t// \tknownActions: Array< AnimationAction > - used as prototypes\n\t\t// \tactionByRoot: AnimationAction - lookup\n\t\t// }\n\n\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\n\t\tthis._nActiveBindings = 0;\n\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n\t\tthis._controlInterpolants = []; // same game as above\n\t\tthis._nActiveControlInterpolants = 0;\n\n\t\tconst scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tactions: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._actions.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveActions;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindings: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._bindings.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveBindings;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrolInterpolants: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._controlInterpolants.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveControlInterpolants;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t// Memory management for AnimationAction objects\n\n\t_isActiveAction( action ) {\n\n\t\tconst index = action._cacheIndex;\n\t\treturn index !== null && index < this._nActiveActions;\n\n\t}\n\n\t_addInactiveAction( action, clipUuid, rootUuid ) {\n\n\t\tconst actions = this._actions,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tlet actionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip === undefined ) {\n\n\t\t\tactionsForClip = {\n\n\t\t\t\tknownActions: [ action ],\n\t\t\t\tactionByRoot: {}\n\n\t\t\t};\n\n\t\t\taction._byClipCacheIndex = 0;\n\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\n\n\t\t} else {\n\n\t\t\tconst knownActions = actionsForClip.knownActions;\n\n\t\t\taction._byClipCacheIndex = knownActions.length;\n\t\t\tknownActions.push( action );\n\n\t\t}\n\n\t\taction._cacheIndex = actions.length;\n\t\tactions.push( action );\n\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\n\n\t}\n\n\t_removeInactiveAction( action ) {\n\n\t\tconst actions = this._actions,\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\n\t\t\tcacheIndex = action._cacheIndex;\n\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\tactions.pop();\n\n\t\taction._cacheIndex = null;\n\n\n\t\tconst clipUuid = action._clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\n\n\t\t\tlastKnownAction =\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\n\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\n\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\n\t\tknownActionsForClip.pop();\n\n\t\taction._byClipCacheIndex = null;\n\n\n\t\tconst actionByRoot = actionsForClip.actionByRoot,\n\t\t\trootUuid = ( action._localRoot || this._root ).uuid;\n\n\t\tdelete actionByRoot[ rootUuid ];\n\n\t\tif ( knownActionsForClip.length === 0 ) {\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t\tthis._removeInactiveBindingsForAction( action );\n\n\t}\n\n\t_removeInactiveBindingsForAction( action ) {\n\n\t\tconst bindings = action._propertyBindings;\n\n\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tconst binding = bindings[ i ];\n\n\t\t\tif ( -- binding.referenceCount === 0 ) {\n\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_lendAction( action ) {\n\n\t\t// [ active actions |  inactive actions  ]\n\t\t// [  active actions >| inactive actions ]\n\t\t//                 s        a\n\t\t//                  <-swap->\n\t\t//                 a        s\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveActions ++,\n\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\n\n\t\taction._cacheIndex = lastActiveIndex;\n\t\tactions[ lastActiveIndex ] = action;\n\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = firstInactiveAction;\n\n\t}\n\n\t_takeBackAction( action ) {\n\n\t\t// [  active actions  | inactive actions ]\n\t\t// [ active actions |< inactive actions  ]\n\t\t//        a        s\n\t\t//         <-swap->\n\t\t//        s        a\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\n\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\n\n\t\taction._cacheIndex = firstInactiveIndex;\n\t\tactions[ firstInactiveIndex ] = action;\n\n\t\tlastActiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = lastActiveAction;\n\n\t}\n\n\t// Memory management for PropertyMixer objects\n\n\t_addInactiveBinding( binding, rootUuid, trackName ) {\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindings = this._bindings;\n\n\t\tlet bindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName === undefined ) {\n\n\t\t\tbindingByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\n\n\t\t}\n\n\t\tbindingByName[ trackName ] = binding;\n\n\t\tbinding._cacheIndex = bindings.length;\n\t\tbindings.push( binding );\n\n\t}\n\n\t_removeInactiveBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tpropBinding = binding.binding,\n\t\t\trootUuid = propBinding.rootNode.uuid,\n\t\t\ttrackName = propBinding.path,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\n\t\t\tcacheIndex = binding._cacheIndex;\n\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\n\t\tbindings.pop();\n\n\t\tdelete bindingByName[ trackName ];\n\n\t\tif ( Object.keys( bindingByName ).length === 0 ) {\n\n\t\t\tdelete bindingsByRoot[ rootUuid ];\n\n\t\t}\n\n\t}\n\n\t_lendBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\n\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\n\n\t\tbinding._cacheIndex = lastActiveIndex;\n\t\tbindings[ lastActiveIndex ] = binding;\n\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\n\n\t}\n\n\t_takeBackBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\n\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\n\n\t\tbinding._cacheIndex = firstInactiveIndex;\n\t\tbindings[ firstInactiveIndex ] = binding;\n\n\t\tlastActiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = lastActiveBinding;\n\n\t}\n\n\n\t// Memory management of Interpolants for weight and time scale\n\n\t_lendControlInterpolant() {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++;\n\n\t\tlet interpolant = interpolants[ lastActiveIndex ];\n\n\t\tif ( interpolant === undefined ) {\n\n\t\t\tinterpolant = new LinearInterpolant(\n\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\n\t\t\t\t1, this._controlInterpolantsResultBuffer );\n\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\n\n\t\t}\n\n\t\treturn interpolant;\n\n\t}\n\n\t_takeBackControlInterpolant( interpolant ) {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tprevIndex = interpolant.__cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\n\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\n\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\n\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\n\n\t}\n\n\t// return an action for a clip optionally using a custom root target\n\t// object (this method allocates a lot of dynamic memory in case a\n\t// previously unknown clip/root combination is specified)\n\tclipAction( clip, optionalRoot, blendMode ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid;\n\n\t\tlet clipObject = typeof clip === 'string' ? AnimationClip.findByName( root, clip ) : clip;\n\n\t\tconst clipUuid = clipObject !== null ? clipObject.uuid : clip;\n\n\t\tconst actionsForClip = this._actionsByClip[ clipUuid ];\n\t\tlet prototypeAction = null;\n\n\t\tif ( blendMode === undefined ) {\n\n\t\t\tif ( clipObject !== null ) {\n\n\t\t\t\tblendMode = clipObject.blendMode;\n\n\t\t\t} else {\n\n\t\t\t\tblendMode = NormalAnimationBlendMode;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\tconst existingAction = actionsForClip.actionByRoot[ rootUuid ];\n\n\t\t\tif ( existingAction !== undefined && existingAction.blendMode === blendMode ) {\n\n\t\t\t\treturn existingAction;\n\n\t\t\t}\n\n\t\t\t// we know the clip, so we don't have to parse all\n\t\t\t// the bindings again but can just copy\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\n\n\t\t\t// also, take the clip from the prototype action\n\t\t\tif ( clipObject === null )\n\t\t\t\tclipObject = prototypeAction._clip;\n\n\t\t}\n\n\t\t// clip must be known when specified via string\n\t\tif ( clipObject === null ) return null;\n\n\t\t// allocate all resources required to run it\n\t\tconst newAction = new AnimationAction( this, clipObject, optionalRoot, blendMode );\n\n\t\tthis._bindAction( newAction, prototypeAction );\n\n\t\t// and make the action known to the memory manager\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\n\n\t\treturn newAction;\n\n\t}\n\n\t// get an existing action\n\texistingAction( clip, optionalRoot ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t// deactivates all previously scheduled actions\n\tstopAllAction() {\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions;\n\n\t\tfor ( let i = nActions - 1; i >= 0; -- i ) {\n\n\t\t\tactions[ i ].stop();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// advance the time and update apply the animation\n\tupdate( deltaTime ) {\n\n\t\tdeltaTime *= this.timeScale;\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\n\t\t\ttime = this.time += deltaTime,\n\t\t\ttimeDirection = Math.sign( deltaTime ),\n\n\t\t\taccuIndex = this._accuIndex ^= 1;\n\n\t\t// run active actions\n\n\t\tfor ( let i = 0; i !== nActions; ++ i ) {\n\n\t\t\tconst action = actions[ i ];\n\n\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\n\n\t\t}\n\n\t\t// update scene graph\n\n\t\tconst bindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tfor ( let i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].apply( accuIndex );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Allows you to seek to a specific time in an animation.\n\tsetTime( timeInSeconds ) {\n\n\t\tthis.time = 0; // Zero out time attribute for AnimationMixer object;\n\t\tfor ( let i = 0; i < this._actions.length; i ++ ) {\n\n\t\t\tthis._actions[ i ].time = 0; // Zero out time attribute for all associated AnimationAction objects.\n\n\t\t}\n\n\t\treturn this.update( timeInSeconds ); // Update used to set exact time. Returns \"this\" AnimationMixer object.\n\n\t}\n\n\t// return this mixer's root target object\n\tgetRoot() {\n\n\t\treturn this._root;\n\n\t}\n\n\t// free all resources specific to a particular clip\n\tuncacheClip( clip ) {\n\n\t\tconst actions = this._actions,\n\t\t\tclipUuid = clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\t// note: just calling _removeInactiveAction would mess up the\n\t\t\t// iteration state and also require updating the state we can\n\t\t\t// just throw away\n\n\t\t\tconst actionsToRemove = actionsForClip.knownActions;\n\n\t\t\tfor ( let i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\n\n\t\t\t\tconst action = actionsToRemove[ i ];\n\n\t\t\t\tthis._deactivateAction( action );\n\n\t\t\t\tconst cacheIndex = action._cacheIndex,\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\n\n\t\t\t\taction._cacheIndex = null;\n\t\t\t\taction._byClipCacheIndex = null;\n\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\t\t\tactions.pop();\n\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\n\n\t\t\t}\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t}\n\n\t// free all resources specific to a particular root target object\n\tuncacheRoot( root ) {\n\n\t\tconst rootUuid = root.uuid,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tfor ( const clipUuid in actionsByClip ) {\n\n\t\t\tconst actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\n\t\t\t\taction = actionByRoot[ rootUuid ];\n\n\t\t\tif ( action !== undefined ) {\n\n\t\t\t\tthis._deactivateAction( action );\n\t\t\t\tthis._removeInactiveAction( action );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName !== undefined ) {\n\n\t\t\tfor ( const trackName in bindingByName ) {\n\n\t\t\t\tconst binding = bindingByName[ trackName ];\n\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// remove a targeted clip from the cache\n\tuncacheAction( clip, optionalRoot ) {\n\n\t\tconst action = this.existingAction( clip, optionalRoot );\n\n\t\tif ( action !== null ) {\n\n\t\t\tthis._deactivateAction( action );\n\t\t\tthis._removeInactiveAction( action );\n\n\t\t}\n\n\t}\n\n}\n\nAnimationMixer.prototype._controlInterpolantsResultBuffer = new Float32Array( 1 );\n\nclass Uniform {\n\n\tconstructor( value ) {\n\n\t\tif ( typeof value === 'string' ) {\n\n\t\t\tconsole.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\n\t\t\tvalue = arguments[ 1 ];\n\n\t\t}\n\n\t\tthis.value = value;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\n\n\t}\n\n}\n\nclass InstancedInterleavedBuffer extends InterleavedBuffer {\n\n\tconstructor( array, stride, meshPerAttribute = 1 ) {\n\n\t\tsuper( array, stride );\n\n\t\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tconst ib = super.clone( data );\n\n\t\tib.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn ib;\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tconst json = super.toJSON( data );\n\n\t\tjson.isInstancedInterleavedBuffer = true;\n\t\tjson.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn json;\n\n\t}\n\n}\n\nInstancedInterleavedBuffer.prototype.isInstancedInterleavedBuffer = true;\n\nclass GLBufferAttribute {\n\n\tconstructor( buffer, type, itemSize, elementSize, count ) {\n\n\t\tthis.buffer = buffer;\n\t\tthis.type = type;\n\t\tthis.itemSize = itemSize;\n\t\tthis.elementSize = elementSize;\n\t\tthis.count = count;\n\n\t\tthis.version = 0;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetBuffer( buffer ) {\n\n\t\tthis.buffer = buffer;\n\n\t\treturn this;\n\n\t}\n\n\tsetType( type, elementSize ) {\n\n\t\tthis.type = type;\n\t\tthis.elementSize = elementSize;\n\n\t\treturn this;\n\n\t}\n\n\tsetItemSize( itemSize ) {\n\n\t\tthis.itemSize = itemSize;\n\n\t\treturn this;\n\n\t}\n\n\tsetCount( count ) {\n\n\t\tthis.count = count;\n\n\t\treturn this;\n\n\t}\n\n}\n\nGLBufferAttribute.prototype.isGLBufferAttribute = true;\n\nclass Raycaster {\n\n\tconstructor( origin, direction, near = 0, far = Infinity ) {\n\n\t\tthis.ray = new Ray( origin, direction );\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\t\tthis.camera = null;\n\t\tthis.layers = new Layers();\n\n\t\tthis.params = {\n\t\t\tMesh: {},\n\t\t\tLine: { threshold: 1 },\n\t\t\tLOD: {},\n\t\t\tPoints: { threshold: 1 },\n\t\t\tSprite: {}\n\t\t};\n\n\t}\n\n\tset( origin, direction ) {\n\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.ray.set( origin, direction );\n\n\t}\n\n\tsetFromCamera( coords, camera ) {\n\n\t\tif ( camera && camera.isPerspectiveCamera ) {\n\n\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\n\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\n\t\t\tthis.camera = camera;\n\n\t\t} else if ( camera && camera.isOrthographicCamera ) {\n\n\t\t\tthis.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\n\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\n\t\t\tthis.camera = camera;\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type: ' + camera.type );\n\n\t\t}\n\n\t}\n\n\tintersectObject( object, recursive = false, intersects = [] ) {\n\n\t\tintersectObject( object, this, intersects, recursive );\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n\tintersectObjects( objects, recursive = false, intersects = [] ) {\n\n\t\tfor ( let i = 0, l = objects.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\n\n\t\t}\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n}\n\nfunction ascSort( a, b ) {\n\n\treturn a.distance - b.distance;\n\n}\n\nfunction intersectObject( object, raycaster, intersects, recursive ) {\n\n\tif ( object.layers.test( raycaster.layers ) ) {\n\n\t\tobject.raycast( raycaster, intersects );\n\n\t}\n\n\tif ( recursive === true ) {\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n * The azimuthal angle (theta) is measured from the positive z-axis.\n */\n\nclass Spherical {\n\n\tconstructor( radius = 1, phi = 0, theta = 0 ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi; // polar angle\n\t\tthis.theta = theta; // azimuthal angle\n\n\t\treturn this;\n\n\t}\n\n\tset( radius, phi, theta ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi;\n\t\tthis.theta = theta;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.phi = other.phi;\n\t\tthis.theta = other.theta;\n\n\t\treturn this;\n\n\t}\n\n\t// restrict phi to be betwee EPS and PI-EPS\n\tmakeSafe() {\n\n\t\tconst EPS = 0.000001;\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromVector3( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t}\n\n\tsetFromCartesianCoords( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + y * y + z * z );\n\n\t\tif ( this.radius === 0 ) {\n\n\t\t\tthis.theta = 0;\n\t\t\tthis.phi = 0;\n\n\t\t} else {\n\n\t\t\tthis.theta = Math.atan2( x, z );\n\t\t\tthis.phi = Math.acos( clamp( y / this.radius, - 1, 1 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\n/**\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n */\n\nclass Cylindrical {\n\n\tconstructor( radius = 1, theta = 0, y = 0 ) {\n\n\t\tthis.radius = radius; // distance from the origin to a point in the x-z plane\n\t\tthis.theta = theta; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\t\tthis.y = y; // height above the x-z plane\n\n\t\treturn this;\n\n\t}\n\n\tset( radius, theta, y ) {\n\n\t\tthis.radius = radius;\n\t\tthis.theta = theta;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.theta = other.theta;\n\t\tthis.y = other.y;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromVector3( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t}\n\n\tsetFromCartesianCoords( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + z * z );\n\t\tthis.theta = Math.atan2( x, z );\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _vector$4 = /*@__PURE__*/ new Vector2();\n\nclass Box2 {\n\n\tconstructor( min = new Vector2( + Infinity, + Infinity ), max = new Vector2( - Infinity, - Infinity ) ) {\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector$4.copy( size ).multiplyScalar( 0.5 );\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = + Infinity;\n\t\tthis.max.x = this.max.y = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getCenter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getSize() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getParameter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 4 splitting planes to rule out intersections\n\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\tconst clampedPoint = _vector$4.copy( point ).clamp( this.min, this.max );\n\t\treturn clampedPoint.sub( point ).length();\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nBox2.prototype.isBox2 = true;\n\nconst _startP = /*@__PURE__*/ new Vector3();\nconst _startEnd = /*@__PURE__*/ new Vector3();\n\nclass Line3 {\n\n\tconstructor( start = new Vector3(), end = new Vector3() ) {\n\n\t\tthis.start = start;\n\t\tthis.end = end;\n\n\t}\n\n\tset( start, end ) {\n\n\t\tthis.start.copy( start );\n\t\tthis.end.copy( end );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( line ) {\n\n\t\tthis.start.copy( line.start );\n\t\tthis.end.copy( line.end );\n\n\t\treturn this;\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\n\t}\n\n\tdelta( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .delta() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.subVectors( this.end, this.start );\n\n\t}\n\n\tdistanceSq() {\n\n\t\treturn this.start.distanceToSquared( this.end );\n\n\t}\n\n\tdistance() {\n\n\t\treturn this.start.distanceTo( this.end );\n\n\t}\n\n\tat( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t}\n\n\tclosestPointToPointParameter( point, clampToLine ) {\n\n\t\t_startP.subVectors( point, this.start );\n\t\t_startEnd.subVectors( this.end, this.start );\n\n\t\tconst startEnd2 = _startEnd.dot( _startEnd );\n\t\tconst startEnd_startP = _startEnd.dot( _startP );\n\n\t\tlet t = startEnd_startP / startEnd2;\n\n\t\tif ( clampToLine ) {\n\n\t\t\tt = clamp( t, 0, 1 );\n\n\t\t}\n\n\t\treturn t;\n\n\t}\n\n\tclosestPointToPoint( point, clampToLine, target ) {\n\n\t\tconst t = this.closestPointToPointParameter( point, clampToLine );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.start.applyMatrix4( matrix );\n\t\tthis.end.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t}\n\n\tequals( line ) {\n\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nclass ImmediateRenderObject extends Object3D {\n\n\tconstructor( material ) {\n\n\t\tsuper();\n\n\t\tthis.material = material;\n\t\tthis.render = function ( /* renderCallback */ ) {};\n\n\t\tthis.hasPositions = false;\n\t\tthis.hasNormals = false;\n\t\tthis.hasColors = false;\n\t\tthis.hasUvs = false;\n\n\t\tthis.positionArray = null;\n\t\tthis.normalArray = null;\n\t\tthis.colorArray = null;\n\t\tthis.uvArray = null;\n\n\t\tthis.count = 0;\n\n\t}\n\n}\n\nImmediateRenderObject.prototype.isImmediateRenderObject = true;\n\nconst _vector$3 = /*@__PURE__*/ new Vector3();\n\nclass SpotLightHelper extends Object3D {\n\n\tconstructor( light, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst positions = [\n\t\t\t0, 0, 0, \t0, 0, 1,\n\t\t\t0, 0, 0, \t1, 0, 1,\n\t\t\t0, 0, 0,\t- 1, 0, 1,\n\t\t\t0, 0, 0, \t0, 1, 1,\n\t\t\t0, 0, 0, \t0, - 1, 1\n\t\t];\n\n\t\tfor ( let i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\n\n\t\t\tconst p1 = ( i / l ) * Math.PI * 2;\n\t\t\tconst p2 = ( j / l ) * Math.PI * 2;\n\n\t\t\tpositions.push(\n\t\t\t\tMath.cos( p1 ), Math.sin( p1 ), 1,\n\t\t\t\tMath.cos( p2 ), Math.sin( p2 ), 1\n\t\t\t);\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\n\n\t\tthis.cone = new LineSegments( geometry, material );\n\t\tthis.add( this.cone );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.cone.geometry.dispose();\n\t\tthis.cone.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tthis.light.updateMatrixWorld();\n\n\t\tconst coneLength = this.light.distance ? this.light.distance : 1000;\n\t\tconst coneWidth = coneLength * Math.tan( this.light.angle );\n\n\t\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\n\n\t\t_vector$3.setFromMatrixPosition( this.light.target.matrixWorld );\n\n\t\tthis.cone.lookAt( _vector$3 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.cone.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.cone.material.color.copy( this.light.color );\n\n\t\t}\n\n\t}\n\n}\n\nconst _vector$2 = /*@__PURE__*/ new Vector3();\nconst _boneMatrix = /*@__PURE__*/ new Matrix4();\nconst _matrixWorldInv = /*@__PURE__*/ new Matrix4();\n\n\nclass SkeletonHelper extends LineSegments {\n\n\tconstructor( object ) {\n\n\t\tconst bones = getBoneList( object );\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\tconst color1 = new Color( 0, 0, 1 );\n\t\tconst color2 = new Color( 0, 1, 0 );\n\n\t\tfor ( let i = 0; i < bones.length; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tcolors.push( color1.r, color1.g, color1.b );\n\t\t\t\tcolors.push( color2.r, color2.g, color2.b );\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, depthTest: false, depthWrite: false, toneMapped: false, transparent: true } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'SkeletonHelper';\n\t\tthis.isSkeletonHelper = true;\n\n\t\tthis.root = object;\n\t\tthis.bones = bones;\n\n\t\tthis.matrix = object.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tconst bones = this.bones;\n\n\t\tconst geometry = this.geometry;\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\t_matrixWorldInv.copy( this.root.matrixWorld ).invert();\n\n\t\tfor ( let i = 0, j = 0; i < bones.length; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.matrixWorld );\n\t\t\t\t_vector$2.setFromMatrixPosition( _boneMatrix );\n\t\t\t\tposition.setXYZ( j, _vector$2.x, _vector$2.y, _vector$2.z );\n\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.parent.matrixWorld );\n\t\t\t\t_vector$2.setFromMatrixPosition( _boneMatrix );\n\t\t\t\tposition.setXYZ( j + 1, _vector$2.x, _vector$2.y, _vector$2.z );\n\n\t\t\t\tj += 2;\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\n\nfunction getBoneList( object ) {\n\n\tconst boneList = [];\n\n\tif ( object && object.isBone ) {\n\n\t\tboneList.push( object );\n\n\t}\n\n\tfor ( let i = 0; i < object.children.length; i ++ ) {\n\n\t\tboneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\n\n\t}\n\n\treturn boneList;\n\n}\n\nclass PointLightHelper extends Mesh {\n\n\tconstructor( light, sphereSize, color ) {\n\n\t\tconst geometry = new SphereGeometry( sphereSize, 4, 2 );\n\t\tconst material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.color = color;\n\n\t\tthis.type = 'PointLightHelper';\n\n\t\tthis.matrix = this.light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.update();\n\n\n\t\t/*\n\t// TODO: delete this comment?\n\tconst distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );\n\tconst distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n\tconst d = light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\n\tthis.add( this.lightDistance );\n\t*/\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\t/*\n\t\tconst d = this.light.distance;\n\n\t\tif ( d === 0.0 ) {\n\n\t\t\tthis.lightDistance.visible = false;\n\n\t\t} else {\n\n\t\t\tthis.lightDistance.visible = true;\n\t\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t\t}\n\t\t*/\n\n\t}\n\n}\n\nconst _vector$1 = /*@__PURE__*/ new Vector3();\nconst _color1 = /*@__PURE__*/ new Color();\nconst _color2 = /*@__PURE__*/ new Color();\n\nclass HemisphereLightHelper extends Object3D {\n\n\tconstructor( light, size, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tconst geometry = new OctahedronGeometry( size );\n\t\tgeometry.rotateY( Math.PI * 0.5 );\n\n\t\tthis.material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\n\t\tif ( this.color === undefined ) this.material.vertexColors = true;\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\t\tconst colors = new Float32Array( position.count * 3 );\n\n\t\tgeometry.setAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\n\t\tthis.add( new Mesh( geometry, this.material ) );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.children[ 0 ].geometry.dispose();\n\t\tthis.children[ 0 ].material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tconst mesh = this.children[ 0 ];\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tconst colors = mesh.geometry.getAttribute( 'color' );\n\n\t\t\t_color1.copy( this.light.color );\n\t\t\t_color2.copy( this.light.groundColor );\n\n\t\t\tfor ( let i = 0, l = colors.count; i < l; i ++ ) {\n\n\t\t\t\tconst color = ( i < ( l / 2 ) ) ? _color1 : _color2;\n\n\t\t\t\tcolors.setXYZ( i, color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t\tcolors.needsUpdate = true;\n\n\t\t}\n\n\t\tmesh.lookAt( _vector$1.setFromMatrixPosition( this.light.matrixWorld ).negate() );\n\n\t}\n\n}\n\nclass GridHelper extends LineSegments {\n\n\tconstructor( size = 10, divisions = 10, color1 = 0x444444, color2 = 0x888888 ) {\n\n\t\tcolor1 = new Color( color1 );\n\t\tcolor2 = new Color( color2 );\n\n\t\tconst center = divisions / 2;\n\t\tconst step = size / divisions;\n\t\tconst halfSize = size / 2;\n\n\t\tconst vertices = [], colors = [];\n\n\t\tfor ( let i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\n\n\t\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\n\t\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\n\n\t\t\tconst color = i === center ? color1 : color2;\n\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\n\t\t}\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'GridHelper';\n\n\t}\n\n}\n\nclass PolarGridHelper extends LineSegments {\n\n\tconstructor( radius = 10, radials = 16, circles = 8, divisions = 64, color1 = 0x444444, color2 = 0x888888 ) {\n\n\t\tcolor1 = new Color( color1 );\n\t\tcolor2 = new Color( color2 );\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\t// create the radials\n\n\t\tfor ( let i = 0; i <= radials; i ++ ) {\n\n\t\t\tconst v = ( i / radials ) * ( Math.PI * 2 );\n\n\t\t\tconst x = Math.sin( v ) * radius;\n\t\t\tconst z = Math.cos( v ) * radius;\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tvertices.push( x, 0, z );\n\n\t\t\tconst color = ( i & 1 ) ? color1 : color2;\n\n\t\t\tcolors.push( color.r, color.g, color.b );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t}\n\n\t\t// create the circles\n\n\t\tfor ( let i = 0; i <= circles; i ++ ) {\n\n\t\t\tconst color = ( i & 1 ) ? color1 : color2;\n\n\t\t\tconst r = radius - ( radius / circles * i );\n\n\t\t\tfor ( let j = 0; j < divisions; j ++ ) {\n\n\t\t\t\t// first vertex\n\n\t\t\t\tlet v = ( j / divisions ) * ( Math.PI * 2 );\n\n\t\t\t\tlet x = Math.sin( v ) * r;\n\t\t\t\tlet z = Math.cos( v ) * r;\n\n\t\t\t\tvertices.push( x, 0, z );\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t\t// second vertex\n\n\t\t\t\tv = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\n\n\t\t\t\tx = Math.sin( v ) * r;\n\t\t\t\tz = Math.cos( v ) * r;\n\n\t\t\t\tvertices.push( x, 0, z );\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'PolarGridHelper';\n\n\t}\n\n}\n\nconst _v1 = /*@__PURE__*/ new Vector3();\nconst _v2 = /*@__PURE__*/ new Vector3();\nconst _v3 = /*@__PURE__*/ new Vector3();\n\nclass DirectionalLightHelper extends Object3D {\n\n\tconstructor( light, size, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tif ( size === undefined ) size = 1;\n\n\t\tlet geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [\n\t\t\t- size, size, 0,\n\t\t\tsize, size, 0,\n\t\t\tsize, - size, 0,\n\t\t\t- size, - size, 0,\n\t\t\t- size, size, 0\n\t\t], 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\n\n\t\tthis.lightPlane = new Line( geometry, material );\n\t\tthis.add( this.lightPlane );\n\n\t\tgeometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\n\n\t\tthis.targetLine = new Line( geometry, material );\n\t\tthis.add( this.targetLine );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.lightPlane.geometry.dispose();\n\t\tthis.lightPlane.material.dispose();\n\t\tthis.targetLine.geometry.dispose();\n\t\tthis.targetLine.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\t_v1.setFromMatrixPosition( this.light.matrixWorld );\n\t\t_v2.setFromMatrixPosition( this.light.target.matrixWorld );\n\t\t_v3.subVectors( _v2, _v1 );\n\n\t\tthis.lightPlane.lookAt( _v2 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.lightPlane.material.color.set( this.color );\n\t\t\tthis.targetLine.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.lightPlane.material.color.copy( this.light.color );\n\t\t\tthis.targetLine.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\tthis.targetLine.lookAt( _v2 );\n\t\tthis.targetLine.scale.z = _v3.length();\n\n\t}\n\n}\n\nconst _vector = /*@__PURE__*/ new Vector3();\nconst _camera = /*@__PURE__*/ new Camera();\n\n/**\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n */\n\nclass CameraHelper extends LineSegments {\n\n\tconstructor( camera ) {\n\n\t\tconst geometry = new BufferGeometry();\n\t\tconst material = new LineBasicMaterial( { color: 0xffffff, vertexColors: true, toneMapped: false } );\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\tconst pointMap = {};\n\n\t\t// colors\n\n\t\tconst colorFrustum = new Color( 0xffaa00 );\n\t\tconst colorCone = new Color( 0xff0000 );\n\t\tconst colorUp = new Color( 0x00aaff );\n\t\tconst colorTarget = new Color( 0xffffff );\n\t\tconst colorCross = new Color( 0x333333 );\n\n\t\t// near\n\n\t\taddLine( 'n1', 'n2', colorFrustum );\n\t\taddLine( 'n2', 'n4', colorFrustum );\n\t\taddLine( 'n4', 'n3', colorFrustum );\n\t\taddLine( 'n3', 'n1', colorFrustum );\n\n\t\t// far\n\n\t\taddLine( 'f1', 'f2', colorFrustum );\n\t\taddLine( 'f2', 'f4', colorFrustum );\n\t\taddLine( 'f4', 'f3', colorFrustum );\n\t\taddLine( 'f3', 'f1', colorFrustum );\n\n\t\t// sides\n\n\t\taddLine( 'n1', 'f1', colorFrustum );\n\t\taddLine( 'n2', 'f2', colorFrustum );\n\t\taddLine( 'n3', 'f3', colorFrustum );\n\t\taddLine( 'n4', 'f4', colorFrustum );\n\n\t\t// cone\n\n\t\taddLine( 'p', 'n1', colorCone );\n\t\taddLine( 'p', 'n2', colorCone );\n\t\taddLine( 'p', 'n3', colorCone );\n\t\taddLine( 'p', 'n4', colorCone );\n\n\t\t// up\n\n\t\taddLine( 'u1', 'u2', colorUp );\n\t\taddLine( 'u2', 'u3', colorUp );\n\t\taddLine( 'u3', 'u1', colorUp );\n\n\t\t// target\n\n\t\taddLine( 'c', 't', colorTarget );\n\t\taddLine( 'p', 'c', colorCross );\n\n\t\t// cross\n\n\t\taddLine( 'cn1', 'cn2', colorCross );\n\t\taddLine( 'cn3', 'cn4', colorCross );\n\n\t\taddLine( 'cf1', 'cf2', colorCross );\n\t\taddLine( 'cf3', 'cf4', colorCross );\n\n\t\tfunction addLine( a, b, color ) {\n\n\t\t\taddPoint( a, color );\n\t\t\taddPoint( b, color );\n\n\t\t}\n\n\t\tfunction addPoint( id, color ) {\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\tif ( pointMap[ id ] === undefined ) {\n\n\t\t\t\tpointMap[ id ] = [];\n\n\t\t\t}\n\n\t\t\tpointMap[ id ].push( ( vertices.length / 3 ) - 1 );\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'CameraHelper';\n\n\t\tthis.camera = camera;\n\t\tif ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\n\n\t\tthis.matrix = camera.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.pointMap = pointMap;\n\n\t\tthis.update();\n\n\t}\n\n\tupdate() {\n\n\t\tconst geometry = this.geometry;\n\t\tconst pointMap = this.pointMap;\n\n\t\tconst w = 1, h = 1;\n\n\t\t// we need just camera projection matrix inverse\n\t\t// world matrix must be identity\n\n\t\t_camera.projectionMatrixInverse.copy( this.camera.projectionMatrixInverse );\n\n\t\t// center / target\n\n\t\tsetPoint( 'c', pointMap, geometry, _camera, 0, 0, - 1 );\n\t\tsetPoint( 't', pointMap, geometry, _camera, 0, 0, 1 );\n\n\t\t// near\n\n\t\tsetPoint( 'n1', pointMap, geometry, _camera, - w, - h, - 1 );\n\t\tsetPoint( 'n2', pointMap, geometry, _camera, w, - h, - 1 );\n\t\tsetPoint( 'n3', pointMap, geometry, _camera, - w, h, - 1 );\n\t\tsetPoint( 'n4', pointMap, geometry, _camera, w, h, - 1 );\n\n\t\t// far\n\n\t\tsetPoint( 'f1', pointMap, geometry, _camera, - w, - h, 1 );\n\t\tsetPoint( 'f2', pointMap, geometry, _camera, w, - h, 1 );\n\t\tsetPoint( 'f3', pointMap, geometry, _camera, - w, h, 1 );\n\t\tsetPoint( 'f4', pointMap, geometry, _camera, w, h, 1 );\n\n\t\t// up\n\n\t\tsetPoint( 'u1', pointMap, geometry, _camera, w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u2', pointMap, geometry, _camera, - w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u3', pointMap, geometry, _camera, 0, h * 2, - 1 );\n\n\t\t// cross\n\n\t\tsetPoint( 'cf1', pointMap, geometry, _camera, - w, 0, 1 );\n\t\tsetPoint( 'cf2', pointMap, geometry, _camera, w, 0, 1 );\n\t\tsetPoint( 'cf3', pointMap, geometry, _camera, 0, - h, 1 );\n\t\tsetPoint( 'cf4', pointMap, geometry, _camera, 0, h, 1 );\n\n\t\tsetPoint( 'cn1', pointMap, geometry, _camera, - w, 0, - 1 );\n\t\tsetPoint( 'cn2', pointMap, geometry, _camera, w, 0, - 1 );\n\t\tsetPoint( 'cn3', pointMap, geometry, _camera, 0, - h, - 1 );\n\t\tsetPoint( 'cn4', pointMap, geometry, _camera, 0, h, - 1 );\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\n\nfunction setPoint( point, pointMap, geometry, camera, x, y, z ) {\n\n\t_vector.set( x, y, z ).unproject( camera );\n\n\tconst points = pointMap[ point ];\n\n\tif ( points !== undefined ) {\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tposition.setXYZ( points[ i ], _vector.x, _vector.y, _vector.z );\n\n\t\t}\n\n\t}\n\n}\n\nconst _box = /*@__PURE__*/ new Box3();\n\nclass BoxHelper extends LineSegments {\n\n\tconstructor( object, color = 0xffff00 ) {\n\n\t\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\t\tconst positions = new Float32Array( 8 * 3 );\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\t\tgeometry.setAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.object = object;\n\t\tthis.type = 'BoxHelper';\n\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.update();\n\n\t}\n\n\tupdate( object ) {\n\n\t\tif ( object !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\n\n\t\t}\n\n\t\tif ( this.object !== undefined ) {\n\n\t\t\t_box.setFromObject( this.object );\n\n\t\t}\n\n\t\tif ( _box.isEmpty() ) return;\n\n\t\tconst min = _box.min;\n\t\tconst max = _box.max;\n\n\t\t/*\n\t\t\t5____4\n\t\t1/___0/|\n\t\t| 6__|_7\n\t\t2/___3/\n\n\t\t0: max.x, max.y, max.z\n\t\t1: min.x, max.y, max.z\n\t\t2: min.x, min.y, max.z\n\t\t3: max.x, min.y, max.z\n\t\t4: max.x, max.y, min.z\n\t\t5: min.x, max.y, min.z\n\t\t6: min.x, min.y, min.z\n\t\t7: max.x, min.y, min.z\n\t\t*/\n\n\t\tconst position = this.geometry.attributes.position;\n\t\tconst array = position.array;\n\n\t\tarray[ 0 ] = max.x; array[ 1 ] = max.y; array[ 2 ] = max.z;\n\t\tarray[ 3 ] = min.x; array[ 4 ] = max.y; array[ 5 ] = max.z;\n\t\tarray[ 6 ] = min.x; array[ 7 ] = min.y; array[ 8 ] = max.z;\n\t\tarray[ 9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\n\t\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\n\t\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\n\t\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\n\t\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\n\n\t\tposition.needsUpdate = true;\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\n\t}\n\n\tsetFromObject( object ) {\n\n\t\tthis.object = object;\n\t\tthis.update();\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tLineSegments.prototype.copy.call( this, source );\n\n\t\tthis.object = source.object;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Box3Helper extends LineSegments {\n\n\tconstructor( box, color = 0xffff00 ) {\n\n\t\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\n\t\tconst positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.box = box;\n\n\t\tthis.type = 'Box3Helper';\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tconst box = this.box;\n\n\t\tif ( box.isEmpty() ) return;\n\n\t\tbox.getCenter( this.position );\n\n\t\tbox.getSize( this.scale );\n\n\t\tthis.scale.multiplyScalar( 0.5 );\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\nclass PlaneHelper extends Line {\n\n\tconstructor( plane, size = 1, hex = 0xffff00 ) {\n\n\t\tconst color = hex;\n\n\t\tconst positions = [ 1, - 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0 ];\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\t\tgeometry.computeBoundingSphere();\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.type = 'PlaneHelper';\n\n\t\tthis.plane = plane;\n\n\t\tthis.size = size;\n\n\t\tconst positions2 = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, - 1, 1, 1, - 1, 1 ];\n\n\t\tconst geometry2 = new BufferGeometry();\n\t\tgeometry2.setAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\t\tgeometry2.computeBoundingSphere();\n\n\t\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false, toneMapped: false } ) ) );\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tlet scale = - this.plane.constant;\n\n\t\tif ( Math.abs( scale ) < 1e-8 ) scale = 1e-8; // sign does not matter\n\n\t\tthis.scale.set( 0.5 * this.size, 0.5 * this.size, scale );\n\n\t\tthis.children[ 0 ].material.side = ( scale < 0 ) ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n\t\tthis.lookAt( this.plane.normal );\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\nconst _axis = /*@__PURE__*/ new Vector3();\nlet _lineGeometry, _coneGeometry;\n\nclass ArrowHelper extends Object3D {\n\n\t// dir is assumed to be normalized\n\n\tconstructor( dir = new Vector3( 0, 0, 1 ), origin = new Vector3( 0, 0, 0 ), length = 1, color = 0xffff00, headLength = length * 0.2, headWidth = headLength * 0.2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ArrowHelper';\n\n\t\tif ( _lineGeometry === undefined ) {\n\n\t\t\t_lineGeometry = new BufferGeometry();\n\t\t\t_lineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\n\n\t\t\t_coneGeometry = new CylinderGeometry( 0, 0.5, 1, 5, 1 );\n\t\t\t_coneGeometry.translate( 0, - 0.5, 0 );\n\n\t\t}\n\n\t\tthis.position.copy( origin );\n\n\t\tthis.line = new Line( _lineGeometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\t\tthis.line.matrixAutoUpdate = false;\n\t\tthis.add( this.line );\n\n\t\tthis.cone = new Mesh( _coneGeometry, new MeshBasicMaterial( { color: color, toneMapped: false } ) );\n\t\tthis.cone.matrixAutoUpdate = false;\n\t\tthis.add( this.cone );\n\n\t\tthis.setDirection( dir );\n\t\tthis.setLength( length, headLength, headWidth );\n\n\t}\n\n\tsetDirection( dir ) {\n\n\t\t// dir is assumed to be normalized\n\n\t\tif ( dir.y > 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 0, 0, 0, 1 );\n\n\t\t} else if ( dir.y < - 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 1, 0, 0, 0 );\n\n\t\t} else {\n\n\t\t\t_axis.set( dir.z, 0, - dir.x ).normalize();\n\n\t\t\tconst radians = Math.acos( dir.y );\n\n\t\t\tthis.quaternion.setFromAxisAngle( _axis, radians );\n\n\t\t}\n\n\t}\n\n\tsetLength( length, headLength = length * 0.2, headWidth = headLength * 0.2 ) {\n\n\t\tthis.line.scale.set( 1, Math.max( 0.0001, length - headLength ), 1 ); // see #17458\n\t\tthis.line.updateMatrix();\n\n\t\tthis.cone.scale.set( headWidth, headLength, headWidth );\n\t\tthis.cone.position.y = length;\n\t\tthis.cone.updateMatrix();\n\n\t}\n\n\tsetColor( color ) {\n\n\t\tthis.line.material.color.set( color );\n\t\tthis.cone.material.color.set( color );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source, false );\n\n\t\tthis.line.copy( source.line );\n\t\tthis.cone.copy( source.cone );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass AxesHelper extends LineSegments {\n\n\tconstructor( size = 1 ) {\n\n\t\tconst vertices = [\n\t\t\t0, 0, 0,\tsize, 0, 0,\n\t\t\t0, 0, 0,\t0, size, 0,\n\t\t\t0, 0, 0,\t0, 0, size\n\t\t];\n\n\t\tconst colors = [\n\t\t\t1, 0, 0,\t1, 0.6, 0,\n\t\t\t0, 1, 0,\t0.6, 1, 0,\n\t\t\t0, 0, 1,\t0, 0.6, 1\n\t\t];\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'AxesHelper';\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n}\n\nconst _floatView = new Float32Array( 1 );\nconst _int32View = new Int32Array( _floatView.buffer );\n\nclass DataUtils {\n\n\t// Converts float32 to float16 (stored as uint16 value).\n\n\tstatic toHalfFloat( val ) {\n\n\t\t// Source: http://gamedev.stackexchange.com/questions/17326/conversion-of-a-number-from-single-precision-floating-point-representation-to-a/17410#17410\n\n\t\t/* This method is faster than the OpenEXR implementation (very often\n\t\t* used, eg. in Ogre), with the additional benefit of rounding, inspired\n\t\t* by James Tursa?s half-precision code. */\n\n\t\t_floatView[ 0 ] = val;\n\t\tconst x = _int32View[ 0 ];\n\n\t\tlet bits = ( x >> 16 ) & 0x8000; /* Get the sign */\n\t\tlet m = ( x >> 12 ) & 0x07ff; /* Keep one extra bit for rounding */\n\t\tconst e = ( x >> 23 ) & 0xff; /* Using int is faster here */\n\n\t\t/* If zero, or denormal, or exponent underflows too much for a denormal\n\t\t\t* half, return signed zero. */\n\t\tif ( e < 103 ) return bits;\n\n\t\t/* If NaN, return NaN. If Inf or exponent overflow, return Inf. */\n\t\tif ( e > 142 ) {\n\n\t\t\tbits |= 0x7c00;\n\t\t\t/* If exponent was 0xff and one mantissa bit was set, it means NaN,\n\t\t\t\t\t\t* not Inf, so make sure we set one mantissa bit too. */\n\t\t\tbits |= ( ( e == 255 ) ? 0 : 1 ) && ( x & 0x007fffff );\n\t\t\treturn bits;\n\n\t\t}\n\n\t\t/* If exponent underflows but not too much, return a denormal */\n\t\tif ( e < 113 ) {\n\n\t\t\tm |= 0x0800;\n\t\t\t/* Extra rounding may overflow and set mantissa to 0 and exponent\n\t\t\t\t* to 1, which is OK. */\n\t\t\tbits |= ( m >> ( 114 - e ) ) + ( ( m >> ( 113 - e ) ) & 1 );\n\t\t\treturn bits;\n\n\t\t}\n\n\t\tbits |= ( ( e - 112 ) << 10 ) | ( m >> 1 );\n\t\t/* Extra rounding. An overflow will set mantissa to 0 and increment\n\t\t\t* the exponent, which is OK. */\n\t\tbits += m & 1;\n\t\treturn bits;\n\n\t}\n\n}\n\nconst LOD_MIN = 4;\nconst LOD_MAX = 8;\nconst SIZE_MAX = Math.pow( 2, LOD_MAX );\n\n// The standard deviations (radians) associated with the extra mips. These are\n// chosen to approximate a Trowbridge-Reitz distribution function times the\n// geometric shadowing function. These sigma values squared must match the\n// variance #defines in cube_uv_reflection_fragment.glsl.js.\nconst EXTRA_LOD_SIGMA = [ 0.125, 0.215, 0.35, 0.446, 0.526, 0.582 ];\n\nconst TOTAL_LODS = LOD_MAX - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length;\n\n// The maximum length of the blur for loop. Smaller sigmas will use fewer\n// samples and exit early, but not recompile the shader.\nconst MAX_SAMPLES = 20;\n\nconst ENCODINGS = {\n\t[ LinearEncoding ]: 0,\n\t[ sRGBEncoding ]: 1,\n\t[ RGBEEncoding ]: 2,\n\t[ RGBM7Encoding ]: 3,\n\t[ RGBM16Encoding ]: 4,\n\t[ RGBDEncoding ]: 5,\n\t[ GammaEncoding ]: 6\n};\n\nconst backgroundMaterial = new MeshBasicMaterial( {\n\tside: BackSide,\n\tdepthWrite: false,\n\tdepthTest: false,\n} );\nconst backgroundBox = new Mesh( new BoxGeometry(), backgroundMaterial );\n\nconst _flatCamera = /*@__PURE__*/ new OrthographicCamera();\nconst { _lodPlanes, _sizeLods, _sigmas } = /*@__PURE__*/ _createPlanes();\nconst _clearColor = /*@__PURE__*/ new Color();\nlet _oldTarget = null;\n\n// Golden Ratio\nconst PHI = ( 1 + Math.sqrt( 5 ) ) / 2;\nconst INV_PHI = 1 / PHI;\n\n// Vertices of a dodecahedron (except the opposites, which represent the\n// same axis), used as axis directions evenly spread on a sphere.\nconst _axisDirections = [\n\t/*@__PURE__*/ new Vector3( 1, 1, 1 ),\n\t/*@__PURE__*/ new Vector3( - 1, 1, 1 ),\n\t/*@__PURE__*/ new Vector3( 1, 1, - 1 ),\n\t/*@__PURE__*/ new Vector3( - 1, 1, - 1 ),\n\t/*@__PURE__*/ new Vector3( 0, PHI, INV_PHI ),\n\t/*@__PURE__*/ new Vector3( 0, PHI, - INV_PHI ),\n\t/*@__PURE__*/ new Vector3( INV_PHI, 0, PHI ),\n\t/*@__PURE__*/ new Vector3( - INV_PHI, 0, PHI ),\n\t/*@__PURE__*/ new Vector3( PHI, INV_PHI, 0 ),\n\t/*@__PURE__*/ new Vector3( - PHI, INV_PHI, 0 ) ];\n\n/**\n * This class generates a Prefiltered, Mipmapped Radiance Environment Map\n * (PMREM) from a cubeMap environment texture. This allows different levels of\n * blur to be quickly accessed based on material roughness. It is packed into a\n * special CubeUV format that allows us to perform custom interpolation so that\n * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\n * chain, it only goes down to the LOD_MIN level (above), and then creates extra\n * even more filtered 'mips' at the same LOD_MIN resolution, associated with\n * higher roughness levels. In this way we maintain resolution to smoothly\n * interpolate diffuse lighting while limiting sampling computation.\n *\n * Paper: Fast, Accurate Image-Based Lighting\n * https://drive.google.com/file/d/15y8r_UpKlU9SvV4ILb0C3qCPecS8pvLz/view\n*/\n\nfunction convertLinearToRGBE( color ) {\n\n\tconst maxComponent = Math.max( color.r, color.g, color.b );\n\tconst fExp = Math.min( Math.max( Math.ceil( Math.log2( maxComponent ) ), - 128.0 ), 127.0 );\n\tcolor.multiplyScalar( Math.pow( 2.0, - fExp ) );\n\n\tconst alpha = ( fExp + 128.0 ) / 255.0;\n\treturn alpha;\n\n}\n\nclass PMREMGenerator {\n\n\tconstructor( renderer ) {\n\n\t\tthis._renderer = renderer;\n\t\tthis._pingPongRenderTarget = null;\n\n\t\tthis._blurMaterial = _getBlurShader( MAX_SAMPLES );\n\t\tthis._equirectShader = null;\n\t\tthis._cubemapShader = null;\n\n\t\tthis._compileMaterial( this._blurMaterial );\n\n\t}\n\n\t/**\n\t * Generates a PMREM from a supplied Scene, which can be faster than using an\n\t * image if networking bandwidth is low. Optional sigma specifies a blur radius\n\t * in radians to be applied to the scene before PMREM generation. Optional near\n\t * and far planes ensure the scene is rendered in its entirety (the cubeCamera\n\t * is placed at the origin).\n\t */\n\tfromScene( scene, sigma = 0, near = 0.1, far = 100 ) {\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\t\tconst cubeUVRenderTarget = this._allocateTargets();\n\n\t\tthis._sceneToCubeUV( scene, near, far, cubeUVRenderTarget );\n\t\tif ( sigma > 0 ) {\n\n\t\t\tthis._blur( cubeUVRenderTarget, 0, 0, sigma );\n\n\t\t}\n\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t/**\n\t * Generates a PMREM from an equirectangular texture, which can be either LDR\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input image size is 1k (1024 x 512),\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromEquirectangular( equirectangular ) {\n\n\t\treturn this._fromTexture( equirectangular );\n\n\t}\n\n\t/**\n\t * Generates a PMREM from an cubemap texture, which can be either LDR\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input cube size is 256 x 256,\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromCubemap( cubemap ) {\n\n\t\treturn this._fromTexture( cubemap );\n\n\t}\n\n\t/**\n\t * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileCubemapShader() {\n\n\t\tif ( this._cubemapShader === null ) {\n\n\t\t\tthis._cubemapShader = _getCubemapShader();\n\t\t\tthis._compileMaterial( this._cubemapShader );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileEquirectangularShader() {\n\n\t\tif ( this._equirectShader === null ) {\n\n\t\t\tthis._equirectShader = _getEquirectShader();\n\t\t\tthis._compileMaterial( this._equirectShader );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\n\t * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\n\t * one of them will cause any others to also become unusable.\n\t */\n\tdispose() {\n\n\t\tthis._blurMaterial.dispose();\n\n\t\tif ( this._cubemapShader !== null ) this._cubemapShader.dispose();\n\t\tif ( this._equirectShader !== null ) this._equirectShader.dispose();\n\n\t\tfor ( let i = 0; i < _lodPlanes.length; i ++ ) {\n\n\t\t\t_lodPlanes[ i ].dispose();\n\n\t\t}\n\n\t}\n\n\t// private interface\n\n\t_cleanup( outputTarget ) {\n\n\t\tthis._pingPongRenderTarget.dispose();\n\t\tthis._renderer.setRenderTarget( _oldTarget );\n\t\toutputTarget.scissorTest = false;\n\t\t_setViewport( outputTarget, 0, 0, outputTarget.width, outputTarget.height );\n\n\t}\n\n\t_fromTexture( texture ) {\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\t\tconst cubeUVRenderTarget = this._allocateTargets( texture );\n\t\tthis._textureToCubeUV( texture, cubeUVRenderTarget );\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t_allocateTargets( texture ) { // warning: null texture is valid\n\n\t\tconst params = {\n\t\t\tmagFilter: NearestFilter,\n\t\t\tminFilter: NearestFilter,\n\t\t\tgenerateMipmaps: false,\n\t\t\ttype: UnsignedByteType,\n\t\t\tformat: RGBEFormat,\n\t\t\tencoding: _isLDR( texture ) ? texture.encoding : RGBEEncoding,\n\t\t\tdepthBuffer: false\n\t\t};\n\n\t\tconst cubeUVRenderTarget = _createRenderTarget( params );\n\t\tcubeUVRenderTarget.depthBuffer = texture ? false : true;\n\t\tthis._pingPongRenderTarget = _createRenderTarget( params );\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t_compileMaterial( material ) {\n\n\t\tconst tmpMesh = new Mesh( _lodPlanes[ 0 ], material );\n\t\tthis._renderer.compile( tmpMesh, _flatCamera );\n\n\t}\n\n\t_sceneToCubeUV( scene, near, far, cubeUVRenderTarget ) {\n\n\t\tconst fov = 90;\n\t\tconst aspect = 1;\n\t\tconst cubeCamera = new PerspectiveCamera( fov, aspect, near, far );\n\t\tconst upSign = [ 1, - 1, 1, 1, 1, 1 ];\n\t\tconst forwardSign = [ 1, 1, 1, - 1, - 1, - 1 ];\n\t\tconst renderer = this._renderer;\n\n\t\tconst originalAutoClear = renderer.autoClear;\n\t\tconst outputEncoding = renderer.outputEncoding;\n\t\tconst toneMapping = renderer.toneMapping;\n\t\trenderer.getClearColor( _clearColor );\n\n\t\trenderer.toneMapping = NoToneMapping;\n\t\trenderer.outputEncoding = LinearEncoding;\n\t\trenderer.autoClear = false;\n\n\t\tlet useSolidColor = false;\n\t\tconst background = scene.background;\n\t\tif ( background ) {\n\n\t\t\tif ( background.isColor ) {\n\n\t\t\t\tbackgroundMaterial.color.copy( background ).convertSRGBToLinear();\n\t\t\t\tscene.background = null;\n\n\t\t\t\tconst alpha = convertLinearToRGBE( backgroundMaterial.color );\n\t\t\t\tbackgroundMaterial.opacity = alpha;\n\t\t\t\tuseSolidColor = true;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tbackgroundMaterial.color.copy( _clearColor ).convertSRGBToLinear();\n\n\t\t\tconst alpha = convertLinearToRGBE( backgroundMaterial.color );\n\t\t\tbackgroundMaterial.opacity = alpha;\n\t\t\tuseSolidColor = true;\n\n\t\t}\n\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst col = i % 3;\n\t\t\tif ( col == 0 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( forwardSign[ i ], 0, 0 );\n\n\t\t\t} else if ( col == 1 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, 0, upSign[ i ] );\n\t\t\t\tcubeCamera.lookAt( 0, forwardSign[ i ], 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( 0, 0, forwardSign[ i ] );\n\n\t\t\t}\n\n\t\t\t_setViewport( cubeUVRenderTarget,\n\t\t\t\tcol * SIZE_MAX, i > 2 ? SIZE_MAX : 0, SIZE_MAX, SIZE_MAX );\n\t\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\n\t\t\tif ( useSolidColor ) {\n\n\t\t\t\trenderer.render( backgroundBox, cubeCamera );\n\n\t\t\t}\n\n\t\t\trenderer.render( scene, cubeCamera );\n\n\t\t}\n\n\t\trenderer.toneMapping = toneMapping;\n\t\trenderer.outputEncoding = outputEncoding;\n\t\trenderer.autoClear = originalAutoClear;\n\n\t}\n\n\t_textureToCubeUV( texture, cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\n\t\tif ( texture.isCubeTexture ) {\n\n\t\t\tif ( this._cubemapShader == null ) {\n\n\t\t\t\tthis._cubemapShader = _getCubemapShader();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( this._equirectShader == null ) {\n\n\t\t\t\tthis._equirectShader = _getEquirectShader();\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst material = texture.isCubeTexture ? this._cubemapShader : this._equirectShader;\n\t\tconst mesh = new Mesh( _lodPlanes[ 0 ], material );\n\n\t\tconst uniforms = material.uniforms;\n\n\t\tuniforms[ 'envMap' ].value = texture;\n\n\t\tif ( ! texture.isCubeTexture ) {\n\n\t\t\tuniforms[ 'texelSize' ].value.set( 1.0 / texture.image.width, 1.0 / texture.image.height );\n\n\t\t}\n\n\t\tuniforms[ 'inputEncoding' ].value = ENCODINGS[ texture.encoding ];\n\t\tuniforms[ 'outputEncoding' ].value = ENCODINGS[ cubeUVRenderTarget.texture.encoding ];\n\n\t\t_setViewport( cubeUVRenderTarget, 0, 0, 3 * SIZE_MAX, 2 * SIZE_MAX );\n\n\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\t\trenderer.render( mesh, _flatCamera );\n\n\t}\n\n\t_applyPMREM( cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst autoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tfor ( let i = 1; i < TOTAL_LODS; i ++ ) {\n\n\t\t\tconst sigma = Math.sqrt( _sigmas[ i ] * _sigmas[ i ] - _sigmas[ i - 1 ] * _sigmas[ i - 1 ] );\n\n\t\t\tconst poleAxis = _axisDirections[ ( i - 1 ) % _axisDirections.length ];\n\n\t\t\tthis._blur( cubeUVRenderTarget, i - 1, i, sigma, poleAxis );\n\n\t\t}\n\n\t\trenderer.autoClear = autoClear;\n\n\t}\n\n\t/**\n\t * This is a two-pass Gaussian blur for a cubemap. Normally this is done\n\t * vertically and horizontally, but this breaks down on a cube. Here we apply\n\t * the blur latitudinally (around the poles), and then longitudinally (towards\n\t * the poles) to approximate the orthogonally-separable blur. It is least\n\t * accurate at the poles, but still does a decent job.\n\t */\n\t_blur( cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis ) {\n\n\t\tconst pingPongRenderTarget = this._pingPongRenderTarget;\n\n\t\tthis._halfBlur(\n\t\t\tcubeUVRenderTarget,\n\t\t\tpingPongRenderTarget,\n\t\t\tlodIn,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'latitudinal',\n\t\t\tpoleAxis );\n\n\t\tthis._halfBlur(\n\t\t\tpingPongRenderTarget,\n\t\t\tcubeUVRenderTarget,\n\t\t\tlodOut,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'longitudinal',\n\t\t\tpoleAxis );\n\n\t}\n\n\t_halfBlur( targetIn, targetOut, lodIn, lodOut, sigmaRadians, direction, poleAxis ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst blurMaterial = this._blurMaterial;\n\n\t\tif ( direction !== 'latitudinal' && direction !== 'longitudinal' ) {\n\n\t\t\tconsole.error(\n\t\t\t\t'blur direction must be either latitudinal or longitudinal!' );\n\n\t\t}\n\n\t\t// Number of standard deviations at which to cut off the discrete approximation.\n\t\tconst STANDARD_DEVIATIONS = 3;\n\n\t\tconst blurMesh = new Mesh( _lodPlanes[ lodOut ], blurMaterial );\n\t\tconst blurUniforms = blurMaterial.uniforms;\n\n\t\tconst pixels = _sizeLods[ lodIn ] - 1;\n\t\tconst radiansPerPixel = isFinite( sigmaRadians ) ? Math.PI / ( 2 * pixels ) : 2 * Math.PI / ( 2 * MAX_SAMPLES - 1 );\n\t\tconst sigmaPixels = sigmaRadians / radiansPerPixel;\n\t\tconst samples = isFinite( sigmaRadians ) ? 1 + Math.floor( STANDARD_DEVIATIONS * sigmaPixels ) : MAX_SAMPLES;\n\n\t\tif ( samples > MAX_SAMPLES ) {\n\n\t\t\tconsole.warn( `sigmaRadians, ${\n\t\t\t\tsigmaRadians}, is too large and will clip, as it requested ${\n\t\t\t\tsamples} samples when the maximum is set to ${MAX_SAMPLES}` );\n\n\t\t}\n\n\t\tconst weights = [];\n\t\tlet sum = 0;\n\n\t\tfor ( let i = 0; i < MAX_SAMPLES; ++ i ) {\n\n\t\t\tconst x = i / sigmaPixels;\n\t\t\tconst weight = Math.exp( - x * x / 2 );\n\t\t\tweights.push( weight );\n\n\t\t\tif ( i == 0 ) {\n\n\t\t\t\tsum += weight;\n\n\t\t\t} else if ( i < samples ) {\n\n\t\t\t\tsum += 2 * weight;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let i = 0; i < weights.length; i ++ ) {\n\n\t\t\tweights[ i ] = weights[ i ] / sum;\n\n\t\t}\n\n\t\tblurUniforms[ 'envMap' ].value = targetIn.texture;\n\t\tblurUniforms[ 'samples' ].value = samples;\n\t\tblurUniforms[ 'weights' ].value = weights;\n\t\tblurUniforms[ 'latitudinal' ].value = direction === 'latitudinal';\n\n\t\tif ( poleAxis ) {\n\n\t\t\tblurUniforms[ 'poleAxis' ].value = poleAxis;\n\n\t\t}\n\n\t\tblurUniforms[ 'dTheta' ].value = radiansPerPixel;\n\t\tblurUniforms[ 'mipInt' ].value = LOD_MAX - lodIn;\n\t\tblurUniforms[ 'inputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\n\t\tblurUniforms[ 'outputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\n\n\t\tconst outputSize = _sizeLods[ lodOut ];\n\t\tconst x = 3 * Math.max( 0, SIZE_MAX - 2 * outputSize );\n\t\tconst y = ( lodOut === 0 ? 0 : 2 * SIZE_MAX ) + 2 * outputSize * ( lodOut > LOD_MAX - LOD_MIN ? lodOut - LOD_MAX + LOD_MIN : 0 );\n\n\t\t_setViewport( targetOut, x, y, 3 * outputSize, 2 * outputSize );\n\t\trenderer.setRenderTarget( targetOut );\n\t\trenderer.render( blurMesh, _flatCamera );\n\n\t}\n\n}\n\nfunction _isLDR( texture ) {\n\n\tif ( texture === undefined || texture.type !== UnsignedByteType ) return false;\n\n\treturn texture.encoding === LinearEncoding || texture.encoding === sRGBEncoding || texture.encoding === GammaEncoding;\n\n}\n\nfunction _createPlanes() {\n\n\tconst _lodPlanes = [];\n\tconst _sizeLods = [];\n\tconst _sigmas = [];\n\n\tlet lod = LOD_MAX;\n\n\tfor ( let i = 0; i < TOTAL_LODS; i ++ ) {\n\n\t\tconst sizeLod = Math.pow( 2, lod );\n\t\t_sizeLods.push( sizeLod );\n\t\tlet sigma = 1.0 / sizeLod;\n\n\t\tif ( i > LOD_MAX - LOD_MIN ) {\n\n\t\t\tsigma = EXTRA_LOD_SIGMA[ i - LOD_MAX + LOD_MIN - 1 ];\n\n\t\t} else if ( i == 0 ) {\n\n\t\t\tsigma = 0;\n\n\t\t}\n\n\t\t_sigmas.push( sigma );\n\n\t\tconst texelSize = 1.0 / ( sizeLod - 1 );\n\t\tconst min = - texelSize / 2;\n\t\tconst max = 1 + texelSize / 2;\n\t\tconst uv1 = [ min, min, max, min, max, max, min, min, max, max, min, max ];\n\n\t\tconst cubeFaces = 6;\n\t\tconst vertices = 6;\n\t\tconst positionSize = 3;\n\t\tconst uvSize = 2;\n\t\tconst faceIndexSize = 1;\n\n\t\tconst position = new Float32Array( positionSize * vertices * cubeFaces );\n\t\tconst uv = new Float32Array( uvSize * vertices * cubeFaces );\n\t\tconst faceIndex = new Float32Array( faceIndexSize * vertices * cubeFaces );\n\n\t\tfor ( let face = 0; face < cubeFaces; face ++ ) {\n\n\t\t\tconst x = ( face % 3 ) * 2 / 3 - 1;\n\t\t\tconst y = face > 2 ? 0 : - 1;\n\t\t\tconst coordinates = [\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y + 1, 0\n\t\t\t];\n\t\t\tposition.set( coordinates, positionSize * vertices * face );\n\t\t\tuv.set( uv1, uvSize * vertices * face );\n\t\t\tconst fill = [ face, face, face, face, face, face ];\n\t\t\tfaceIndex.set( fill, faceIndexSize * vertices * face );\n\n\t\t}\n\n\t\tconst planes = new BufferGeometry();\n\t\tplanes.setAttribute( 'position', new BufferAttribute( position, positionSize ) );\n\t\tplanes.setAttribute( 'uv', new BufferAttribute( uv, uvSize ) );\n\t\tplanes.setAttribute( 'faceIndex', new BufferAttribute( faceIndex, faceIndexSize ) );\n\t\t_lodPlanes.push( planes );\n\n\t\tif ( lod > LOD_MIN ) {\n\n\t\t\tlod --;\n\n\t\t}\n\n\t}\n\n\treturn { _lodPlanes, _sizeLods, _sigmas };\n\n}\n\nfunction _createRenderTarget( params ) {\n\n\tconst cubeUVRenderTarget = new WebGLRenderTarget( 3 * SIZE_MAX, 3 * SIZE_MAX, params );\n\tcubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\n\tcubeUVRenderTarget.texture.name = 'PMREM.cubeUv';\n\tcubeUVRenderTarget.scissorTest = true;\n\treturn cubeUVRenderTarget;\n\n}\n\nfunction _setViewport( target, x, y, width, height ) {\n\n\ttarget.viewport.set( x, y, width, height );\n\ttarget.scissor.set( x, y, width, height );\n\n}\n\nfunction _getBlurShader( maxSamples ) {\n\n\tconst weights = new Float32Array( maxSamples );\n\tconst poleAxis = new Vector3( 0, 1, 0 );\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'SphericalGaussianBlur',\n\n\t\tdefines: { 'n': maxSamples },\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'samples': { value: 1 },\n\t\t\t'weights': { value: weights },\n\t\t\t'latitudinal': { value: false },\n\t\t\t'dTheta': { value: 0 },\n\t\t\t'mipInt': { value: 0 },\n\t\t\t'poleAxis': { value: poleAxis },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getEquirectShader() {\n\n\tconst texelSize = new Vector2( 1, 1 );\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'EquirectangularToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'texelSize': { value: texelSize },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getCubemapShader() {\n\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'CubemapToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getCommonVertexShader() {\n\n\treturn /* glsl */`\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t`;\n\n}\n\nfunction _getEncodings() {\n\n\treturn /* glsl */`\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t`;\n\n}\n\nconst LineStrip = 0;\nconst LinePieces = 1;\nconst NoColors = 0;\nconst FaceColors = 1;\nconst VertexColors = 2;\n\nfunction MeshFaceMaterial( materials ) {\n\n\tconsole.warn( 'THREE.MeshFaceMaterial has been removed. Use an Array instead.' );\n\treturn materials;\n\n}\n\nfunction MultiMaterial( materials = [] ) {\n\n\tconsole.warn( 'THREE.MultiMaterial has been removed. Use an Array instead.' );\n\tmaterials.isMultiMaterial = true;\n\tmaterials.materials = materials;\n\tmaterials.clone = function () {\n\n\t\treturn materials.slice();\n\n\t};\n\n\treturn materials;\n\n}\n\nfunction PointCloud( geometry, material ) {\n\n\tconsole.warn( 'THREE.PointCloud has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction Particle( material ) {\n\n\tconsole.warn( 'THREE.Particle has been renamed to THREE.Sprite.' );\n\treturn new Sprite( material );\n\n}\n\nfunction ParticleSystem( geometry, material ) {\n\n\tconsole.warn( 'THREE.ParticleSystem has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction PointCloudMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleBasicMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleSystemMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction Vertex( x, y, z ) {\n\n\tconsole.warn( 'THREE.Vertex has been removed. Use THREE.Vector3 instead.' );\n\treturn new Vector3( x, y, z );\n\n}\n\n//\n\nfunction DynamicBufferAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.' );\n\treturn new BufferAttribute( array, itemSize ).setUsage( DynamicDrawUsage );\n\n}\n\nfunction Int8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.' );\n\treturn new Int8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.' );\n\treturn new Uint8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8ClampedAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.' );\n\treturn new Uint8ClampedBufferAttribute( array, itemSize );\n\n}\n\nfunction Int16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.' );\n\treturn new Int16BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.' );\n\treturn new Uint16BufferAttribute( array, itemSize );\n\n}\n\nfunction Int32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.' );\n\treturn new Int32BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.' );\n\treturn new Uint32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.' );\n\treturn new Float32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float64Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.' );\n\treturn new Float64BufferAttribute( array, itemSize );\n\n}\n\n//\n\nCurve.create = function ( construct, getPoint ) {\n\n\tconsole.log( 'THREE.Curve.create() has been deprecated' );\n\n\tconstruct.prototype = Object.create( Curve.prototype );\n\tconstruct.prototype.constructor = construct;\n\tconstruct.prototype.getPoint = getPoint;\n\n\treturn construct;\n\n};\n\n//\n\nPath.prototype.fromPoints = function ( points ) {\n\n\tconsole.warn( 'THREE.Path: .fromPoints() has been renamed to .setFromPoints().' );\n\treturn this.setFromPoints( points );\n\n};\n\n//\n\nfunction AxisHelper( size ) {\n\n\tconsole.warn( 'THREE.AxisHelper has been renamed to THREE.AxesHelper.' );\n\treturn new AxesHelper( size );\n\n}\n\nfunction BoundingBoxHelper( object, color ) {\n\n\tconsole.warn( 'THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.' );\n\treturn new BoxHelper( object, color );\n\n}\n\nfunction EdgesHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.' );\n\treturn new LineSegments( new EdgesGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\nGridHelper.prototype.setColors = function () {\n\n\tconsole.error( 'THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.' );\n\n};\n\nSkeletonHelper.prototype.update = function () {\n\n\tconsole.error( 'THREE.SkeletonHelper: update() no longer needs to be called.' );\n\n};\n\nfunction WireframeHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.' );\n\treturn new LineSegments( new WireframeGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\n//\n\nLoader.prototype.extractUrlBase = function ( url ) {\n\n\tconsole.warn( 'THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.' );\n\treturn LoaderUtils.extractUrlBase( url );\n\n};\n\nLoader.Handlers = {\n\n\tadd: function ( /* regex, loader */ ) {\n\n\t\tconsole.error( 'THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.' );\n\n\t},\n\n\tget: function ( /* file */ ) {\n\n\t\tconsole.error( 'THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.' );\n\n\t}\n\n};\n\nfunction XHRLoader( manager ) {\n\n\tconsole.warn( 'THREE.XHRLoader has been renamed to THREE.FileLoader.' );\n\treturn new FileLoader( manager );\n\n}\n\nfunction BinaryTextureLoader( manager ) {\n\n\tconsole.warn( 'THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.' );\n\treturn new DataTextureLoader( manager );\n\n}\n\n//\n\nBox2.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Box2: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\nBox2.prototype.empty = function () {\n\n\tconsole.warn( 'THREE.Box2: .empty() has been renamed to .isEmpty().' );\n\treturn this.isEmpty();\n\n};\n\nBox2.prototype.isIntersectionBox = function ( box ) {\n\n\tconsole.warn( 'THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\treturn this.intersectsBox( box );\n\n};\n\nBox2.prototype.size = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Box2: .size() has been renamed to .getSize().' );\n\treturn this.getSize( optionalTarget );\n\n};\n\n//\n\nBox3.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Box3: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\nBox3.prototype.empty = function () {\n\n\tconsole.warn( 'THREE.Box3: .empty() has been renamed to .isEmpty().' );\n\treturn this.isEmpty();\n\n};\n\nBox3.prototype.isIntersectionBox = function ( box ) {\n\n\tconsole.warn( 'THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\treturn this.intersectsBox( box );\n\n};\n\nBox3.prototype.isIntersectionSphere = function ( sphere ) {\n\n\tconsole.warn( 'THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\treturn this.intersectsSphere( sphere );\n\n};\n\nBox3.prototype.size = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Box3: .size() has been renamed to .getSize().' );\n\treturn this.getSize( optionalTarget );\n\n};\n\n//\n\nSphere.prototype.empty = function () {\n\n\tconsole.warn( 'THREE.Sphere: .empty() has been renamed to .isEmpty().' );\n\treturn this.isEmpty();\n\n};\n\n//\n\nFrustum.prototype.setFromMatrix = function ( m ) {\n\n\tconsole.warn( 'THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix().' );\n\treturn this.setFromProjectionMatrix( m );\n\n};\n\n//\n\nLine3.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Line3: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\n//\n\nMatrix3.prototype.flattenToArrayOffset = function ( array, offset ) {\n\n\tconsole.warn( 'THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.' );\n\treturn this.toArray( array, offset );\n\n};\n\nMatrix3.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\n\treturn vector.applyMatrix3( this );\n\n};\n\nMatrix3.prototype.multiplyVector3Array = function ( /* a */ ) {\n\n\tconsole.error( 'THREE.Matrix3: .multiplyVector3Array() has been removed.' );\n\n};\n\nMatrix3.prototype.applyToBufferAttribute = function ( attribute ) {\n\n\tconsole.warn( 'THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead.' );\n\treturn attribute.applyMatrix3( this );\n\n};\n\nMatrix3.prototype.applyToVector3Array = function ( /* array, offset, length */ ) {\n\n\tconsole.error( 'THREE.Matrix3: .applyToVector3Array() has been removed.' );\n\n};\n\nMatrix3.prototype.getInverse = function ( matrix ) {\n\n\tconsole.warn( 'THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.' );\n\treturn this.copy( matrix ).invert();\n\n};\n\n//\n\nMatrix4.prototype.extractPosition = function ( m ) {\n\n\tconsole.warn( 'THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().' );\n\treturn this.copyPosition( m );\n\n};\n\nMatrix4.prototype.flattenToArrayOffset = function ( array, offset ) {\n\n\tconsole.warn( 'THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.' );\n\treturn this.toArray( array, offset );\n\n};\n\nMatrix4.prototype.getPosition = function () {\n\n\tconsole.warn( 'THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\n\treturn new Vector3().setFromMatrixColumn( this, 3 );\n\n};\n\nMatrix4.prototype.setRotationFromQuaternion = function ( q ) {\n\n\tconsole.warn( 'THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().' );\n\treturn this.makeRotationFromQuaternion( q );\n\n};\n\nMatrix4.prototype.multiplyToArray = function () {\n\n\tconsole.warn( 'THREE.Matrix4: .multiplyToArray() has been removed.' );\n\n};\n\nMatrix4.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\treturn vector.applyMatrix4( this );\n\n};\n\nMatrix4.prototype.multiplyVector4 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\treturn vector.applyMatrix4( this );\n\n};\n\nMatrix4.prototype.multiplyVector3Array = function ( /* a */ ) {\n\n\tconsole.error( 'THREE.Matrix4: .multiplyVector3Array() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateAxis = function ( v ) {\n\n\tconsole.warn( 'THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\n\tv.transformDirection( this );\n\n};\n\nMatrix4.prototype.crossVector = function ( vector ) {\n\n\tconsole.warn( 'THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\treturn vector.applyMatrix4( this );\n\n};\n\nMatrix4.prototype.translate = function () {\n\n\tconsole.error( 'THREE.Matrix4: .translate() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateX = function () {\n\n\tconsole.error( 'THREE.Matrix4: .rotateX() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateY = function () {\n\n\tconsole.error( 'THREE.Matrix4: .rotateY() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateZ = function () {\n\n\tconsole.error( 'THREE.Matrix4: .rotateZ() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateByAxis = function () {\n\n\tconsole.error( 'THREE.Matrix4: .rotateByAxis() has been removed.' );\n\n};\n\nMatrix4.prototype.applyToBufferAttribute = function ( attribute ) {\n\n\tconsole.warn( 'THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead.' );\n\treturn attribute.applyMatrix4( this );\n\n};\n\nMatrix4.prototype.applyToVector3Array = function ( /* array, offset, length */ ) {\n\n\tconsole.error( 'THREE.Matrix4: .applyToVector3Array() has been removed.' );\n\n};\n\nMatrix4.prototype.makeFrustum = function ( left, right, bottom, top, near, far ) {\n\n\tconsole.warn( 'THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.' );\n\treturn this.makePerspective( left, right, top, bottom, near, far );\n\n};\n\nMatrix4.prototype.getInverse = function ( matrix ) {\n\n\tconsole.warn( 'THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.' );\n\treturn this.copy( matrix ).invert();\n\n};\n\n//\n\nPlane.prototype.isIntersectionLine = function ( line ) {\n\n\tconsole.warn( 'THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().' );\n\treturn this.intersectsLine( line );\n\n};\n\n//\n\nQuaternion.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\n\treturn vector.applyQuaternion( this );\n\n};\n\nQuaternion.prototype.inverse = function ( ) {\n\n\tconsole.warn( 'THREE.Quaternion: .inverse() has been renamed to invert().' );\n\treturn this.invert();\n\n};\n\n//\n\nRay.prototype.isIntersectionBox = function ( box ) {\n\n\tconsole.warn( 'THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\treturn this.intersectsBox( box );\n\n};\n\nRay.prototype.isIntersectionPlane = function ( plane ) {\n\n\tconsole.warn( 'THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().' );\n\treturn this.intersectsPlane( plane );\n\n};\n\nRay.prototype.isIntersectionSphere = function ( sphere ) {\n\n\tconsole.warn( 'THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\treturn this.intersectsSphere( sphere );\n\n};\n\n//\n\nTriangle.prototype.area = function () {\n\n\tconsole.warn( 'THREE.Triangle: .area() has been renamed to .getArea().' );\n\treturn this.getArea();\n\n};\n\nTriangle.prototype.barycoordFromPoint = function ( point, target ) {\n\n\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\treturn this.getBarycoord( point, target );\n\n};\n\nTriangle.prototype.midpoint = function ( target ) {\n\n\tconsole.warn( 'THREE.Triangle: .midpoint() has been renamed to .getMidpoint().' );\n\treturn this.getMidpoint( target );\n\n};\n\nTriangle.prototypenormal = function ( target ) {\n\n\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\treturn this.getNormal( target );\n\n};\n\nTriangle.prototype.plane = function ( target ) {\n\n\tconsole.warn( 'THREE.Triangle: .plane() has been renamed to .getPlane().' );\n\treturn this.getPlane( target );\n\n};\n\nTriangle.barycoordFromPoint = function ( point, a, b, c, target ) {\n\n\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\treturn Triangle.getBarycoord( point, a, b, c, target );\n\n};\n\nTriangle.normal = function ( a, b, c, target ) {\n\n\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\treturn Triangle.getNormal( a, b, c, target );\n\n};\n\n//\n\nShape.prototype.extractAllPoints = function ( divisions ) {\n\n\tconsole.warn( 'THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.' );\n\treturn this.extractPoints( divisions );\n\n};\n\nShape.prototype.extrude = function ( options ) {\n\n\tconsole.warn( 'THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.' );\n\treturn new ExtrudeGeometry( this, options );\n\n};\n\nShape.prototype.makeGeometry = function ( options ) {\n\n\tconsole.warn( 'THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.' );\n\treturn new ShapeGeometry( this, options );\n\n};\n\n//\n\nVector2.prototype.fromAttribute = function ( attribute, index, offset ) {\n\n\tconsole.warn( 'THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\treturn this.fromBufferAttribute( attribute, index, offset );\n\n};\n\nVector2.prototype.distanceToManhattan = function ( v ) {\n\n\tconsole.warn( 'THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\treturn this.manhattanDistanceTo( v );\n\n};\n\nVector2.prototype.lengthManhattan = function () {\n\n\tconsole.warn( 'THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().' );\n\treturn this.manhattanLength();\n\n};\n\n//\n\nVector3.prototype.setEulerFromRotationMatrix = function () {\n\n\tconsole.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\n\n};\n\nVector3.prototype.setEulerFromQuaternion = function () {\n\n\tconsole.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\n\n};\n\nVector3.prototype.getPositionFromMatrix = function ( m ) {\n\n\tconsole.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\n\treturn this.setFromMatrixPosition( m );\n\n};\n\nVector3.prototype.getScaleFromMatrix = function ( m ) {\n\n\tconsole.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\n\treturn this.setFromMatrixScale( m );\n\n};\n\nVector3.prototype.getColumnFromMatrix = function ( index, matrix ) {\n\n\tconsole.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\n\treturn this.setFromMatrixColumn( matrix, index );\n\n};\n\nVector3.prototype.applyProjection = function ( m ) {\n\n\tconsole.warn( 'THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.' );\n\treturn this.applyMatrix4( m );\n\n};\n\nVector3.prototype.fromAttribute = function ( attribute, index, offset ) {\n\n\tconsole.warn( 'THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\treturn this.fromBufferAttribute( attribute, index, offset );\n\n};\n\nVector3.prototype.distanceToManhattan = function ( v ) {\n\n\tconsole.warn( 'THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\treturn this.manhattanDistanceTo( v );\n\n};\n\nVector3.prototype.lengthManhattan = function () {\n\n\tconsole.warn( 'THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().' );\n\treturn this.manhattanLength();\n\n};\n\n//\n\nVector4.prototype.fromAttribute = function ( attribute, index, offset ) {\n\n\tconsole.warn( 'THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\treturn this.fromBufferAttribute( attribute, index, offset );\n\n};\n\nVector4.prototype.lengthManhattan = function () {\n\n\tconsole.warn( 'THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().' );\n\treturn this.manhattanLength();\n\n};\n\n//\n\nObject3D.prototype.getChildByName = function ( name ) {\n\n\tconsole.warn( 'THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().' );\n\treturn this.getObjectByName( name );\n\n};\n\nObject3D.prototype.renderDepth = function () {\n\n\tconsole.warn( 'THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.' );\n\n};\n\nObject3D.prototype.translate = function ( distance, axis ) {\n\n\tconsole.warn( 'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.' );\n\treturn this.translateOnAxis( axis, distance );\n\n};\n\nObject3D.prototype.getWorldRotation = function () {\n\n\tconsole.error( 'THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.' );\n\n};\n\nObject3D.prototype.applyMatrix = function ( matrix ) {\n\n\tconsole.warn( 'THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4().' );\n\treturn this.applyMatrix4( matrix );\n\n};\n\nObject.defineProperties( Object3D.prototype, {\n\n\teulerOrder: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\treturn this.rotation.order;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\tthis.rotation.order = value;\n\n\t\t}\n\t},\n\tuseQuaternion: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t}\n\t}\n\n} );\n\nMesh.prototype.setDrawMode = function () {\n\n\tconsole.error( 'THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\n\n};\n\nObject.defineProperties( Mesh.prototype, {\n\n\tdrawMode: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.' );\n\t\t\treturn TrianglesDrawMode;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\n\n\t\t}\n\t}\n\n} );\n\nSkinnedMesh.prototype.initBones = function () {\n\n\tconsole.error( 'THREE.SkinnedMesh: initBones() has been removed.' );\n\n};\n\n//\n\nPerspectiveCamera.prototype.setLens = function ( focalLength, filmGauge ) {\n\n\tconsole.warn( 'THREE.PerspectiveCamera.setLens is deprecated. ' +\n\t\t\t'Use .setFocalLength and .filmGauge for a photographic setup.' );\n\n\tif ( filmGauge !== undefined ) this.filmGauge = filmGauge;\n\tthis.setFocalLength( focalLength );\n\n};\n\n//\n\nObject.defineProperties( Light.prototype, {\n\tonlyShadow: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .onlyShadow has been removed.' );\n\n\t\t}\n\t},\n\tshadowCameraFov: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFov is now .shadow.camera.fov.' );\n\t\t\tthis.shadow.camera.fov = value;\n\n\t\t}\n\t},\n\tshadowCameraLeft: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraLeft is now .shadow.camera.left.' );\n\t\t\tthis.shadow.camera.left = value;\n\n\t\t}\n\t},\n\tshadowCameraRight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraRight is now .shadow.camera.right.' );\n\t\t\tthis.shadow.camera.right = value;\n\n\t\t}\n\t},\n\tshadowCameraTop: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraTop is now .shadow.camera.top.' );\n\t\t\tthis.shadow.camera.top = value;\n\n\t\t}\n\t},\n\tshadowCameraBottom: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.' );\n\t\t\tthis.shadow.camera.bottom = value;\n\n\t\t}\n\t},\n\tshadowCameraNear: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraNear is now .shadow.camera.near.' );\n\t\t\tthis.shadow.camera.near = value;\n\n\t\t}\n\t},\n\tshadowCameraFar: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFar is now .shadow.camera.far.' );\n\t\t\tthis.shadow.camera.far = value;\n\n\t\t}\n\t},\n\tshadowCameraVisible: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.' );\n\n\t\t}\n\t},\n\tshadowBias: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowBias is now .shadow.bias.' );\n\t\t\tthis.shadow.bias = value;\n\n\t\t}\n\t},\n\tshadowDarkness: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowDarkness has been removed.' );\n\n\t\t}\n\t},\n\tshadowMapWidth: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.' );\n\t\t\tthis.shadow.mapSize.width = value;\n\n\t\t}\n\t},\n\tshadowMapHeight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.' );\n\t\t\tthis.shadow.mapSize.height = value;\n\n\t\t}\n\t}\n} );\n\n//\n\nObject.defineProperties( BufferAttribute.prototype, {\n\n\tlength: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .length has been deprecated. Use .count instead.' );\n\t\t\treturn this.array.length;\n\n\t\t}\n\t},\n\tdynamic: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\n\t\t\treturn this.usage === DynamicDrawUsage;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\n\t\t\tthis.setUsage( DynamicDrawUsage );\n\n\t\t}\n\t}\n\n} );\n\nBufferAttribute.prototype.setDynamic = function ( value ) {\n\n\tconsole.warn( 'THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.' );\n\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\n\treturn this;\n\n};\n\nBufferAttribute.prototype.copyIndicesArray = function ( /* indices */ ) {\n\n\tconsole.error( 'THREE.BufferAttribute: .copyIndicesArray() has been removed.' );\n\n},\n\nBufferAttribute.prototype.setArray = function ( /* array */ ) {\n\n\tconsole.error( 'THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\n\n};\n\n//\n\nBufferGeometry.prototype.addIndex = function ( index ) {\n\n\tconsole.warn( 'THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().' );\n\tthis.setIndex( index );\n\n};\n\nBufferGeometry.prototype.addAttribute = function ( name, attribute ) {\n\n\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().' );\n\n\tif ( ! ( attribute && attribute.isBufferAttribute ) && ! ( attribute && attribute.isInterleavedBufferAttribute ) ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\n\n\t\treturn this.setAttribute( name, new BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\n\n\t}\n\n\tif ( name === 'index' ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\n\t\tthis.setIndex( attribute );\n\n\t\treturn this;\n\n\t}\n\n\treturn this.setAttribute( name, attribute );\n\n};\n\nBufferGeometry.prototype.addDrawCall = function ( start, count, indexOffset ) {\n\n\tif ( indexOffset !== undefined ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.' );\n\n\t}\n\n\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() is now .addGroup().' );\n\tthis.addGroup( start, count );\n\n};\n\nBufferGeometry.prototype.clearDrawCalls = function () {\n\n\tconsole.warn( 'THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().' );\n\tthis.clearGroups();\n\n};\n\nBufferGeometry.prototype.computeOffsets = function () {\n\n\tconsole.warn( 'THREE.BufferGeometry: .computeOffsets() has been removed.' );\n\n};\n\nBufferGeometry.prototype.removeAttribute = function ( name ) {\n\n\tconsole.warn( 'THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().' );\n\n\treturn this.deleteAttribute( name );\n\n};\n\nBufferGeometry.prototype.applyMatrix = function ( matrix ) {\n\n\tconsole.warn( 'THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4().' );\n\treturn this.applyMatrix4( matrix );\n\n};\n\nObject.defineProperties( BufferGeometry.prototype, {\n\n\tdrawcalls: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .drawcalls has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t},\n\toffsets: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .offsets has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t}\n\n} );\n\nInterleavedBuffer.prototype.setDynamic = function ( value ) {\n\n\tconsole.warn( 'THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.' );\n\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\n\treturn this;\n\n};\n\nInterleavedBuffer.prototype.setArray = function ( /* array */ ) {\n\n\tconsole.error( 'THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\n\n};\n\n//\n\nExtrudeGeometry.prototype.getArrays = function () {\n\n\tconsole.error( 'THREE.ExtrudeGeometry: .getArrays() has been removed.' );\n\n};\n\nExtrudeGeometry.prototype.addShapeList = function () {\n\n\tconsole.error( 'THREE.ExtrudeGeometry: .addShapeList() has been removed.' );\n\n};\n\nExtrudeGeometry.prototype.addShape = function () {\n\n\tconsole.error( 'THREE.ExtrudeGeometry: .addShape() has been removed.' );\n\n};\n\n//\n\nScene.prototype.dispose = function () {\n\n\tconsole.error( 'THREE.Scene: .dispose() has been removed.' );\n\n};\n\n//\n\nUniform.prototype.onUpdate = function () {\n\n\tconsole.warn( 'THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.' );\n\treturn this;\n\n};\n\n//\n\nObject.defineProperties( Material.prototype, {\n\n\twrapAround: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t}\n\t},\n\n\toverdraw: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t}\n\t},\n\n\twrapRGB: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapRGB has been removed.' );\n\t\t\treturn new Color();\n\n\t\t}\n\t},\n\n\tshading: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\tthis.flatShading = ( value === FlatShading );\n\n\t\t}\n\t},\n\n\tstencilMask: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\n\t\t\treturn this.stencilFuncMask;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\n\t\t\tthis.stencilFuncMask = value;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( ShaderMaterial.prototype, {\n\n\tderivatives: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\treturn this.extensions.derivatives;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\tthis.extensions.derivatives = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nWebGLRenderer.prototype.clearTarget = function ( renderTarget, color, depth, stencil ) {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.' );\n\tthis.setRenderTarget( renderTarget );\n\tthis.clear( color, depth, stencil );\n\n};\n\nWebGLRenderer.prototype.animate = function ( callback ) {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .animate() is now .setAnimationLoop().' );\n\tthis.setAnimationLoop( callback );\n\n};\n\nWebGLRenderer.prototype.getCurrentRenderTarget = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().' );\n\treturn this.getRenderTarget();\n\n};\n\nWebGLRenderer.prototype.getMaxAnisotropy = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().' );\n\treturn this.capabilities.getMaxAnisotropy();\n\n};\n\nWebGLRenderer.prototype.getPrecision = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.' );\n\treturn this.capabilities.precision;\n\n};\n\nWebGLRenderer.prototype.resetGLState = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .resetGLState() is now .state.reset().' );\n\treturn this.state.reset();\n\n};\n\nWebGLRenderer.prototype.supportsFloatTextures = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).' );\n\treturn this.extensions.get( 'OES_texture_float' );\n\n};\n\nWebGLRenderer.prototype.supportsHalfFloatTextures = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).' );\n\treturn this.extensions.get( 'OES_texture_half_float' );\n\n};\n\nWebGLRenderer.prototype.supportsStandardDerivatives = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).' );\n\treturn this.extensions.get( 'OES_standard_derivatives' );\n\n};\n\nWebGLRenderer.prototype.supportsCompressedTextureS3TC = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).' );\n\treturn this.extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n};\n\nWebGLRenderer.prototype.supportsCompressedTexturePVRTC = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).' );\n\treturn this.extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n};\n\nWebGLRenderer.prototype.supportsBlendMinMax = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).' );\n\treturn this.extensions.get( 'EXT_blend_minmax' );\n\n};\n\nWebGLRenderer.prototype.supportsVertexTextures = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.' );\n\treturn this.capabilities.vertexTextures;\n\n};\n\nWebGLRenderer.prototype.supportsInstancedArrays = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).' );\n\treturn this.extensions.get( 'ANGLE_instanced_arrays' );\n\n};\n\nWebGLRenderer.prototype.enableScissorTest = function ( boolean ) {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().' );\n\tthis.setScissorTest( boolean );\n\n};\n\nWebGLRenderer.prototype.initMaterial = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .initMaterial() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.addPrePlugin = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .addPrePlugin() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.addPostPlugin = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .addPostPlugin() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.updateShadowMap = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .updateShadowMap() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.setFaceCulling = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .setFaceCulling() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.allocTextureUnit = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .allocTextureUnit() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.setTexture = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .setTexture() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.setTexture2D = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .setTexture2D() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.setTextureCube = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .setTextureCube() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.getActiveMipMapLevel = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().' );\n\treturn this.getActiveMipmapLevel();\n\n};\n\nObject.defineProperties( WebGLRenderer.prototype, {\n\n\tshadowMapEnabled: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.enabled;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.' );\n\t\t\tthis.shadowMap.enabled = value;\n\n\t\t}\n\t},\n\tshadowMapType: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.' );\n\t\t\tthis.shadowMap.type = value;\n\n\t\t}\n\t},\n\tshadowMapCullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\tcontext: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.' );\n\t\t\treturn this.getContext();\n\n\t\t}\n\t},\n\tvr: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .vr has been renamed to .xr' );\n\t\t\treturn this.xr;\n\n\t\t}\n\t},\n\tgammaInput: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\n\n\t\t}\n\t},\n\tgammaOutput: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\n\t\t\tthis.outputEncoding = ( value === true ) ? sRGBEncoding : LinearEncoding;\n\n\t\t}\n\t},\n\ttoneMappingWhitePoint: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.' );\n\t\t\treturn 1.0;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.' );\n\n\t\t}\n\t},\n\n} );\n\nObject.defineProperties( WebGLShadowMap.prototype, {\n\n\tcullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* cullFace */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderReverseSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderSingleSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t}\n\n} );\n\nfunction WebGLRenderTargetCube( width, height, options ) {\n\n\tconsole.warn( 'THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).' );\n\treturn new WebGLCubeRenderTarget( width, options );\n\n}\n\n//\n\nObject.defineProperties( WebGLRenderTarget.prototype, {\n\n\twrapS: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\treturn this.texture.wrapS;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\tthis.texture.wrapS = value;\n\n\t\t}\n\t},\n\twrapT: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\treturn this.texture.wrapT;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\tthis.texture.wrapT = value;\n\n\t\t}\n\t},\n\tmagFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\treturn this.texture.magFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\tthis.texture.magFilter = value;\n\n\t\t}\n\t},\n\tminFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\treturn this.texture.minFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\tthis.texture.minFilter = value;\n\n\t\t}\n\t},\n\tanisotropy: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\treturn this.texture.anisotropy;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\tthis.texture.anisotropy = value;\n\n\t\t}\n\t},\n\toffset: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\treturn this.texture.offset;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\tthis.texture.offset = value;\n\n\t\t}\n\t},\n\trepeat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\treturn this.texture.repeat;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\tthis.texture.repeat = value;\n\n\t\t}\n\t},\n\tformat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\treturn this.texture.format;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\tthis.texture.format = value;\n\n\t\t}\n\t},\n\ttype: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\treturn this.texture.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\tthis.texture.type = value;\n\n\t\t}\n\t},\n\tgenerateMipmaps: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\treturn this.texture.generateMipmaps;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\tthis.texture.generateMipmaps = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nAudio.prototype.load = function ( file ) {\n\n\tconsole.warn( 'THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.' );\n\tconst scope = this;\n\tconst audioLoader = new AudioLoader();\n\taudioLoader.load( file, function ( buffer ) {\n\n\t\tscope.setBuffer( buffer );\n\n\t} );\n\treturn this;\n\n};\n\n\nAudioAnalyser.prototype.getData = function () {\n\n\tconsole.warn( 'THREE.AudioAnalyser: .getData() is now .getFrequencyData().' );\n\treturn this.getFrequencyData();\n\n};\n\n//\n\nCubeCamera.prototype.updateCubeMap = function ( renderer, scene ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .updateCubeMap() is now .update().' );\n\treturn this.update( renderer, scene );\n\n};\n\nCubeCamera.prototype.clear = function ( renderer, color, depth, stencil ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .clear() is now .renderTarget.clear().' );\n\treturn this.renderTarget.clear( renderer, color, depth, stencil );\n\n};\n\nImageUtils.crossOrigin = undefined;\n\nImageUtils.loadTexture = function ( url, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.' );\n\n\tconst loader = new TextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tconst texture = loader.load( url, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadTextureCube = function ( urls, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.' );\n\n\tconst loader = new CubeTextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tconst texture = loader.load( urls, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadCompressedTexture = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\nImageUtils.loadCompressedTextureCube = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\n//\n\nfunction CanvasRenderer() {\n\n\tconsole.error( 'THREE.CanvasRenderer has been removed' );\n\n}\n\n//\n\nfunction JSONLoader() {\n\n\tconsole.error( 'THREE.JSONLoader has been removed.' );\n\n}\n\n//\n\nconst SceneUtils = {\n\n\tcreateMultiMaterialObject: function ( /* geometry, materials */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t},\n\n\tdetach: function ( /* child, parent, scene */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t},\n\n\tattach: function ( /* child, scene, parent */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t}\n\n};\n\n//\n\nfunction LensFlare() {\n\n\tconsole.error( 'THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js' );\n\n}\n\nif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t/* eslint-disable no-undef */\n\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'register', { detail: {\n\t\trevision: REVISION,\n\t} } ) );\n\t/* eslint-enable no-undef */\n\n}\n\nif ( typeof window !== 'undefined' ) {\n\n\tif ( window.__THREE__ ) {\n\n\t\tconsole.warn( 'WARNING: Multiple instances of Three.js being imported.' );\n\n\t} else {\n\n\t\twindow.__THREE__ = REVISION;\n\n\t}\n\n}\n\nexport { ACESFilmicToneMapping, AddEquation, AddOperation, AdditiveAnimationBlendMode, AdditiveBlending, AlphaFormat, AlwaysDepth, AlwaysStencilFunc, AmbientLight, AmbientLightProbe, AnimationClip, AnimationLoader, AnimationMixer, AnimationObjectGroup, AnimationUtils, ArcCurve, ArrayCamera, ArrowHelper, Audio, AudioAnalyser, AudioContext, AudioListener, AudioLoader, AxesHelper, AxisHelper, BackSide, BasicDepthPacking, BasicShadowMap, BinaryTextureLoader, Bone, BooleanKeyframeTrack, BoundingBoxHelper, Box2, Box3, Box3Helper, BoxGeometry as BoxBufferGeometry, BoxGeometry, BoxHelper, BufferAttribute, BufferGeometry, BufferGeometryLoader, ByteType, Cache, Camera, CameraHelper, CanvasRenderer, CanvasTexture, CatmullRomCurve3, CineonToneMapping, CircleGeometry as CircleBufferGeometry, CircleGeometry, ClampToEdgeWrapping, Clock, Color, ColorKeyframeTrack, CompressedTexture, CompressedTextureLoader, ConeGeometry as ConeBufferGeometry, ConeGeometry, CubeCamera, CubeReflectionMapping, CubeRefractionMapping, CubeTexture, CubeTextureLoader, CubeUVReflectionMapping, CubeUVRefractionMapping, CubicBezierCurve, CubicBezierCurve3, CubicInterpolant, CullFaceBack, CullFaceFront, CullFaceFrontBack, CullFaceNone, Curve, CurvePath, CustomBlending, CustomToneMapping, CylinderGeometry as CylinderBufferGeometry, CylinderGeometry, Cylindrical, DataTexture, DataTexture2DArray, DataTexture3D, DataTextureLoader, DataUtils, DecrementStencilOp, DecrementWrapStencilOp, DefaultLoadingManager, DepthFormat, DepthStencilFormat, DepthTexture, DirectionalLight, DirectionalLightHelper, DiscreteInterpolant, DodecahedronGeometry as DodecahedronBufferGeometry, DodecahedronGeometry, DoubleSide, DstAlphaFactor, DstColorFactor, DynamicBufferAttribute, DynamicCopyUsage, DynamicDrawUsage, DynamicReadUsage, EdgesGeometry, EdgesHelper, EllipseCurve, EqualDepth, EqualStencilFunc, EquirectangularReflectionMapping, EquirectangularRefractionMapping, Euler, EventDispatcher, ExtrudeGeometry as ExtrudeBufferGeometry, ExtrudeGeometry, FaceColors, FileLoader, FlatShading, Float16BufferAttribute, Float32Attribute, Float32BufferAttribute, Float64Attribute, Float64BufferAttribute, FloatType, Fog, FogExp2, Font, FontLoader, FrontSide, Frustum, GLBufferAttribute, GLSL1, GLSL3, GammaEncoding, GreaterDepth, GreaterEqualDepth, GreaterEqualStencilFunc, GreaterStencilFunc, GridHelper, Group, HalfFloatType, HemisphereLight, HemisphereLightHelper, HemisphereLightProbe, IcosahedronGeometry as IcosahedronBufferGeometry, IcosahedronGeometry, ImageBitmapLoader, ImageLoader, ImageUtils, ImmediateRenderObject, IncrementStencilOp, IncrementWrapStencilOp, InstancedBufferAttribute, InstancedBufferGeometry, InstancedInterleavedBuffer, InstancedMesh, Int16Attribute, Int16BufferAttribute, Int32Attribute, Int32BufferAttribute, Int8Attribute, Int8BufferAttribute, IntType, InterleavedBuffer, InterleavedBufferAttribute, Interpolant, InterpolateDiscrete, InterpolateLinear, InterpolateSmooth, InvertStencilOp, JSONLoader, KeepStencilOp, KeyframeTrack, LOD, LatheGeometry as LatheBufferGeometry, LatheGeometry, Layers, LensFlare, LessDepth, LessEqualDepth, LessEqualStencilFunc, LessStencilFunc, Light, LightProbe, Line, Line3, LineBasicMaterial, LineCurve, LineCurve3, LineDashedMaterial, LineLoop, LinePieces, LineSegments, LineStrip, LinearEncoding, LinearFilter, LinearInterpolant, LinearMipMapLinearFilter, LinearMipMapNearestFilter, LinearMipmapLinearFilter, LinearMipmapNearestFilter, LinearToneMapping, Loader, LoaderUtils, LoadingManager, LogLuvEncoding, LoopOnce, LoopPingPong, LoopRepeat, LuminanceAlphaFormat, LuminanceFormat, MOUSE, Material, MaterialLoader, MathUtils as Math, MathUtils, Matrix3, Matrix4, MaxEquation, Mesh, MeshBasicMaterial, MeshDepthMaterial, MeshDistanceMaterial, MeshFaceMaterial, MeshLambertMaterial, MeshMatcapMaterial, MeshNormalMaterial, MeshPhongMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MeshToonMaterial, MinEquation, MirroredRepeatWrapping, MixOperation, MultiMaterial, MultiplyBlending, MultiplyOperation, NearestFilter, NearestMipMapLinearFilter, NearestMipMapNearestFilter, NearestMipmapLinearFilter, NearestMipmapNearestFilter, NeverDepth, NeverStencilFunc, NoBlending, NoColors, NoToneMapping, NormalAnimationBlendMode, NormalBlending, NotEqualDepth, NotEqualStencilFunc, NumberKeyframeTrack, Object3D, ObjectLoader, ObjectSpaceNormalMap, OctahedronGeometry as OctahedronBufferGeometry, OctahedronGeometry, OneFactor, OneMinusDstAlphaFactor, OneMinusDstColorFactor, OneMinusSrcAlphaFactor, OneMinusSrcColorFactor, OrthographicCamera, PCFShadowMap, PCFSoftShadowMap, PMREMGenerator, ParametricGeometry as ParametricBufferGeometry, ParametricGeometry, Particle, ParticleBasicMaterial, ParticleSystem, ParticleSystemMaterial, Path, PerspectiveCamera, Plane, PlaneGeometry as PlaneBufferGeometry, PlaneGeometry, PlaneHelper, PointCloud, PointCloudMaterial, PointLight, PointLightHelper, Points, PointsMaterial, PolarGridHelper, PolyhedronGeometry as PolyhedronBufferGeometry, PolyhedronGeometry, PositionalAudio, PropertyBinding, PropertyMixer, QuadraticBezierCurve, QuadraticBezierCurve3, Quaternion, QuaternionKeyframeTrack, QuaternionLinearInterpolant, REVISION, RGBADepthPacking, RGBAFormat, RGBAIntegerFormat, RGBA_ASTC_10x10_Format, RGBA_ASTC_10x5_Format, RGBA_ASTC_10x6_Format, RGBA_ASTC_10x8_Format, RGBA_ASTC_12x10_Format, RGBA_ASTC_12x12_Format, RGBA_ASTC_4x4_Format, RGBA_ASTC_5x4_Format, RGBA_ASTC_5x5_Format, RGBA_ASTC_6x5_Format, RGBA_ASTC_6x6_Format, RGBA_ASTC_8x5_Format, RGBA_ASTC_8x6_Format, RGBA_ASTC_8x8_Format, RGBA_BPTC_Format, RGBA_ETC2_EAC_Format, RGBA_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_S3TC_DXT1_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT5_Format, RGBDEncoding, RGBEEncoding, RGBEFormat, RGBFormat, RGBIntegerFormat, RGBM16Encoding, RGBM7Encoding, RGB_ETC1_Format, RGB_ETC2_Format, RGB_PVRTC_2BPPV1_Format, RGB_PVRTC_4BPPV1_Format, RGB_S3TC_DXT1_Format, RGFormat, RGIntegerFormat, RawShaderMaterial, Ray, Raycaster, RectAreaLight, RedFormat, RedIntegerFormat, ReinhardToneMapping, RepeatWrapping, ReplaceStencilOp, ReverseSubtractEquation, RingGeometry as RingBufferGeometry, RingGeometry, SRGB8_ALPHA8_ASTC_10x10_Format, SRGB8_ALPHA8_ASTC_10x5_Format, SRGB8_ALPHA8_ASTC_10x6_Format, SRGB8_ALPHA8_ASTC_10x8_Format, SRGB8_ALPHA8_ASTC_12x10_Format, SRGB8_ALPHA8_ASTC_12x12_Format, SRGB8_ALPHA8_ASTC_4x4_Format, SRGB8_ALPHA8_ASTC_5x4_Format, SRGB8_ALPHA8_ASTC_5x5_Format, SRGB8_ALPHA8_ASTC_6x5_Format, SRGB8_ALPHA8_ASTC_6x6_Format, SRGB8_ALPHA8_ASTC_8x5_Format, SRGB8_ALPHA8_ASTC_8x6_Format, SRGB8_ALPHA8_ASTC_8x8_Format, Scene, SceneUtils, ShaderChunk, ShaderLib, ShaderMaterial, ShadowMaterial, Shape, ShapeGeometry as ShapeBufferGeometry, ShapeGeometry, ShapePath, ShapeUtils, ShortType, Skeleton, SkeletonHelper, SkinnedMesh, SmoothShading, Sphere, SphereGeometry as SphereBufferGeometry, SphereGeometry, Spherical, SphericalHarmonics3, SplineCurve, SpotLight, SpotLightHelper, Sprite, SpriteMaterial, SrcAlphaFactor, SrcAlphaSaturateFactor, SrcColorFactor, StaticCopyUsage, StaticDrawUsage, StaticReadUsage, StereoCamera, StreamCopyUsage, StreamDrawUsage, StreamReadUsage, StringKeyframeTrack, SubtractEquation, SubtractiveBlending, TOUCH, TangentSpaceNormalMap, TetrahedronGeometry as TetrahedronBufferGeometry, TetrahedronGeometry, TextGeometry as TextBufferGeometry, TextGeometry, Texture, TextureLoader, TorusGeometry as TorusBufferGeometry, TorusGeometry, TorusKnotGeometry as TorusKnotBufferGeometry, TorusKnotGeometry, Triangle, TriangleFanDrawMode, TriangleStripDrawMode, TrianglesDrawMode, TubeGeometry as TubeBufferGeometry, TubeGeometry, UVMapping, Uint16Attribute, Uint16BufferAttribute, Uint32Attribute, Uint32BufferAttribute, Uint8Attribute, Uint8BufferAttribute, Uint8ClampedAttribute, Uint8ClampedBufferAttribute, Uniform, UniformsLib, UniformsUtils, UnsignedByteType, UnsignedInt248Type, UnsignedIntType, UnsignedShort4444Type, UnsignedShort5551Type, UnsignedShort565Type, UnsignedShortType, VSMShadowMap, Vector2, Vector3, Vector4, VectorKeyframeTrack, Vertex, VertexColors, VideoTexture, WebGL1Renderer, WebGLCubeRenderTarget, WebGLMultisampleRenderTarget, WebGLRenderTarget, WebGLRenderTargetCube, WebGLRenderer, WebGLUtils, WireframeGeometry, WireframeHelper, WrapAroundEnding, XHRLoader, ZeroCurvatureEnding, ZeroFactor, ZeroSlopeEnding, ZeroStencilOp, sRGBEncoding };\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","let updateQueue = makeQueue();\nconst raf = (fn) => schedule(fn, updateQueue);\nlet writeQueue = makeQueue();\nraf.write = (fn) => schedule(fn, writeQueue);\nlet onStartQueue = makeQueue();\nraf.onStart = (fn) => schedule(fn, onStartQueue);\nlet onFrameQueue = makeQueue();\nraf.onFrame = (fn) => schedule(fn, onFrameQueue);\nlet onFinishQueue = makeQueue();\nraf.onFinish = (fn) => schedule(fn, onFinishQueue);\nlet timeouts = [];\nraf.setTimeout = (handler, ms) => {\n  let time = raf.now() + ms;\n  let cancel = () => {\n    let i = timeouts.findIndex((t) => t.cancel == cancel);\n    if (~i)\n      timeouts.splice(i, 1);\n    __raf.count -= ~i ? 1 : 0;\n  };\n  let timeout = {time, handler, cancel};\n  timeouts.splice(findTimeout(time), 0, timeout);\n  __raf.count += 1;\n  start();\n  return timeout;\n};\nlet findTimeout = (time) => ~(~timeouts.findIndex((t) => t.time > time) || ~timeouts.length);\nraf.cancel = (fn) => {\n  updateQueue.delete(fn);\n  writeQueue.delete(fn);\n};\nraf.sync = (fn) => {\n  sync = true;\n  raf.batchedUpdates(fn);\n  sync = false;\n};\nraf.throttle = (fn) => {\n  let lastArgs;\n  function queuedFn() {\n    try {\n      fn(...lastArgs);\n    } finally {\n      lastArgs = null;\n    }\n  }\n  function throttled(...args) {\n    lastArgs = args;\n    raf.onStart(queuedFn);\n  }\n  throttled.handler = fn;\n  throttled.cancel = () => {\n    onStartQueue.delete(queuedFn);\n    lastArgs = null;\n  };\n  return throttled;\n};\nlet nativeRaf = typeof window != \"undefined\" ? window.requestAnimationFrame : () => {\n};\nraf.use = (impl) => nativeRaf = impl;\nraf.now = typeof performance != \"undefined\" ? () => performance.now() : Date.now;\nraf.batchedUpdates = (fn) => fn();\nraf.catch = console.error;\nlet ts = -1;\nlet sync = false;\nfunction schedule(fn, queue) {\n  if (sync) {\n    queue.delete(fn);\n    fn(0);\n  } else {\n    queue.add(fn);\n    start();\n  }\n}\nfunction start() {\n  if (ts < 0) {\n    ts = 0;\n    nativeRaf(loop);\n  }\n}\nfunction loop() {\n  if (~ts) {\n    nativeRaf(loop);\n    raf.batchedUpdates(update);\n  }\n}\nfunction update() {\n  let prevTs = ts;\n  ts = raf.now();\n  let count = findTimeout(ts);\n  if (count) {\n    eachSafely(timeouts.splice(0, count), (t) => t.handler());\n    __raf.count -= count;\n  }\n  onStartQueue.flush();\n  updateQueue.flush(prevTs ? Math.min(64, ts - prevTs) : 16.667);\n  onFrameQueue.flush();\n  writeQueue.flush();\n  onFinishQueue.flush();\n}\nfunction makeQueue() {\n  let next = new Set();\n  let current = next;\n  return {\n    add(fn) {\n      __raf.count += current == next && !next.has(fn) ? 1 : 0;\n      next.add(fn);\n    },\n    delete(fn) {\n      __raf.count -= current == next && next.has(fn) ? 1 : 0;\n      return next.delete(fn);\n    },\n    flush(arg) {\n      if (current.size) {\n        next = new Set();\n        __raf.count -= current.size;\n        eachSafely(current, (fn) => fn(arg) && next.add(fn));\n        __raf.count += next.size;\n        current = next;\n      }\n    }\n  };\n}\nfunction eachSafely(values, each) {\n  values.forEach((value) => {\n    try {\n      each(value);\n    } catch (e) {\n      raf.catch(e);\n    }\n  });\n}\nconst __raf = {\n  count: 0,\n  clear() {\n    ts = -1;\n    timeouts = [];\n    onStartQueue = makeQueue();\n    updateQueue = makeQueue();\n    onFrameQueue = makeQueue();\n    writeQueue = makeQueue();\n    onFinishQueue = makeQueue();\n    __raf.count = 0;\n  }\n};\n\nexport { __raf, raf };\n//# sourceMappingURL=raf.mjs.map\n","import { eachProp, is, toArray, isAnimatedString, Globals, getFluidValue, useLayoutEffect, each, raf, flush, FluidValue, deprecateInterpolate, callFluidObservers, frameLoop, hasFluidValue, flushCalls, isEqual, getFluidObservers, addFluidObserver, removeFluidObserver, noop, useMemoOne, deprecateDirectCall, useForceUpdate, usePrev, useOnce, createInterpolator, createStringInterpolator } from '@react-spring/shared';\nexport { Globals, createInterpolator } from '@react-spring/shared';\nimport { useContext, createElement, createContext, useMemo, useRef, useState, Fragment } from 'react';\nimport { getAnimated, AnimatedValue, getPayload, AnimatedString, getAnimatedType, setAnimated } from '@react-spring/animated';\nexport * from '@react-spring/types/animated';\nexport * from '@react-spring/types/interpolation';\n\nfunction callProp(value, ...args) {\n  return is.fun(value) ? value(...args) : value;\n}\nconst matchProp = (value, key) => value === true || !!(key && value && (is.fun(value) ? value(key) : toArray(value).includes(key)));\nconst resolveProp = (prop, key) => is.obj(prop) ? key && prop[key] : prop;\nconst getDefaultProp = (props, key) => props.default === true ? props[key] : props.default ? props.default[key] : void 0;\nconst noopTransform = (value) => value;\nconst getDefaultProps = (props, transform = noopTransform) => {\n  let keys = DEFAULT_PROPS;\n  if (props.default && props.default !== true) {\n    props = props.default;\n    keys = Object.keys(props);\n  }\n  const defaults = {};\n  for (const key of keys) {\n    const value = transform(props[key], key);\n    if (!is.und(value)) {\n      defaults[key] = value;\n    }\n  }\n  return defaults;\n};\nconst DEFAULT_PROPS = [\n  \"config\",\n  \"onProps\",\n  \"onStart\",\n  \"onChange\",\n  \"onPause\",\n  \"onResume\",\n  \"onRest\"\n];\nconst RESERVED_PROPS = {\n  config: 1,\n  from: 1,\n  to: 1,\n  ref: 1,\n  loop: 1,\n  reset: 1,\n  pause: 1,\n  cancel: 1,\n  reverse: 1,\n  immediate: 1,\n  default: 1,\n  delay: 1,\n  onProps: 1,\n  onStart: 1,\n  onChange: 1,\n  onPause: 1,\n  onResume: 1,\n  onRest: 1,\n  onResolve: 1,\n  items: 1,\n  trail: 1,\n  sort: 1,\n  expires: 1,\n  initial: 1,\n  enter: 1,\n  update: 1,\n  leave: 1,\n  children: 1,\n  onDestroyed: 1,\n  keys: 1,\n  callId: 1,\n  parentId: 1\n};\nfunction getForwardProps(props) {\n  const forward = {};\n  let count = 0;\n  eachProp(props, (value, prop) => {\n    if (!RESERVED_PROPS[prop]) {\n      forward[prop] = value;\n      count++;\n    }\n  });\n  if (count) {\n    return forward;\n  }\n}\nfunction inferTo(props) {\n  const to = getForwardProps(props);\n  if (to) {\n    const out = {to};\n    eachProp(props, (val, key) => key in to || (out[key] = val));\n    return out;\n  }\n  return {...props};\n}\nfunction computeGoal(value) {\n  value = getFluidValue(value);\n  return is.arr(value) ? value.map(computeGoal) : isAnimatedString(value) ? Globals.createStringInterpolator({\n    range: [0, 1],\n    output: [value, value]\n  })(1) : value;\n}\nfunction hasProps(props) {\n  for (const _ in props)\n    return true;\n  return false;\n}\nfunction isAsyncTo(to) {\n  return is.fun(to) || is.arr(to) && is.obj(to[0]);\n}\nfunction detachRefs(ctrl, ref) {\n  var _a;\n  (_a = ctrl.ref) == null ? void 0 : _a.delete(ctrl);\n  ref == null ? void 0 : ref.delete(ctrl);\n}\nfunction replaceRef(ctrl, ref) {\n  var _a;\n  if (ref && ctrl.ref !== ref) {\n    (_a = ctrl.ref) == null ? void 0 : _a.delete(ctrl);\n    ref.add(ctrl);\n    ctrl.ref = ref;\n  }\n}\n\nfunction useChain(refs, timeSteps, timeFrame = 1e3) {\n  useLayoutEffect(() => {\n    if (timeSteps) {\n      let prevDelay = 0;\n      each(refs, (ref, i) => {\n        const controllers = ref.current;\n        if (controllers.length) {\n          let delay = timeFrame * timeSteps[i];\n          if (isNaN(delay))\n            delay = prevDelay;\n          else\n            prevDelay = delay;\n          each(controllers, (ctrl) => {\n            each(ctrl.queue, (props) => {\n              const memoizedDelayProp = props.delay;\n              props.delay = (key) => delay + callProp(memoizedDelayProp || 0, key);\n            });\n            ctrl.start();\n          });\n        }\n      });\n    } else {\n      let p = Promise.resolve();\n      each(refs, (ref) => {\n        const controllers = ref.current;\n        if (controllers.length) {\n          const queues = controllers.map((ctrl) => {\n            const q = ctrl.queue;\n            ctrl.queue = [];\n            return q;\n          });\n          p = p.then(() => {\n            each(controllers, (ctrl, i) => each(queues[i] || [], (update) => ctrl.queue.push(update)));\n            return ref.start();\n          });\n        }\n      });\n    }\n  });\n}\n\nconst config = {\n  default: {tension: 170, friction: 26},\n  gentle: {tension: 120, friction: 14},\n  wobbly: {tension: 180, friction: 12},\n  stiff: {tension: 210, friction: 20},\n  slow: {tension: 280, friction: 60},\n  molasses: {tension: 280, friction: 120}\n};\n\nconst linear = (t) => t;\nconst defaults = {\n  ...config.default,\n  mass: 1,\n  damping: 1,\n  easing: linear,\n  clamp: false\n};\nclass AnimationConfig {\n  constructor() {\n    this.velocity = 0;\n    Object.assign(this, defaults);\n  }\n}\nfunction mergeConfig(config, newConfig, defaultConfig) {\n  if (defaultConfig) {\n    defaultConfig = {...defaultConfig};\n    sanitizeConfig(defaultConfig, newConfig);\n    newConfig = {...defaultConfig, ...newConfig};\n  }\n  sanitizeConfig(config, newConfig);\n  Object.assign(config, newConfig);\n  for (const key in defaults) {\n    if (config[key] == null) {\n      config[key] = defaults[key];\n    }\n  }\n  let {mass, frequency, damping} = config;\n  if (!is.und(frequency)) {\n    if (frequency < 0.01)\n      frequency = 0.01;\n    if (damping < 0)\n      damping = 0;\n    config.tension = Math.pow(2 * Math.PI / frequency, 2) * mass;\n    config.friction = 4 * Math.PI * damping * mass / frequency;\n  }\n  return config;\n}\nfunction sanitizeConfig(config, props) {\n  if (!is.und(props.decay)) {\n    config.duration = void 0;\n  } else {\n    const isTensionConfig = !is.und(props.tension) || !is.und(props.friction);\n    if (isTensionConfig || !is.und(props.frequency) || !is.und(props.damping) || !is.und(props.mass)) {\n      config.duration = void 0;\n      config.decay = void 0;\n    }\n    if (isTensionConfig) {\n      config.frequency = void 0;\n    }\n  }\n}\n\nconst emptyArray = [];\nclass Animation {\n  constructor() {\n    this.changed = false;\n    this.values = emptyArray;\n    this.toValues = null;\n    this.fromValues = emptyArray;\n    this.config = new AnimationConfig();\n    this.immediate = false;\n  }\n}\n\nfunction scheduleProps(callId, {key, props, defaultProps, state, actions}) {\n  return new Promise((resolve, reject) => {\n    var _a;\n    let delay;\n    let timeout;\n    let cancel = matchProp((_a = props.cancel) != null ? _a : defaultProps == null ? void 0 : defaultProps.cancel, key);\n    if (cancel) {\n      onStart();\n    } else {\n      if (!is.und(props.pause)) {\n        state.paused = matchProp(props.pause, key);\n      }\n      let pause = defaultProps == null ? void 0 : defaultProps.pause;\n      if (pause !== true) {\n        pause = state.paused || matchProp(pause, key);\n      }\n      delay = callProp(props.delay || 0, key);\n      if (pause) {\n        state.resumeQueue.add(onResume);\n        actions.pause();\n      } else {\n        actions.resume();\n        onResume();\n      }\n    }\n    function onPause() {\n      state.resumeQueue.add(onResume);\n      state.timeouts.delete(timeout);\n      timeout.cancel();\n      delay = timeout.time - raf.now();\n    }\n    function onResume() {\n      if (delay > 0) {\n        timeout = raf.setTimeout(onStart, delay);\n        state.pauseQueue.add(onPause);\n        state.timeouts.add(timeout);\n      } else {\n        onStart();\n      }\n    }\n    function onStart() {\n      state.pauseQueue.delete(onPause);\n      state.timeouts.delete(timeout);\n      if (callId <= (state.cancelId || 0)) {\n        cancel = true;\n      }\n      try {\n        actions.start({...props, callId, cancel}, resolve);\n      } catch (err) {\n        reject(err);\n      }\n    }\n  });\n}\n\nconst getCombinedResult = (target, results) => results.length == 1 ? results[0] : results.some((result) => result.cancelled) ? getCancelledResult(target.get()) : results.every((result) => result.noop) ? getNoopResult(target.get()) : getFinishedResult(target.get(), results.every((result) => result.finished));\nconst getNoopResult = (value) => ({\n  value,\n  noop: true,\n  finished: true,\n  cancelled: false\n});\nconst getFinishedResult = (value, finished, cancelled = false) => ({\n  value,\n  finished,\n  cancelled\n});\nconst getCancelledResult = (value) => ({\n  value,\n  cancelled: true,\n  finished: false\n});\n\nfunction runAsync(to, props, state, target) {\n  const {callId, parentId, onRest} = props;\n  const {asyncTo: prevTo, promise: prevPromise} = state;\n  if (!parentId && to === prevTo && !props.reset) {\n    return prevPromise;\n  }\n  return state.promise = (async () => {\n    state.asyncId = callId;\n    state.asyncTo = to;\n    const defaultProps = getDefaultProps(props, (value, key) => key === \"onRest\" ? void 0 : value);\n    let preventBail;\n    let bail;\n    const bailPromise = new Promise((resolve, reject) => (preventBail = resolve, bail = reject));\n    const bailIfEnded = (bailSignal) => {\n      const bailResult = callId <= (state.cancelId || 0) && getCancelledResult(target) || callId !== state.asyncId && getFinishedResult(target, false);\n      if (bailResult) {\n        bailSignal.result = bailResult;\n        bail(bailSignal);\n        throw bailSignal;\n      }\n    };\n    const animate = (arg1, arg2) => {\n      const bailSignal = new BailSignal();\n      const skipAnimationSignal = new SkipAniamtionSignal();\n      return (async () => {\n        if (Globals.skipAnimation) {\n          stopAsync(state);\n          skipAnimationSignal.result = getFinishedResult(target, false);\n          bail(skipAnimationSignal);\n          throw skipAnimationSignal;\n        }\n        bailIfEnded(bailSignal);\n        const props2 = is.obj(arg1) ? {...arg1} : {...arg2, to: arg1};\n        props2.parentId = callId;\n        eachProp(defaultProps, (value, key) => {\n          if (is.und(props2[key])) {\n            props2[key] = value;\n          }\n        });\n        const result2 = await target.start(props2);\n        bailIfEnded(bailSignal);\n        if (state.paused) {\n          await new Promise((resume) => {\n            state.resumeQueue.add(resume);\n          });\n        }\n        return result2;\n      })();\n    };\n    let result;\n    if (Globals.skipAnimation) {\n      stopAsync(state);\n      return getFinishedResult(target, false);\n    }\n    try {\n      let animating;\n      if (is.arr(to)) {\n        animating = (async (queue) => {\n          for (const props2 of queue) {\n            await animate(props2);\n          }\n        })(to);\n      } else {\n        animating = Promise.resolve(to(animate, target.stop.bind(target)));\n      }\n      await Promise.all([animating.then(preventBail), bailPromise]);\n      result = getFinishedResult(target.get(), true, false);\n    } catch (err) {\n      if (err instanceof BailSignal) {\n        result = err.result;\n      } else if (err instanceof SkipAniamtionSignal) {\n        result = err.result;\n      } else {\n        throw err;\n      }\n    } finally {\n      if (callId == state.asyncId) {\n        state.asyncId = parentId;\n        state.asyncTo = parentId ? prevTo : void 0;\n        state.promise = parentId ? prevPromise : void 0;\n      }\n    }\n    if (is.fun(onRest)) {\n      raf.batchedUpdates(() => {\n        onRest(result, target, target.item);\n      });\n    }\n    return result;\n  })();\n}\nfunction stopAsync(state, cancelId) {\n  flush(state.timeouts, (t) => t.cancel());\n  state.pauseQueue.clear();\n  state.resumeQueue.clear();\n  state.asyncId = state.asyncTo = state.promise = void 0;\n  if (cancelId)\n    state.cancelId = cancelId;\n}\nclass BailSignal extends Error {\n  constructor() {\n    super(\"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.\");\n  }\n}\nclass SkipAniamtionSignal extends Error {\n  constructor() {\n    super(\"SkipAnimationSignal\");\n  }\n}\n\nconst isFrameValue = (value) => value instanceof FrameValue;\nlet nextId = 1;\nclass FrameValue extends FluidValue {\n  constructor() {\n    super(...arguments);\n    this.id = nextId++;\n    this._priority = 0;\n  }\n  get priority() {\n    return this._priority;\n  }\n  set priority(priority) {\n    if (this._priority != priority) {\n      this._priority = priority;\n      this._onPriorityChange(priority);\n    }\n  }\n  get() {\n    const node = getAnimated(this);\n    return node && node.getValue();\n  }\n  to(...args) {\n    return Globals.to(this, args);\n  }\n  interpolate(...args) {\n    deprecateInterpolate();\n    return Globals.to(this, args);\n  }\n  toJSON() {\n    return this.get();\n  }\n  observerAdded(count) {\n    if (count == 1)\n      this._attach();\n  }\n  observerRemoved(count) {\n    if (count == 0)\n      this._detach();\n  }\n  _attach() {\n  }\n  _detach() {\n  }\n  _onChange(value, idle = false) {\n    callFluidObservers(this, {\n      type: \"change\",\n      parent: this,\n      value,\n      idle\n    });\n  }\n  _onPriorityChange(priority) {\n    if (!this.idle) {\n      frameLoop.sort(this);\n    }\n    callFluidObservers(this, {\n      type: \"priority\",\n      parent: this,\n      priority\n    });\n  }\n}\n\nconst $P = Symbol.for(\"SpringPhase\");\nconst HAS_ANIMATED = 1;\nconst IS_ANIMATING = 2;\nconst IS_PAUSED = 4;\nconst hasAnimated = (target) => (target[$P] & HAS_ANIMATED) > 0;\nconst isAnimating = (target) => (target[$P] & IS_ANIMATING) > 0;\nconst isPaused = (target) => (target[$P] & IS_PAUSED) > 0;\nconst setActiveBit = (target, active) => active ? target[$P] |= IS_ANIMATING | HAS_ANIMATED : target[$P] &= ~IS_ANIMATING;\nconst setPausedBit = (target, paused) => paused ? target[$P] |= IS_PAUSED : target[$P] &= ~IS_PAUSED;\n\nclass SpringValue extends FrameValue {\n  constructor(arg1, arg2) {\n    super();\n    this.animation = new Animation();\n    this.defaultProps = {};\n    this._state = {\n      paused: false,\n      pauseQueue: new Set(),\n      resumeQueue: new Set(),\n      timeouts: new Set()\n    };\n    this._pendingCalls = new Set();\n    this._lastCallId = 0;\n    this._lastToId = 0;\n    this._memoizedDuration = 0;\n    if (!is.und(arg1) || !is.und(arg2)) {\n      const props = is.obj(arg1) ? {...arg1} : {...arg2, from: arg1};\n      if (is.und(props.default)) {\n        props.default = true;\n      }\n      this.start(props);\n    }\n  }\n  get idle() {\n    return !(isAnimating(this) || this._state.asyncTo) || isPaused(this);\n  }\n  get goal() {\n    return getFluidValue(this.animation.to);\n  }\n  get velocity() {\n    const node = getAnimated(this);\n    return node instanceof AnimatedValue ? node.lastVelocity || 0 : node.getPayload().map((node2) => node2.lastVelocity || 0);\n  }\n  get hasAnimated() {\n    return hasAnimated(this);\n  }\n  get isAnimating() {\n    return isAnimating(this);\n  }\n  get isPaused() {\n    return isPaused(this);\n  }\n  advance(dt) {\n    let idle = true;\n    let changed = false;\n    const anim = this.animation;\n    let {config, toValues} = anim;\n    const payload = getPayload(anim.to);\n    if (!payload && hasFluidValue(anim.to)) {\n      toValues = toArray(getFluidValue(anim.to));\n    }\n    anim.values.forEach((node2, i) => {\n      if (node2.done)\n        return;\n      const to = node2.constructor == AnimatedString ? 1 : payload ? payload[i].lastPosition : toValues[i];\n      let finished = anim.immediate;\n      let position = to;\n      if (!finished) {\n        position = node2.lastPosition;\n        if (config.tension <= 0) {\n          node2.done = true;\n          return;\n        }\n        let elapsed = node2.elapsedTime += dt;\n        const from = anim.fromValues[i];\n        const v0 = node2.v0 != null ? node2.v0 : node2.v0 = is.arr(config.velocity) ? config.velocity[i] : config.velocity;\n        let velocity;\n        if (!is.und(config.duration)) {\n          let p = 1;\n          if (config.duration > 0) {\n            if (this._memoizedDuration !== config.duration) {\n              this._memoizedDuration = config.duration;\n              if (node2.durationProgress > 0) {\n                node2.elapsedTime = config.duration * node2.durationProgress;\n                elapsed = node2.elapsedTime += dt;\n              }\n            }\n            p = (config.progress || 0) + elapsed / this._memoizedDuration;\n            p = p > 1 ? 1 : p < 0 ? 0 : p;\n            node2.durationProgress = p;\n          }\n          position = from + config.easing(p) * (to - from);\n          velocity = (position - node2.lastPosition) / dt;\n          finished = p == 1;\n        } else if (config.decay) {\n          const decay = config.decay === true ? 0.998 : config.decay;\n          const e = Math.exp(-(1 - decay) * elapsed);\n          position = from + v0 / (1 - decay) * (1 - e);\n          finished = Math.abs(node2.lastPosition - position) < 0.1;\n          velocity = v0 * e;\n        } else {\n          velocity = node2.lastVelocity == null ? v0 : node2.lastVelocity;\n          const precision = config.precision || (from == to ? 5e-3 : Math.min(1, Math.abs(to - from) * 1e-3));\n          const restVelocity = config.restVelocity || precision / 10;\n          const bounceFactor = config.clamp ? 0 : config.bounce;\n          const canBounce = !is.und(bounceFactor);\n          const isGrowing = from == to ? node2.v0 > 0 : from < to;\n          let isMoving;\n          let isBouncing = false;\n          const step = 1;\n          const numSteps = Math.ceil(dt / step);\n          for (let n = 0; n < numSteps; ++n) {\n            isMoving = Math.abs(velocity) > restVelocity;\n            if (!isMoving) {\n              finished = Math.abs(to - position) <= precision;\n              if (finished) {\n                break;\n              }\n            }\n            if (canBounce) {\n              isBouncing = position == to || position > to == isGrowing;\n              if (isBouncing) {\n                velocity = -velocity * bounceFactor;\n                position = to;\n              }\n            }\n            const springForce = -config.tension * 1e-6 * (position - to);\n            const dampingForce = -config.friction * 1e-3 * velocity;\n            const acceleration = (springForce + dampingForce) / config.mass;\n            velocity = velocity + acceleration * step;\n            position = position + velocity * step;\n          }\n        }\n        node2.lastVelocity = velocity;\n        if (Number.isNaN(position)) {\n          console.warn(`Got NaN while animating:`, this);\n          finished = true;\n        }\n      }\n      if (payload && !payload[i].done) {\n        finished = false;\n      }\n      if (finished) {\n        node2.done = true;\n      } else {\n        idle = false;\n      }\n      if (node2.setValue(position, config.round)) {\n        changed = true;\n      }\n    });\n    const node = getAnimated(this);\n    if (idle) {\n      const value = getFluidValue(anim.to);\n      if (node.setValue(value) || changed) {\n        this._onChange(value);\n      }\n      this._stop();\n    } else if (changed) {\n      this._onChange(node.getValue());\n    }\n  }\n  set(value) {\n    raf.batchedUpdates(() => {\n      this._stop();\n      this._focus(value);\n      this._set(value);\n    });\n    return this;\n  }\n  pause() {\n    this._update({pause: true});\n  }\n  resume() {\n    this._update({pause: false});\n  }\n  finish() {\n    if (isAnimating(this)) {\n      const {to, config} = this.animation;\n      raf.batchedUpdates(() => {\n        this._onStart();\n        if (!config.decay) {\n          this._set(to, false);\n        }\n        this._stop();\n      });\n    }\n    return this;\n  }\n  update(props) {\n    const queue = this.queue || (this.queue = []);\n    queue.push(props);\n    return this;\n  }\n  start(to, arg2) {\n    let queue;\n    if (!is.und(to)) {\n      queue = [is.obj(to) ? to : {...arg2, to}];\n    } else {\n      queue = this.queue || [];\n      this.queue = [];\n    }\n    return Promise.all(queue.map((props) => this._update(props))).then((results) => getCombinedResult(this, results));\n  }\n  stop(cancel) {\n    const {to} = this.animation;\n    this._focus(this.get());\n    stopAsync(this._state, cancel && this._lastCallId);\n    raf.batchedUpdates(() => this._stop(to, cancel));\n    return this;\n  }\n  reset() {\n    this._update({reset: true});\n  }\n  eventObserved(event) {\n    if (event.type == \"change\") {\n      this._start();\n    } else if (event.type == \"priority\") {\n      this.priority = event.priority + 1;\n    }\n  }\n  _prepareNode(props) {\n    const key = this.key || \"\";\n    let {to, from} = props;\n    to = is.obj(to) ? to[key] : to;\n    if (to == null || isAsyncTo(to)) {\n      to = void 0;\n    }\n    from = is.obj(from) ? from[key] : from;\n    if (from == null) {\n      from = void 0;\n    }\n    const range = {to, from};\n    if (!hasAnimated(this)) {\n      if (props.reverse)\n        [to, from] = [from, to];\n      from = getFluidValue(from);\n      if (!is.und(from)) {\n        this._set(from);\n      } else if (!getAnimated(this)) {\n        this._set(to);\n      }\n    }\n    return range;\n  }\n  _update({...props}, isLoop) {\n    const {key, defaultProps} = this;\n    if (props.default)\n      Object.assign(defaultProps, getDefaultProps(props, (value, prop) => /^on/.test(prop) ? resolveProp(value, key) : value));\n    mergeActiveFn(this, props, \"onProps\");\n    sendEvent(this, \"onProps\", props, this);\n    const range = this._prepareNode(props);\n    if (Object.isFrozen(this)) {\n      throw Error(\"Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?\");\n    }\n    const state = this._state;\n    return scheduleProps(++this._lastCallId, {\n      key,\n      props,\n      defaultProps,\n      state,\n      actions: {\n        pause: () => {\n          if (!isPaused(this)) {\n            setPausedBit(this, true);\n            flushCalls(state.pauseQueue);\n            sendEvent(this, \"onPause\", getFinishedResult(this, checkFinished(this, this.animation.to)), this);\n          }\n        },\n        resume: () => {\n          if (isPaused(this)) {\n            setPausedBit(this, false);\n            if (isAnimating(this)) {\n              this._resume();\n            }\n            flushCalls(state.resumeQueue);\n            sendEvent(this, \"onResume\", getFinishedResult(this, checkFinished(this, this.animation.to)), this);\n          }\n        },\n        start: this._merge.bind(this, range)\n      }\n    }).then((result) => {\n      if (props.loop && result.finished && !(isLoop && result.noop)) {\n        const nextProps = createLoopUpdate(props);\n        if (nextProps) {\n          return this._update(nextProps, true);\n        }\n      }\n      return result;\n    });\n  }\n  _merge(range, props, resolve) {\n    if (props.cancel) {\n      this.stop(true);\n      return resolve(getCancelledResult(this));\n    }\n    const hasToProp = !is.und(range.to);\n    const hasFromProp = !is.und(range.from);\n    if (hasToProp || hasFromProp) {\n      if (props.callId > this._lastToId) {\n        this._lastToId = props.callId;\n      } else {\n        return resolve(getCancelledResult(this));\n      }\n    }\n    const {key, defaultProps, animation: anim} = this;\n    const {to: prevTo, from: prevFrom} = anim;\n    let {to = prevTo, from = prevFrom} = range;\n    if (hasFromProp && !hasToProp && (!props.default || is.und(to))) {\n      to = from;\n    }\n    if (props.reverse)\n      [to, from] = [from, to];\n    const hasFromChanged = !isEqual(from, prevFrom);\n    if (hasFromChanged) {\n      anim.from = from;\n    }\n    from = getFluidValue(from);\n    const hasToChanged = !isEqual(to, prevTo);\n    if (hasToChanged) {\n      this._focus(to);\n    }\n    const hasAsyncTo = isAsyncTo(props.to);\n    const {config} = anim;\n    const {decay, velocity} = config;\n    if (hasToProp || hasFromProp) {\n      config.velocity = 0;\n    }\n    if (props.config && !hasAsyncTo) {\n      mergeConfig(config, callProp(props.config, key), props.config !== defaultProps.config ? callProp(defaultProps.config, key) : void 0);\n    }\n    let node = getAnimated(this);\n    if (!node || is.und(to)) {\n      return resolve(getFinishedResult(this, true));\n    }\n    const reset = is.und(props.reset) ? hasFromProp && !props.default : !is.und(from) && matchProp(props.reset, key);\n    const value = reset ? from : this.get();\n    const goal = computeGoal(to);\n    const isAnimatable = is.num(goal) || is.arr(goal) || isAnimatedString(goal);\n    const immediate = !hasAsyncTo && (!isAnimatable || matchProp(defaultProps.immediate || props.immediate, key));\n    if (hasToChanged) {\n      const nodeType = getAnimatedType(to);\n      if (nodeType !== node.constructor) {\n        if (immediate) {\n          node = this._set(goal);\n        } else\n          throw Error(`Cannot animate between ${node.constructor.name} and ${nodeType.name}, as the \"to\" prop suggests`);\n      }\n    }\n    const goalType = node.constructor;\n    let started = hasFluidValue(to);\n    let finished = false;\n    if (!started) {\n      const hasValueChanged = reset || !hasAnimated(this) && hasFromChanged;\n      if (hasToChanged || hasValueChanged) {\n        finished = isEqual(computeGoal(value), goal);\n        started = !finished;\n      }\n      if (!isEqual(config.decay, decay) || !isEqual(config.velocity, velocity)) {\n        started = true;\n      }\n    }\n    if (finished && isAnimating(this)) {\n      if (anim.changed && !reset) {\n        started = true;\n      } else if (!started) {\n        this._stop(prevTo);\n      }\n    }\n    if (!hasAsyncTo) {\n      if (started || hasFluidValue(prevTo)) {\n        anim.values = node.getPayload();\n        anim.toValues = hasFluidValue(to) ? null : goalType == AnimatedString ? [1] : toArray(goal);\n      }\n      if (anim.immediate != immediate) {\n        anim.immediate = immediate;\n        if (!immediate && !reset) {\n          this._set(prevTo);\n        }\n      }\n      if (started) {\n        const {onRest} = anim;\n        each(ACTIVE_EVENTS, (type) => mergeActiveFn(this, props, type));\n        const result = getFinishedResult(this, checkFinished(this, prevTo));\n        flushCalls(this._pendingCalls, result);\n        this._pendingCalls.add(resolve);\n        if (anim.changed)\n          raf.batchedUpdates(() => {\n            var _a;\n            anim.changed = !reset;\n            onRest == null ? void 0 : onRest(result, this);\n            if (reset) {\n              callProp(defaultProps.onRest, result);\n            } else {\n              (_a = anim.onStart) == null ? void 0 : _a.call(anim, result, this);\n            }\n          });\n      }\n    }\n    if (reset) {\n      this._set(value);\n    }\n    if (hasAsyncTo) {\n      resolve(runAsync(props.to, props, this._state, this));\n    } else if (started) {\n      this._start();\n    } else if (isAnimating(this) && !hasToChanged) {\n      this._pendingCalls.add(resolve);\n    } else {\n      resolve(getNoopResult(value));\n    }\n  }\n  _focus(value) {\n    const anim = this.animation;\n    if (value !== anim.to) {\n      if (getFluidObservers(this)) {\n        this._detach();\n      }\n      anim.to = value;\n      if (getFluidObservers(this)) {\n        this._attach();\n      }\n    }\n  }\n  _attach() {\n    let priority = 0;\n    const {to} = this.animation;\n    if (hasFluidValue(to)) {\n      addFluidObserver(to, this);\n      if (isFrameValue(to)) {\n        priority = to.priority + 1;\n      }\n    }\n    this.priority = priority;\n  }\n  _detach() {\n    const {to} = this.animation;\n    if (hasFluidValue(to)) {\n      removeFluidObserver(to, this);\n    }\n  }\n  _set(arg, idle = true) {\n    const value = getFluidValue(arg);\n    if (!is.und(value)) {\n      const oldNode = getAnimated(this);\n      if (!oldNode || !isEqual(value, oldNode.getValue())) {\n        const nodeType = getAnimatedType(value);\n        if (!oldNode || oldNode.constructor != nodeType) {\n          setAnimated(this, nodeType.create(value));\n        } else {\n          oldNode.setValue(value);\n        }\n        if (oldNode) {\n          raf.batchedUpdates(() => {\n            this._onChange(value, idle);\n          });\n        }\n      }\n    }\n    return getAnimated(this);\n  }\n  _onStart() {\n    const anim = this.animation;\n    if (!anim.changed) {\n      anim.changed = true;\n      sendEvent(this, \"onStart\", getFinishedResult(this, checkFinished(this, anim.to)), this);\n    }\n  }\n  _onChange(value, idle) {\n    if (!idle) {\n      this._onStart();\n      callProp(this.animation.onChange, value, this);\n    }\n    callProp(this.defaultProps.onChange, value, this);\n    super._onChange(value, idle);\n  }\n  _start() {\n    const anim = this.animation;\n    getAnimated(this).reset(getFluidValue(anim.to));\n    if (!anim.immediate) {\n      anim.fromValues = anim.values.map((node) => node.lastPosition);\n    }\n    if (!isAnimating(this)) {\n      setActiveBit(this, true);\n      if (!isPaused(this)) {\n        this._resume();\n      }\n    }\n  }\n  _resume() {\n    if (Globals.skipAnimation) {\n      this.finish();\n    } else {\n      frameLoop.start(this);\n    }\n  }\n  _stop(goal, cancel) {\n    if (isAnimating(this)) {\n      setActiveBit(this, false);\n      const anim = this.animation;\n      each(anim.values, (node) => {\n        node.done = true;\n      });\n      if (anim.toValues) {\n        anim.onChange = anim.onPause = anim.onResume = void 0;\n      }\n      callFluidObservers(this, {\n        type: \"idle\",\n        parent: this\n      });\n      const result = cancel ? getCancelledResult(this.get()) : getFinishedResult(this.get(), checkFinished(this, goal != null ? goal : anim.to));\n      flushCalls(this._pendingCalls, result);\n      if (anim.changed) {\n        anim.changed = false;\n        sendEvent(this, \"onRest\", result, this);\n      }\n    }\n  }\n}\nfunction checkFinished(target, to) {\n  const goal = computeGoal(to);\n  const value = computeGoal(target.get());\n  return isEqual(value, goal);\n}\nfunction createLoopUpdate(props, loop = props.loop, to = props.to) {\n  let loopRet = callProp(loop);\n  if (loopRet) {\n    const overrides = loopRet !== true && inferTo(loopRet);\n    const reverse = (overrides || props).reverse;\n    const reset = !overrides || overrides.reset;\n    return createUpdate({\n      ...props,\n      loop,\n      default: false,\n      pause: void 0,\n      to: !reverse || isAsyncTo(to) ? to : void 0,\n      from: reset ? props.from : void 0,\n      reset,\n      ...overrides\n    });\n  }\n}\nfunction createUpdate(props) {\n  const {to, from} = props = inferTo(props);\n  const keys = new Set();\n  if (is.obj(to))\n    findDefined(to, keys);\n  if (is.obj(from))\n    findDefined(from, keys);\n  props.keys = keys.size ? Array.from(keys) : null;\n  return props;\n}\nfunction declareUpdate(props) {\n  const update = createUpdate(props);\n  if (is.und(update.default)) {\n    update.default = getDefaultProps(update);\n  }\n  return update;\n}\nfunction findDefined(values, keys) {\n  eachProp(values, (value, key) => value != null && keys.add(key));\n}\nconst ACTIVE_EVENTS = [\n  \"onStart\",\n  \"onRest\",\n  \"onChange\",\n  \"onPause\",\n  \"onResume\"\n];\nfunction mergeActiveFn(target, props, type) {\n  target.animation[type] = props[type] !== getDefaultProp(props, type) ? resolveProp(props[type], target.key) : void 0;\n}\nfunction sendEvent(target, type, ...args) {\n  var _a, _b, _c, _d;\n  (_b = (_a = target.animation)[type]) == null ? void 0 : _b.call(_a, ...args);\n  (_d = (_c = target.defaultProps)[type]) == null ? void 0 : _d.call(_c, ...args);\n}\n\nconst BATCHED_EVENTS = [\"onStart\", \"onChange\", \"onRest\"];\nlet nextId$1 = 1;\nclass Controller {\n  constructor(props, flush2) {\n    this.id = nextId$1++;\n    this.springs = {};\n    this.queue = [];\n    this._lastAsyncId = 0;\n    this._active = new Set();\n    this._changed = new Set();\n    this._started = false;\n    this._state = {\n      paused: false,\n      pauseQueue: new Set(),\n      resumeQueue: new Set(),\n      timeouts: new Set()\n    };\n    this._events = {\n      onStart: new Map(),\n      onChange: new Map(),\n      onRest: new Map()\n    };\n    this._onFrame = this._onFrame.bind(this);\n    if (flush2) {\n      this._flush = flush2;\n    }\n    if (props) {\n      this.start({default: true, ...props});\n    }\n  }\n  get idle() {\n    return !this._state.asyncTo && Object.values(this.springs).every((spring) => spring.idle);\n  }\n  get item() {\n    return this._item;\n  }\n  set item(item) {\n    this._item = item;\n  }\n  get() {\n    const values = {};\n    this.each((spring, key) => values[key] = spring.get());\n    return values;\n  }\n  set(values) {\n    for (const key in values) {\n      const value = values[key];\n      if (!is.und(value)) {\n        this.springs[key].set(value);\n      }\n    }\n  }\n  update(props) {\n    if (props) {\n      this.queue.push(createUpdate(props));\n    }\n    return this;\n  }\n  start(props) {\n    let {queue} = this;\n    if (props) {\n      queue = toArray(props).map(createUpdate);\n    } else {\n      this.queue = [];\n    }\n    if (this._flush) {\n      return this._flush(this, queue);\n    }\n    prepareKeys(this, queue);\n    return flushUpdateQueue(this, queue);\n  }\n  stop(arg, keys) {\n    if (arg !== !!arg) {\n      keys = arg;\n    }\n    if (keys) {\n      const springs = this.springs;\n      each(toArray(keys), (key) => springs[key].stop(!!arg));\n    } else {\n      stopAsync(this._state, this._lastAsyncId);\n      this.each((spring) => spring.stop(!!arg));\n    }\n    return this;\n  }\n  pause(keys) {\n    if (is.und(keys)) {\n      this.start({pause: true});\n    } else {\n      const springs = this.springs;\n      each(toArray(keys), (key) => springs[key].pause());\n    }\n    return this;\n  }\n  resume(keys) {\n    if (is.und(keys)) {\n      this.start({pause: false});\n    } else {\n      const springs = this.springs;\n      each(toArray(keys), (key) => springs[key].resume());\n    }\n    return this;\n  }\n  each(iterator) {\n    eachProp(this.springs, iterator);\n  }\n  _onFrame() {\n    const {onStart, onChange, onRest} = this._events;\n    const active = this._active.size > 0;\n    const changed = this._changed.size > 0;\n    if (active && !this._started || changed && !this._started) {\n      this._started = true;\n      flush(onStart, ([onStart2, result]) => {\n        result.value = this.get();\n        onStart2(result, this, this._item);\n      });\n    }\n    const idle = !active && this._started;\n    const values = changed || idle && onRest.size ? this.get() : null;\n    if (changed && onChange.size) {\n      flush(onChange, ([onChange2, result]) => {\n        result.value = values;\n        onChange2(result, this, this._item);\n      });\n    }\n    if (idle) {\n      this._started = false;\n      flush(onRest, ([onRest2, result]) => {\n        result.value = values;\n        onRest2(result, this, this._item);\n      });\n    }\n  }\n  eventObserved(event) {\n    if (event.type == \"change\") {\n      this._changed.add(event.parent);\n      if (!event.idle) {\n        this._active.add(event.parent);\n      }\n    } else if (event.type == \"idle\") {\n      this._active.delete(event.parent);\n    } else\n      return;\n    raf.onFrame(this._onFrame);\n  }\n}\nfunction flushUpdateQueue(ctrl, queue) {\n  return Promise.all(queue.map((props) => flushUpdate(ctrl, props))).then((results) => getCombinedResult(ctrl, results));\n}\nasync function flushUpdate(ctrl, props, isLoop) {\n  const {keys, to, from, loop, onRest, onResolve} = props;\n  const defaults = is.obj(props.default) && props.default;\n  if (loop) {\n    props.loop = false;\n  }\n  if (to === false)\n    props.to = null;\n  if (from === false)\n    props.from = null;\n  const asyncTo = is.arr(to) || is.fun(to) ? to : void 0;\n  if (asyncTo) {\n    props.to = void 0;\n    props.onRest = void 0;\n    if (defaults) {\n      defaults.onRest = void 0;\n    }\n  } else {\n    each(BATCHED_EVENTS, (key) => {\n      const handler = props[key];\n      if (is.fun(handler)) {\n        const queue = ctrl[\"_events\"][key];\n        props[key] = ({finished, cancelled}) => {\n          const result2 = queue.get(handler);\n          if (result2) {\n            if (!finished)\n              result2.finished = false;\n            if (cancelled)\n              result2.cancelled = true;\n          } else {\n            queue.set(handler, {\n              value: null,\n              finished: finished || false,\n              cancelled: cancelled || false\n            });\n          }\n        };\n        if (defaults) {\n          defaults[key] = props[key];\n        }\n      }\n    });\n  }\n  const state = ctrl[\"_state\"];\n  if (props.pause === !state.paused) {\n    state.paused = props.pause;\n    flushCalls(props.pause ? state.pauseQueue : state.resumeQueue);\n  } else if (state.paused) {\n    props.pause = true;\n  }\n  const promises = (keys || Object.keys(ctrl.springs)).map((key) => ctrl.springs[key].start(props));\n  const cancel = props.cancel === true || getDefaultProp(props, \"cancel\") === true;\n  if (asyncTo || cancel && state.asyncId) {\n    promises.push(scheduleProps(++ctrl[\"_lastAsyncId\"], {\n      props,\n      state,\n      actions: {\n        pause: noop,\n        resume: noop,\n        start(props2, resolve) {\n          if (cancel) {\n            stopAsync(state, ctrl[\"_lastAsyncId\"]);\n            resolve(getCancelledResult(ctrl));\n          } else {\n            props2.onRest = onRest;\n            resolve(runAsync(asyncTo, props2, state, ctrl));\n          }\n        }\n      }\n    }));\n  }\n  if (state.paused) {\n    await new Promise((resume) => {\n      state.resumeQueue.add(resume);\n    });\n  }\n  const result = getCombinedResult(ctrl, await Promise.all(promises));\n  if (loop && result.finished && !(isLoop && result.noop)) {\n    const nextProps = createLoopUpdate(props, loop, to);\n    if (nextProps) {\n      prepareKeys(ctrl, [nextProps]);\n      return flushUpdate(ctrl, nextProps, true);\n    }\n  }\n  if (onResolve) {\n    raf.batchedUpdates(() => onResolve(result, ctrl, ctrl.item));\n  }\n  return result;\n}\nfunction getSprings(ctrl, props) {\n  const springs = {...ctrl.springs};\n  if (props) {\n    each(toArray(props), (props2) => {\n      if (is.und(props2.keys)) {\n        props2 = createUpdate(props2);\n      }\n      if (!is.obj(props2.to)) {\n        props2 = {...props2, to: void 0};\n      }\n      prepareSprings(springs, props2, (key) => {\n        return createSpring(key);\n      });\n    });\n  }\n  return springs;\n}\nfunction setSprings(ctrl, springs) {\n  eachProp(springs, (spring, key) => {\n    if (!ctrl.springs[key]) {\n      ctrl.springs[key] = spring;\n      addFluidObserver(spring, ctrl);\n    }\n  });\n}\nfunction createSpring(key, observer) {\n  const spring = new SpringValue();\n  spring.key = key;\n  if (observer) {\n    addFluidObserver(spring, observer);\n  }\n  return spring;\n}\nfunction prepareSprings(springs, props, create) {\n  if (props.keys) {\n    each(props.keys, (key) => {\n      const spring = springs[key] || (springs[key] = create(key));\n      spring[\"_prepareNode\"](props);\n    });\n  }\n}\nfunction prepareKeys(ctrl, queue) {\n  each(queue, (props) => {\n    prepareSprings(ctrl.springs, props, (key) => {\n      return createSpring(key, ctrl);\n    });\n  });\n}\n\nconst SpringContext = ({\n  children,\n  ...props\n}) => {\n  const inherited = useContext(ctx);\n  const pause = props.pause || !!inherited.pause, immediate = props.immediate || !!inherited.immediate;\n  props = useMemoOne(() => ({pause, immediate}), [pause, immediate]);\n  const {Provider} = ctx;\n  return /* @__PURE__ */ createElement(Provider, {\n    value: props\n  }, children);\n};\nconst ctx = makeContext(SpringContext, {});\nSpringContext.Provider = ctx.Provider;\nSpringContext.Consumer = ctx.Consumer;\nfunction makeContext(target, init) {\n  Object.assign(target, createContext(init));\n  target.Provider._context = target;\n  target.Consumer._context = target;\n  return target;\n}\n\nclass SpringRef extends Function {\n  constructor() {\n    super(\"return arguments.callee._call.apply(arguments.callee, arguments)\");\n    this.current = [];\n  }\n  _call(props) {\n    deprecateDirectCall();\n    this.start(props);\n  }\n  set(values) {\n    each(this.current, (ctrl) => ctrl.set(values));\n  }\n  start(props) {\n    const results = [];\n    each(this.current, (ctrl, i) => {\n      if (is.und(props)) {\n        results.push(ctrl.start());\n      } else {\n        const update = this._getProps(props, ctrl, i);\n        if (update) {\n          results.push(ctrl.start(update));\n        }\n      }\n    });\n    return results;\n  }\n  update(props) {\n    each(this.current, (ctrl, i) => ctrl.update(this._getProps(props, ctrl, i)));\n    return this;\n  }\n  add(ctrl) {\n    if (!this.current.includes(ctrl)) {\n      this.current.push(ctrl);\n    }\n  }\n  delete(ctrl) {\n    const i = this.current.indexOf(ctrl);\n    if (~i)\n      this.current.splice(i, 1);\n  }\n  _getProps(arg, ctrl, index) {\n    return is.fun(arg) ? arg(index, ctrl) : arg;\n  }\n}\neach([\"stop\", \"pause\", \"resume\"], (key) => {\n  SpringRef.prototype[key] = function() {\n    each(this.current, (ctrl) => ctrl[key](...arguments));\n    return this;\n  };\n});\n\nfunction useSprings(length, props, deps) {\n  const propsFn = is.fun(props) && props;\n  if (propsFn && !deps)\n    deps = [];\n  const ref = useMemo(() => propsFn || arguments.length == 3 ? new SpringRef() : void 0, []);\n  const layoutId = useRef(0);\n  const forceUpdate = useForceUpdate();\n  const state = useMemo(() => ({\n    ctrls: [],\n    queue: [],\n    flush(ctrl, updates2) {\n      const springs2 = getSprings(ctrl, updates2);\n      const canFlushSync = layoutId.current > 0 && !state.queue.length && !Object.keys(springs2).some((key) => !ctrl.springs[key]);\n      return canFlushSync ? flushUpdateQueue(ctrl, updates2) : new Promise((resolve) => {\n        setSprings(ctrl, springs2);\n        state.queue.push(() => {\n          resolve(flushUpdateQueue(ctrl, updates2));\n        });\n        forceUpdate();\n      });\n    }\n  }), []);\n  const ctrls = [...state.ctrls];\n  const updates = [];\n  const prevLength = usePrev(length) || 0;\n  const oldCtrls = ctrls.slice(length, prevLength);\n  useMemo(() => {\n    ctrls.length = length;\n    declareUpdates(prevLength, length);\n  }, [length]);\n  useMemo(() => {\n    declareUpdates(0, Math.min(prevLength, length));\n  }, deps);\n  function declareUpdates(startIndex, endIndex) {\n    for (let i = startIndex; i < endIndex; i++) {\n      const ctrl = ctrls[i] || (ctrls[i] = new Controller(null, state.flush));\n      const update = propsFn ? propsFn(i, ctrl) : props[i];\n      if (update) {\n        updates[i] = declareUpdate(update);\n      }\n    }\n  }\n  const springs = ctrls.map((ctrl, i) => getSprings(ctrl, updates[i]));\n  const context = useContext(SpringContext);\n  const prevContext = usePrev(context);\n  const hasContext = context !== prevContext && hasProps(context);\n  useLayoutEffect(() => {\n    layoutId.current++;\n    state.ctrls = ctrls;\n    const {queue} = state;\n    if (queue.length) {\n      state.queue = [];\n      each(queue, (cb) => cb());\n    }\n    each(oldCtrls, (ctrl) => {\n      detachRefs(ctrl, ref);\n      ctrl.stop(true);\n    });\n    each(ctrls, (ctrl, i) => {\n      const values2 = springs[i];\n      setSprings(ctrl, values2);\n      ref == null ? void 0 : ref.add(ctrl);\n      if (hasContext) {\n        ctrl.start({default: context});\n      }\n      const update = updates[i];\n      if (update) {\n        replaceRef(ctrl, update.ref);\n        if (ctrl.ref) {\n          ctrl.queue.push(update);\n        } else {\n          ctrl.start(update);\n        }\n      }\n    });\n  });\n  useOnce(() => () => {\n    each(state.ctrls, (ctrl) => ctrl.stop(true));\n  });\n  const values = springs.map((x) => ({...x}));\n  return ref ? [values, ref] : values;\n}\n\nfunction useSpring(props, deps) {\n  const isFn = is.fun(props);\n  const [[values], ref] = useSprings(1, isFn ? props : [props], isFn ? deps || [] : deps);\n  return isFn || arguments.length == 2 ? [values, ref] : values;\n}\n\nconst initSpringRef = () => new SpringRef();\nconst useSpringRef = () => useState(initSpringRef)[0];\n\nfunction useTrail(length, propsArg, deps) {\n  const propsFn = is.fun(propsArg) && propsArg;\n  if (propsFn && !deps)\n    deps = [];\n  let reverse = true;\n  const result = useSprings(length, (i, ctrl) => {\n    const props = propsFn ? propsFn(i, ctrl) : propsArg;\n    reverse = reverse && props.reverse;\n    return props;\n  }, deps || [{}]);\n  const ref = result[1];\n  useLayoutEffect(() => {\n    each(ref.current, (ctrl, i) => {\n      const parent = ref.current[i + (reverse ? 1 : -1)];\n      if (parent)\n        ctrl.start({to: parent.springs});\n    });\n  }, deps);\n  if (propsFn || arguments.length == 3) {\n    ref[\"_getProps\"] = (propsArg2, ctrl, i) => {\n      const props = is.fun(propsArg2) ? propsArg2(i, ctrl) : propsArg2;\n      if (props) {\n        const parent = ref.current[i + (props.reverse ? 1 : -1)];\n        if (parent)\n          props.to = parent.springs;\n        return props;\n      }\n    };\n    return result;\n  }\n  return result[0];\n}\n\nconst MOUNT = \"mount\";\nconst ENTER = \"enter\";\nconst UPDATE = \"update\";\nconst LEAVE = \"leave\";\n\nfunction useTransition(data, props, deps) {\n  const {reset, sort, trail = 0, expires = true, onDestroyed} = props;\n  const ref = useMemo(() => arguments.length == 3 ? new SpringRef() : void 0, []);\n  const items = toArray(data);\n  const transitions = [];\n  const usedTransitions = useRef(null);\n  const prevTransitions = reset ? null : usedTransitions.current;\n  useLayoutEffect(() => {\n    usedTransitions.current = transitions;\n  });\n  useOnce(() => () => each(usedTransitions.current, (t) => {\n    if (t.expired) {\n      clearTimeout(t.expirationId);\n    }\n    detachRefs(t.ctrl, ref);\n    t.ctrl.stop(true);\n  }));\n  const keys = getKeys(items, props, prevTransitions);\n  const expired = reset && usedTransitions.current || [];\n  useLayoutEffect(() => each(expired, ({ctrl, item, key}) => {\n    detachRefs(ctrl, ref);\n    callProp(onDestroyed, item, key);\n  }));\n  const reused = [];\n  if (prevTransitions)\n    each(prevTransitions, (t, i) => {\n      if (t.expired) {\n        clearTimeout(t.expirationId);\n        expired.push(t);\n      } else {\n        i = reused[i] = keys.indexOf(t.key);\n        if (~i)\n          transitions[i] = t;\n      }\n    });\n  each(items, (item, i) => {\n    if (!transitions[i]) {\n      transitions[i] = {\n        key: keys[i],\n        item,\n        phase: MOUNT,\n        ctrl: new Controller()\n      };\n      transitions[i].ctrl.item = item;\n    }\n  });\n  if (reused.length) {\n    let i = -1;\n    each(reused, (keyIndex, prevIndex) => {\n      const t = prevTransitions[prevIndex];\n      if (~keyIndex) {\n        i = transitions.indexOf(t);\n        transitions[i] = {...t, item: items[keyIndex]};\n      } else if (props.leave) {\n        transitions.splice(++i, 0, t);\n      }\n    });\n  }\n  if (is.fun(sort)) {\n    transitions.sort((a, b) => sort(a.item, b.item));\n  }\n  let delay = -trail;\n  const forceUpdate = useForceUpdate();\n  const defaultProps = getDefaultProps(props);\n  const changes = new Map();\n  each(transitions, (t, i) => {\n    const key = t.key;\n    const prevPhase = t.phase;\n    let to;\n    let phase;\n    if (prevPhase == MOUNT) {\n      to = props.enter;\n      phase = ENTER;\n    } else {\n      const isLeave = keys.indexOf(key) < 0;\n      if (prevPhase != LEAVE) {\n        if (isLeave) {\n          to = props.leave;\n          phase = LEAVE;\n        } else if (to = props.update) {\n          phase = UPDATE;\n        } else\n          return;\n      } else if (!isLeave) {\n        to = props.enter;\n        phase = ENTER;\n      } else\n        return;\n    }\n    to = callProp(to, t.item, i);\n    to = is.obj(to) ? inferTo(to) : {to};\n    if (!to.config) {\n      const config = props.config || defaultProps.config;\n      to.config = callProp(config, t.item, i, phase);\n    }\n    const payload = {\n      ...defaultProps,\n      delay: delay += trail,\n      reset: false,\n      ...to\n    };\n    if (phase == ENTER && is.und(payload.from)) {\n      const from = is.und(props.initial) || prevTransitions ? props.from : props.initial;\n      payload.from = callProp(from, t.item, i);\n    }\n    const {onResolve} = payload;\n    payload.onResolve = (result) => {\n      callProp(onResolve, result);\n      const transitions2 = usedTransitions.current;\n      const t2 = transitions2.find((t3) => t3.key === key);\n      if (!t2)\n        return;\n      if (result.cancelled && t2.phase != UPDATE) {\n        return;\n      }\n      if (t2.ctrl.idle) {\n        const idle = transitions2.every((t3) => t3.ctrl.idle);\n        if (t2.phase == LEAVE) {\n          const expiry = callProp(expires, t2.item);\n          if (expiry !== false) {\n            const expiryMs = expiry === true ? 0 : expiry;\n            t2.expired = true;\n            if (!idle && expiryMs > 0) {\n              if (expiryMs <= 2147483647)\n                t2.expirationId = setTimeout(forceUpdate, expiryMs);\n              return;\n            }\n          }\n        }\n        if (idle && transitions2.some((t3) => t3.expired)) {\n          forceUpdate();\n        }\n      }\n    };\n    const springs = getSprings(t.ctrl, payload);\n    changes.set(t, {phase, springs, payload});\n  });\n  const context = useContext(SpringContext);\n  const prevContext = usePrev(context);\n  const hasContext = context !== prevContext && hasProps(context);\n  useLayoutEffect(() => {\n    if (hasContext)\n      each(transitions, (t) => {\n        t.ctrl.start({default: context});\n      });\n  }, [context]);\n  useLayoutEffect(() => {\n    each(changes, ({phase, springs, payload}, t) => {\n      const {ctrl} = t;\n      t.phase = phase;\n      ref == null ? void 0 : ref.add(ctrl);\n      replaceRef(ctrl, payload.ref);\n      setSprings(ctrl, springs);\n      if (hasContext && phase == ENTER) {\n        ctrl.start({default: context});\n      }\n      ctrl[ctrl.ref ? \"update\" : \"start\"](payload);\n    });\n  }, reset ? void 0 : deps);\n  const renderTransitions = (render) => /* @__PURE__ */ createElement(Fragment, null, transitions.map((t, i) => {\n    const {springs} = changes.get(t) || t.ctrl;\n    const elem = render({...springs}, t.item, t, i);\n    return elem && elem.type ? /* @__PURE__ */ createElement(elem.type, {\n      ...elem.props,\n      key: is.str(t.key) || is.num(t.key) ? t.key : t.ctrl.id,\n      ref: elem.ref\n    }) : elem;\n  }));\n  return ref ? [renderTransitions, ref] : renderTransitions;\n}\nlet nextKey = 1;\nfunction getKeys(items, {key, keys = key}, prevTransitions) {\n  if (keys === null) {\n    const reused = new Set();\n    return items.map((item) => {\n      const t = prevTransitions && prevTransitions.find((t2) => t2.item === item && t2.phase !== LEAVE && !reused.has(t2));\n      if (t) {\n        reused.add(t);\n        return t.key;\n      }\n      return nextKey++;\n    });\n  }\n  return is.und(keys) ? items : is.fun(keys) ? items.map(keys) : toArray(keys);\n}\n\nfunction Spring({children, ...props}) {\n  return children(useSpring(props));\n}\n\nfunction Trail({\n  items,\n  children,\n  ...props\n}) {\n  const trails = useTrail(items.length, props);\n  return items.map((item, index) => {\n    const result = children(item, index);\n    return is.fun(result) ? result(trails[index]) : result;\n  });\n}\n\nfunction Transition({\n  items,\n  children,\n  ...props\n}) {\n  return useTransition(items, props)(children);\n}\n\nclass Interpolation extends FrameValue {\n  constructor(source, args) {\n    super();\n    this.source = source;\n    this.idle = true;\n    this._active = new Set();\n    this.calc = createInterpolator(...args);\n    const value = this._get();\n    const nodeType = getAnimatedType(value);\n    setAnimated(this, nodeType.create(value));\n  }\n  advance(_dt) {\n    const value = this._get();\n    const oldValue = this.get();\n    if (!isEqual(value, oldValue)) {\n      getAnimated(this).setValue(value);\n      this._onChange(value, this.idle);\n    }\n    if (!this.idle && checkIdle(this._active)) {\n      becomeIdle(this);\n    }\n  }\n  _get() {\n    const inputs = is.arr(this.source) ? this.source.map(getFluidValue) : toArray(getFluidValue(this.source));\n    return this.calc(...inputs);\n  }\n  _start() {\n    if (this.idle && !checkIdle(this._active)) {\n      this.idle = false;\n      each(getPayload(this), (node) => {\n        node.done = false;\n      });\n      if (Globals.skipAnimation) {\n        raf.batchedUpdates(() => this.advance());\n        becomeIdle(this);\n      } else {\n        frameLoop.start(this);\n      }\n    }\n  }\n  _attach() {\n    let priority = 1;\n    each(toArray(this.source), (source) => {\n      if (hasFluidValue(source)) {\n        addFluidObserver(source, this);\n      }\n      if (isFrameValue(source)) {\n        if (!source.idle) {\n          this._active.add(source);\n        }\n        priority = Math.max(priority, source.priority + 1);\n      }\n    });\n    this.priority = priority;\n    this._start();\n  }\n  _detach() {\n    each(toArray(this.source), (source) => {\n      if (hasFluidValue(source)) {\n        removeFluidObserver(source, this);\n      }\n    });\n    this._active.clear();\n    becomeIdle(this);\n  }\n  eventObserved(event) {\n    if (event.type == \"change\") {\n      if (event.idle) {\n        this.advance();\n      } else {\n        this._active.add(event.parent);\n        this._start();\n      }\n    } else if (event.type == \"idle\") {\n      this._active.delete(event.parent);\n    } else if (event.type == \"priority\") {\n      this.priority = toArray(this.source).reduce((highest, parent) => Math.max(highest, (isFrameValue(parent) ? parent.priority : 0) + 1), 0);\n    }\n  }\n}\nfunction isIdle(source) {\n  return source.idle !== false;\n}\nfunction checkIdle(active) {\n  return !active.size || Array.from(active).every(isIdle);\n}\nfunction becomeIdle(self) {\n  if (!self.idle) {\n    self.idle = true;\n    each(getPayload(self), (node) => {\n      node.done = true;\n    });\n    callFluidObservers(self, {\n      type: \"idle\",\n      parent: self\n    });\n  }\n}\n\nconst to = (source, ...args) => new Interpolation(source, args);\nconst interpolate = (source, ...args) => (deprecateInterpolate(), new Interpolation(source, args));\n\nGlobals.assign({\n  createStringInterpolator,\n  to: (source, args) => new Interpolation(source, args)\n});\nconst update = frameLoop.advance;\n\nexport { BailSignal, Controller, FrameValue, Interpolation, Spring, SpringContext, SpringRef, SpringValue, Trail, Transition, config, inferTo, interpolate, to, update, useChain, useSpring, useSpringRef, useSprings, useTrail, useTransition };\n//# sourceMappingURL=index.js.map\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import superPropBase from \"@babel/runtime/helpers/esm/superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}","import deepEqual from 'fast-deep-equal';\n\nconst globalCache = [];\n\nfunction handleAsset(fn, cache, args, lifespan = 0, preload = false) {\n  for (const entry of cache) {\n    // Find a match\n    if (deepEqual(args, entry.args)) {\n      // If we're pre-loading and the element is present, just return\n      if (preload) return; // If an error occurred, throw\n\n      if (entry.error) throw entry.error; // If a response was successful, return\n\n      if (entry.response) return entry.response; // If the promise is still unresolved, throw\n\n      throw entry.promise;\n    }\n  } // The request is new or has changed.\n\n\n  const entry = {\n    args,\n    promise: // Make the promise request.\n    fn(...args) // Response can't be undefined or else the loop above wouldn't be able to return it\n    // This is for promises that do not return results (delays for instance)\n    .then(response => entry.response = response != null ? response : true).catch(e => entry.error = e != null ? e : 'unknown error').then(() => {\n      if (lifespan > 0) {\n        setTimeout(() => {\n          const index = cache.indexOf(entry);\n          if (index !== -1) cache.splice(index, 1);\n        }, lifespan);\n      }\n    })\n  };\n  cache.push(entry);\n  if (!preload) throw entry.promise;\n}\n\nfunction clear(cache, ...args) {\n  if (args === undefined || args.length === 0) cache.splice(0, cache.length);else {\n    const entry = cache.find(entry => deepEqual(args, entry.args));\n\n    if (entry) {\n      const index = cache.indexOf(entry);\n      if (index !== -1) cache.splice(index, 1);\n    }\n  }\n}\n\nfunction createAsset(fn, lifespan = 0) {\n  const cache = [];\n  return {\n    /**\n     * @throws Suspense Promise if asset is not yet ready\n     * @throws Error if the promise rejected for some reason\n     */\n    read: (...args) => handleAsset(fn, cache, args, lifespan),\n    preload: (...args) => void handleAsset(fn, cache, args, lifespan, true),\n    clear: (...args) => clear(cache, ...args),\n    peek: (...args) => {\n      var _cache$find;\n\n      return (_cache$find = cache.find(entry => deepEqual(args, entry.args))) == null ? void 0 : _cache$find.response;\n    }\n  };\n}\n\nfunction useAsset(fn, ...args) {\n  return handleAsset(fn, globalCache, args, useAsset.lifespan);\n}\n\nuseAsset.lifespan = 0;\n\nuseAsset.clear = (...args) => clear(globalCache, ...args);\n\nuseAsset.preload = (fn, ...args) => void handleAsset(fn, globalCache, args, useAsset.lifespan, true);\n\nuseAsset.peek = (...args) => {\n  var _globalCache$find;\n\n  return (_globalCache$find = globalCache.find(entry => deepEqual(args, entry.args))) == null ? void 0 : _globalCache$find.response;\n};\n\nexport { createAsset, useAsset };\n","import { useState, useRef, useEffect, useMemo } from 'react';\nimport { debounce } from 'debounce';\n\nfunction useMeasure({\n  debounce: debounce$1,\n  scroll,\n  polyfill\n} = {\n  debounce: 0,\n  scroll: false\n}) {\n  const ResizeObserver = polyfill || (typeof window === 'undefined' ? class ResizeObserver {} : window.ResizeObserver);\n\n  if (!ResizeObserver) {\n    throw new Error('This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills');\n  }\n\n  const [bounds, set] = useState({\n    left: 0,\n    top: 0,\n    width: 0,\n    height: 0,\n    bottom: 0,\n    right: 0,\n    x: 0,\n    y: 0\n  }); // keep all state in a ref\n\n  const state = useRef({\n    element: null,\n    scrollContainers: null,\n    resizeObserver: null,\n    lastBounds: bounds\n  }); // set actual debounce values early, so effects know if they should react accordingly\n\n  const scrollDebounce = debounce$1 ? typeof debounce$1 === 'number' ? debounce$1 : debounce$1.scroll : null;\n  const resizeDebounce = debounce$1 ? typeof debounce$1 === 'number' ? debounce$1 : debounce$1.resize : null; // make sure to update state only as long as the component is truly mounted\n\n  const mounted = useRef(false);\n  useEffect(() => {\n    mounted.current = true;\n    return () => void (mounted.current = false);\n  }); // memoize handlers, so event-listeners know when they should update\n\n  const [forceRefresh, resizeChange, scrollChange] = useMemo(() => {\n    const callback = () => {\n      if (!state.current.element) return;\n      const {\n        left,\n        top,\n        width,\n        height,\n        bottom,\n        right,\n        x,\n        y\n      } = state.current.element.getBoundingClientRect();\n      const size = {\n        left,\n        top,\n        width,\n        height,\n        bottom,\n        right,\n        x,\n        y\n      };\n      Object.freeze(size);\n      if (mounted.current && !areBoundsEqual(state.current.lastBounds, size)) set(state.current.lastBounds = size);\n    };\n\n    return [callback, resizeDebounce ? debounce(callback, resizeDebounce) : callback, scrollDebounce ? debounce(callback, scrollDebounce) : callback];\n  }, [set, scrollDebounce, resizeDebounce]); // cleanup current scroll-listeners / observers\n\n  function removeListeners() {\n    if (state.current.scrollContainers) {\n      state.current.scrollContainers.forEach(element => element.removeEventListener('scroll', scrollChange, true));\n      state.current.scrollContainers = null;\n    }\n\n    if (state.current.resizeObserver) {\n      state.current.resizeObserver.disconnect();\n      state.current.resizeObserver = null;\n    }\n  } // add scroll-listeners / observers\n\n\n  function addListeners() {\n    if (!state.current.element) return;\n    state.current.resizeObserver = new ResizeObserver(scrollChange);\n    state.current.resizeObserver.observe(state.current.element);\n\n    if (scroll && state.current.scrollContainers) {\n      state.current.scrollContainers.forEach(scrollContainer => scrollContainer.addEventListener('scroll', scrollChange, {\n        capture: true,\n        passive: true\n      }));\n    }\n  } // the ref we expose to the user\n\n\n  const ref = node => {\n    if (!node || node === state.current.element) return;\n    removeListeners();\n    state.current.element = node;\n    state.current.scrollContainers = findScrollContainers(node);\n    addListeners();\n  }; // add general event listeners\n\n\n  useOnWindowScroll(scrollChange, Boolean(scroll));\n  useOnWindowResize(resizeChange); // respond to changes that are relevant for the listeners\n\n  useEffect(() => {\n    removeListeners();\n    addListeners();\n  }, [scroll, scrollChange, resizeChange]); // remove all listeners when the components unmounts\n\n  useEffect(() => removeListeners, []);\n  return [ref, bounds, forceRefresh];\n} // Adds native resize listener to window\n\n\nfunction useOnWindowResize(onWindowResize) {\n  useEffect(() => {\n    const cb = onWindowResize;\n    window.addEventListener('resize', cb);\n    return () => void window.removeEventListener('resize', cb);\n  }, [onWindowResize]);\n}\n\nfunction useOnWindowScroll(onScroll, enabled) {\n  useEffect(() => {\n    if (enabled) {\n      const cb = onScroll;\n      window.addEventListener('scroll', cb, {\n        capture: true,\n        passive: true\n      });\n      return () => void window.removeEventListener('scroll', cb, true);\n    }\n  }, [onScroll, enabled]);\n} // Returns a list of scroll offsets\n\n\nfunction findScrollContainers(element) {\n  const result = [];\n  if (!element || element === document.body) return result;\n  const {\n    overflow,\n    overflowX,\n    overflowY\n  } = window.getComputedStyle(element);\n  if ([overflow, overflowX, overflowY].some(prop => prop === 'auto' || prop === 'scroll')) result.push(element);\n  return [...result, ...findScrollContainers(element.parentElement)];\n} // Checks if element boundaries are equal\n\n\nconst keys = ['x', 'y', 'top', 'bottom', 'left', 'right', 'width', 'height'];\n\nconst areBoundsEqual = (a, b) => keys.every(key => a[key] === b[key]);\n\nexport default useMeasure;\n","import * as THREE from 'three';\nimport * as React from 'react';\nimport create from 'zustand';\nimport shallow from 'zustand/shallow';\nimport Reconciler from 'react-reconciler';\nimport { unstable_now, unstable_runWithPriority, unstable_IdlePriority } from 'scheduler';\nimport { useAsset } from 'use-asset';\nimport useMeasure from 'react-use-measure';\n\nvar threeTypes = /*#__PURE__*/Object.freeze({\n  __proto__: null\n});\n\nconst is = {\n  obj: a => a === Object(a) && !is.arr(a) && typeof a !== 'function',\n  fun: a => typeof a === 'function',\n  str: a => typeof a === 'string',\n  num: a => typeof a === 'number',\n  und: a => a === void 0,\n  arr: a => Array.isArray(a),\n\n  equ(a, b) {\n    // Wrong type or one of the two undefined, doesn't match\n    if (typeof a !== typeof b || !!a !== !!b) return false; // Atomic, just compare a against b\n\n    if (is.str(a) || is.num(a) || is.obj(a)) return a === b; // Array, shallow compare first to see if it's a match\n\n    if (is.arr(a) && a == b) return true; // Last resort, go through keys\n\n    let i;\n\n    for (i in a) if (!(i in b)) return false;\n\n    for (i in b) if (a[i] !== b[i]) return false;\n\n    return is.und(i) ? a === b : true;\n  }\n\n};\n\nfunction makeId(event) {\n  return (event.eventObject || event.object).uuid + '/' + event.index;\n}\n\nfunction removeInteractivity(store, object) {\n  const {\n    internal\n  } = store.getState(); // Removes every trace of an object from the data store\n\n  internal.interaction = internal.interaction.filter(o => o !== object);\n  internal.initialHits = internal.initialHits.filter(o => o !== object);\n  internal.hovered.forEach((value, key) => {\n    if (value.eventObject === object || value.object === object) {\n      internal.hovered.delete(key);\n    }\n  });\n}\nfunction createEvents(store) {\n  const temp = new THREE.Vector3();\n  /** Sets up defaultRaycaster */\n\n  function prepareRay(event) {\n    var _raycaster$computeOff;\n\n    const state = store.getState();\n    const {\n      raycaster,\n      mouse,\n      camera,\n      size\n    } = state; // https://github.com/pmndrs/react-three-fiber/pull/782\n    // Events trigger outside of canvas when moved\n\n    const {\n      offsetX,\n      offsetY\n    } = (_raycaster$computeOff = raycaster.computeOffsets == null ? void 0 : raycaster.computeOffsets(event, state)) != null ? _raycaster$computeOff : event;\n    const {\n      width,\n      height\n    } = size;\n    mouse.set(offsetX / width * 2 - 1, -(offsetY / height) * 2 + 1);\n    raycaster.setFromCamera(mouse, camera);\n  }\n  /** Calculates delta */\n\n\n  function calculateDistance(event) {\n    const {\n      internal\n    } = store.getState();\n    const dx = event.offsetX - internal.initialClick[0];\n    const dy = event.offsetY - internal.initialClick[1];\n    return Math.round(Math.sqrt(dx * dx + dy * dy));\n  }\n  /** Returns true if an instance has a valid pointer-event registered, this excludes scroll, clicks etc */\n\n\n  function filterPointerEvents(objects) {\n    return objects.filter(obj => ['Move', 'Over', 'Enter', 'Out', 'Leave'].some(name => {\n      var _r3f$handlers;\n\n      return (_r3f$handlers = obj.__r3f.handlers) == null ? void 0 : _r3f$handlers['onPointer' + name];\n    }));\n  }\n\n  function intersect(filter) {\n    const state = store.getState();\n    const {\n      raycaster,\n      internal\n    } = state; // Skip event handling when noEvents is set\n\n    if (!raycaster.enabled) return [];\n    const seen = new Set();\n    const intersections = []; // Allow callers to eliminate event objects\n\n    const eventsObjects = filter ? filter(internal.interaction) : internal.interaction; // Intersect known handler objects and filter against duplicates\n\n    let intersects = raycaster.intersectObjects(eventsObjects, true).filter(item => {\n      const id = makeId(item);\n      if (seen.has(id)) return false;\n      seen.add(id);\n      return true;\n    }); // https://github.com/mrdoob/three.js/issues/16031\n    // Allow custom userland intersect sort order\n\n    if (raycaster.filter) intersects = raycaster.filter(intersects, state);\n\n    for (const intersect of intersects) {\n      let eventObject = intersect.object; // Bubble event up\n\n      while (eventObject) {\n        var _r3f;\n\n        const handlers = (_r3f = eventObject.__r3f) == null ? void 0 : _r3f.handlers;\n        if (handlers) intersections.push({ ...intersect,\n          eventObject\n        });\n        eventObject = eventObject.parent;\n      }\n    }\n\n    return intersections;\n  }\n  /**  Creates filtered intersects and returns an array of positive hits */\n\n\n  function patchIntersects(intersections, event) {\n    const {\n      internal\n    } = store.getState(); // If the interaction is captured take that into account, the captured event has to be part of the intersects\n\n    if (internal.captured && event.type !== 'click' && event.type !== 'wheel') {\n      internal.captured.forEach(captured => {\n        if (!intersections.find(hit => hit.eventObject === captured.eventObject)) intersections.push(captured);\n      });\n    }\n\n    return intersections;\n  }\n  /**  Handles intersections by forwarding them to handlers */\n\n\n  function handleIntersects(intersections, event, callback) {\n    const {\n      raycaster,\n      mouse,\n      camera,\n      internal\n    } = store.getState(); // If anything has been found, forward it to the event listeners\n\n    if (intersections.length) {\n      const unprojectedPoint = temp.set(mouse.x, mouse.y, 0).unproject(camera);\n      const delta = event.type === 'click' ? calculateDistance(event) : 0;\n\n      const releasePointerCapture = id => event.target.releasePointerCapture(id);\n\n      const localState = {\n        stopped: false,\n        captured: false\n      };\n\n      for (const hit of intersections) {\n        const setPointerCapture = id => {\n          // If the hit is going to be captured flag that we're in captured state\n          if (!localState.captured) {\n            localState.captured = true; // The captured hit array is reset to collect hits\n\n            internal.captured = [];\n          } // Push hits to the array\n\n\n          if (internal.captured) internal.captured.push(hit) // Call the original event now\n          ;\n          event.target.setPointerCapture(id);\n        }; // Add native event props\n\n\n        let extractEventProps = {};\n\n        for (let prop in Object.getPrototypeOf(event)) {\n          extractEventProps[prop] = event[prop];\n        }\n\n        let raycastEvent = { ...hit,\n          ...extractEventProps,\n          intersections,\n          stopped: localState.stopped,\n          delta,\n          unprojectedPoint,\n          ray: raycaster.ray,\n          camera: camera,\n          // Hijack stopPropagation, which just sets a flag\n          stopPropagation: () => {\n            // https://github.com/pmndrs/react-three-fiber/issues/596\n            // Events are not allowed to stop propagation if the pointer has been captured\n            const cap = internal.captured;\n\n            if (!cap || cap.find(h => h.eventObject.id === hit.eventObject.id)) {\n              raycastEvent.stopped = localState.stopped = true; // Propagation is stopped, remove all other hover records\n              // An event handler is only allowed to flush other handlers if it is hovered itself\n\n              if (internal.hovered.size && Array.from(internal.hovered.values()).find(i => i.eventObject === hit.eventObject)) {\n                // Objects cannot flush out higher up objects that have already caught the event\n                const higher = intersections.slice(0, intersections.indexOf(hit));\n                cancelPointer([...higher, hit]);\n              }\n            }\n          },\n          target: { ...event.target,\n            setPointerCapture,\n            releasePointerCapture\n          },\n          currentTarget: { ...event.currentTarget,\n            setPointerCapture,\n            releasePointerCapture\n          },\n          sourceEvent: event\n        }; // Call subscribers\n\n        callback(raycastEvent); // Event bubbling may be interrupted by stopPropagation\n\n        if (localState.stopped === true) break;\n      }\n    }\n\n    return intersections;\n  }\n\n  function cancelPointer(hits) {\n    const {\n      internal\n    } = store.getState();\n    Array.from(internal.hovered.values()).forEach(hoveredObj => {\n      // When no objects were hit or the the hovered object wasn't found underneath the cursor\n      // we call onPointerOut and delete the object from the hovered-elements map\n      if (!hits.length || !hits.find(hit => hit.object === hoveredObj.object && hit.index === hoveredObj.index)) {\n        const eventObject = hoveredObj.eventObject;\n        const handlers = eventObject.__r3f.handlers;\n        internal.hovered.delete(makeId(hoveredObj));\n\n        if (handlers) {\n          // Clear out intersects, they are outdated by now\n          const data = { ...hoveredObj,\n            intersections: hits || []\n          };\n          handlers.onPointerOut == null ? void 0 : handlers.onPointerOut(data);\n          handlers.onPointerLeave == null ? void 0 : handlers.onPointerLeave(data);\n        }\n      }\n    });\n  }\n\n  const handlePointer = name => {\n    // Deal with cancelation\n    switch (name) {\n      case 'onPointerLeave':\n      case 'onPointerCancel':\n        return () => cancelPointer([]);\n\n      case 'onLostPointerCapture':\n        return () => (store.getState().internal.captured = undefined, cancelPointer([]));\n    } // Any other pointer goes here ...\n\n\n    return event => {\n      const {\n        onPointerMissed,\n        internal\n      } = store.getState();\n      prepareRay(event); // Get fresh intersects\n\n      const isPointerMove = name === 'onPointerMove';\n      const filter = isPointerMove ? filterPointerEvents : undefined;\n      const hits = patchIntersects(intersect(filter), event); // Take care of unhover\n\n      if (isPointerMove) cancelPointer(hits);\n      handleIntersects(hits, event, data => {\n        const eventObject = data.eventObject;\n        const handlers = eventObject.__r3f.handlers; // Check presence of handlers\n\n        if (!handlers) return;\n\n        if (isPointerMove) {\n          // Move event ...\n          if (handlers.onPointerOver || handlers.onPointerEnter || handlers.onPointerOut || handlers.onPointerLeave) {\n            // When enter or out is present take care of hover-state\n            const id = makeId(data);\n            const hoveredItem = internal.hovered.get(id);\n\n            if (!hoveredItem) {\n              // If the object wasn't previously hovered, book it and call its handler\n              internal.hovered.set(id, data);\n              handlers.onPointerOver == null ? void 0 : handlers.onPointerOver(data);\n              handlers.onPointerEnter == null ? void 0 : handlers.onPointerEnter(data);\n            } else if (hoveredItem.stopped) {\n              // If the object was previously hovered and stopped, we shouldn't allow other items to proceed\n              data.stopPropagation();\n            }\n          } // Call mouse move\n\n\n          handlers.onPointerMove == null ? void 0 : handlers.onPointerMove(data);\n        } else {\n          // All other events ...\n          const handler = handlers == null ? void 0 : handlers[name];\n\n          if (handler) {\n            // Forward all events back to their respective handlers with the exception of click events,\n            // which must use the initial target\n            if (name !== 'onClick' && name !== 'onContextMenu' && name !== 'onDoubleClick' || internal.initialHits.includes(eventObject)) {\n              handler(data);\n              pointerMissed(event, internal.interaction.filter(object => object !== eventObject));\n            }\n          }\n        }\n      }); // Save initial coordinates on pointer-down\n\n      if (name === 'onPointerDown') {\n        internal.initialClick = [event.offsetX, event.offsetY];\n        internal.initialHits = hits.map(hit => hit.eventObject);\n      } // If a click yields no results, pass it back to the user as a miss\n\n\n      if ((name === 'onClick' || name === 'onContextMenu' || name === 'onDoubleClick') && !hits.length) {\n        if (calculateDistance(event) <= 2) {\n          pointerMissed(event, internal.interaction);\n          if (onPointerMissed) onPointerMissed();\n        }\n      }\n    };\n  };\n\n  function pointerMissed(event, objects) {\n    objects.forEach(object => {\n      var _r3f$handlers2;\n\n      return (_r3f$handlers2 = object.__r3f.handlers) == null ? void 0 : _r3f$handlers2.onPointerMissed == null ? void 0 : _r3f$handlers2.onPointerMissed(event);\n    });\n  }\n\n  return {\n    handlePointer\n  };\n}\n\n// Type guard to tell a store from a portal\nconst isStore = def => def && !!def.getState;\n\nconst getContainer = (container, child) => {\n  var _container$__r3f$root, _container$__r3f;\n\n  return {\n    // If the container is not a root-store then it must be a THREE.Object3D into which part of the\n    // scene is portalled into. Now there can be two variants of this, either that object is part of\n    // the regular jsx tree, in which case it already has __r3f with a valid root attached, or it lies\n    // outside react, in which case we must take the root of the child that is about to be attached to it.\n    root: isStore(container) ? container : (_container$__r3f$root = (_container$__r3f = container.__r3f) == null ? void 0 : _container$__r3f.root) != null ? _container$__r3f$root : child.__r3f.root,\n    // The container is the eventual target into which objects are mounted, it has to be a THREE.Object3D\n    container: isStore(container) ? container.getState().scene : container\n  };\n};\n\nconst DEFAULT = '__default';\nconst EMPTY = {};\nconst FILTER = ['children', 'key', 'ref'];\nlet catalogue = {};\n\nlet extend = objects => void (catalogue = { ...catalogue,\n  ...objects\n}); // Each object in the scene carries a small LocalState descriptor\n\n\nfunction prepare(object, state) {\n  const instance = object;\n\n  if (!instance.__r3f) {\n    instance.__r3f = {\n      root: null,\n      memoizedProps: {},\n      objects: [],\n      ...state\n    };\n  }\n\n  return object;\n}\n\nfunction createRenderer(roots) {\n  function applyProps(instance, newProps, oldProps = {}, accumulative = false) {\n    var _instance$__r3f, _root$getState, _instance$__r3f2;\n\n    // Filter equals, events and reserved props\n    const localState = (_instance$__r3f = instance == null ? void 0 : instance.__r3f) != null ? _instance$__r3f : {};\n    const root = localState.root;\n    const rootState = (_root$getState = root == null ? void 0 : root.getState == null ? void 0 : root.getState()) != null ? _root$getState : {};\n    const sameProps = [];\n    const handlers = [];\n    const newMemoizedProps = {};\n    let i = 0;\n    Object.entries(newProps).forEach(([key, entry]) => {\n      // we don't want children, ref or key in the memoized props\n      if (FILTER.indexOf(key) === -1) {\n        newMemoizedProps[key] = entry;\n      }\n    });\n\n    if (localState.memoizedProps && localState.memoizedProps.args) {\n      newMemoizedProps.args = localState.memoizedProps.args;\n    }\n\n    if (localState.memoizedProps && localState.memoizedProps.attach) {\n      newMemoizedProps.attach = localState.memoizedProps.attach;\n    }\n\n    if (instance.__r3f) {\n      instance.__r3f.memoizedProps = newMemoizedProps;\n    }\n\n    let objectKeys = Object.keys(newProps);\n\n    for (i = 0; i < objectKeys.length; i++) {\n      if (is.equ(newProps[objectKeys[i]], oldProps[objectKeys[i]])) {\n        sameProps.push(objectKeys[i]);\n      } // Event-handlers ...\n      //   are functions, that\n      //   start with \"on\", and\n      //   contain the name \"Pointer\", \"Click\", \"DoubleClick\", \"ContextMenu\", or \"Wheel\"\n\n\n      if (is.fun(newProps[objectKeys[i]]) && /^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(objectKeys[i])) {\n        handlers.push(objectKeys[i]);\n      }\n    } // Catch props that existed, but now exist no more ...\n\n\n    const leftOvers = [];\n\n    if (accumulative) {\n      objectKeys = Object.keys(oldProps);\n\n      for (i = 0; i < objectKeys.length; i++) {\n        if (!newProps.hasOwnProperty(objectKeys[i])) {\n          leftOvers.push(objectKeys[i]);\n        }\n      }\n    }\n\n    const toFilter = [...sameProps, ...FILTER]; // Instances use \"object\" as a reserved identifier\n\n    if ((_instance$__r3f2 = instance.__r3f) != null && _instance$__r3f2.instance) toFilter.push('object');\n    const filteredProps = { ...newProps\n    }; // Removes sameProps and reserved props from newProps\n\n    objectKeys = Object.keys(filteredProps);\n\n    for (i = 0; i < objectKeys.length; i++) {\n      if (toFilter.indexOf(objectKeys[i]) > -1) {\n        delete filteredProps[objectKeys[i]];\n      }\n    } // Collect all new props\n\n\n    const filteredPropsEntries = Object.entries(filteredProps); // Prepend left-overs so they can be reset or removed\n    // Left-overs must come first!\n\n    for (i = 0; i < leftOvers.length; i++) {\n      if (leftOvers[i] !== 'children') {\n        filteredPropsEntries.unshift([leftOvers[i], DEFAULT + 'remove']);\n      }\n    }\n\n    if (filteredPropsEntries.length > 0) {\n      filteredPropsEntries.forEach(([key, value]) => {\n        if (!handlers.includes(key)) {\n          let currentInstance = instance;\n          let targetProp = currentInstance[key];\n\n          if (key.includes('-')) {\n            const entries = key.split('-');\n            targetProp = entries.reduce((acc, key) => acc[key], instance); // If the target is atomic, it forces us to switch the root\n\n            if (!(targetProp && targetProp.set)) {\n              const [name, ...reverseEntries] = entries.reverse();\n              currentInstance = reverseEntries.reverse().reduce((acc, key) => acc[key], instance);\n              key = name;\n            }\n          } // https://github.com/mrdoob/three.js/issues/21209\n          // HMR/fast-refresh relies on the ability to cancel out props, but threejs\n          // has no means to do this. Hence we curate a small collection of value-classes\n          // with their respective constructor/set arguments\n          // For removed props, try to set default values, if possible\n\n\n          if (value === DEFAULT + 'remove') {\n            if (targetProp && targetProp.constructor) {\n              // use the prop constructor to find the default it should be\n              value = new targetProp.constructor(newMemoizedProps.args);\n            } else if (currentInstance.constructor) {\n              // create a blank slate of the instance and copy the particular parameter.\n              // @ts-ignore\n              const defaultClassCall = new currentInstance.constructor(currentInstance.__r3f.memoizedProps.args);\n              value = defaultClassCall[targetProp]; // destory the instance\n\n              if (defaultClassCall.dispose) {\n                defaultClassCall.dispose();\n              }\n            } else {\n              // instance does not have constructor, just set it to 0\n              value = 0;\n            }\n          } // Special treatment for objects with support for set/copy, and layers\n\n\n          if (targetProp && targetProp.set && (targetProp.copy || targetProp instanceof THREE.Layers)) {\n            // If value is an array\n            if (Array.isArray(value)) {\n              if (targetProp.fromArray) {\n                targetProp.fromArray(value);\n              } else {\n                targetProp.set(...value);\n              }\n            } // Test again target.copy(class) next ...\n            else if (targetProp.copy && value && value.constructor && targetProp.constructor.name === value.constructor.name) {\n                targetProp.copy(value);\n              } // If nothing else fits, just set the single value, ignore undefined\n              // https://github.com/react-spring/react-three-fiber/issues/274\n              else if (value !== undefined) {\n                  const isColor = targetProp instanceof THREE.Color; // Allow setting array scalars\n\n                  if (!isColor && targetProp.setScalar) targetProp.setScalar(value); // Layers have no copy function, we must therefore copy the mask property\n                  else if (targetProp instanceof THREE.Layers && value instanceof THREE.Layers) targetProp.mask = value.mask; // Otherwise just set ...\n                    else targetProp.set(value); // Auto-convert sRGB colors, for now ...\n                  // https://github.com/react-spring/react-three-fiber/issues/344\n\n                  if (!rootState.linear && isColor) targetProp.convertSRGBToLinear();\n                } // Else, just overwrite the value\n\n          } else {\n            currentInstance[key] = value; // Auto-convert sRGB textures, for now ...\n            // https://github.com/react-spring/react-three-fiber/issues/344\n\n            if (!rootState.linear && currentInstance[key] instanceof THREE.Texture) currentInstance[key].encoding = THREE.sRGBEncoding;\n          }\n\n          invalidateInstance(instance);\n        }\n      }); // Preemptively delete the instance from the containers interaction\n\n      if (accumulative && root && instance.raycast && localState.handlers) {\n        localState.handlers = undefined;\n        const index = rootState.internal.interaction.indexOf(instance);\n        if (index > -1) rootState.internal.interaction.splice(index, 1);\n      } // Prep interaction handlers\n\n\n      if (handlers.length) {\n        if (accumulative && root && instance.raycast) {\n          rootState.internal.interaction.push(instance);\n        } // Add handlers to the instances handler-map\n\n\n        localState.handlers = handlers.reduce((acc, key) => ({ ...acc,\n          [key]: newProps[key]\n        }), {});\n      } // Call the update lifecycle when it is being updated, but only when it is part of the scene\n\n\n      if (instance.parent) updateInstance(instance);\n    }\n  }\n\n  function invalidateInstance(instance) {\n    var _instance$__r3f3, _instance$__r3f3$root;\n\n    const state = (_instance$__r3f3 = instance.__r3f) == null ? void 0 : (_instance$__r3f3$root = _instance$__r3f3.root) == null ? void 0 : _instance$__r3f3$root.getState == null ? void 0 : _instance$__r3f3$root.getState();\n    if (state && state.internal.frames === 0) state.invalidate();\n  }\n\n  function updateInstance(instance) {\n    instance.onUpdate == null ? void 0 : instance.onUpdate(instance);\n  }\n\n  function createInstance(type, {\n    args = [],\n    ...props\n  }, root, hostContext, internalInstanceHandle) {\n    let name = `${type[0].toUpperCase()}${type.slice(1)}`;\n    let instance; // https://github.com/facebook/react/issues/17147\n    // Portals do not give us a root, they are themselves treated as a root by the reconciler\n    // In order to figure out the actual root we have to climb through fiber internals :(\n\n    if (!isStore(root) && internalInstanceHandle) {\n      const fn = node => {\n        if (!node.return) return node.stateNode && node.stateNode.containerInfo;else return fn(node.return);\n      };\n\n      root = fn(internalInstanceHandle);\n    } // Assert that by now we have a valid root\n\n\n    if (!root || !isStore(root)) throw `No valid root for ${name}!`;\n\n    if (type === 'primitive') {\n      if (props.object === undefined) throw `Primitives without 'object' are invalid!`;\n      const object = props.object;\n      instance = prepare(object, {\n        root,\n        instance: true\n      });\n    } else {\n      const target = catalogue[name] || THREE[name];\n      if (!target) throw `${name} is not part of the THREE namespace! Did you forget to extend? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively`;\n      const isArgsArr = is.arr(args); // Instanciate new object, link it to the root\n\n      instance = prepare(isArgsArr ? new target(...args) : new target(args), {\n        root,\n        // append memoized props with args so it's not forgotten\n        memoizedProps: {\n          args: isArgsArr && args.length === 0 ? null : args\n        }\n      });\n    } // Auto-attach geometries and materials\n\n\n    if (name.endsWith('Geometry')) {\n      props = {\n        attach: 'geometry',\n        ...props\n      };\n    } else if (name.endsWith('Material')) {\n      props = {\n        attach: 'material',\n        ...props\n      };\n    } // It should NOT call onUpdate on object instanciation, because it hasn't been added to the\n    // view yet. If the callback relies on references for instance, they won't be ready yet, this is\n    // why it passes \"true\" here\n\n\n    applyProps(instance, props, {});\n    return instance;\n  }\n\n  function appendChild(parentInstance, child) {\n    if (child) {\n      if (child.isObject3D) {\n        parentInstance.add(child);\n      } else {\n        parentInstance.__r3f.objects.push(child);\n\n        child.parent = parentInstance; // The attach attribute implies that the object attaches itself on the parent\n\n        if (child.attachArray) {\n          if (!is.arr(parentInstance[child.attachArray])) parentInstance[child.attachArray] = [];\n          parentInstance[child.attachArray].push(child);\n        } else if (child.attachObject) {\n          if (!is.obj(parentInstance[child.attachObject[0]])) parentInstance[child.attachObject[0]] = {};\n          parentInstance[child.attachObject[0]][child.attachObject[1]] = child;\n        } else if (child.attach) {\n          parentInstance[child.attach] = child;\n        }\n      }\n\n      updateInstance(child);\n      invalidateInstance(child);\n    }\n  }\n\n  function insertBefore(parentInstance, child, beforeChild) {\n    if (child) {\n      if (child.isObject3D) {\n        child.parent = parentInstance;\n        child.dispatchEvent({\n          type: 'added'\n        });\n        const restSiblings = parentInstance.children.filter(sibling => sibling !== child);\n        const index = restSiblings.indexOf(beforeChild);\n        parentInstance.children = [...restSiblings.slice(0, index), child, ...restSiblings.slice(index)];\n      } else {\n        if (child.attachArray) {\n          parentInstance.__r3f.objects.push(child);\n\n          child.parent = parentInstance;\n          const array = parentInstance[child.attachArray];\n          if (!is.arr(array)) parentInstance[child.attachArray] = [];\n          array.splice(array.indexOf(beforeChild), 0, child);\n        } else return appendChild(parentInstance, child);\n      }\n\n      updateInstance(child);\n      invalidateInstance(child);\n    }\n  }\n\n  function removeRecursive(array, parent, dispose = false) {\n    if (array) [...array].forEach(child => removeChild(parent, child, dispose));\n  }\n\n  function removeChild(parentInstance, child, dispose) {\n    if (child) {\n      var _child$__r3f2;\n\n      if (child.isObject3D) {\n        var _child$__r3f;\n\n        parentInstance.remove(child); // Remove interactivity\n\n        if ((_child$__r3f = child.__r3f) != null && _child$__r3f.root) {\n          removeInteractivity(child.__r3f.root, child);\n        }\n      } else {\n        child.parent = null;\n        if (parentInstance.__r3f.objects) parentInstance.__r3f.objects = parentInstance.__r3f.objects.filter(x => x !== child); // Remove attachment\n\n        if (child.attachArray) {\n          parentInstance[child.attachArray] = parentInstance[child.attachArray].filter(x => x !== child);\n        } else if (child.attachObject) {\n          delete parentInstance[child.attachObject[0]][child.attachObject[1]];\n        } else if (child.attach) {\n          parentInstance[child.attach] = null;\n        }\n      } // Allow objects to bail out of recursive dispose alltogether by passing dispose={null}\n      // Never dispose of primitives because their state may be kept outside of React!\n      // In order for an object to be able to dispose it has to have\n      //   - a dispose method,\n      //   - it cannot be an <instance object={...} />\n      //   - it cannot be a THREE.Scene, because three has broken it's own api\n      //\n      // Since disposal is recursive, we can check the optional dispose arg, which will be undefined\n      // when the reconciler calls it, but then carry our own check recursively\n\n\n      const isInstance = (_child$__r3f2 = child.__r3f) == null ? void 0 : _child$__r3f2.instance;\n      const shouldDispose = dispose === undefined ? child.dispose !== null && !isInstance : dispose; // Remove nested child objects. Primitives should not have objects and children that are\n      // attached to them declaratively ...\n\n      if (!isInstance) {\n        var _child$__r3f3;\n\n        removeRecursive((_child$__r3f3 = child.__r3f) == null ? void 0 : _child$__r3f3.objects, child, shouldDispose);\n        removeRecursive(child.children, child, shouldDispose);\n      } // Remove references\n\n\n      if (child.__r3f) {\n        delete child.__r3f.root;\n        delete child.__r3f.objects;\n        delete child.__r3f.handlers;\n        delete child.__r3f.memoizedProps;\n        if (!isInstance) delete child.__r3f;\n      } // Dispose item whenever the reconciler feels like it\n\n\n      if (shouldDispose && child.dispose && child.type !== 'Scene') {\n        unstable_runWithPriority(unstable_IdlePriority, () => child.dispose());\n      }\n\n      invalidateInstance(parentInstance);\n    }\n  }\n\n  function switchInstance(instance, type, newProps, fiber) {\n    const parent = instance.parent;\n    if (!parent) return;\n    const newInstance = createInstance(type, newProps, instance.__r3f.root);\n    removeChild(parent, instance);\n    appendChild(parent, newInstance) // This evil hack switches the react-internal fiber node\n    // https://github.com/facebook/react/issues/14983\n    // https://github.com/facebook/react/pull/15021\n    ;\n    [fiber, fiber.alternate].forEach(fiber => {\n      if (fiber !== null) {\n        fiber.stateNode = newInstance;\n\n        if (fiber.ref) {\n          if (typeof fiber.ref === 'function') fiber.ref(newInstance);else fiber.ref.current = newInstance;\n        }\n      }\n    });\n  }\n\n  const reconciler = Reconciler({\n    now: unstable_now,\n    createInstance,\n    removeChild,\n    appendChild,\n    appendInitialChild: appendChild,\n    insertBefore,\n    warnsIfNotActing: true,\n    supportsMutation: true,\n    isPrimaryRenderer: false,\n    // @ts-ignore\n    scheduleTimeout: is.fun(setTimeout) ? setTimeout : undefined,\n    // @ts-ignore\n    cancelTimeout: is.fun(clearTimeout) ? clearTimeout : undefined,\n    // @ts-ignore\n    setTimeout: is.fun(setTimeout) ? setTimeout : undefined,\n    // @ts-ignore\n    clearTimeout: is.fun(clearTimeout) ? clearTimeout : undefined,\n    noTimeout: -1,\n    appendChildToContainer: (parentInstance, child) => {\n      const {\n        container,\n        root\n      } = getContainer(parentInstance, child); // Link current root to the default scene\n\n      container.__r3f.root = root;\n      appendChild(container, child);\n    },\n    removeChildFromContainer: (parentInstance, child) => {\n      const {\n        container\n      } = getContainer(parentInstance, child);\n      removeChild(container, child);\n    },\n    insertInContainerBefore: (parentInstance, child, beforeChild) => {\n      const {\n        container\n      } = getContainer(parentInstance, child);\n      insertBefore(container, child, beforeChild);\n    },\n\n    commitUpdate(instance, updatePayload, type, oldProps, newProps, fiber) {\n      if (instance.__r3f.instance && newProps.object && newProps.object !== instance) {\n        // <instance object={...} /> where the object reference has changed\n        switchInstance(instance, type, newProps, fiber);\n      } else {\n        // This is a data object, let's extract critical information about it\n        const {\n          args: argsNew = [],\n          ...restNew\n        } = newProps;\n        const {\n          args: argsOld = [],\n          ...restOld\n        } = oldProps; // If it has new props or arguments, then it needs to be re-instanciated\n\n        const hasNewArgs = argsNew.some((value, index) => is.obj(value) ? Object.entries(value).some(([key, val]) => val !== argsOld[index][key]) : value !== argsOld[index]);\n\n        if (hasNewArgs) {\n          // Next we create a new instance and append it again\n          switchInstance(instance, type, newProps, fiber);\n        } else {\n          // Otherwise just overwrite props\n          applyProps(instance, restNew, restOld, true);\n        }\n      }\n    },\n\n    hideInstance(instance) {\n      if (instance.isObject3D) {\n        instance.visible = false;\n        invalidateInstance(instance);\n      }\n    },\n\n    unhideInstance(instance, props) {\n      if (instance.isObject3D && props.visible == null || props.visible) {\n        instance.visible = true;\n        invalidateInstance(instance);\n      }\n    },\n\n    hideTextInstance() {\n      throw new Error('Text is not allowed in the R3F tree.');\n    },\n\n    getPublicInstance(instance) {\n      // TODO: might fix switchInstance (?)\n      return instance;\n    },\n\n    getRootHostContext(rootContainer) {\n      return EMPTY;\n    },\n\n    getChildHostContext(parentHostContext) {\n      return EMPTY;\n    },\n\n    createTextInstance() {},\n\n    finalizeInitialChildren(instance) {\n      // https://github.com/facebook/react/issues/20271\n      // Returning true will trigger commitMount\n      return !!instance.__r3f.handlers;\n    },\n\n    commitMount(instance)\n    /*, type, props*/\n    {\n      // https://github.com/facebook/react/issues/20271\n      // This will make sure events are only added once to the central container\n      if (instance.raycast && instance.__r3f.handlers) instance.__r3f.root.getState().internal.interaction.push(instance);\n    },\n\n    prepareUpdate() {\n      return EMPTY;\n    },\n\n    shouldDeprioritizeSubtree() {\n      return false;\n    },\n\n    prepareForCommit() {\n      return null;\n    },\n\n    preparePortalMount(...args) {// noop\n    },\n\n    resetAfterCommit() {// noop\n    },\n\n    shouldSetTextContent() {\n      return false;\n    },\n\n    clearContainer() {\n      return false;\n    }\n\n  });\n  return {\n    reconciler,\n    applyProps\n  };\n}\n\nconst isRenderer = def => def && !!def.render;\nconst isOrthographicCamera = def => def && def.isOrthographicCamera;\nconst context = /*#__PURE__*/React.createContext(null);\n\nconst createStore = (applyProps, invalidate, advance, props) => {\n  const {\n    gl,\n    size,\n    shadows = false,\n    linear = false,\n    flat = false,\n    vr = false,\n    orthographic = false,\n    frameloop = 'always',\n    dpr = 1,\n    performance,\n    clock = new THREE.Clock(),\n    raycaster: raycastOptions,\n    camera: cameraOptions,\n    onPointerMissed\n  } = props; // Set shadowmap\n\n  if (shadows) {\n    gl.shadowMap.enabled = true;\n    if (typeof shadows === 'object') Object.assign(gl.shadowMap, shadows);else gl.shadowMap.type = THREE.PCFSoftShadowMap;\n  } // Set color management\n\n\n  if (!linear) {\n    if (!flat) gl.toneMapping = THREE.ACESFilmicToneMapping;\n    gl.outputEncoding = THREE.sRGBEncoding;\n  }\n\n  const rootState = create((set, get) => {\n    // Create custom raycaster\n    const raycaster = new THREE.Raycaster();\n    const {\n      params,\n      ...options\n    } = raycastOptions || {};\n    applyProps(raycaster, {\n      enabled: true,\n      ...options,\n      params: { ...raycaster.params,\n        ...params\n      }\n    }, {}); // Create default camera\n\n    const isCamera = cameraOptions instanceof THREE.Camera;\n    const camera = isCamera ? cameraOptions : orthographic ? new THREE.OrthographicCamera(0, 0, 0, 0, 0.1, 1000) : new THREE.PerspectiveCamera(75, 0, 0.1, 1000);\n\n    if (!isCamera) {\n      camera.position.z = 5;\n      if (cameraOptions) applyProps(camera, cameraOptions, {}); // Always look at center by default\n\n      camera.lookAt(0, 0, 0);\n    }\n\n    function setDpr(dpr) {\n      return Array.isArray(dpr) ? Math.min(Math.max(dpr[0], window.devicePixelRatio), dpr[1]) : dpr;\n    }\n\n    const initialDpr = setDpr(dpr);\n    const position = new THREE.Vector3();\n    const defaultTarget = new THREE.Vector3();\n\n    function getCurrentViewport(camera = get().camera, target = defaultTarget, size = get().size) {\n      const {\n        width,\n        height\n      } = size;\n      const aspect = width / height;\n      const distance = camera.getWorldPosition(position).distanceTo(target);\n\n      if (isOrthographicCamera(camera)) {\n        return {\n          width: width / camera.zoom,\n          height: height / camera.zoom,\n          factor: 1,\n          distance,\n          aspect\n        };\n      } else {\n        const fov = camera.fov * Math.PI / 180; // convert vertical fov to radians\n\n        const h = 2 * Math.tan(fov / 2) * distance; // visible height\n\n        const w = h * (width / height);\n        return {\n          width: w,\n          height: h,\n          factor: width / w,\n          distance,\n          aspect\n        };\n      }\n    }\n\n    let performanceTimeout = undefined;\n\n    const setPerformanceCurrent = current => set(state => ({\n      performance: { ...state.performance,\n        current\n      }\n    }));\n\n    return {\n      gl,\n      set,\n      get,\n      invalidate: () => invalidate(get()),\n      advance: (timestamp, runGlobalEffects) => advance(timestamp, runGlobalEffects, get()),\n      linear,\n      flat,\n      scene: prepare(new THREE.Scene()),\n      camera,\n      raycaster,\n      clock,\n      mouse: new THREE.Vector2(),\n      vr,\n      frameloop,\n      onPointerMissed,\n      performance: {\n        current: 1,\n        min: 0.5,\n        max: 1,\n        debounce: 200,\n        ...performance,\n        regress: () => {\n          const state = get(); // Clear timeout\n\n          if (performanceTimeout) clearTimeout(performanceTimeout); // Set lower bound performance\n\n          if (state.performance.current !== state.performance.min) setPerformanceCurrent(state.performance.min); // Go back to upper bound performance after a while unless something regresses meanwhile\n\n          performanceTimeout = setTimeout(() => setPerformanceCurrent(get().performance.max), state.performance.debounce);\n        }\n      },\n      size: {\n        width: 0,\n        height: 0\n      },\n      viewport: {\n        initialDpr,\n        dpr: initialDpr,\n        width: 0,\n        height: 0,\n        aspect: 0,\n        distance: 0,\n        factor: 0,\n        getCurrentViewport\n      },\n      setSize: (width, height) => {\n        const size = {\n          width,\n          height\n        };\n        set(state => ({\n          size,\n          viewport: { ...state.viewport,\n            ...getCurrentViewport(camera, defaultTarget, size)\n          }\n        }));\n      },\n      setDpr: dpr => set(state => ({\n        viewport: { ...state.viewport,\n          dpr: setDpr(dpr)\n        }\n      })),\n      events: {\n        connected: false\n      },\n      internal: {\n        active: false,\n        priority: 0,\n        frames: 0,\n        lastProps: props,\n        interaction: [],\n        hovered: new Map(),\n        subscribers: [],\n        captured: undefined,\n        initialClick: [0, 0],\n        initialHits: [],\n        subscribe: (ref, priority = 0) => {\n          set(({\n            internal\n          }) => ({\n            internal: { ...internal,\n              // If this subscription was given a priority, it takes rendering into its own hands\n              // For that reason we switch off automatic rendering and increase the manual flag\n              // As long as this flag is positive (there could be multiple render subscription)\n              // ..there can be no internal rendering at all\n              priority: internal.priority + (priority ? 1 : 0),\n              // Register subscriber and sort layers from lowest to highest, meaning,\n              // highest priority renders last (on top of the other frames)\n              subscribers: [...internal.subscribers, {\n                ref,\n                priority\n              }].sort((a, b) => a.priority - b.priority)\n            }\n          }));\n          return () => {\n            set(({\n              internal\n            }) => ({\n              internal: { ...internal,\n                // Decrease manual flag if this subscription had a priority\n                priority: internal.priority - (priority ? 1 : 0),\n                // Remove subscriber from list\n                subscribers: internal.subscribers.filter(s => s.ref !== ref)\n              }\n            }));\n          };\n        }\n      }\n    };\n  }); // Resize camera and renderer on changes to size and pixelratio\n\n  rootState.subscribe(() => {\n    const {\n      camera,\n      size,\n      viewport,\n      internal\n    } = rootState.getState(); // https://github.com/pmndrs/react-three-fiber/issues/92\n    // Do not mess with the camera if it belongs to the user\n\n    if (!(internal.lastProps.camera instanceof THREE.Camera)) {\n      if (isOrthographicCamera(camera)) {\n        camera.left = size.width / -2;\n        camera.right = size.width / 2;\n        camera.top = size.height / 2;\n        camera.bottom = size.height / -2;\n      } else {\n        camera.aspect = size.width / size.height;\n      }\n\n      camera.updateProjectionMatrix(); // https://github.com/pmndrs/react-three-fiber/issues/178\n      // Update matrix world since the renderer is a frame late\n\n      camera.updateMatrixWorld();\n    } // Update renderer\n\n\n    gl.setPixelRatio(viewport.dpr);\n    gl.setSize(size.width, size.height);\n  }, state => [state.viewport.dpr, state.size], shallow);\n  const state = rootState.getState(); // Update size\n\n  if (size) state.setSize(size.width, size.height); // Invalidate on any change\n\n  rootState.subscribe(state => invalidate(state)); // Return root state\n\n  return rootState;\n};\n\nfunction createSubs(callback, subs) {\n  const index = subs.length;\n  subs.push(callback);\n  return () => void subs.splice(index, 1);\n}\n\nlet i;\nlet globalEffects = [];\nlet globalAfterEffects = [];\nlet globalTailEffects = [];\nconst addEffect = callback => createSubs(callback, globalEffects);\nconst addAfterEffect = callback => createSubs(callback, globalAfterEffects);\nconst addTail = callback => createSubs(callback, globalTailEffects);\n\nfunction run(effects, timestamp) {\n  for (i = 0; i < effects.length; i++) effects[i](timestamp);\n}\n\nfunction render$1(timestamp, state) {\n  // Run local effects\n  const delta = state.clock.getDelta(); // Call subscribers (useFrame)\n\n  for (i = 0; i < state.internal.subscribers.length; i++) state.internal.subscribers[i].ref.current(state, delta); // Render content\n\n\n  if (!state.internal.priority && state.gl.render) state.gl.render(state.scene, state.camera); // Decrease frame count\n\n  state.internal.frames = Math.max(0, state.internal.frames - 1);\n  return state.frameloop === 'always' ? 1 : state.internal.frames;\n}\n\nfunction createLoop(roots) {\n  let running = false;\n  let repeat;\n\n  function loop(timestamp) {\n    running = true;\n    repeat = 0; // Run effects\n\n    run(globalEffects, timestamp); // Render all roots\n\n    roots.forEach(root => {\n      const state = root.store.getState(); // If the frameloop is invalidated, do not run another frame\n\n      if (state.internal.active && (state.frameloop === 'always' || state.internal.frames > 0)) repeat += render$1(timestamp, state);\n    }); // Run after-effects\n\n    run(globalAfterEffects, timestamp); // Keep on looping if anything invalidates the frameloop\n\n    if (repeat > 0) return requestAnimationFrame(loop); // Tail call effects, they are called when rendering stops\n    else run(globalTailEffects, timestamp); // Flag end of operation\n\n    running = false;\n  }\n\n  function invalidate(state) {\n    if (!state) return roots.forEach(root => invalidate(root.store.getState()));\n    if (state.vr || !state.internal.active || state.frameloop === 'never') return; // Increase frames, do not go higher than 60\n\n    state.internal.frames = Math.min(60, state.internal.frames + 1); // If the render-loop isn't active, start it\n\n    if (!running) {\n      running = true;\n      requestAnimationFrame(loop);\n    }\n  }\n\n  function advance(timestamp, runGlobalEffects = true, state) {\n    if (runGlobalEffects) run(globalEffects, timestamp);\n    if (!state) roots.forEach(root => render$1(timestamp, root.store.getState()));else render$1(timestamp, state);\n    if (runGlobalEffects) run(globalAfterEffects, timestamp);\n  }\n\n  return {\n    loop,\n    invalidate,\n    advance\n  };\n}\n\nfunction createPointerEvents(store) {\n  const {\n    handlePointer\n  } = createEvents(store);\n  const names = {\n    onClick: 'click',\n    onContextMenu: 'contextmenu',\n    onDoubleClick: 'dblclick',\n    onWheel: 'wheel',\n    onPointerDown: 'pointerdown',\n    onPointerUp: 'pointerup',\n    onPointerLeave: 'pointerleave',\n    onPointerMove: 'pointermove',\n    onPointerCancel: 'pointercancel',\n    onLostPointerCapture: 'lostpointercapture'\n  };\n  return {\n    connected: false,\n    handlers: Object.keys(names).reduce((acc, key) => ({ ...acc,\n      [key]: handlePointer(key)\n    }), {}),\n    connect: target => {\n      var _events$handlers;\n\n      const {\n        set,\n        events\n      } = store.getState();\n      events.disconnect == null ? void 0 : events.disconnect();\n      set(state => ({\n        events: { ...state.events,\n          connected: target\n        }\n      }));\n      Object.entries((_events$handlers = events == null ? void 0 : events.handlers) != null ? _events$handlers : []).forEach(([name, event]) => target.addEventListener(names[name], event, {\n        passive: true\n      }));\n    },\n    disconnect: () => {\n      const {\n        set,\n        events\n      } = store.getState();\n\n      if (events.connected) {\n        var _events$handlers2;\n\n        Object.entries((_events$handlers2 = events.handlers) != null ? _events$handlers2 : []).forEach(([name, event]) => {\n          if (events && events.connected instanceof HTMLElement) {\n            events.connected.removeEventListener(names[name], event);\n          }\n        });\n        set(state => ({\n          events: { ...state.events,\n            connected: false\n          }\n        }));\n      }\n    }\n  };\n}\n\n// React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser.\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\nfunction Canvas({\n  children,\n  tabIndex,\n  resize,\n  id,\n  style,\n  className,\n  events,\n  ...props\n}) {\n  const [ref, size] = useMeasure({\n    scroll: true,\n    debounce: {\n      scroll: 50,\n      resize: 0\n    },\n    ...resize\n  });\n  const canvas = React.useRef(null);\n  useIsomorphicLayoutEffect(() => {\n    if (size.width > 0 && size.height > 0) {\n      render(children, canvas.current, { ...props,\n        size,\n        events: events || createPointerEvents\n      });\n    }\n  }, [size, children]);\n  React.useEffect(() => {\n    const container = canvas.current;\n    return () => unmountComponentAtNode(container);\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref,\n    id: id,\n    className: className,\n    tabIndex: tabIndex,\n    style: {\n      position: 'relative',\n      width: '100%',\n      height: '100%',\n      overflow: 'hidden',\n      ...style\n    }\n  }, /*#__PURE__*/React.createElement(\"canvas\", {\n    ref: canvas,\n    style: {\n      display: 'block'\n    }\n  }));\n}\n\nfunction useThree(selector = state => state, equalityFn) {\n  const useStore = React.useContext(context);\n  if (!useStore) throw `R3F hooks can only be used within the Canvas component!`;\n  return useStore(selector, equalityFn);\n}\nfunction useFrame(callback, renderPriority = 0) {\n  const {\n    subscribe\n  } = React.useContext(context).getState().internal; // Update ref\n\n  const ref = React.useRef(callback);\n  React.useLayoutEffect(() => void (ref.current = callback), [callback]); // Subscribe/unsub\n\n  React.useEffect(() => {\n    const unsubscribe = subscribe(ref, renderPriority);\n    return () => unsubscribe();\n  }, [renderPriority, subscribe]);\n  return null;\n}\n\nfunction buildGraph(object) {\n  const data = {\n    nodes: {},\n    materials: {}\n  };\n\n  if (object) {\n    object.traverse(obj => {\n      if (obj.name) {\n        data.nodes[obj.name] = obj;\n      }\n\n      if (obj.material && !data.materials[obj.material.name]) {\n        data.materials[obj.material.name] = obj.material;\n      }\n    });\n  }\n\n  return data;\n}\n\nfunction useGraph(object) {\n  return React.useMemo(() => buildGraph(object), [object]);\n}\n\nfunction loadingFn(extensions, onProgress) {\n  return function (Proto, ...input) {\n    // Construct new loader and run extensions\n    const loader = new Proto();\n    if (extensions) extensions(loader); // Go through the urls and load them\n\n    return Promise.all(input.map(input => new Promise((res, reject) => loader.load(input, data => {\n      if (data.scene) Object.assign(data, buildGraph(data.scene));\n      res(data);\n    }, onProgress, error => {\n      var _error$message;\n\n      return reject((_error$message = error.message) != null ? _error$message : `failure loading ${input}`);\n    }))));\n  };\n}\n\nfunction useLoader(Proto, input, extensions, onProgress) {\n  // Use suspense to load async assets\n  const keys = Array.isArray(input) ? input : [input];\n  const results = useAsset(loadingFn(extensions, onProgress), Proto, ...keys); // Return the object/s\n\n  return Array.isArray(input) ? results : results[0];\n}\n\nuseLoader.preload = function (Proto, input, extensions) {\n  const keys = Array.isArray(input) ? input : [input];\n  return useAsset.preload(loadingFn(extensions), Proto, ...keys);\n};\n\nconst roots = new Map();\nconst modes = ['legacy', 'blocking', 'concurrent'];\nconst {\n  invalidate,\n  advance\n} = createLoop(roots);\nconst {\n  reconciler,\n  applyProps\n} = createRenderer();\n\nconst createRendererInstance = (gl, canvas) => isRenderer(gl) ? gl : new THREE.WebGLRenderer({\n  powerPreference: 'high-performance',\n  canvas: canvas,\n  antialias: true,\n  alpha: true,\n  ...gl\n});\n\nfunction render(element, canvas, {\n  gl,\n  size,\n  mode = modes[1],\n  events,\n  onCreated,\n  ...props\n} = {}) {\n  var _store;\n\n  // Allow size to take on container bounds initially\n  if (!size) {\n    var _canvas$parentElement, _canvas$parentElement2, _canvas$parentElement3, _canvas$parentElement4;\n\n    size = {\n      width: (_canvas$parentElement = (_canvas$parentElement2 = canvas.parentElement) == null ? void 0 : _canvas$parentElement2.clientWidth) != null ? _canvas$parentElement : 0,\n      height: (_canvas$parentElement3 = (_canvas$parentElement4 = canvas.parentElement) == null ? void 0 : _canvas$parentElement4.clientHeight) != null ? _canvas$parentElement3 : 0\n    };\n  }\n\n  let root = roots.get(canvas);\n  let fiber = root == null ? void 0 : root.fiber;\n  let store = root == null ? void 0 : root.store;\n  let state = (_store = store) == null ? void 0 : _store.getState();\n\n  if (fiber && state) {\n    const lastProps = state.internal.lastProps; // When a root was found, see if any fundamental props must be changed or exchanged\n    // Check pixelratio\n\n    if (props.dpr !== undefined && !is.equ(lastProps.dpr, props.dpr)) state.setDpr(props.dpr); // Check size\n\n    if (size !== undefined && !is.equ(lastProps.size, size)) state.setSize(size.width, size.height); // For some props we want to reset the entire root\n    // Changes to the color-space\n\n    const linearChanged = props.linear !== lastProps.linear;\n\n    if (linearChanged) {\n      unmountComponentAtNode(canvas);\n      fiber = undefined;\n    }\n  }\n\n  if (!fiber) {\n    // If no root has been found, make one\n    // Create gl\n    const glRenderer = createRendererInstance(gl, canvas); // Enable VR if requested\n\n    if (props.vr) {\n      glRenderer.xr.enabled = true;\n      glRenderer.setAnimationLoop(timestamp => advance(timestamp, true));\n    } // Create store\n\n\n    store = createStore(applyProps, invalidate, advance, {\n      gl: glRenderer,\n      size,\n      ...props\n    });\n    const state = store.getState();\n    state.get; // Create renderer\n\n    fiber = reconciler.createContainer(store, modes.indexOf(mode), false, null); // Map it\n\n    roots.set(canvas, {\n      fiber,\n      store\n    }); // Store events internally\n\n    if (events) state.set({\n      events: events(store)\n    });\n  }\n\n  if (store && fiber) {\n    reconciler.updateContainer( /*#__PURE__*/React.createElement(Provider, {\n      store: store,\n      element: element,\n      onCreated: onCreated,\n      target: canvas\n    }), fiber, null, () => undefined);\n    return store;\n  } else {\n    throw 'Error creating root!';\n  }\n}\n\nfunction Provider({\n  store,\n  element,\n  onCreated,\n  target\n}) {\n  React.useEffect(() => {\n    const state = store.getState(); // Flag the canvas active, rendering will now begin\n\n    state.set(state => ({\n      internal: { ...state.internal,\n        active: true\n      }\n    })); // Connect events\n\n    state.events.connect == null ? void 0 : state.events.connect(target); // Notifiy that init is completed, the scene graph exists, but nothing has yet rendered\n\n    if (onCreated) onCreated(state);\n  }, []);\n  return /*#__PURE__*/React.createElement(context.Provider, {\n    value: store\n  }, element);\n}\n\nfunction unmountComponentAtNode(canvas, callback) {\n  const root = roots.get(canvas);\n  const fiber = root == null ? void 0 : root.fiber;\n\n  if (fiber) {\n    const state = root == null ? void 0 : root.store.getState();\n    if (state) state.internal.active = false;\n    reconciler.updateContainer(null, fiber, null, () => {\n      if (state) {\n        setTimeout(() => {\n          var _state$gl, _state$gl$renderLists, _state$gl2;\n\n          state.events.disconnect == null ? void 0 : state.events.disconnect();\n          (_state$gl = state.gl) == null ? void 0 : (_state$gl$renderLists = _state$gl.renderLists) == null ? void 0 : _state$gl$renderLists.dispose == null ? void 0 : _state$gl$renderLists.dispose();\n          (_state$gl2 = state.gl) == null ? void 0 : _state$gl2.forceContextLoss == null ? void 0 : _state$gl2.forceContextLoss();\n          dispose(state);\n          roots.delete(canvas);\n          if (callback) callback(canvas);\n        }, 500);\n      }\n    });\n  }\n}\n\nfunction dispose(obj) {\n  if (obj.dispose && obj.type !== 'Scene') obj.dispose();\n\n  for (const p in obj) {\n    var _dispose, _ref;\n    (_dispose = (_ref = p).dispose) == null ? void 0 : _dispose.call(_ref);\n    delete obj[p];\n  }\n}\n\nconst act = reconciler.act;\nconst hasSymbol = is.fun(Symbol) && Symbol.for;\nconst REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\n\nfunction createPortal(children, container, implementation, key = null) {\n  return {\n    $$typeof: REACT_PORTAL_TYPE,\n    key: key == null ? null : '' + key,\n    children,\n    containerInfo: prepare(container),\n    implementation\n  };\n}\n\nreconciler.injectIntoDevTools({\n  bundleType: process.env.NODE_ENV === 'production' ? 0 : 1,\n  rendererPackageName: '@react-three/fiber',\n  version: '17.0.2'\n});\n\nexport { Canvas, threeTypes as ReactThreeFiber, roots as _roots, act, addAfterEffect, addEffect, addTail, advance, applyProps, context, createPortal, dispose, createPointerEvents as events, extend, invalidate, reconciler, render, unmountComponentAtNode, useFrame, useGraph, useLoader, useThree };\n","import { defineHidden, is, createInterpolator, eachProp, hasFluidValue, getFluidValue, each, isAnimatedString, useForceUpdate, useLayoutEffect, addFluidObserver, removeFluidObserver, raf, useOnce } from '@react-spring/shared';\nimport { forwardRef, useRef, useCallback, useEffect, createElement } from 'react';\n\nconst $node = Symbol.for(\"Animated:node\");\nconst isAnimated = (value) => !!value && value[$node] === value;\nconst getAnimated = (owner) => owner && owner[$node];\nconst setAnimated = (owner, node) => defineHidden(owner, $node, node);\nconst getPayload = (owner) => owner && owner[$node] && owner[$node].getPayload();\nclass Animated {\n  constructor() {\n    setAnimated(this, this);\n  }\n  getPayload() {\n    return this.payload || [];\n  }\n}\n\nclass AnimatedValue extends Animated {\n  constructor(_value) {\n    super();\n    this._value = _value;\n    this.done = true;\n    this.durationProgress = 0;\n    if (is.num(this._value)) {\n      this.lastPosition = this._value;\n    }\n  }\n  static create(value) {\n    return new AnimatedValue(value);\n  }\n  getPayload() {\n    return [this];\n  }\n  getValue() {\n    return this._value;\n  }\n  setValue(value, step) {\n    if (is.num(value)) {\n      this.lastPosition = value;\n      if (step) {\n        value = Math.round(value / step) * step;\n        if (this.done) {\n          this.lastPosition = value;\n        }\n      }\n    }\n    if (this._value === value) {\n      return false;\n    }\n    this._value = value;\n    return true;\n  }\n  reset() {\n    const {done} = this;\n    this.done = false;\n    if (is.num(this._value)) {\n      this.elapsedTime = 0;\n      this.durationProgress = 0;\n      this.lastPosition = this._value;\n      if (done)\n        this.lastVelocity = null;\n      this.v0 = null;\n    }\n  }\n}\n\nclass AnimatedString extends AnimatedValue {\n  constructor(value) {\n    super(0);\n    this._string = null;\n    this._toString = createInterpolator({\n      output: [value, value]\n    });\n  }\n  static create(value) {\n    return new AnimatedString(value);\n  }\n  getValue() {\n    let value = this._string;\n    return value == null ? this._string = this._toString(this._value) : value;\n  }\n  setValue(value) {\n    if (is.str(value)) {\n      if (value == this._string) {\n        return false;\n      }\n      this._string = value;\n      this._value = 1;\n    } else if (super.setValue(value)) {\n      this._string = null;\n    } else {\n      return false;\n    }\n    return true;\n  }\n  reset(goal) {\n    if (goal) {\n      this._toString = createInterpolator({\n        output: [this.getValue(), goal]\n      });\n    }\n    this._value = 0;\n    super.reset();\n  }\n}\n\nconst TreeContext = {dependencies: null};\n\nclass AnimatedObject extends Animated {\n  constructor(source) {\n    super();\n    this.source = source;\n    this.setValue(source);\n  }\n  getValue(animated) {\n    const values = {};\n    eachProp(this.source, (source, key) => {\n      if (isAnimated(source)) {\n        values[key] = source.getValue(animated);\n      } else if (hasFluidValue(source)) {\n        values[key] = getFluidValue(source);\n      } else if (!animated) {\n        values[key] = source;\n      }\n    });\n    return values;\n  }\n  setValue(source) {\n    this.source = source;\n    this.payload = this._makePayload(source);\n  }\n  reset() {\n    if (this.payload) {\n      each(this.payload, (node) => node.reset());\n    }\n  }\n  _makePayload(source) {\n    if (source) {\n      const payload = new Set();\n      eachProp(source, this._addToPayload, payload);\n      return Array.from(payload);\n    }\n  }\n  _addToPayload(source) {\n    if (TreeContext.dependencies && hasFluidValue(source)) {\n      TreeContext.dependencies.add(source);\n    }\n    const payload = getPayload(source);\n    if (payload) {\n      each(payload, (node) => this.add(node));\n    }\n  }\n}\n\nclass AnimatedArray extends AnimatedObject {\n  constructor(source) {\n    super(source);\n  }\n  static create(source) {\n    return new AnimatedArray(source);\n  }\n  getValue() {\n    return this.source.map((node) => node.getValue());\n  }\n  setValue(source) {\n    const payload = this.getPayload();\n    if (source.length == payload.length) {\n      return payload.some((node, i) => node.setValue(source[i]));\n    }\n    super.setValue(source.map(makeAnimated));\n    return true;\n  }\n}\nfunction makeAnimated(value) {\n  const nodeType = isAnimatedString(value) ? AnimatedString : AnimatedValue;\n  return nodeType.create(value);\n}\n\nfunction getAnimatedType(value) {\n  const parentNode = getAnimated(value);\n  return parentNode ? parentNode.constructor : is.arr(value) ? AnimatedArray : isAnimatedString(value) ? AnimatedString : AnimatedValue;\n}\n\nconst withAnimated = (Component, host) => {\n  const hasInstance = !is.fun(Component) || Component.prototype && Component.prototype.isReactComponent;\n  return forwardRef((givenProps, givenRef) => {\n    const instanceRef = useRef(null);\n    const ref = hasInstance && useCallback((value) => {\n      instanceRef.current = updateRef(givenRef, value);\n    }, [givenRef]);\n    const [props, deps] = getAnimatedState(givenProps, host);\n    const forceUpdate = useForceUpdate();\n    const callback = () => {\n      const instance = instanceRef.current;\n      if (hasInstance && !instance) {\n        return;\n      }\n      const didUpdate = instance ? host.applyAnimatedValues(instance, props.getValue(true)) : false;\n      if (didUpdate === false) {\n        forceUpdate();\n      }\n    };\n    const observer = new PropsObserver(callback, deps);\n    const observerRef = useRef();\n    useLayoutEffect(() => {\n      const lastObserver = observerRef.current;\n      observerRef.current = observer;\n      each(deps, (dep) => addFluidObserver(dep, observer));\n      if (lastObserver) {\n        each(lastObserver.deps, (dep) => removeFluidObserver(dep, lastObserver));\n        raf.cancel(lastObserver.update);\n      }\n    });\n    useEffect(callback, []);\n    useOnce(() => () => {\n      const observer2 = observerRef.current;\n      each(observer2.deps, (dep) => removeFluidObserver(dep, observer2));\n    });\n    const usedProps = host.getComponentProps(props.getValue());\n    return /* @__PURE__ */ createElement(Component, {\n      ...usedProps,\n      ref\n    });\n  });\n};\nclass PropsObserver {\n  constructor(update, deps) {\n    this.update = update;\n    this.deps = deps;\n  }\n  eventObserved(event) {\n    if (event.type == \"change\") {\n      raf.write(this.update);\n    }\n  }\n}\nfunction getAnimatedState(props, host) {\n  const dependencies = new Set();\n  TreeContext.dependencies = dependencies;\n  if (props.style)\n    props = {\n      ...props,\n      style: host.createAnimatedStyle(props.style)\n    };\n  props = new AnimatedObject(props);\n  TreeContext.dependencies = null;\n  return [props, dependencies];\n}\nfunction updateRef(ref, value) {\n  if (ref) {\n    if (is.fun(ref))\n      ref(value);\n    else\n      ref.current = value;\n  }\n  return value;\n}\n\nconst cacheKey = Symbol.for(\"AnimatedComponent\");\nconst createHost = (components, {\n  applyAnimatedValues = () => false,\n  createAnimatedStyle = (style) => new AnimatedObject(style),\n  getComponentProps = (props) => props\n} = {}) => {\n  const hostConfig = {\n    applyAnimatedValues,\n    createAnimatedStyle,\n    getComponentProps\n  };\n  const animated = (Component) => {\n    const displayName = getDisplayName(Component) || \"Anonymous\";\n    if (is.str(Component)) {\n      Component = animated[Component] || (animated[Component] = withAnimated(Component, hostConfig));\n    } else {\n      Component = Component[cacheKey] || (Component[cacheKey] = withAnimated(Component, hostConfig));\n    }\n    Component.displayName = `Animated(${displayName})`;\n    return Component;\n  };\n  eachProp(components, (Component, key) => {\n    if (is.arr(components)) {\n      key = getDisplayName(Component);\n    }\n    animated[key] = animated(Component);\n  });\n  return {\n    animated\n  };\n};\nconst getDisplayName = (arg) => is.str(arg) ? arg : arg && is.str(arg.displayName) ? arg.displayName : is.fun(arg) && arg.name || null;\n\nexport { Animated, AnimatedArray, AnimatedObject, AnimatedString, AnimatedValue, createHost, getAnimated, getAnimatedType, getPayload, isAnimated, setAnimated };\n//# sourceMappingURL=index.js.map\n",null,null,null,null,null,null,null,"import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","module.exports = require(\"regenerator-runtime\");\n","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","// Key code constants\r\n// Available values for `KeyboardEvent.keyCode` attribute.\r\nvar KEY_CANCEL = 3;\r\nvar KEY_HELP = 6;\r\nvar KEY_BACK_SPACE = 8;\r\nvar KEY_TAB = 9;\r\nvar KEY_CLEAR = 12;\r\nvar KEY_RETURN = 13;\r\nvar KEY_SHIFT = 16;\r\nvar KEY_CONTROL = 17;\r\nvar KEY_ALT = 18;\r\nvar KEY_PAUSE = 19;\r\nvar KEY_CAPS_LOCK = 20;\r\nvar KEY_ESCAPE = 27;\r\nvar KEY_SPACE = 32;\r\nvar KEY_PAGE_UP = 33;\r\nvar KEY_PAGE_DOWN = 34;\r\nvar KEY_END = 35;\r\nvar KEY_HOME = 36;\r\nvar KEY_LEFT = 37;\r\nvar KEY_UP = 38;\r\nvar KEY_RIGHT = 39;\r\nvar KEY_DOWN = 40;\r\nvar KEY_PRINTSCREEN = 44;\r\nvar KEY_INSERT = 45;\r\nvar KEY_DELETE = 46;\r\nvar KEY_0 = 48;\r\nvar KEY_1 = 49;\r\nvar KEY_2 = 50;\r\nvar KEY_3 = 51;\r\nvar KEY_4 = 52;\r\nvar KEY_5 = 53;\r\nvar KEY_6 = 54;\r\nvar KEY_7 = 55;\r\nvar KEY_8 = 56;\r\nvar KEY_9 = 57;\r\nvar KEY_A = 65;\r\nvar KEY_B = 66;\r\nvar KEY_C = 67;\r\nvar KEY_D = 68;\r\nvar KEY_E = 69;\r\nvar KEY_F = 70;\r\nvar KEY_G = 71;\r\nvar KEY_H = 72;\r\nvar KEY_I = 73;\r\nvar KEY_J = 74;\r\nvar KEY_K = 75;\r\nvar KEY_L = 76;\r\nvar KEY_M = 77;\r\nvar KEY_N = 78;\r\nvar KEY_O = 79;\r\nvar KEY_P = 80;\r\nvar KEY_Q = 81;\r\nvar KEY_R = 82;\r\nvar KEY_S = 83;\r\nvar KEY_T = 84;\r\nvar KEY_U = 85;\r\nvar KEY_V = 86;\r\nvar KEY_W = 87;\r\nvar KEY_X = 88;\r\nvar KEY_Y = 89;\r\nvar KEY_Z = 90;\r\nvar KEY_LEFT_CMD = 91;\r\nvar KEY_RIGHT_CMD = 92;\r\nvar KEY_CONTEXT_MENU = 93;\r\nvar KEY_NUMPAD0 = 96;\r\nvar KEY_NUMPAD1 = 97;\r\nvar KEY_NUMPAD2 = 98;\r\nvar KEY_NUMPAD3 = 99;\r\nvar KEY_NUMPAD4 = 100;\r\nvar KEY_NUMPAD5 = 101;\r\nvar KEY_NUMPAD6 = 102;\r\nvar KEY_NUMPAD7 = 103;\r\nvar KEY_NUMPAD8 = 104;\r\nvar KEY_NUMPAD9 = 105;\r\nvar KEY_MULTIPLY = 106;\r\nvar KEY_ADD = 107;\r\nvar KEY_SUBTRACT = 109;\r\nvar KEY_DECIMAL = 110;\r\nvar KEY_DIVIDE = 111;\r\nvar KEY_F1 = 112;\r\nvar KEY_F2 = 113;\r\nvar KEY_F3 = 114;\r\nvar KEY_F4 = 115;\r\nvar KEY_F5 = 116;\r\nvar KEY_F6 = 117;\r\nvar KEY_F7 = 118;\r\nvar KEY_F8 = 119;\r\nvar KEY_F9 = 120;\r\nvar KEY_F10 = 121;\r\nvar KEY_F11 = 122;\r\nvar KEY_F12 = 123;\r\nvar KEY_F13 = 124;\r\nvar KEY_F14 = 125;\r\nvar KEY_F15 = 126;\r\nvar KEY_F16 = 127;\r\nvar KEY_F17 = 128;\r\nvar KEY_F18 = 129;\r\nvar KEY_F19 = 130;\r\nvar KEY_F20 = 131;\r\nvar KEY_F21 = 132;\r\nvar KEY_F22 = 133;\r\nvar KEY_F23 = 134;\r\nvar KEY_F24 = 135;\r\nvar KEY_NUM_LOCK = 144;\r\nvar KEY_SCROLL_LOCK = 145;\r\nvar KEY_SEMICOLON = 186;\r\nvar KEY_EQUALS = 187;\r\nvar KEY_COMMA = 188;\r\nvar KEY_DASH = 189;\r\nvar KEY_PERIOD = 190;\r\nvar KEY_SLASH = 191;\r\nvar KEY_BACK_QUOTE = 192;\r\nvar KEY_OPEN_BRACKET = 219;\r\nvar KEY_BACK_SLASH = 220;\r\nvar KEY_CLOSE_BRACKET = 221;\r\nvar KEY_QUOTE = 222;\r\n// Key code constants specific to firefox only.\r\nvar KEY_FIREFOX_ENTER = 14;\r\nvar KEY_FIREFOX_SEMICOLON = 59;\r\nvar KEY_FIREFOX_EQUALS = 61;\r\nvar KEY_FIREFOX_SEPARATOR = 108;\r\nvar KEY_FIREFOX_META = 224;\r\n// Key values constants\r\n// Available values for `KeyboardEvent.key` attribute.\r\nvar VALUE_CANCEL = 'Cancel';\r\nvar VALUE_HELP = 'Help';\r\nvar VALUE_BACK_SPACE = 'Backspace';\r\nvar VALUE_TAB = 'Tab';\r\nvar VALUE_CLEAR = 'Clear';\r\nvar VALUE_ENTER = 'Enter';\r\nvar VALUE_RETURN = 'Enter';\r\nvar VALUE_SHIFT = 'Shift';\r\nvar VALUE_CONTROL = 'Control';\r\nvar VALUE_ALT = 'Alt';\r\nvar VALUE_PAUSE = 'Pause';\r\nvar VALUE_CAPS_LOCK = 'CapsLock';\r\nvar VALUE_ESCAPE = 'Escape';\r\nvar VALUE_SPACE = ' ';\r\nvar VALUE_PAGE_UP = 'PageUp';\r\nvar VALUE_PAGE_DOWN = 'PageDown';\r\nvar VALUE_END = 'End';\r\nvar VALUE_HOME = 'Home';\r\nvar VALUE_LEFT = 'ArrowLeft';\r\nvar VALUE_UP = 'ArrowUp';\r\nvar VALUE_RIGHT = 'ArrowRight';\r\nvar VALUE_DOWN = 'ArrowDown';\r\nvar VALUE_PRINTSCREEN = 'PrintScreen';\r\nvar VALUE_INSERT = 'Insert';\r\nvar VALUE_DELETE = 'Delete';\r\nvar VALUE_0 = '0';\r\nvar VALUE_1 = '1';\r\nvar VALUE_2 = '2';\r\nvar VALUE_3 = '3';\r\nvar VALUE_4 = '4';\r\nvar VALUE_5 = '5';\r\nvar VALUE_6 = '6';\r\nvar VALUE_7 = '7';\r\nvar VALUE_8 = '8';\r\nvar VALUE_9 = '9';\r\nvar VALUE_A = 'a';\r\nvar VALUE_B = 'b';\r\nvar VALUE_C = 'c';\r\nvar VALUE_D = 'd';\r\nvar VALUE_E = 'e';\r\nvar VALUE_F = 'f';\r\nvar VALUE_G = 'g';\r\nvar VALUE_H = 'h';\r\nvar VALUE_I = 'i';\r\nvar VALUE_J = 'j';\r\nvar VALUE_K = 'k';\r\nvar VALUE_L = 'l';\r\nvar VALUE_M = 'm';\r\nvar VALUE_N = 'n';\r\nvar VALUE_O = 'o';\r\nvar VALUE_P = 'p';\r\nvar VALUE_Q = 'q';\r\nvar VALUE_R = 'r';\r\nvar VALUE_S = 's';\r\nvar VALUE_T = 't';\r\nvar VALUE_U = 'u';\r\nvar VALUE_V = 'v';\r\nvar VALUE_W = 'w';\r\nvar VALUE_X = 'x';\r\nvar VALUE_Y = 'y';\r\nvar VALUE_Z = 'z';\r\nvar VALUE_META = 'Meta';\r\nvar VALUE_LEFT_CMD = 'Meta';\r\nvar VALUE_RIGHT_CMD = 'Meta';\r\nvar VALUE_CONTEXT_MENU = 'ContextMenu';\r\nvar VALUE_NUMPAD0 = '0';\r\nvar VALUE_NUMPAD1 = '1';\r\nvar VALUE_NUMPAD2 = '2';\r\nvar VALUE_NUMPAD3 = '3';\r\nvar VALUE_NUMPAD4 = '4';\r\nvar VALUE_NUMPAD5 = '5';\r\nvar VALUE_NUMPAD6 = '6';\r\nvar VALUE_NUMPAD7 = '7';\r\nvar VALUE_NUMPAD8 = '8';\r\nvar VALUE_NUMPAD9 = '9';\r\nvar VALUE_MULTIPLY = '*';\r\nvar VALUE_ADD = '+';\r\nvar VALUE_SUBTRACT = '-';\r\nvar VALUE_DECIMAL = '.';\r\nvar VALUE_DIVIDE = '/';\r\nvar VALUE_F1 = 'F1';\r\nvar VALUE_F2 = 'F2';\r\nvar VALUE_F3 = 'F3';\r\nvar VALUE_F4 = 'F4';\r\nvar VALUE_F5 = 'F5';\r\nvar VALUE_F6 = 'F6';\r\nvar VALUE_F7 = 'F7';\r\nvar VALUE_F8 = 'F8';\r\nvar VALUE_F9 = 'F9';\r\nvar VALUE_F10 = 'F10';\r\nvar VALUE_F11 = 'F11';\r\nvar VALUE_F12 = 'F12';\r\nvar VALUE_F13 = 'F13';\r\nvar VALUE_F14 = 'F14';\r\nvar VALUE_F15 = 'F15';\r\nvar VALUE_F16 = 'F16';\r\nvar VALUE_F17 = 'F17';\r\nvar VALUE_F18 = 'F18';\r\nvar VALUE_F19 = 'F19';\r\nvar VALUE_F20 = 'F20';\r\nvar VALUE_F21 = 'F21';\r\nvar VALUE_F22 = 'F22';\r\nvar VALUE_F23 = 'F23';\r\nvar VALUE_F24 = 'F24';\r\nvar VALUE_NUM_LOCK = 'NumLock';\r\nvar VALUE_SCROLL_LOCK = 'ScrollLock';\r\nvar VALUE_SEMICOLON = ';';\r\nvar VALUE_EQUALS = '=';\r\nvar VALUE_COMMA = ',';\r\nvar VALUE_DASH = '-';\r\nvar VALUE_PERIOD = '.';\r\nvar VALUE_SLASH = '/';\r\nvar VALUE_BACK_QUOTE = '`';\r\nvar VALUE_OPEN_BRACKET = '[';\r\nvar VALUE_BACK_SLASH = '\\\\';\r\nvar VALUE_CLOSE_BRACKET = ']';\r\nvar VALUE_QUOTE = \"'\";\r\n// Key code constants\r\n// Available values for `KeyboardEvent.code` attribute.\r\nvar CODE_UNIDENTIFIED = 'Unidentified';\r\nvar CODE_ESCAPE = 'Escape';\r\nvar CODE_MINUS = 'Minus';\r\nvar CODE_DASH = 'Minus';\r\nvar CODE_EQUALS = 'Equal';\r\nvar CODE_BACK_SPACE = 'Backspace';\r\nvar CODE_TAB = 'Tab';\r\nvar CODE_ENTER = 'Enter';\r\nvar CODE_RETURN = 'Enter';\r\nvar CODE_SHIFT_LEFT = 'ShiftLeft';\r\nvar CODE_SHIFT_RIGHT = 'ShiftRight';\r\nvar CODE_CONTROL_LEFT = 'ControlLeft';\r\nvar CODE_CONTROL_RIGHT = 'ControlRight';\r\nvar CODE_ALT_LEFT = 'AltLeft';\r\nvar CODE_ALT_RIGHT = 'AltRight';\r\nvar CODE_PAUSE = 'Pause';\r\nvar CODE_CAPS_LOCK = 'CapsLock';\r\nvar CODE_SPACE = 'Space';\r\nvar CODE_PAGE_UP = 'PageUp';\r\nvar CODE_PAGE_DOWN = 'PageDown';\r\nvar CODE_END = 'End';\r\nvar CODE_HOME = 'Home';\r\nvar CODE_LEFT = 'ArrowLeft';\r\nvar CODE_UP = 'ArrowUp';\r\nvar CODE_RIGHT = 'ArrowRight';\r\nvar CODE_DOWN = 'ArrowDown';\r\nvar CODE_PRINTSCREEN = 'PrintScreen';\r\nvar CODE_INSERT = 'Insert';\r\nvar CODE_DELETE = 'Delete';\r\nvar CODE_0 = 'Digit0';\r\nvar CODE_1 = 'Digit1';\r\nvar CODE_2 = 'Digit2';\r\nvar CODE_3 = 'Digit3';\r\nvar CODE_4 = 'Digit4';\r\nvar CODE_5 = 'Digit5';\r\nvar CODE_6 = 'Digit6';\r\nvar CODE_7 = 'Digit7';\r\nvar CODE_8 = 'Digit8';\r\nvar CODE_9 = 'Digit9';\r\nvar CODE_A = 'KeyA';\r\nvar CODE_B = 'KeyB';\r\nvar CODE_C = 'KeyC';\r\nvar CODE_D = 'KeyD';\r\nvar CODE_E = 'KeyE';\r\nvar CODE_F = 'KeyF';\r\nvar CODE_G = 'KeyG';\r\nvar CODE_H = 'KeyH';\r\nvar CODE_I = 'KeyI';\r\nvar CODE_J = 'KeyJ';\r\nvar CODE_K = 'KeyK';\r\nvar CODE_L = 'KeyL';\r\nvar CODE_M = 'KeyM';\r\nvar CODE_N = 'KeyN';\r\nvar CODE_O = 'KeyO';\r\nvar CODE_P = 'KeyP';\r\nvar CODE_Q = 'KeyQ';\r\nvar CODE_R = 'KeyR';\r\nvar CODE_S = 'KeyS';\r\nvar CODE_T = 'KeyT';\r\nvar CODE_U = 'KeyU';\r\nvar CODE_V = 'KeyV';\r\nvar CODE_W = 'KeyW';\r\nvar CODE_X = 'KeyX';\r\nvar CODE_Y = 'KeyY';\r\nvar CODE_Z = 'KeyZ';\r\nvar CODE_META_LEFT = 'MetaLeft';\r\nvar CODE_OS_LEFT = 'OSLeft';\r\nvar CODE_META_RIGHT = 'MetaRight';\r\nvar CODE_OS_RIGHT = 'OSRight';\r\nvar CODE_CONTEXT_MENU = 'ContextMenu';\r\nvar CODE_NUMPAD0 = 'Numpad0';\r\nvar CODE_NUMPAD1 = 'Numpad1';\r\nvar CODE_NUMPAD2 = 'Numpad2';\r\nvar CODE_NUMPAD3 = 'Numpad3';\r\nvar CODE_NUMPAD4 = 'Numpad4';\r\nvar CODE_NUMPAD5 = 'Numpad5';\r\nvar CODE_NUMPAD6 = 'Numpad6';\r\nvar CODE_NUMPAD7 = 'Numpad7';\r\nvar CODE_NUMPAD8 = 'Numpad8';\r\nvar CODE_NUMPAD9 = 'Numpad9';\r\nvar CODE_NUMPAD_MULTIPLY = 'NumpadMultiply';\r\nvar CODE_NUMPAD_ADD = 'NumpadAdd';\r\nvar CODE_NUMPAD_SUBTRACT = 'NumpadSubtract';\r\nvar CODE_NUMPAD_DECIMAL = 'NumpadDecimal';\r\nvar CODE_NUMPAD_DIVIDE = 'NumpadDivide';\r\nvar CODE_NUMPAD_ENTER = 'NumpadEnter';\r\nvar CODE_F1 = 'F1';\r\nvar CODE_F2 = 'F2';\r\nvar CODE_F3 = 'F3';\r\nvar CODE_F4 = 'F4';\r\nvar CODE_F5 = 'F5';\r\nvar CODE_F6 = 'F6';\r\nvar CODE_F7 = 'F7';\r\nvar CODE_F8 = 'F8';\r\nvar CODE_F9 = 'F9';\r\nvar CODE_F10 = 'F10';\r\nvar CODE_F11 = 'F11';\r\nvar CODE_F12 = 'F12';\r\nvar CODE_F13 = 'F13';\r\nvar CODE_F14 = 'F14';\r\nvar CODE_F15 = 'F15';\r\nvar CODE_F16 = 'F16';\r\nvar CODE_F17 = 'F17';\r\nvar CODE_F18 = 'F18';\r\nvar CODE_F19 = 'F19';\r\nvar CODE_F20 = 'F20';\r\nvar CODE_F21 = 'F21';\r\nvar CODE_F22 = 'F22';\r\nvar CODE_F23 = 'F23';\r\nvar CODE_F24 = 'F24';\r\nvar CODE_NUM_LOCK = 'NumLock';\r\nvar CODE_SCROLL_LOCK = 'ScrollLock';\r\nvar CODE_SEMICOLON = 'Semicolon';\r\nvar CODE_COMMA = 'Comma';\r\nvar CODE_PERIOD = 'Period';\r\nvar CODE_SLASH = 'Slash';\r\nvar CODE_BACK_QUOTE = 'Backquote';\r\nvar CODE_OPEN_BRACKET = 'BracketLeft';\r\nvar CODE_BACK_SLASH = 'Backslash';\r\nvar CODE_CLOSE_BRACKET = 'BracketRight';\r\nvar CODE_QUOTE = 'Quote';\n\nexport { CODE_0, CODE_1, CODE_2, CODE_3, CODE_4, CODE_5, CODE_6, CODE_7, CODE_8, CODE_9, CODE_A, CODE_ALT_LEFT, CODE_ALT_RIGHT, CODE_B, CODE_BACK_QUOTE, CODE_BACK_SLASH, CODE_BACK_SPACE, CODE_C, CODE_CAPS_LOCK, CODE_CLOSE_BRACKET, CODE_COMMA, CODE_CONTEXT_MENU, CODE_CONTROL_LEFT, CODE_CONTROL_RIGHT, CODE_D, CODE_DASH, CODE_DELETE, CODE_DOWN, CODE_E, CODE_END, CODE_ENTER, CODE_EQUALS, CODE_ESCAPE, CODE_F, CODE_F1, CODE_F10, CODE_F11, CODE_F12, CODE_F13, CODE_F14, CODE_F15, CODE_F16, CODE_F17, CODE_F18, CODE_F19, CODE_F2, CODE_F20, CODE_F21, CODE_F22, CODE_F23, CODE_F24, CODE_F3, CODE_F4, CODE_F5, CODE_F6, CODE_F7, CODE_F8, CODE_F9, CODE_G, CODE_H, CODE_HOME, CODE_I, CODE_INSERT, CODE_J, CODE_K, CODE_L, CODE_LEFT, CODE_M, CODE_META_LEFT, CODE_META_RIGHT, CODE_MINUS, CODE_N, CODE_NUMPAD0, CODE_NUMPAD1, CODE_NUMPAD2, CODE_NUMPAD3, CODE_NUMPAD4, CODE_NUMPAD5, CODE_NUMPAD6, CODE_NUMPAD7, CODE_NUMPAD8, CODE_NUMPAD9, CODE_NUMPAD_ADD, CODE_NUMPAD_DECIMAL, CODE_NUMPAD_DIVIDE, CODE_NUMPAD_ENTER, CODE_NUMPAD_MULTIPLY, CODE_NUMPAD_SUBTRACT, CODE_NUM_LOCK, CODE_O, CODE_OPEN_BRACKET, CODE_OS_LEFT, CODE_OS_RIGHT, CODE_P, CODE_PAGE_DOWN, CODE_PAGE_UP, CODE_PAUSE, CODE_PERIOD, CODE_PRINTSCREEN, CODE_Q, CODE_QUOTE, CODE_R, CODE_RETURN, CODE_RIGHT, CODE_S, CODE_SCROLL_LOCK, CODE_SEMICOLON, CODE_SHIFT_LEFT, CODE_SHIFT_RIGHT, CODE_SLASH, CODE_SPACE, CODE_T, CODE_TAB, CODE_U, CODE_UNIDENTIFIED, CODE_UP, CODE_V, CODE_W, CODE_X, CODE_Y, CODE_Z, KEY_0, KEY_1, KEY_2, KEY_3, KEY_4, KEY_5, KEY_6, KEY_7, KEY_8, KEY_9, KEY_A, KEY_ADD, KEY_ALT, KEY_B, KEY_BACK_QUOTE, KEY_BACK_SLASH, KEY_BACK_SPACE, KEY_C, KEY_CANCEL, KEY_CAPS_LOCK, KEY_CLEAR, KEY_CLOSE_BRACKET, KEY_COMMA, KEY_CONTEXT_MENU, KEY_CONTROL, KEY_D, KEY_DASH, KEY_DECIMAL, KEY_DELETE, KEY_DIVIDE, KEY_DOWN, KEY_E, KEY_END, KEY_EQUALS, KEY_ESCAPE, KEY_F, KEY_F1, KEY_F10, KEY_F11, KEY_F12, KEY_F13, KEY_F14, KEY_F15, KEY_F16, KEY_F17, KEY_F18, KEY_F19, KEY_F2, KEY_F20, KEY_F21, KEY_F22, KEY_F23, KEY_F24, KEY_F3, KEY_F4, KEY_F5, KEY_F6, KEY_F7, KEY_F8, KEY_F9, KEY_FIREFOX_ENTER, KEY_FIREFOX_EQUALS, KEY_FIREFOX_META, KEY_FIREFOX_SEMICOLON, KEY_FIREFOX_SEPARATOR, KEY_G, KEY_H, KEY_HELP, KEY_HOME, KEY_I, KEY_INSERT, KEY_J, KEY_K, KEY_L, KEY_LEFT, KEY_LEFT_CMD, KEY_M, KEY_MULTIPLY, KEY_N, KEY_NUMPAD0, KEY_NUMPAD1, KEY_NUMPAD2, KEY_NUMPAD3, KEY_NUMPAD4, KEY_NUMPAD5, KEY_NUMPAD6, KEY_NUMPAD7, KEY_NUMPAD8, KEY_NUMPAD9, KEY_NUM_LOCK, KEY_O, KEY_OPEN_BRACKET, KEY_P, KEY_PAGE_DOWN, KEY_PAGE_UP, KEY_PAUSE, KEY_PERIOD, KEY_PRINTSCREEN, KEY_Q, KEY_QUOTE, KEY_R, KEY_RETURN, KEY_RIGHT, KEY_RIGHT_CMD, KEY_S, KEY_SCROLL_LOCK, KEY_SEMICOLON, KEY_SHIFT, KEY_SLASH, KEY_SPACE, KEY_SUBTRACT, KEY_T, KEY_TAB, KEY_U, KEY_UP, KEY_V, KEY_W, KEY_X, KEY_Y, KEY_Z, VALUE_0, VALUE_1, VALUE_2, VALUE_3, VALUE_4, VALUE_5, VALUE_6, VALUE_7, VALUE_8, VALUE_9, VALUE_A, VALUE_ADD, VALUE_ALT, VALUE_B, VALUE_BACK_QUOTE, VALUE_BACK_SLASH, VALUE_BACK_SPACE, VALUE_C, VALUE_CANCEL, VALUE_CAPS_LOCK, VALUE_CLEAR, VALUE_CLOSE_BRACKET, VALUE_COMMA, VALUE_CONTEXT_MENU, VALUE_CONTROL, VALUE_D, VALUE_DASH, VALUE_DECIMAL, VALUE_DELETE, VALUE_DIVIDE, VALUE_DOWN, VALUE_E, VALUE_END, VALUE_ENTER, VALUE_EQUALS, VALUE_ESCAPE, VALUE_F, VALUE_F1, VALUE_F10, VALUE_F11, VALUE_F12, VALUE_F13, VALUE_F14, VALUE_F15, VALUE_F16, VALUE_F17, VALUE_F18, VALUE_F19, VALUE_F2, VALUE_F20, VALUE_F21, VALUE_F22, VALUE_F23, VALUE_F24, VALUE_F3, VALUE_F4, VALUE_F5, VALUE_F6, VALUE_F7, VALUE_F8, VALUE_F9, VALUE_G, VALUE_H, VALUE_HELP, VALUE_HOME, VALUE_I, VALUE_INSERT, VALUE_J, VALUE_K, VALUE_L, VALUE_LEFT, VALUE_LEFT_CMD, VALUE_M, VALUE_META, VALUE_MULTIPLY, VALUE_N, VALUE_NUMPAD0, VALUE_NUMPAD1, VALUE_NUMPAD2, VALUE_NUMPAD3, VALUE_NUMPAD4, VALUE_NUMPAD5, VALUE_NUMPAD6, VALUE_NUMPAD7, VALUE_NUMPAD8, VALUE_NUMPAD9, VALUE_NUM_LOCK, VALUE_O, VALUE_OPEN_BRACKET, VALUE_P, VALUE_PAGE_DOWN, VALUE_PAGE_UP, VALUE_PAUSE, VALUE_PERIOD, VALUE_PRINTSCREEN, VALUE_Q, VALUE_QUOTE, VALUE_R, VALUE_RETURN, VALUE_RIGHT, VALUE_RIGHT_CMD, VALUE_S, VALUE_SCROLL_LOCK, VALUE_SEMICOLON, VALUE_SHIFT, VALUE_SLASH, VALUE_SPACE, VALUE_SUBTRACT, VALUE_T, VALUE_TAB, VALUE_U, VALUE_UP, VALUE_V, VALUE_W, VALUE_X, VALUE_Y, VALUE_Z };\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeFunction from \"@babel/runtime/helpers/esm/isNativeFunction\";\nimport construct from \"@babel/runtime/helpers/esm/construct\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","import React, { createContext, useState, useRef, useMemo, useEffect, useContext, useLayoutEffect, Suspense } from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport * as THREE from 'three';\n\nconst context = /*#__PURE__*/createContext({});\n\nfunction decodeBase64(base64, enableUnicode) {\n    var binaryString = atob(base64);\n    if (enableUnicode) {\n        var binaryView = new Uint8Array(binaryString.length);\n        for (var i = 0, n = binaryString.length; i < n; ++i) {\n            binaryView[i] = binaryString.charCodeAt(i);\n        }\n        return String.fromCharCode.apply(null, new Uint16Array(binaryView.buffer));\n    }\n    return binaryString;\n}\n\nfunction createURL(base64, sourcemapArg, enableUnicodeArg) {\n    var sourcemap = sourcemapArg === undefined ? null : sourcemapArg;\n    var enableUnicode = enableUnicodeArg === undefined ? false : enableUnicodeArg;\n    var source = decodeBase64(base64, enableUnicode);\n    var start = source.indexOf('\\n', 10) + 1;\n    var body = source.substring(start) + (sourcemap ? '\\/\\/# sourceMappingURL=' + sourcemap : '');\n    var blob = new Blob([body], { type: 'application/javascript' });\n    return URL.createObjectURL(blob);\n}\n\nfunction createBase64WorkerFactory(base64, sourcemapArg, enableUnicodeArg) {\n    var url;\n    return function WorkerFactory(options) {\n        url = url || createURL(base64, sourcemapArg, enableUnicodeArg);\n        return new Worker(url, options);\n    };\n}\n\nvar WorkerFactory = createBase64WorkerFactory('Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgLyoqCiAgICogUmVjb3JkcyB3aGF0IG9iamVjdHMgYXJlIGNvbGxpZGluZyB3aXRoIGVhY2ggb3RoZXIKICAgKiBAY2xhc3MgT2JqZWN0Q29sbGlzaW9uTWF0cml4CiAgICogQGNvbnN0cnVjdG9yCiAgICovCiAgLyoqCiAgICogQSAzeDMgbWF0cml4LgogICAqIEBjbGFzcyBNYXQzCiAgICogQGNvbnN0cnVjdG9yCiAgICogQHBhcmFtIHtBcnJheX0gZWxlbWVudHMgQSB2ZWN0b3Igb2YgbGVuZ3RoIDksIGNvbnRhaW5pbmcgYWxsIG1hdHJpeCBlbGVtZW50cy4gT3B0aW9uYWwuCiAgICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHA6Ly9naXRodWIuY29tL3NjaHRlcHBlCiAgICovCgoKICBjbGFzcyBNYXQzIHsKICAgIGNvbnN0cnVjdG9yKGVsZW1lbnRzID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdKSB7CiAgICAgIHRoaXMuZWxlbWVudHMgPSBlbGVtZW50czsKICAgIH0KICAgIC8qKgogICAgICogU2V0cyB0aGUgbWF0cml4IHRvIGlkZW50aXR5CiAgICAgKiBAbWV0aG9kIGlkZW50aXR5CiAgICAgKiBAdG9kbyBTaG91bGQgcGVyaGFwcyBiZSByZW5hbWVkIHRvIHNldElkZW50aXR5KCkgdG8gYmUgbW9yZSBjbGVhci4KICAgICAqIEB0b2RvIENyZWF0ZSBhbm90aGVyIGZ1bmN0aW9uIHRoYXQgaW1tZWRpYXRlbHkgY3JlYXRlcyBhbiBpZGVudGl0eSBtYXRyaXggZWcuIGV5ZSgpCiAgICAgKi8KCgogICAgaWRlbnRpdHkoKSB7CiAgICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzOwogICAgICBlWzBdID0gMTsKICAgICAgZVsxXSA9IDA7CiAgICAgIGVbMl0gPSAwOwogICAgICBlWzNdID0gMDsKICAgICAgZVs0XSA9IDE7CiAgICAgIGVbNV0gPSAwOwogICAgICBlWzZdID0gMDsKICAgICAgZVs3XSA9IDA7CiAgICAgIGVbOF0gPSAxOwogICAgfQogICAgLyoqCiAgICAgKiBTZXQgYWxsIGVsZW1lbnRzIHRvIHplcm8KICAgICAqIEBtZXRob2Qgc2V0WmVybwogICAgICovCgoKICAgIHNldFplcm8oKSB7CiAgICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzOwogICAgICBlWzBdID0gMDsKICAgICAgZVsxXSA9IDA7CiAgICAgIGVbMl0gPSAwOwogICAgICBlWzNdID0gMDsKICAgICAgZVs0XSA9IDA7CiAgICAgIGVbNV0gPSAwOwogICAgICBlWzZdID0gMDsKICAgICAgZVs3XSA9IDA7CiAgICAgIGVbOF0gPSAwOwogICAgfQogICAgLyoqCiAgICAgKiBTZXRzIHRoZSBtYXRyaXggZGlhZ29uYWwgZWxlbWVudHMgZnJvbSBhIFZlYzMKICAgICAqIEBtZXRob2Qgc2V0VHJhY2UKICAgICAqIEBwYXJhbSB7VmVjM30gdmVjMwogICAgICovCgoKICAgIHNldFRyYWNlKHZlY3RvcikgewogICAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50czsKICAgICAgZVswXSA9IHZlY3Rvci54OwogICAgICBlWzRdID0gdmVjdG9yLnk7CiAgICAgIGVbOF0gPSB2ZWN0b3IuejsKICAgIH0KICAgIC8qKgogICAgICogR2V0cyB0aGUgbWF0cml4IGRpYWdvbmFsIGVsZW1lbnRzCiAgICAgKiBAbWV0aG9kIGdldFRyYWNlCiAgICAgKiBAcmV0dXJuIHtWZWMzfQogICAgICovCgoKICAgIGdldFRyYWNlKHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7CiAgICAgIHRhcmdldC54ID0gZVswXTsKICAgICAgdGFyZ2V0LnkgPSBlWzRdOwogICAgICB0YXJnZXQueiA9IGVbOF07CiAgICAgIHJldHVybiB0YXJnZXQ7CiAgICB9CiAgICAvKioKICAgICAqIE1hdHJpeC1WZWN0b3IgbXVsdGlwbGljYXRpb24KICAgICAqIEBtZXRob2Qgdm11bHQKICAgICAqIEBwYXJhbSB7VmVjM30gdiBUaGUgdmVjdG9yIHRvIG11bHRpcGx5IHdpdGgKICAgICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IE9wdGlvbmFsLCB0YXJnZXQgdG8gc2F2ZSB0aGUgcmVzdWx0IGluLgogICAgICovCgoKICAgIHZtdWx0KHYsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7CiAgICAgIGNvbnN0IHggPSB2Lng7CiAgICAgIGNvbnN0IHkgPSB2Lnk7CiAgICAgIGNvbnN0IHogPSB2Lno7CiAgICAgIHRhcmdldC54ID0gZVswXSAqIHggKyBlWzFdICogeSArIGVbMl0gKiB6OwogICAgICB0YXJnZXQueSA9IGVbM10gKiB4ICsgZVs0XSAqIHkgKyBlWzVdICogejsKICAgICAgdGFyZ2V0LnogPSBlWzZdICogeCArIGVbN10gKiB5ICsgZVs4XSAqIHo7CiAgICAgIHJldHVybiB0YXJnZXQ7CiAgICB9CiAgICAvKioKICAgICAqIE1hdHJpeC1zY2FsYXIgbXVsdGlwbGljYXRpb24KICAgICAqIEBtZXRob2Qgc211bHQKICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzCiAgICAgKi8KCgogICAgc211bHQocykgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZWxlbWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLmVsZW1lbnRzW2ldICo9IHM7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogTWF0cml4IG11bHRpcGxpY2F0aW9uCiAgICAgKiBAbWV0aG9kIG1tdWx0CiAgICAgKiBAcGFyYW0ge01hdDN9IG1hdHJpeCBNYXRyaXggdG8gbXVsdGlwbHkgd2l0aCBmcm9tIGxlZnQgc2lkZS4KICAgICAqIEByZXR1cm4ge01hdDN9IFRoZSByZXN1bHQuCiAgICAgKi8KCgogICAgbW11bHQobWF0cml4LCB0YXJnZXQgPSBuZXcgTWF0MygpKSB7CiAgICAgIGNvbnN0IEEgPSB0aGlzLmVsZW1lbnRzOwogICAgICBjb25zdCBCID0gbWF0cml4LmVsZW1lbnRzOwogICAgICBjb25zdCBUID0gdGFyZ2V0LmVsZW1lbnRzOwogICAgICBjb25zdCBhMTEgPSBBWzBdLAogICAgICAgICAgICBhMTIgPSBBWzFdLAogICAgICAgICAgICBhMTMgPSBBWzJdLAogICAgICAgICAgICBhMjEgPSBBWzNdLAogICAgICAgICAgICBhMjIgPSBBWzRdLAogICAgICAgICAgICBhMjMgPSBBWzVdLAogICAgICAgICAgICBhMzEgPSBBWzZdLAogICAgICAgICAgICBhMzIgPSBBWzddLAogICAgICAgICAgICBhMzMgPSBBWzhdOwogICAgICBjb25zdCBiMTEgPSBCWzBdLAogICAgICAgICAgICBiMTIgPSBCWzFdLAogICAgICAgICAgICBiMTMgPSBCWzJdLAogICAgICAgICAgICBiMjEgPSBCWzNdLAogICAgICAgICAgICBiMjIgPSBCWzRdLAogICAgICAgICAgICBiMjMgPSBCWzVdLAogICAgICAgICAgICBiMzEgPSBCWzZdLAogICAgICAgICAgICBiMzIgPSBCWzddLAogICAgICAgICAgICBiMzMgPSBCWzhdOwogICAgICBUWzBdID0gYTExICogYjExICsgYTEyICogYjIxICsgYTEzICogYjMxOwogICAgICBUWzFdID0gYTExICogYjEyICsgYTEyICogYjIyICsgYTEzICogYjMyOwogICAgICBUWzJdID0gYTExICogYjEzICsgYTEyICogYjIzICsgYTEzICogYjMzOwogICAgICBUWzNdID0gYTIxICogYjExICsgYTIyICogYjIxICsgYTIzICogYjMxOwogICAgICBUWzRdID0gYTIxICogYjEyICsgYTIyICogYjIyICsgYTIzICogYjMyOwogICAgICBUWzVdID0gYTIxICogYjEzICsgYTIyICogYjIzICsgYTIzICogYjMzOwogICAgICBUWzZdID0gYTMxICogYjExICsgYTMyICogYjIxICsgYTMzICogYjMxOwogICAgICBUWzddID0gYTMxICogYjEyICsgYTMyICogYjIyICsgYTMzICogYjMyOwogICAgICBUWzhdID0gYTMxICogYjEzICsgYTMyICogYjIzICsgYTMzICogYjMzOwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBTY2FsZSBlYWNoIGNvbHVtbiBvZiB0aGUgbWF0cml4CiAgICAgKiBAbWV0aG9kIHNjYWxlCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHYKICAgICAqIEByZXR1cm4ge01hdDN9IFRoZSByZXN1bHQuCiAgICAgKi8KCgogICAgc2NhbGUodmVjdG9yLCB0YXJnZXQgPSBuZXcgTWF0MygpKSB7CiAgICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzOwogICAgICBjb25zdCB0ID0gdGFyZ2V0LmVsZW1lbnRzOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDM7IGkrKykgewogICAgICAgIHRbMyAqIGkgKyAwXSA9IHZlY3Rvci54ICogZVszICogaSArIDBdOwogICAgICAgIHRbMyAqIGkgKyAxXSA9IHZlY3Rvci55ICogZVszICogaSArIDFdOwogICAgICAgIHRbMyAqIGkgKyAyXSA9IHZlY3Rvci56ICogZVszICogaSArIDJdOwogICAgICB9CgogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBTb2x2ZSBBeD1iCiAgICAgKiBAbWV0aG9kIHNvbHZlCiAgICAgKiBAcGFyYW0ge1ZlYzN9IGIgVGhlIHJpZ2h0IGhhbmQgc2lkZQogICAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwuIFRhcmdldCB2ZWN0b3IgdG8gc2F2ZSBpbi4KICAgICAqIEByZXR1cm4ge1ZlYzN9IFRoZSBzb2x1dGlvbiB4CiAgICAgKiBAdG9kbyBzaG91bGQgcmV1c2UgYXJyYXlzCiAgICAgKi8KCgogICAgc29sdmUoYiwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgICAvLyBDb25zdHJ1Y3QgZXF1YXRpb25zCiAgICAgIGNvbnN0IG5yID0gMzsgLy8gbnVtIHJvd3MKCiAgICAgIGNvbnN0IG5jID0gNDsgLy8gbnVtIGNvbHMKCiAgICAgIGNvbnN0IGVxbnMgPSBbXTsKICAgICAgbGV0IGk7CiAgICAgIGxldCBqOwoKICAgICAgZm9yIChpID0gMDsgaSA8IG5yICogbmM7IGkrKykgewogICAgICAgIGVxbnMucHVzaCgwKTsKICAgICAgfQoKICAgICAgZm9yIChpID0gMDsgaSA8IDM7IGkrKykgewogICAgICAgIGZvciAoaiA9IDA7IGogPCAzOyBqKyspIHsKICAgICAgICAgIGVxbnNbaSArIG5jICogal0gPSB0aGlzLmVsZW1lbnRzW2kgKyAzICogal07CiAgICAgICAgfQogICAgICB9CgogICAgICBlcW5zWzMgKyA0ICogMF0gPSBiLng7CiAgICAgIGVxbnNbMyArIDQgKiAxXSA9IGIueTsKICAgICAgZXFuc1szICsgNCAqIDJdID0gYi56OyAvLyBDb21wdXRlIHJpZ2h0IHVwcGVyIHRyaWFuZ3VsYXIgdmVyc2lvbiBvZiB0aGUgbWF0cml4IC0gR2F1c3MgZWxpbWluYXRpb24KCiAgICAgIGxldCBuID0gMzsKICAgICAgY29uc3QgayA9IG47CiAgICAgIGxldCBucDsKICAgICAgY29uc3Qga3AgPSA0OyAvLyBudW0gcm93cwoKICAgICAgbGV0IHA7CgogICAgICBkbyB7CiAgICAgICAgaSA9IGsgLSBuOwoKICAgICAgICBpZiAoZXFuc1tpICsgbmMgKiBpXSA9PT0gMCkgewogICAgICAgICAgLy8gdGhlIHBpdm90IGlzIG51bGwsIHN3YXAgbGluZXMKICAgICAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgazsgaisrKSB7CiAgICAgICAgICAgIGlmIChlcW5zW2kgKyBuYyAqIGpdICE9PSAwKSB7CiAgICAgICAgICAgICAgbnAgPSBrcDsKCiAgICAgICAgICAgICAgZG8gewogICAgICAgICAgICAgICAgLy8gZG8gbGlnbmUoIGkgKSA9IGxpZ25lKCBpICkgKyBsaWduZSggayApCiAgICAgICAgICAgICAgICBwID0ga3AgLSBucDsKICAgICAgICAgICAgICAgIGVxbnNbcCArIG5jICogaV0gKz0gZXFuc1twICsgbmMgKiBqXTsKICAgICAgICAgICAgICB9IHdoaWxlICgtLW5wKTsKCiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChlcW5zW2kgKyBuYyAqIGldICE9PSAwKSB7CiAgICAgICAgICBmb3IgKGogPSBpICsgMTsgaiA8IGs7IGorKykgewogICAgICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gZXFuc1tpICsgbmMgKiBqXSAvIGVxbnNbaSArIG5jICogaV07CiAgICAgICAgICAgIG5wID0ga3A7CgogICAgICAgICAgICBkbyB7CiAgICAgICAgICAgICAgLy8gZG8gbGlnbmUoIGsgKSA9IGxpZ25lKCBrICkgLSBtdWx0aXBsaWVyICogbGlnbmUoIGkgKQogICAgICAgICAgICAgIHAgPSBrcCAtIG5wOwogICAgICAgICAgICAgIGVxbnNbcCArIG5jICogal0gPSBwIDw9IGkgPyAwIDogZXFuc1twICsgbmMgKiBqXSAtIGVxbnNbcCArIG5jICogaV0gKiBtdWx0aXBsaWVyOwogICAgICAgICAgICB9IHdoaWxlICgtLW5wKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gd2hpbGUgKC0tbik7IC8vIEdldCB0aGUgc29sdXRpb24KCgogICAgICB0YXJnZXQueiA9IGVxbnNbMiAqIG5jICsgM10gLyBlcW5zWzIgKiBuYyArIDJdOwogICAgICB0YXJnZXQueSA9IChlcW5zWzEgKiBuYyArIDNdIC0gZXFuc1sxICogbmMgKyAyXSAqIHRhcmdldC56KSAvIGVxbnNbMSAqIG5jICsgMV07CiAgICAgIHRhcmdldC54ID0gKGVxbnNbMCAqIG5jICsgM10gLSBlcW5zWzAgKiBuYyArIDJdICogdGFyZ2V0LnogLSBlcW5zWzAgKiBuYyArIDFdICogdGFyZ2V0LnkpIC8gZXFuc1swICogbmMgKyAwXTsKCiAgICAgIGlmIChpc05hTih0YXJnZXQueCkgfHwgaXNOYU4odGFyZ2V0LnkpIHx8IGlzTmFOKHRhcmdldC56KSB8fCB0YXJnZXQueCA9PT0gSW5maW5pdHkgfHwgdGFyZ2V0LnkgPT09IEluZmluaXR5IHx8IHRhcmdldC56ID09PSBJbmZpbml0eSkgewogICAgICAgIHRocm93ICJDb3VsZCBub3Qgc29sdmUgZXF1YXRpb24hIEdvdCB4PVsiICsgdGFyZ2V0LnRvU3RyaW5nKCkgKyAiXSwgYj1bIiArIGIudG9TdHJpbmcoKSArICJdLCBBPVsiICsgdGhpcy50b1N0cmluZygpICsgIl0iOwogICAgICB9CgogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgYW4gZWxlbWVudCBpbiB0aGUgbWF0cml4IGJ5IGluZGV4LiBJbmRleCBzdGFydHMgYXQgMCwgbm90IDEhISEKICAgICAqIEBtZXRob2QgZQogICAgICogQHBhcmFtIHtOdW1iZXJ9IHJvdwogICAgICogQHBhcmFtIHtOdW1iZXJ9IGNvbHVtbgogICAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIE9wdGlvbmFsLiBJZiBwcm92aWRlZCwgdGhlIG1hdHJpeCBlbGVtZW50IHdpbGwgYmUgc2V0IHRvIHRoaXMgdmFsdWUuCiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9CiAgICAgKi8KCgogICAgZShyb3csIGNvbHVtbiwgdmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50c1tjb2x1bW4gKyAzICogcm93XTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBTZXQgdmFsdWUKICAgICAgICB0aGlzLmVsZW1lbnRzW2NvbHVtbiArIDMgKiByb3ddID0gdmFsdWU7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogQ29weSBhbm90aGVyIG1hdHJpeCBpbnRvIHRoaXMgbWF0cml4IG9iamVjdC4KICAgICAqIEBtZXRob2QgY29weQogICAgICogQHBhcmFtIHtNYXQzfSBzb3VyY2UKICAgICAqIEByZXR1cm4ge01hdDN9IHRoaXMKICAgICAqLwoKCiAgICBjb3B5KG1hdHJpeCkgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdHJpeC5lbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICAgIHRoaXMuZWxlbWVudHNbaV0gPSBtYXRyaXguZWxlbWVudHNbaV07CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgLyoqCiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXguCiAgICAgKiBAbWV0aG9kIHRvU3RyaW5nCiAgICAgKiBAcmV0dXJuIHN0cmluZwogICAgICovCgoKICAgIHRvU3RyaW5nKCkgewogICAgICBsZXQgciA9ICcnOwogICAgICBjb25zdCBzZXAgPSAnLCc7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDk7IGkrKykgewogICAgICAgIHIgKz0gdGhpcy5lbGVtZW50c1tpXSArIHNlcDsKICAgICAgfQoKICAgICAgcmV0dXJuIHI7CiAgICB9CiAgICAvKioKICAgICAqIHJldmVyc2UgdGhlIG1hdHJpeAogICAgICogQG1ldGhvZCByZXZlcnNlCiAgICAgKiBAcGFyYW0ge01hdDN9IHRhcmdldCBPcHRpb25hbC4gVGFyZ2V0IG1hdHJpeCB0byBzYXZlIGluLgogICAgICogQHJldHVybiB7TWF0M30gVGhlIHNvbHV0aW9uIHgKICAgICAqLwoKCiAgICByZXZlcnNlKHRhcmdldCA9IG5ldyBNYXQzKCkpIHsKICAgICAgLy8gQ29uc3RydWN0IGVxdWF0aW9ucwogICAgICBjb25zdCBuciA9IDM7IC8vIG51bSByb3dzCgogICAgICBjb25zdCBuYyA9IDY7IC8vIG51bSBjb2xzCgogICAgICBjb25zdCBlcW5zID0gW107CiAgICAgIGxldCBpOwogICAgICBsZXQgajsKCiAgICAgIGZvciAoaSA9IDA7IGkgPCBuciAqIG5jOyBpKyspIHsKICAgICAgICBlcW5zLnB1c2goMCk7CiAgICAgIH0KCiAgICAgIGZvciAoaSA9IDA7IGkgPCAzOyBpKyspIHsKICAgICAgICBmb3IgKGogPSAwOyBqIDwgMzsgaisrKSB7CiAgICAgICAgICBlcW5zW2kgKyBuYyAqIGpdID0gdGhpcy5lbGVtZW50c1tpICsgMyAqIGpdOwogICAgICAgIH0KICAgICAgfQoKICAgICAgZXFuc1szICsgNiAqIDBdID0gMTsKICAgICAgZXFuc1szICsgNiAqIDFdID0gMDsKICAgICAgZXFuc1szICsgNiAqIDJdID0gMDsKICAgICAgZXFuc1s0ICsgNiAqIDBdID0gMDsKICAgICAgZXFuc1s0ICsgNiAqIDFdID0gMTsKICAgICAgZXFuc1s0ICsgNiAqIDJdID0gMDsKICAgICAgZXFuc1s1ICsgNiAqIDBdID0gMDsKICAgICAgZXFuc1s1ICsgNiAqIDFdID0gMDsKICAgICAgZXFuc1s1ICsgNiAqIDJdID0gMTsgLy8gQ29tcHV0ZSByaWdodCB1cHBlciB0cmlhbmd1bGFyIHZlcnNpb24gb2YgdGhlIG1hdHJpeCAtIEdhdXNzIGVsaW1pbmF0aW9uCgogICAgICBsZXQgbiA9IDM7CiAgICAgIGNvbnN0IGsgPSBuOwogICAgICBsZXQgbnA7CiAgICAgIGNvbnN0IGtwID0gbmM7IC8vIG51bSByb3dzCgogICAgICBsZXQgcDsKCiAgICAgIGRvIHsKICAgICAgICBpID0gayAtIG47CgogICAgICAgIGlmIChlcW5zW2kgKyBuYyAqIGldID09PSAwKSB7CiAgICAgICAgICAvLyB0aGUgcGl2b3QgaXMgbnVsbCwgc3dhcCBsaW5lcwogICAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBrOyBqKyspIHsKICAgICAgICAgICAgaWYgKGVxbnNbaSArIG5jICogal0gIT09IDApIHsKICAgICAgICAgICAgICBucCA9IGtwOwoKICAgICAgICAgICAgICBkbyB7CiAgICAgICAgICAgICAgICAvLyBkbyBsaW5lKCBpICkgPSBsaW5lKCBpICkgKyBsaW5lKCBrICkKICAgICAgICAgICAgICAgIHAgPSBrcCAtIG5wOwogICAgICAgICAgICAgICAgZXFuc1twICsgbmMgKiBpXSArPSBlcW5zW3AgKyBuYyAqIGpdOwogICAgICAgICAgICAgIH0gd2hpbGUgKC0tbnApOwoKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGVxbnNbaSArIG5jICogaV0gIT09IDApIHsKICAgICAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgazsgaisrKSB7CiAgICAgICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSBlcW5zW2kgKyBuYyAqIGpdIC8gZXFuc1tpICsgbmMgKiBpXTsKICAgICAgICAgICAgbnAgPSBrcDsKCiAgICAgICAgICAgIGRvIHsKICAgICAgICAgICAgICAvLyBkbyBsaW5lKCBrICkgPSBsaW5lKCBrICkgLSBtdWx0aXBsaWVyICogbGluZSggaSApCiAgICAgICAgICAgICAgcCA9IGtwIC0gbnA7CiAgICAgICAgICAgICAgZXFuc1twICsgbmMgKiBqXSA9IHAgPD0gaSA/IDAgOiBlcW5zW3AgKyBuYyAqIGpdIC0gZXFuc1twICsgbmMgKiBpXSAqIG11bHRpcGxpZXI7CiAgICAgICAgICAgIH0gd2hpbGUgKC0tbnApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSB3aGlsZSAoLS1uKTsgLy8gZWxpbWluYXRlIHRoZSB1cHBlciBsZWZ0IHRyaWFuZ2xlIG9mIHRoZSBtYXRyaXgKCgogICAgICBpID0gMjsKCiAgICAgIGRvIHsKICAgICAgICBqID0gaSAtIDE7CgogICAgICAgIGRvIHsKICAgICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSBlcW5zW2kgKyBuYyAqIGpdIC8gZXFuc1tpICsgbmMgKiBpXTsKICAgICAgICAgIG5wID0gbmM7CgogICAgICAgICAgZG8gewogICAgICAgICAgICBwID0gbmMgLSBucDsKICAgICAgICAgICAgZXFuc1twICsgbmMgKiBqXSA9IGVxbnNbcCArIG5jICogal0gLSBlcW5zW3AgKyBuYyAqIGldICogbXVsdGlwbGllcjsKICAgICAgICAgIH0gd2hpbGUgKC0tbnApOwogICAgICAgIH0gd2hpbGUgKGotLSk7CiAgICAgIH0gd2hpbGUgKC0taSk7IC8vIG9wZXJhdGlvbnMgb24gdGhlIGRpYWdvbmFsCgoKICAgICAgaSA9IDI7CgogICAgICBkbyB7CiAgICAgICAgY29uc3QgbXVsdGlwbGllciA9IDEgLyBlcW5zW2kgKyBuYyAqIGldOwogICAgICAgIG5wID0gbmM7CgogICAgICAgIGRvIHsKICAgICAgICAgIHAgPSBuYyAtIG5wOwogICAgICAgICAgZXFuc1twICsgbmMgKiBpXSA9IGVxbnNbcCArIG5jICogaV0gKiBtdWx0aXBsaWVyOwogICAgICAgIH0gd2hpbGUgKC0tbnApOwogICAgICB9IHdoaWxlIChpLS0pOwoKICAgICAgaSA9IDI7CgogICAgICBkbyB7CiAgICAgICAgaiA9IDI7CgogICAgICAgIGRvIHsKICAgICAgICAgIHAgPSBlcW5zW25yICsgaiArIG5jICogaV07CgogICAgICAgICAgaWYgKGlzTmFOKHApIHx8IHAgPT09IEluZmluaXR5KSB7CiAgICAgICAgICAgIHRocm93ICJDb3VsZCBub3QgcmV2ZXJzZSEgQT1bIiArIHRoaXMudG9TdHJpbmcoKSArICJdIjsKICAgICAgICAgIH0KCiAgICAgICAgICB0YXJnZXQuZShpLCBqLCBwKTsKICAgICAgICB9IHdoaWxlIChqLS0pOwogICAgICB9IHdoaWxlIChpLS0pOwoKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIC8qKgogICAgICogU2V0IHRoZSBtYXRyaXggZnJvbSBhIHF1YXRlcmlvbgogICAgICogQG1ldGhvZCBzZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uCiAgICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHEKICAgICAqLwoKCiAgICBzZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHEpIHsKICAgICAgY29uc3QgeCA9IHEueDsKICAgICAgY29uc3QgeSA9IHEueTsKICAgICAgY29uc3QgeiA9IHEuejsKICAgICAgY29uc3QgdyA9IHEudzsKICAgICAgY29uc3QgeDIgPSB4ICsgeDsKICAgICAgY29uc3QgeTIgPSB5ICsgeTsKICAgICAgY29uc3QgejIgPSB6ICsgejsKICAgICAgY29uc3QgeHggPSB4ICogeDI7CiAgICAgIGNvbnN0IHh5ID0geCAqIHkyOwogICAgICBjb25zdCB4eiA9IHggKiB6MjsKICAgICAgY29uc3QgeXkgPSB5ICogeTI7CiAgICAgIGNvbnN0IHl6ID0geSAqIHoyOwogICAgICBjb25zdCB6eiA9IHogKiB6MjsKICAgICAgY29uc3Qgd3ggPSB3ICogeDI7CiAgICAgIGNvbnN0IHd5ID0gdyAqIHkyOwogICAgICBjb25zdCB3eiA9IHcgKiB6MjsKICAgICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7CiAgICAgIGVbMyAqIDAgKyAwXSA9IDEgLSAoeXkgKyB6eik7CiAgICAgIGVbMyAqIDAgKyAxXSA9IHh5IC0gd3o7CiAgICAgIGVbMyAqIDAgKyAyXSA9IHh6ICsgd3k7CiAgICAgIGVbMyAqIDEgKyAwXSA9IHh5ICsgd3o7CiAgICAgIGVbMyAqIDEgKyAxXSA9IDEgLSAoeHggKyB6eik7CiAgICAgIGVbMyAqIDEgKyAyXSA9IHl6IC0gd3g7CiAgICAgIGVbMyAqIDIgKyAwXSA9IHh6IC0gd3k7CiAgICAgIGVbMyAqIDIgKyAxXSA9IHl6ICsgd3g7CiAgICAgIGVbMyAqIDIgKyAyXSA9IDEgLSAoeHggKyB5eSk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgLyoqCiAgICAgKiBUcmFuc3Bvc2UgdGhlIG1hdHJpeAogICAgICogQG1ldGhvZCB0cmFuc3Bvc2UKICAgICAqIEBwYXJhbSAge01hdDN9IHRhcmdldCBPcHRpb25hbC4gV2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdC4KICAgICAqIEByZXR1cm4ge01hdDN9IFRoZSB0YXJnZXQgTWF0Mywgb3IgYSBuZXcgTWF0MyBpZiB0YXJnZXQgd2FzIG9taXR0ZWQuCiAgICAgKi8KCgogICAgdHJhbnNwb3NlKHRhcmdldCA9IG5ldyBNYXQzKCkpIHsKICAgICAgY29uc3QgTSA9IHRoaXMuZWxlbWVudHM7CiAgICAgIGNvbnN0IFQgPSB0YXJnZXQuZWxlbWVudHM7CiAgICAgIGxldCB0bXA7IC8vU2V0IGRpYWdvbmFscwoKICAgICAgVFswXSA9IE1bMF07CiAgICAgIFRbNF0gPSBNWzRdOwogICAgICBUWzhdID0gTVs4XTsKICAgICAgdG1wID0gTVsxXTsKICAgICAgVFsxXSA9IE1bM107CiAgICAgIFRbM10gPSB0bXA7CiAgICAgIHRtcCA9IE1bMl07CiAgICAgIFRbMl0gPSBNWzZdOwogICAgICBUWzZdID0gdG1wOwogICAgICB0bXAgPSBNWzVdOwogICAgICBUWzVdID0gTVs3XTsKICAgICAgVFs3XSA9IHRtcDsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KCiAgfQogIC8qKgogICAqIDMtZGltZW5zaW9uYWwgdmVjdG9yCiAgICogQGNsYXNzIFZlYzMKICAgKiBAY29uc3RydWN0b3IKICAgKiBAcGFyYW0ge051bWJlcn0geAogICAqIEBwYXJhbSB7TnVtYmVyfSB5CiAgICogQHBhcmFtIHtOdW1iZXJ9IHoKICAgKiBAYXV0aG9yIHNjaHRlcHBlCiAgICogQGV4YW1wbGUKICAgKiAgICAgY29uc3QgdiA9IG5ldyBWZWMzKDEsIDIsIDMpOwogICAqICAgICBjb25zb2xlLmxvZygneD0nICsgdi54KTsgLy8geD0xCiAgICovCgoKICBjbGFzcyBWZWMzIHsKICAgIGNvbnN0cnVjdG9yKHggPSAwLjAsIHkgPSAwLjAsIHogPSAwLjApIHsKICAgICAgdGhpcy54ID0geDsKICAgICAgdGhpcy55ID0geTsKICAgICAgdGhpcy56ID0gejsKICAgIH0KICAgIC8qKgogICAgICogVmVjdG9yIGNyb3NzIHByb2R1Y3QKICAgICAqIEBtZXRob2QgY3Jvc3MKICAgICAqIEBwYXJhbSB7VmVjM30gdmVjdG9yCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbC4gVGFyZ2V0IHRvIHNhdmUgaW4uCiAgICAgKiBAcmV0dXJuIHtWZWMzfQogICAgICovCgoKICAgIGNyb3NzKHZlY3RvciwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgICBjb25zdCB2eCA9IHZlY3Rvci54OwogICAgICBjb25zdCB2eSA9IHZlY3Rvci55OwogICAgICBjb25zdCB2eiA9IHZlY3Rvci56OwogICAgICBjb25zdCB4ID0gdGhpcy54OwogICAgICBjb25zdCB5ID0gdGhpcy55OwogICAgICBjb25zdCB6ID0gdGhpcy56OwogICAgICB0YXJnZXQueCA9IHkgKiB2eiAtIHogKiB2eTsKICAgICAgdGFyZ2V0LnkgPSB6ICogdnggLSB4ICogdno7CiAgICAgIHRhcmdldC56ID0geCAqIHZ5IC0geSAqIHZ4OwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBTZXQgdGhlIHZlY3RvcnMnIDMgZWxlbWVudHMKICAgICAqIEBtZXRob2Qgc2V0CiAgICAgKiBAcGFyYW0ge051bWJlcn0geAogICAgICogQHBhcmFtIHtOdW1iZXJ9IHkKICAgICAqIEBwYXJhbSB7TnVtYmVyfSB6CiAgICAgKiBAcmV0dXJuIFZlYzMKICAgICAqLwoKCiAgICBzZXQoeCwgeSwgeikgewogICAgICB0aGlzLnggPSB4OwogICAgICB0aGlzLnkgPSB5OwogICAgICB0aGlzLnogPSB6OwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIC8qKgogICAgICogU2V0IGFsbCBjb21wb25lbnRzIG9mIHRoZSB2ZWN0b3IgdG8gemVyby4KICAgICAqIEBtZXRob2Qgc2V0WmVybwogICAgICovCgoKICAgIHNldFplcm8oKSB7CiAgICAgIHRoaXMueCA9IHRoaXMueSA9IHRoaXMueiA9IDA7CiAgICB9CiAgICAvKioKICAgICAqIFZlY3RvciBhZGRpdGlvbgogICAgICogQG1ldGhvZCB2YWRkCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHZlY3RvcgogICAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwuCiAgICAgKiBAcmV0dXJuIHtWZWMzfQogICAgICovCgoKICAgIHZhZGQodmVjdG9yLCB0YXJnZXQpIHsKICAgICAgaWYgKHRhcmdldCkgewogICAgICAgIHRhcmdldC54ID0gdmVjdG9yLnggKyB0aGlzLng7CiAgICAgICAgdGFyZ2V0LnkgPSB2ZWN0b3IueSArIHRoaXMueTsKICAgICAgICB0YXJnZXQueiA9IHZlY3Rvci56ICsgdGhpcy56OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBuZXcgVmVjMyh0aGlzLnggKyB2ZWN0b3IueCwgdGhpcy55ICsgdmVjdG9yLnksIHRoaXMueiArIHZlY3Rvci56KTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBWZWN0b3Igc3VidHJhY3Rpb24KICAgICAqIEBtZXRob2QgdnN1YgogICAgICogQHBhcmFtIHtWZWMzfSB2ZWN0b3IKICAgICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IE9wdGlvbmFsLiBUYXJnZXQgdG8gc2F2ZSBpbi4KICAgICAqIEByZXR1cm4ge1ZlYzN9CiAgICAgKi8KCgogICAgdnN1Yih2ZWN0b3IsIHRhcmdldCkgewogICAgICBpZiAodGFyZ2V0KSB7CiAgICAgICAgdGFyZ2V0LnggPSB0aGlzLnggLSB2ZWN0b3IueDsKICAgICAgICB0YXJnZXQueSA9IHRoaXMueSAtIHZlY3Rvci55OwogICAgICAgIHRhcmdldC56ID0gdGhpcy56IC0gdmVjdG9yLno7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG5ldyBWZWMzKHRoaXMueCAtIHZlY3Rvci54LCB0aGlzLnkgLSB2ZWN0b3IueSwgdGhpcy56IC0gdmVjdG9yLnopOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIEdldCB0aGUgY3Jvc3MgcHJvZHVjdCBtYXRyaXggYV9jcm9zcyBmcm9tIGEgdmVjdG9yLCBzdWNoIHRoYXQgYSB4IGIgPSBhX2Nyb3NzICogYiA9IGMKICAgICAqIEBtZXRob2QgY3Jvc3NtYXQKICAgICAqIEBzZWUgaHR0cDovL3d3dzguY3MudW11LnNlL2t1cnNlci9UREJEMjQvVlQwNi9sZWN0dXJlcy9MZWN0dXJlNi5wZGYKICAgICAqIEByZXR1cm4ge01hdDN9CiAgICAgKi8KCgogICAgY3Jvc3NtYXQoKSB7CiAgICAgIHJldHVybiBuZXcgTWF0MyhbMCwgLXRoaXMueiwgdGhpcy55LCB0aGlzLnosIDAsIC10aGlzLngsIC10aGlzLnksIHRoaXMueCwgMF0pOwogICAgfQogICAgLyoqCiAgICAgKiBOb3JtYWxpemUgdGhlIHZlY3Rvci4gTm90ZSB0aGF0IHRoaXMgY2hhbmdlcyB0aGUgdmFsdWVzIGluIHRoZSB2ZWN0b3IuCiAgICAgKiBAbWV0aG9kIG5vcm1hbGl6ZQogICAgICogQHJldHVybiB7TnVtYmVyfSBSZXR1cm5zIHRoZSBub3JtIG9mIHRoZSB2ZWN0b3IKICAgICAqLwoKCiAgICBub3JtYWxpemUoKSB7CiAgICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICAgIGNvbnN0IHogPSB0aGlzLno7CiAgICAgIGNvbnN0IG4gPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTsKCiAgICAgIGlmIChuID4gMC4wKSB7CiAgICAgICAgY29uc3QgaW52TiA9IDEgLyBuOwogICAgICAgIHRoaXMueCAqPSBpbnZOOwogICAgICAgIHRoaXMueSAqPSBpbnZOOwogICAgICAgIHRoaXMueiAqPSBpbnZOOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIE1ha2Ugc29tZXRoaW5nIHVwCiAgICAgICAgdGhpcy54ID0gMDsKICAgICAgICB0aGlzLnkgPSAwOwogICAgICAgIHRoaXMueiA9IDA7CiAgICAgIH0KCiAgICAgIHJldHVybiBuOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIHZlcnNpb24gb2YgdGhpcyB2ZWN0b3IgdGhhdCBpcyBvZiBsZW5ndGggMS4KICAgICAqIEBtZXRob2QgdW5pdAogICAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgT3B0aW9uYWwgdGFyZ2V0IHRvIHNhdmUgaW4KICAgICAqIEByZXR1cm4ge1ZlYzN9IFJldHVybnMgdGhlIHVuaXQgdmVjdG9yCiAgICAgKi8KCgogICAgdW5pdCh0YXJnZXQgPSBuZXcgVmVjMygpKSB7CiAgICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICAgIGNvbnN0IHogPSB0aGlzLno7CiAgICAgIGxldCBuaW52ID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7CgogICAgICBpZiAobmludiA+IDAuMCkgewogICAgICAgIG5pbnYgPSAxLjAgLyBuaW52OwogICAgICAgIHRhcmdldC54ID0geCAqIG5pbnY7CiAgICAgICAgdGFyZ2V0LnkgPSB5ICogbmludjsKICAgICAgICB0YXJnZXQueiA9IHogKiBuaW52OwogICAgICB9IGVsc2UgewogICAgICAgIHRhcmdldC54ID0gMTsKICAgICAgICB0YXJnZXQueSA9IDA7CiAgICAgICAgdGFyZ2V0LnogPSAwOwogICAgICB9CgogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIGxlbmd0aCBvZiB0aGUgdmVjdG9yCiAgICAgKiBAbWV0aG9kIGxlbmd0aAogICAgICogQHJldHVybiB7TnVtYmVyfQogICAgICovCgoKICAgIGxlbmd0aCgpIHsKICAgICAgY29uc3QgeCA9IHRoaXMueDsKICAgICAgY29uc3QgeSA9IHRoaXMueTsKICAgICAgY29uc3QgeiA9IHRoaXMuejsKICAgICAgcmV0dXJuIE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIHRoZSB2ZWN0b3IuCiAgICAgKiBAbWV0aG9kIGxlbmd0aFNxdWFyZWQKICAgICAqIEByZXR1cm4ge051bWJlcn0KICAgICAqLwoKCiAgICBsZW5ndGhTcXVhcmVkKCkgewogICAgICByZXR1cm4gdGhpcy5kb3QodGhpcyk7CiAgICB9CiAgICAvKioKICAgICAqIEdldCBkaXN0YW5jZSBmcm9tIHRoaXMgcG9pbnQgdG8gYW5vdGhlciBwb2ludAogICAgICogQG1ldGhvZCBkaXN0YW5jZVRvCiAgICAgKiBAcGFyYW0gIHtWZWMzfSBwCiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9CiAgICAgKi8KCgogICAgZGlzdGFuY2VUbyhwKSB7CiAgICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICAgIGNvbnN0IHogPSB0aGlzLno7CiAgICAgIGNvbnN0IHB4ID0gcC54OwogICAgICBjb25zdCBweSA9IHAueTsKICAgICAgY29uc3QgcHogPSBwLno7CiAgICAgIHJldHVybiBNYXRoLnNxcnQoKHB4IC0geCkgKiAocHggLSB4KSArIChweSAtIHkpICogKHB5IC0geSkgKyAocHogLSB6KSAqIChweiAtIHopKTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IHNxdWFyZWQgZGlzdGFuY2UgZnJvbSB0aGlzIHBvaW50IHRvIGFub3RoZXIgcG9pbnQKICAgICAqIEBtZXRob2QgZGlzdGFuY2VTcXVhcmVkCiAgICAgKiBAcGFyYW0gIHtWZWMzfSBwCiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9CiAgICAgKi8KCgogICAgZGlzdGFuY2VTcXVhcmVkKHApIHsKICAgICAgY29uc3QgeCA9IHRoaXMueDsKICAgICAgY29uc3QgeSA9IHRoaXMueTsKICAgICAgY29uc3QgeiA9IHRoaXMuejsKICAgICAgY29uc3QgcHggPSBwLng7CiAgICAgIGNvbnN0IHB5ID0gcC55OwogICAgICBjb25zdCBweiA9IHAuejsKICAgICAgcmV0dXJuIChweCAtIHgpICogKHB4IC0geCkgKyAocHkgLSB5KSAqIChweSAtIHkpICsgKHB6IC0geikgKiAocHogLSB6KTsKICAgIH0KICAgIC8qKgogICAgICogTXVsdGlwbHkgYWxsIHRoZSBjb21wb25lbnRzIG9mIHRoZSB2ZWN0b3Igd2l0aCBhIHNjYWxhci4KICAgICAqIEBtZXRob2Qgc2NhbGUKICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsYXIKICAgICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0IFRoZSB2ZWN0b3IgdG8gc2F2ZSB0aGUgcmVzdWx0IGluLgogICAgICogQHJldHVybiB7VmVjM30KICAgICAqLwoKCiAgICBzY2FsZShzY2FsYXIsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgICAgY29uc3QgeCA9IHRoaXMueDsKICAgICAgY29uc3QgeSA9IHRoaXMueTsKICAgICAgY29uc3QgeiA9IHRoaXMuejsKICAgICAgdGFyZ2V0LnggPSBzY2FsYXIgKiB4OwogICAgICB0YXJnZXQueSA9IHNjYWxhciAqIHk7CiAgICAgIHRhcmdldC56ID0gc2NhbGFyICogejsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIC8qKgogICAgICogTXVsdGlwbHkgdGhlIHZlY3RvciB3aXRoIGFuIG90aGVyIHZlY3RvciwgY29tcG9uZW50LXdpc2UuCiAgICAgKiBAbWV0aG9kIHZtdWx0CiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmVjdG9yCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBUaGUgdmVjdG9yIHRvIHNhdmUgdGhlIHJlc3VsdCBpbi4KICAgICAqIEByZXR1cm4ge1ZlYzN9CiAgICAgKi8KCgogICAgdm11bCh2ZWN0b3IsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgICAgdGFyZ2V0LnggPSB2ZWN0b3IueCAqIHRoaXMueDsKICAgICAgdGFyZ2V0LnkgPSB2ZWN0b3IueSAqIHRoaXMueTsKICAgICAgdGFyZ2V0LnogPSB2ZWN0b3IueiAqIHRoaXMuejsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIC8qKgogICAgICogU2NhbGUgYSB2ZWN0b3IgYW5kIGFkZCBpdCB0byB0aGlzIHZlY3Rvci4gU2F2ZSB0aGUgcmVzdWx0IGluICJ0YXJnZXQiLiAodGFyZ2V0ID0gdGhpcyArIHZlY3RvciAqIHNjYWxhcikKICAgICAqIEBtZXRob2QgYWRkU2NhbGVkVmVjdG9yCiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHZlY3RvcgogICAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgVGhlIHZlY3RvciB0byBzYXZlIHRoZSByZXN1bHQgaW4uCiAgICAgKiBAcmV0dXJuIHtWZWMzfQogICAgICovCgoKICAgIGFkZFNjYWxlZFZlY3RvcihzY2FsYXIsIHZlY3RvciwgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgICB0YXJnZXQueCA9IHRoaXMueCArIHNjYWxhciAqIHZlY3Rvci54OwogICAgICB0YXJnZXQueSA9IHRoaXMueSArIHNjYWxhciAqIHZlY3Rvci55OwogICAgICB0YXJnZXQueiA9IHRoaXMueiArIHNjYWxhciAqIHZlY3Rvci56OwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBDYWxjdWxhdGUgZG90IHByb2R1Y3QKICAgICAqIEBtZXRob2QgZG90CiAgICAgKiBAcGFyYW0ge1ZlYzN9IHZlY3RvcgogICAgICogQHJldHVybiB7TnVtYmVyfQogICAgICovCgoKICAgIGRvdCh2ZWN0b3IpIHsKICAgICAgcmV0dXJuIHRoaXMueCAqIHZlY3Rvci54ICsgdGhpcy55ICogdmVjdG9yLnkgKyB0aGlzLnogKiB2ZWN0b3IuejsKICAgIH0KICAgIC8qKgogICAgICogQG1ldGhvZCBpc1plcm8KICAgICAqIEByZXR1cm4gYm9vbAogICAgICovCgoKICAgIGlzWmVybygpIHsKICAgICAgcmV0dXJuIHRoaXMueCA9PT0gMCAmJiB0aGlzLnkgPT09IDAgJiYgdGhpcy56ID09PSAwOwogICAgfQogICAgLyoqCiAgICAgKiBNYWtlIHRoZSB2ZWN0b3IgcG9pbnQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbi4KICAgICAqIEBtZXRob2QgbmVnYXRlCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldCBPcHRpb25hbCB0YXJnZXQgdG8gc2F2ZSBpbgogICAgICogQHJldHVybiB7VmVjM30KICAgICAqLwoKCiAgICBuZWdhdGUodGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgICB0YXJnZXQueCA9IC10aGlzLng7CiAgICAgIHRhcmdldC55ID0gLXRoaXMueTsKICAgICAgdGFyZ2V0LnogPSAtdGhpcy56OwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlIHR3byBhcnRpZmljaWFsIHRhbmdlbnRzIHRvIHRoZSB2ZWN0b3IKICAgICAqIEBtZXRob2QgdGFuZ2VudHMKICAgICAqIEBwYXJhbSB7VmVjM30gdDEgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBmaXJzdCB0YW5nZW50IGluCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHQyIFZlY3RvciBvYmplY3QgdG8gc2F2ZSB0aGUgc2Vjb25kIHRhbmdlbnQgaW4KICAgICAqLwoKCiAgICB0YW5nZW50cyh0MSwgdDIpIHsKICAgICAgY29uc3Qgbm9ybSA9IHRoaXMubGVuZ3RoKCk7CgogICAgICBpZiAobm9ybSA+IDAuMCkgewogICAgICAgIGNvbnN0IG4gPSBWZWMzX3RhbmdlbnRzX247CiAgICAgICAgY29uc3QgaW5vcm0gPSAxIC8gbm9ybTsKICAgICAgICBuLnNldCh0aGlzLnggKiBpbm9ybSwgdGhpcy55ICogaW5vcm0sIHRoaXMueiAqIGlub3JtKTsKICAgICAgICBjb25zdCByYW5kVmVjID0gVmVjM190YW5nZW50c19yYW5kVmVjOwoKICAgICAgICBpZiAoTWF0aC5hYnMobi54KSA8IDAuOSkgewogICAgICAgICAgcmFuZFZlYy5zZXQoMSwgMCwgMCk7CiAgICAgICAgICBuLmNyb3NzKHJhbmRWZWMsIHQxKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmFuZFZlYy5zZXQoMCwgMSwgMCk7CiAgICAgICAgICBuLmNyb3NzKHJhbmRWZWMsIHQxKTsKICAgICAgICB9CgogICAgICAgIG4uY3Jvc3ModDEsIHQyKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBUaGUgbm9ybWFsIGxlbmd0aCBpcyB6ZXJvLCBtYWtlIHNvbWV0aGluZyB1cAogICAgICAgIHQxLnNldCgxLCAwLCAwKTsKICAgICAgICB0Mi5zZXQoMCwgMSwgMCk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogQ29udmVydHMgdG8gYSBtb3JlIHJlYWRhYmxlIGZvcm1hdAogICAgICogQG1ldGhvZCB0b1N0cmluZwogICAgICogQHJldHVybiBzdHJpbmcKICAgICAqLwoKCiAgICB0b1N0cmluZygpIHsKICAgICAgcmV0dXJuIHRoaXMueCArICIsIiArIHRoaXMueSArICIsIiArIHRoaXMuejsKICAgIH0KICAgIC8qKgogICAgICogQ29udmVydHMgdG8gYW4gYXJyYXkKICAgICAqIEBtZXRob2QgdG9BcnJheQogICAgICogQHJldHVybiBBcnJheQogICAgICovCgoKICAgIHRvQXJyYXkoKSB7CiAgICAgIHJldHVybiBbdGhpcy54LCB0aGlzLnksIHRoaXMuel07CiAgICB9CiAgICAvKioKICAgICAqIENvcGllcyB2YWx1ZSBvZiBzb3VyY2UgdG8gdGhpcyB2ZWN0b3IuCiAgICAgKiBAbWV0aG9kIGNvcHkKICAgICAqIEBwYXJhbSB7VmVjM30gc291cmNlCiAgICAgKiBAcmV0dXJuIHtWZWMzfSB0aGlzCiAgICAgKi8KCgogICAgY29weSh2ZWN0b3IpIHsKICAgICAgdGhpcy54ID0gdmVjdG9yLng7CiAgICAgIHRoaXMueSA9IHZlY3Rvci55OwogICAgICB0aGlzLnogPSB2ZWN0b3IuejsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIERvIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjdG9ycwogICAgICogQG1ldGhvZCBsZXJwCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHZlY3RvcgogICAgICogQHBhcmFtIHtOdW1iZXJ9IHQgQSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxLiAwIHdpbGwgbWFrZSB0aGlzIGZ1bmN0aW9uIHJldHVybiB1LCBhbmQgMSB3aWxsIG1ha2UgaXQgcmV0dXJuIHYuIE51bWJlcnMgaW4gYmV0d2VlbiB3aWxsIGdlbmVyYXRlIGEgdmVjdG9yIGluIGJldHdlZW4gdGhlbS4KICAgICAqIEBwYXJhbSB7VmVjM30gdGFyZ2V0CiAgICAgKi8KCgogICAgbGVycCh2ZWN0b3IsIHQsIHRhcmdldCkgewogICAgICBjb25zdCB4ID0gdGhpcy54OwogICAgICBjb25zdCB5ID0gdGhpcy55OwogICAgICBjb25zdCB6ID0gdGhpcy56OwogICAgICB0YXJnZXQueCA9IHggKyAodmVjdG9yLnggLSB4KSAqIHQ7CiAgICAgIHRhcmdldC55ID0geSArICh2ZWN0b3IueSAtIHkpICogdDsKICAgICAgdGFyZ2V0LnogPSB6ICsgKHZlY3Rvci56IC0geikgKiB0OwogICAgfQogICAgLyoqCiAgICAgKiBDaGVjayBpZiBhIHZlY3RvciBlcXVhbHMgaXMgYWxtb3N0IGVxdWFsIHRvIGFub3RoZXIgb25lLgogICAgICogQG1ldGhvZCBhbG1vc3RFcXVhbHMKICAgICAqIEBwYXJhbSB7VmVjM30gdmVjdG9yCiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJlY2lzaW9uCiAgICAgKiBAcmV0dXJuIGJvb2wKICAgICAqLwoKCiAgICBhbG1vc3RFcXVhbHModmVjdG9yLCBwcmVjaXNpb24gPSAxZS02KSB7CiAgICAgIGlmIChNYXRoLmFicyh0aGlzLnggLSB2ZWN0b3IueCkgPiBwcmVjaXNpb24gfHwgTWF0aC5hYnModGhpcy55IC0gdmVjdG9yLnkpID4gcHJlY2lzaW9uIHx8IE1hdGguYWJzKHRoaXMueiAtIHZlY3Rvci56KSA+IHByZWNpc2lvbikgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAvKioKICAgICAqIENoZWNrIGlmIGEgdmVjdG9yIGlzIGFsbW9zdCB6ZXJvCiAgICAgKiBAbWV0aG9kIGFsbW9zdFplcm8KICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwcmVjaXNpb24KICAgICAqLwoKCiAgICBhbG1vc3RaZXJvKHByZWNpc2lvbiA9IDFlLTYpIHsKICAgICAgaWYgKE1hdGguYWJzKHRoaXMueCkgPiBwcmVjaXNpb24gfHwgTWF0aC5hYnModGhpcy55KSA+IHByZWNpc2lvbiB8fCBNYXRoLmFicyh0aGlzLnopID4gcHJlY2lzaW9uKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIC8qKgogICAgICogQ2hlY2sgaWYgdGhlIHZlY3RvciBpcyBhbnRpLXBhcmFsbGVsIHRvIGFub3RoZXIgdmVjdG9yLgogICAgICogQG1ldGhvZCBpc0FudGlwYXJhbGxlbFRvCiAgICAgKiBAcGFyYW0gIHtWZWMzfSAgdgogICAgICogQHBhcmFtICB7TnVtYmVyfSAgcHJlY2lzaW9uIFNldCB0byB6ZXJvIGZvciBleGFjdCBjb21wYXJpc29ucwogICAgICogQHJldHVybiB7Qm9vbGVhbn0KICAgICAqLwoKCiAgICBpc0FudGlwYXJhbGxlbFRvKHZlY3RvciwgcHJlY2lzaW9uKSB7CiAgICAgIHRoaXMubmVnYXRlKGFudGlwX25lZyk7CiAgICAgIHJldHVybiBhbnRpcF9uZWcuYWxtb3N0RXF1YWxzKHZlY3RvciwgcHJlY2lzaW9uKTsKICAgIH0KICAgIC8qKgogICAgICogQ2xvbmUgdGhlIHZlY3RvcgogICAgICogQG1ldGhvZCBjbG9uZQogICAgICogQHJldHVybiB7VmVjM30KICAgICAqLwoKCiAgICBjbG9uZSgpIHsKICAgICAgcmV0dXJuIG5ldyBWZWMzKHRoaXMueCwgdGhpcy55LCB0aGlzLnopOwogICAgfQoKICB9CgogIFZlYzMuWkVSTyA9IG5ldyBWZWMzKDAsIDAsIDApOwogIFZlYzMuVU5JVF9YID0gbmV3IFZlYzMoMSwgMCwgMCk7CiAgVmVjMy5VTklUX1kgPSBuZXcgVmVjMygwLCAxLCAwKTsKICBWZWMzLlVOSVRfWiA9IG5ldyBWZWMzKDAsIDAsIDEpOwogIC8qKgogICAqIENvbXB1dGUgdHdvIGFydGlmaWNpYWwgdGFuZ2VudHMgdG8gdGhlIHZlY3RvcgogICAqIEBtZXRob2QgdGFuZ2VudHMKICAgKiBAcGFyYW0ge1ZlYzN9IHQxIFZlY3RvciBvYmplY3QgdG8gc2F2ZSB0aGUgZmlyc3QgdGFuZ2VudCBpbgogICAqIEBwYXJhbSB7VmVjM30gdDIgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBzZWNvbmQgdGFuZ2VudCBpbgogICAqLwoKICBjb25zdCBWZWMzX3RhbmdlbnRzX24gPSBuZXcgVmVjMygpOwogIGNvbnN0IFZlYzNfdGFuZ2VudHNfcmFuZFZlYyA9IG5ldyBWZWMzKCk7CiAgY29uc3QgYW50aXBfbmVnID0gbmV3IFZlYzMoKTsKICAvKioKICAgKiBBeGlzIGFsaWduZWQgYm91bmRpbmcgYm94IGNsYXNzLgogICAqIEBjbGFzcyBBQUJCCiAgICogQGNvbnN0cnVjdG9yCiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXQogICAqIEBwYXJhbSB7VmVjM30gICBbb3B0aW9ucy51cHBlckJvdW5kXSBUaGUgdXBwZXIgYm91bmQgb2YgdGhlIGJvdW5kaW5nIGJveC4KICAgKiBAcGFyYW0ge1ZlYzN9ICAgW29wdGlvbnMubG93ZXJCb3VuZF0gVGhlIGxvd2VyIGJvdW5kIG9mIHRoZSBib3VuZGluZyBib3gKICAgKi8KCiAgY2xhc3MgQUFCQiB7CiAgICAvLyBUaGUgbG93ZXIgYm91bmQgb2YgdGhlIGJvdW5kaW5nIGJveAogICAgLy8gVGhlIHVwcGVyIGJvdW5kIG9mIHRoZSBib3VuZGluZyBib3gKICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkgewogICAgICB0aGlzLmxvd2VyQm91bmQgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLnVwcGVyQm91bmQgPSBuZXcgVmVjMygpOwoKICAgICAgaWYgKG9wdGlvbnMubG93ZXJCb3VuZCkgewogICAgICAgIHRoaXMubG93ZXJCb3VuZC5jb3B5KG9wdGlvbnMubG93ZXJCb3VuZCk7CiAgICAgIH0KCiAgICAgIGlmIChvcHRpb25zLnVwcGVyQm91bmQpIHsKICAgICAgICB0aGlzLnVwcGVyQm91bmQuY29weShvcHRpb25zLnVwcGVyQm91bmQpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFNldCB0aGUgQUFCQiBib3VuZHMgZnJvbSBhIHNldCBvZiBwb2ludHMuCiAgICAgKiBAbWV0aG9kIHNldEZyb21Qb2ludHMKICAgICAqIEBwYXJhbSB7QXJyYXl9IHBvaW50cyBBbiBhcnJheSBvZiBWZWMzJ3MuCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHBvc2l0aW9uIE9wdGlvbmFsLgogICAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0ZXJuaW9uIE9wdGlvbmFsLgogICAgICogQHBhcmFtIHtudW1iZXJ9IHNraW5TaXplIE9wdGlvbmFsLgogICAgICogQHJldHVybiB7QUFCQn0gVGhlIHNlbGYgb2JqZWN0CiAgICAgKi8KCgogICAgc2V0RnJvbVBvaW50cyhwb2ludHMsIHBvc2l0aW9uLCBxdWF0ZXJuaW9uLCBza2luU2l6ZSkgewogICAgICBjb25zdCBsID0gdGhpcy5sb3dlckJvdW5kOwogICAgICBjb25zdCB1ID0gdGhpcy51cHBlckJvdW5kOwogICAgICBjb25zdCBxID0gcXVhdGVybmlvbjsgLy8gU2V0IHRvIHRoZSBmaXJzdCBwb2ludAoKICAgICAgbC5jb3B5KHBvaW50c1swXSk7CgogICAgICBpZiAocSkgewogICAgICAgIHEudm11bHQobCwgbCk7CiAgICAgIH0KCiAgICAgIHUuY29weShsKTsKCiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbGV0IHAgPSBwb2ludHNbaV07CgogICAgICAgIGlmIChxKSB7CiAgICAgICAgICBxLnZtdWx0KHAsIHRtcCk7CiAgICAgICAgICBwID0gdG1wOwogICAgICAgIH0KCiAgICAgICAgaWYgKHAueCA+IHUueCkgewogICAgICAgICAgdS54ID0gcC54OwogICAgICAgIH0KCiAgICAgICAgaWYgKHAueCA8IGwueCkgewogICAgICAgICAgbC54ID0gcC54OwogICAgICAgIH0KCiAgICAgICAgaWYgKHAueSA+IHUueSkgewogICAgICAgICAgdS55ID0gcC55OwogICAgICAgIH0KCiAgICAgICAgaWYgKHAueSA8IGwueSkgewogICAgICAgICAgbC55ID0gcC55OwogICAgICAgIH0KCiAgICAgICAgaWYgKHAueiA+IHUueikgewogICAgICAgICAgdS56ID0gcC56OwogICAgICAgIH0KCiAgICAgICAgaWYgKHAueiA8IGwueikgewogICAgICAgICAgbC56ID0gcC56OwogICAgICAgIH0KICAgICAgfSAvLyBBZGQgb2Zmc2V0CgoKICAgICAgaWYgKHBvc2l0aW9uKSB7CiAgICAgICAgcG9zaXRpb24udmFkZChsLCBsKTsKICAgICAgICBwb3NpdGlvbi52YWRkKHUsIHUpOwogICAgICB9CgogICAgICBpZiAoc2tpblNpemUpIHsKICAgICAgICBsLnggLT0gc2tpblNpemU7CiAgICAgICAgbC55IC09IHNraW5TaXplOwogICAgICAgIGwueiAtPSBza2luU2l6ZTsKICAgICAgICB1LnggKz0gc2tpblNpemU7CiAgICAgICAgdS55ICs9IHNraW5TaXplOwogICAgICAgIHUueiArPSBza2luU2l6ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIENvcHkgYm91bmRzIGZyb20gYW4gQUFCQiB0byB0aGlzIEFBQkIKICAgICAqIEBtZXRob2QgY29weQogICAgICogQHBhcmFtICB7QUFCQn0gYWFiYiBTb3VyY2UgdG8gY29weSBmcm9tCiAgICAgKiBAcmV0dXJuIHtBQUJCfSBUaGUgdGhpcyBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkKICAgICAqLwoKCiAgICBjb3B5KGFhYmIpIHsKICAgICAgdGhpcy5sb3dlckJvdW5kLmNvcHkoYWFiYi5sb3dlckJvdW5kKTsKICAgICAgdGhpcy51cHBlckJvdW5kLmNvcHkoYWFiYi51cHBlckJvdW5kKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIENsb25lIGFuIEFBQkIKICAgICAqIEBtZXRob2QgY2xvbmUKICAgICAqLwoKCiAgICBjbG9uZSgpIHsKICAgICAgcmV0dXJuIG5ldyBBQUJCKCkuY29weSh0aGlzKTsKICAgIH0KICAgIC8qKgogICAgICogRXh0ZW5kIHRoaXMgQUFCQiBzbyB0aGF0IGl0IGNvdmVycyB0aGUgZ2l2ZW4gQUFCQiB0b28uCiAgICAgKiBAbWV0aG9kIGV4dGVuZAogICAgICogQHBhcmFtICB7QUFCQn0gYWFiYgogICAgICovCgoKICAgIGV4dGVuZChhYWJiKSB7CiAgICAgIHRoaXMubG93ZXJCb3VuZC54ID0gTWF0aC5taW4odGhpcy5sb3dlckJvdW5kLngsIGFhYmIubG93ZXJCb3VuZC54KTsKICAgICAgdGhpcy51cHBlckJvdW5kLnggPSBNYXRoLm1heCh0aGlzLnVwcGVyQm91bmQueCwgYWFiYi51cHBlckJvdW5kLngpOwogICAgICB0aGlzLmxvd2VyQm91bmQueSA9IE1hdGgubWluKHRoaXMubG93ZXJCb3VuZC55LCBhYWJiLmxvd2VyQm91bmQueSk7CiAgICAgIHRoaXMudXBwZXJCb3VuZC55ID0gTWF0aC5tYXgodGhpcy51cHBlckJvdW5kLnksIGFhYmIudXBwZXJCb3VuZC55KTsKICAgICAgdGhpcy5sb3dlckJvdW5kLnogPSBNYXRoLm1pbih0aGlzLmxvd2VyQm91bmQueiwgYWFiYi5sb3dlckJvdW5kLnopOwogICAgICB0aGlzLnVwcGVyQm91bmQueiA9IE1hdGgubWF4KHRoaXMudXBwZXJCb3VuZC56LCBhYWJiLnVwcGVyQm91bmQueik7CiAgICB9CiAgICAvKioKICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gQUFCQiBvdmVybGFwcyB0aGlzIEFBQkIuCiAgICAgKiBAbWV0aG9kIG92ZXJsYXBzCiAgICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiCiAgICAgKiBAcmV0dXJuIHtCb29sZWFufQogICAgICovCgoKICAgIG92ZXJsYXBzKGFhYmIpIHsKICAgICAgY29uc3QgbDEgPSB0aGlzLmxvd2VyQm91bmQ7CiAgICAgIGNvbnN0IHUxID0gdGhpcy51cHBlckJvdW5kOwogICAgICBjb25zdCBsMiA9IGFhYmIubG93ZXJCb3VuZDsKICAgICAgY29uc3QgdTIgPSBhYWJiLnVwcGVyQm91bmQ7IC8vICAgICAgbDIgICAgICAgIHUyCiAgICAgIC8vICAgICAgfC0tLS0tLS0tLXwKICAgICAgLy8gfC0tLS0tLS0tfAogICAgICAvLyBsMSAgICAgICB1MQoKICAgICAgY29uc3Qgb3ZlcmxhcHNYID0gbDIueCA8PSB1MS54ICYmIHUxLnggPD0gdTIueCB8fCBsMS54IDw9IHUyLnggJiYgdTIueCA8PSB1MS54OwogICAgICBjb25zdCBvdmVybGFwc1kgPSBsMi55IDw9IHUxLnkgJiYgdTEueSA8PSB1Mi55IHx8IGwxLnkgPD0gdTIueSAmJiB1Mi55IDw9IHUxLnk7CiAgICAgIGNvbnN0IG92ZXJsYXBzWiA9IGwyLnogPD0gdTEueiAmJiB1MS56IDw9IHUyLnogfHwgbDEueiA8PSB1Mi56ICYmIHUyLnogPD0gdTEuejsKICAgICAgcmV0dXJuIG92ZXJsYXBzWCAmJiBvdmVybGFwc1kgJiYgb3ZlcmxhcHNaOwogICAgfSAvLyBNb3N0bHkgZm9yIGRlYnVnZ2luZwoKCiAgICB2b2x1bWUoKSB7CiAgICAgIGNvbnN0IGwgPSB0aGlzLmxvd2VyQm91bmQ7CiAgICAgIGNvbnN0IHUgPSB0aGlzLnVwcGVyQm91bmQ7CiAgICAgIHJldHVybiAodS54IC0gbC54KSAqICh1LnkgLSBsLnkpICogKHUueiAtIGwueik7CiAgICB9CiAgICAvKioKICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gQUFCQiBpcyBmdWxseSBjb250YWluZWQgaW4gdGhpcyBBQUJCLgogICAgICogQG1ldGhvZCBjb250YWlucwogICAgICogQHBhcmFtIHtBQUJCfSBhYWJiCiAgICAgKiBAcmV0dXJuIHtCb29sZWFufQogICAgICovCgoKICAgIGNvbnRhaW5zKGFhYmIpIHsKICAgICAgY29uc3QgbDEgPSB0aGlzLmxvd2VyQm91bmQ7CiAgICAgIGNvbnN0IHUxID0gdGhpcy51cHBlckJvdW5kOwogICAgICBjb25zdCBsMiA9IGFhYmIubG93ZXJCb3VuZDsKICAgICAgY29uc3QgdTIgPSBhYWJiLnVwcGVyQm91bmQ7IC8vICAgICAgbDIgICAgICAgIHUyCiAgICAgIC8vICAgICAgfC0tLS0tLS0tLXwKICAgICAgLy8gfC0tLS0tLS0tLS0tLS0tLXwKICAgICAgLy8gbDEgICAgICAgICAgICAgIHUxCgogICAgICByZXR1cm4gbDEueCA8PSBsMi54ICYmIHUxLnggPj0gdTIueCAmJiBsMS55IDw9IGwyLnkgJiYgdTEueSA+PSB1Mi55ICYmIGwxLnogPD0gbDIueiAmJiB1MS56ID49IHUyLno7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2QgZ2V0Q29ybmVycwogICAgICogQHBhcmFtIHtWZWMzfSBhCiAgICAgKiBAcGFyYW0ge1ZlYzN9IGIKICAgICAqIEBwYXJhbSB7VmVjM30gYwogICAgICogQHBhcmFtIHtWZWMzfSBkCiAgICAgKiBAcGFyYW0ge1ZlYzN9IGUKICAgICAqIEBwYXJhbSB7VmVjM30gZgogICAgICogQHBhcmFtIHtWZWMzfSBnCiAgICAgKiBAcGFyYW0ge1ZlYzN9IGgKICAgICAqLwoKCiAgICBnZXRDb3JuZXJzKGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgpIHsKICAgICAgY29uc3QgbCA9IHRoaXMubG93ZXJCb3VuZDsKICAgICAgY29uc3QgdSA9IHRoaXMudXBwZXJCb3VuZDsKICAgICAgYS5jb3B5KGwpOwogICAgICBiLnNldCh1LngsIGwueSwgbC56KTsKICAgICAgYy5zZXQodS54LCB1LnksIGwueik7CiAgICAgIGQuc2V0KGwueCwgdS55LCB1LnopOwogICAgICBlLnNldCh1LngsIGwueSwgdS56KTsKICAgICAgZi5zZXQobC54LCB1LnksIGwueik7CiAgICAgIGcuc2V0KGwueCwgbC55LCB1LnopOwogICAgICBoLmNvcHkodSk7CiAgICB9CiAgICAvKioKICAgICAqIEdldCB0aGUgcmVwcmVzZW50YXRpb24gb2YgYW4gQUFCQiBpbiBhbm90aGVyIGZyYW1lLgogICAgICogQG1ldGhvZCB0b0xvY2FsRnJhbWUKICAgICAqIEBwYXJhbSAge1RyYW5zZm9ybX0gZnJhbWUKICAgICAqIEBwYXJhbSAge0FBQkJ9IHRhcmdldAogICAgICogQHJldHVybiB7QUFCQn0gVGhlICJ0YXJnZXQiIEFBQkIgb2JqZWN0LgogICAgICovCgoKICAgIHRvTG9jYWxGcmFtZShmcmFtZSwgdGFyZ2V0KSB7CiAgICAgIGNvbnN0IGNvcm5lcnMgPSB0cmFuc2Zvcm1JbnRvRnJhbWVfY29ybmVyczsKICAgICAgY29uc3QgYSA9IGNvcm5lcnNbMF07CiAgICAgIGNvbnN0IGIgPSBjb3JuZXJzWzFdOwogICAgICBjb25zdCBjID0gY29ybmVyc1syXTsKICAgICAgY29uc3QgZCA9IGNvcm5lcnNbM107CiAgICAgIGNvbnN0IGUgPSBjb3JuZXJzWzRdOwogICAgICBjb25zdCBmID0gY29ybmVyc1s1XTsKICAgICAgY29uc3QgZyA9IGNvcm5lcnNbNl07CiAgICAgIGNvbnN0IGggPSBjb3JuZXJzWzddOyAvLyBHZXQgY29ybmVycyBpbiBjdXJyZW50IGZyYW1lCgogICAgICB0aGlzLmdldENvcm5lcnMoYSwgYiwgYywgZCwgZSwgZiwgZywgaCk7IC8vIFRyYW5zZm9ybSB0aGVtIHRvIG5ldyBsb2NhbCBmcmFtZQoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDg7IGkrKykgewogICAgICAgIGNvbnN0IGNvcm5lciA9IGNvcm5lcnNbaV07CiAgICAgICAgZnJhbWUucG9pbnRUb0xvY2FsKGNvcm5lciwgY29ybmVyKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRhcmdldC5zZXRGcm9tUG9pbnRzKGNvcm5lcnMpOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIHJlcHJlc2VudGF0aW9uIG9mIGFuIEFBQkIgaW4gdGhlIGdsb2JhbCBmcmFtZS4KICAgICAqIEBtZXRob2QgdG9Xb3JsZEZyYW1lCiAgICAgKiBAcGFyYW0gIHtUcmFuc2Zvcm19IGZyYW1lCiAgICAgKiBAcGFyYW0gIHtBQUJCfSB0YXJnZXQKICAgICAqIEByZXR1cm4ge0FBQkJ9IFRoZSAidGFyZ2V0IiBBQUJCIG9iamVjdC4KICAgICAqLwoKCiAgICB0b1dvcmxkRnJhbWUoZnJhbWUsIHRhcmdldCkgewogICAgICBjb25zdCBjb3JuZXJzID0gdHJhbnNmb3JtSW50b0ZyYW1lX2Nvcm5lcnM7CiAgICAgIGNvbnN0IGEgPSBjb3JuZXJzWzBdOwogICAgICBjb25zdCBiID0gY29ybmVyc1sxXTsKICAgICAgY29uc3QgYyA9IGNvcm5lcnNbMl07CiAgICAgIGNvbnN0IGQgPSBjb3JuZXJzWzNdOwogICAgICBjb25zdCBlID0gY29ybmVyc1s0XTsKICAgICAgY29uc3QgZiA9IGNvcm5lcnNbNV07CiAgICAgIGNvbnN0IGcgPSBjb3JuZXJzWzZdOwogICAgICBjb25zdCBoID0gY29ybmVyc1s3XTsgLy8gR2V0IGNvcm5lcnMgaW4gY3VycmVudCBmcmFtZQoKICAgICAgdGhpcy5nZXRDb3JuZXJzKGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgpOyAvLyBUcmFuc2Zvcm0gdGhlbSB0byBuZXcgbG9jYWwgZnJhbWUKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSA4OyBpKyspIHsKICAgICAgICBjb25zdCBjb3JuZXIgPSBjb3JuZXJzW2ldOwogICAgICAgIGZyYW1lLnBvaW50VG9Xb3JsZChjb3JuZXIsIGNvcm5lcik7CiAgICAgIH0KCiAgICAgIHJldHVybiB0YXJnZXQuc2V0RnJvbVBvaW50cyhjb3JuZXJzKTsKICAgIH0KICAgIC8qKgogICAgICogQ2hlY2sgaWYgdGhlIEFBQkIgaXMgaGl0IGJ5IGEgcmF5LgogICAgICogQHBhcmFtICB7UmF5fSByYXkKICAgICAqIEByZXR1cm4ge0Jvb2xlYW59CiAgICAgKi8KCgogICAgb3ZlcmxhcHNSYXkocmF5KSB7CiAgICAgIGNvbnN0IHsKICAgICAgICBkaXJlY3Rpb24sCiAgICAgICAgZnJvbQogICAgICB9ID0gcmF5OwogICAgICBjb25zdCBkaXJGcmFjWCA9IDEgLyBkaXJlY3Rpb24ueDsKICAgICAgY29uc3QgZGlyRnJhY1kgPSAxIC8gZGlyZWN0aW9uLnk7CiAgICAgIGNvbnN0IGRpckZyYWNaID0gMSAvIGRpcmVjdGlvbi56OyAvLyB0aGlzLmxvd2VyQm91bmQgaXMgdGhlIGNvcm5lciBvZiBBQUJCIHdpdGggbWluaW1hbCBjb29yZGluYXRlcyAtIGxlZnQgYm90dG9tLCBydCBpcyBtYXhpbWFsIGNvcm5lcgoKICAgICAgY29uc3QgdDEgPSAodGhpcy5sb3dlckJvdW5kLnggLSBmcm9tLngpICogZGlyRnJhY1g7CiAgICAgIGNvbnN0IHQyID0gKHRoaXMudXBwZXJCb3VuZC54IC0gZnJvbS54KSAqIGRpckZyYWNYOwogICAgICBjb25zdCB0MyA9ICh0aGlzLmxvd2VyQm91bmQueSAtIGZyb20ueSkgKiBkaXJGcmFjWTsKICAgICAgY29uc3QgdDQgPSAodGhpcy51cHBlckJvdW5kLnkgLSBmcm9tLnkpICogZGlyRnJhY1k7CiAgICAgIGNvbnN0IHQ1ID0gKHRoaXMubG93ZXJCb3VuZC56IC0gZnJvbS56KSAqIGRpckZyYWNaOwogICAgICBjb25zdCB0NiA9ICh0aGlzLnVwcGVyQm91bmQueiAtIGZyb20ueikgKiBkaXJGcmFjWjsgLy8gY29uc3QgdG1pbiA9IE1hdGgubWF4KE1hdGgubWF4KE1hdGgubWluKHQxLCB0MiksIE1hdGgubWluKHQzLCB0NCkpKTsKICAgICAgLy8gY29uc3QgdG1heCA9IE1hdGgubWluKE1hdGgubWluKE1hdGgubWF4KHQxLCB0MiksIE1hdGgubWF4KHQzLCB0NCkpKTsKCiAgICAgIGNvbnN0IHRtaW4gPSBNYXRoLm1heChNYXRoLm1heChNYXRoLm1pbih0MSwgdDIpLCBNYXRoLm1pbih0MywgdDQpKSwgTWF0aC5taW4odDUsIHQ2KSk7CiAgICAgIGNvbnN0IHRtYXggPSBNYXRoLm1pbihNYXRoLm1pbihNYXRoLm1heCh0MSwgdDIpLCBNYXRoLm1heCh0MywgdDQpKSwgTWF0aC5tYXgodDUsIHQ2KSk7IC8vIGlmIHRtYXggPCAwLCByYXkgKGxpbmUpIGlzIGludGVyc2VjdGluZyBBQUJCLCBidXQgd2hvbGUgQUFCQiBpcyBiZWhpbmcgdXMKCiAgICAgIGlmICh0bWF4IDwgMCkgewogICAgICAgIC8vdCA9IHRtYXg7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IC8vIGlmIHRtaW4gPiB0bWF4LCByYXkgZG9lc24ndCBpbnRlcnNlY3QgQUFCQgoKCiAgICAgIGlmICh0bWluID4gdG1heCkgewogICAgICAgIC8vdCA9IHRtYXg7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgfQoKICBjb25zdCB0bXAgPSBuZXcgVmVjMygpOwogIGNvbnN0IHRyYW5zZm9ybUludG9GcmFtZV9jb3JuZXJzID0gW25ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCldOwogIC8qKgogICAqIENvbGxpc2lvbiAibWF0cml4Ii4gSXQncyBhY3R1YWxseSBhIHRyaWFuZ3VsYXItc2hhcGVkIGFycmF5IG9mIHdoZXRoZXIgdHdvIGJvZGllcyBhcmUgdG91Y2hpbmcgdGhpcyBzdGVwLCBmb3IgcmVmZXJlbmNlIG5leHQgc3RlcAogICAqIEBjbGFzcyBBcnJheUNvbGxpc2lvbk1hdHJpeAogICAqIEBjb25zdHJ1Y3RvcgogICAqLwoKICBjbGFzcyBBcnJheUNvbGxpc2lvbk1hdHJpeCB7CiAgICAvLyBUaGUgbWF0cml4IHN0b3JhZ2UuCiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgdGhpcy5tYXRyaXggPSBbXTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IGFuIGVsZW1lbnQKICAgICAqIEBtZXRob2QgZ2V0CiAgICAgKiBAcGFyYW0gIHtCb2R5fSBiaQogICAgICogQHBhcmFtICB7Qm9keX0gYmoKICAgICAqIEByZXR1cm4ge051bWJlcn0KICAgICAqLwoKCiAgICBnZXQoYmksIGJqKSB7CiAgICAgIGxldCB7CiAgICAgICAgaW5kZXg6IGkKICAgICAgfSA9IGJpOwogICAgICBsZXQgewogICAgICAgIGluZGV4OiBqCiAgICAgIH0gPSBiajsKCiAgICAgIGlmIChqID4gaSkgewogICAgICAgIGNvbnN0IHRlbXAgPSBqOwogICAgICAgIGogPSBpOwogICAgICAgIGkgPSB0ZW1wOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5tYXRyaXhbKGkgKiAoaSArIDEpID4+IDEpICsgaiAtIDFdOwogICAgfQogICAgLyoqCiAgICAgKiBTZXQgYW4gZWxlbWVudAogICAgICogQG1ldGhvZCBzZXQKICAgICAqIEBwYXJhbSB7Qm9keX0gYmkKICAgICAqIEBwYXJhbSB7Qm9keX0gYmoKICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUKICAgICAqLwoKCiAgICBzZXQoYmksIGJqLCB2YWx1ZSkgewogICAgICBsZXQgewogICAgICAgIGluZGV4OiBpCiAgICAgIH0gPSBiaTsKICAgICAgbGV0IHsKICAgICAgICBpbmRleDogagogICAgICB9ID0gYmo7CgogICAgICBpZiAoaiA+IGkpIHsKICAgICAgICBjb25zdCB0ZW1wID0gajsKICAgICAgICBqID0gaTsKICAgICAgICBpID0gdGVtcDsKICAgICAgfQoKICAgICAgdGhpcy5tYXRyaXhbKGkgKiAoaSArIDEpID4+IDEpICsgaiAtIDFdID0gdmFsdWUgPyAxIDogMDsKICAgIH0KICAgIC8qKgogICAgICogU2V0cyBhbGwgZWxlbWVudHMgdG8gemVybwogICAgICogQG1ldGhvZCByZXNldAogICAgICovCgoKICAgIHJlc2V0KCkgewogICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMubWF0cml4Lmxlbmd0aDsgaSAhPT0gbDsgaSsrKSB7CiAgICAgICAgdGhpcy5tYXRyaXhbaV0gPSAwOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFNldHMgdGhlIG1heCBudW1iZXIgb2Ygb2JqZWN0cwogICAgICogQG1ldGhvZCBzZXROdW1PYmplY3RzCiAgICAgKiBAcGFyYW0ge051bWJlcn0gbgogICAgICovCgoKICAgIHNldE51bU9iamVjdHMobikgewogICAgICB0aGlzLm1hdHJpeC5sZW5ndGggPSBuICogKG4gLSAxKSA+PiAxOwogICAgfQoKICB9CiAgLyoqCiAgICogQmFzZSBjbGFzcyBmb3Igb2JqZWN0cyB0aGF0IGRpc3BhdGNoZXMgZXZlbnRzLgogICAqIEBjbGFzcyBFdmVudFRhcmdldAogICAqIEBjb25zdHJ1Y3RvcgogICAqLwoKCiAgY2xhc3MgRXZlbnRUYXJnZXQgewogICAgY29uc3RydWN0b3IoKSB7fQogICAgLyoqCiAgICAgKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIKICAgICAqIEBtZXRob2QgYWRkRXZlbnRMaXN0ZW5lcgogICAgICogQHBhcmFtICB7U3RyaW5nfSB0eXBlCiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gbGlzdGVuZXIKICAgICAqIEByZXR1cm4ge0V2ZW50VGFyZ2V0fSBUaGUgc2VsZiBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuCiAgICAgKi8KCgogICAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewogICAgICBpZiAodGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTsKICAgICAgfQoKICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzOwoKICAgICAgaWYgKGxpc3RlbmVyc1t0eXBlXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgbGlzdGVuZXJzW3R5cGVdID0gW107CiAgICAgIH0KCiAgICAgIGlmICghbGlzdGVuZXJzW3R5cGVdLmluY2x1ZGVzKGxpc3RlbmVyKSkgewogICAgICAgIGxpc3RlbmVyc1t0eXBlXS5wdXNoKGxpc3RlbmVyKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIENoZWNrIGlmIGFuIGV2ZW50IGxpc3RlbmVyIGlzIGFkZGVkCiAgICAgKiBAbWV0aG9kIGhhc0V2ZW50TGlzdGVuZXIKICAgICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZQogICAgICogQHBhcmFtICB7RnVuY3Rpb259IGxpc3RlbmVyCiAgICAgKiBAcmV0dXJuIHtCb29sZWFufQogICAgICovCgoKICAgIGhhc0V2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHsKICAgICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7CgogICAgICBpZiAobGlzdGVuZXJzW3R5cGVdICE9PSB1bmRlZmluZWQgJiYgbGlzdGVuZXJzW3R5cGVdLmluY2x1ZGVzKGxpc3RlbmVyKSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICAvKioKICAgICAqIENoZWNrIGlmIGFueSBldmVudCBsaXN0ZW5lciBvZiB0aGUgZ2l2ZW4gdHlwZSBpcyBhZGRlZAogICAgICogQG1ldGhvZCBoYXNBbnlFdmVudExpc3RlbmVyCiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGUKICAgICAqIEByZXR1cm4ge0Jvb2xlYW59CiAgICAgKi8KCgogICAgaGFzQW55RXZlbnRMaXN0ZW5lcih0eXBlKSB7CiAgICAgIGlmICh0aGlzLl9saXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzOwogICAgICByZXR1cm4gbGlzdGVuZXJzW3R5cGVdICE9PSB1bmRlZmluZWQ7CiAgICB9CiAgICAvKioKICAgICAqIFJlbW92ZSBhbiBldmVudCBsaXN0ZW5lcgogICAgICogQG1ldGhvZCByZW1vdmVFdmVudExpc3RlbmVyCiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGUKICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBsaXN0ZW5lcgogICAgICogQHJldHVybiB7RXZlbnRUYXJnZXR9IFRoZSBzZWxmIG9iamVjdCwgZm9yIGNoYWluYWJpbGl0eS4KICAgICAqLwoKCiAgICByZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7CiAgICAgIGlmICh0aGlzLl9saXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9CgogICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7CgogICAgICBpZiAobGlzdGVuZXJzW3R5cGVdID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQoKICAgICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnNbdHlwZV0uaW5kZXhPZihsaXN0ZW5lcik7CgogICAgICBpZiAoaW5kZXggIT09IC0xKSB7CiAgICAgICAgbGlzdGVuZXJzW3R5cGVdLnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgLyoqCiAgICAgKiBFbWl0IGFuIGV2ZW50LgogICAgICogQG1ldGhvZCBkaXNwYXRjaEV2ZW50CiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2ZW50CiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGV2ZW50LnR5cGUKICAgICAqIEByZXR1cm4ge0V2ZW50VGFyZ2V0fSBUaGUgc2VsZiBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuCiAgICAgKi8KCgogICAgZGlzcGF0Y2hFdmVudChldmVudCkgewogICAgICBpZiAodGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQoKICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzOwogICAgICBjb25zdCBsaXN0ZW5lckFycmF5ID0gbGlzdGVuZXJzW2V2ZW50LnR5cGVdOwoKICAgICAgaWYgKGxpc3RlbmVyQXJyYXkgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGV2ZW50LnRhcmdldCA9IHRoaXM7CgogICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gbGlzdGVuZXJBcnJheS5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIGxpc3RlbmVyQXJyYXlbaV0uY2FsbCh0aGlzLCBldmVudCk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgfQogIC8qKgogICAqIEEgUXVhdGVybmlvbiBkZXNjcmliZXMgYSByb3RhdGlvbiBpbiAzRCBzcGFjZS4gVGhlIFF1YXRlcm5pb24gaXMgbWF0aGVtYXRpY2FsbHkgZGVmaW5lZCBhcyBRID0geCppICsgeSpqICsgeiprICsgdywgd2hlcmUgKGksaixrKSBhcmUgaW1hZ2luYXJ5IGJhc2lzIHZlY3RvcnMuICh4LHkseikgY2FuIGJlIHNlZW4gYXMgYSB2ZWN0b3IgcmVsYXRlZCB0byB0aGUgYXhpcyBvZiByb3RhdGlvbiwgd2hpbGUgdGhlIHJlYWwgbXVsdGlwbGllciwgdywgaXMgcmVsYXRlZCB0byB0aGUgYW1vdW50IG9mIHJvdGF0aW9uLgogICAqIEBwYXJhbSB7TnVtYmVyfSB4IE11bHRpcGxpZXIgb2YgdGhlIGltYWdpbmFyeSBiYXNpcyB2ZWN0b3IgaS4KICAgKiBAcGFyYW0ge051bWJlcn0geSBNdWx0aXBsaWVyIG9mIHRoZSBpbWFnaW5hcnkgYmFzaXMgdmVjdG9yIGouCiAgICogQHBhcmFtIHtOdW1iZXJ9IHogTXVsdGlwbGllciBvZiB0aGUgaW1hZ2luYXJ5IGJhc2lzIHZlY3RvciBrLgogICAqIEBwYXJhbSB7TnVtYmVyfSB3IE11bHRpcGxpZXIgb2YgdGhlIHJlYWwgcGFydC4KICAgKiBAc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUXVhdGVybmlvbgogICAqLwoKCiAgY2xhc3MgUXVhdGVybmlvbiB7CiAgICBjb25zdHJ1Y3Rvcih4ID0gMCwgeSA9IDAsIHogPSAwLCB3ID0gMSkgewogICAgICB0aGlzLnggPSB4OwogICAgICB0aGlzLnkgPSB5OwogICAgICB0aGlzLnogPSB6OwogICAgICB0aGlzLncgPSB3OwogICAgfQogICAgLyoqCiAgICAgKiBTZXQgdGhlIHZhbHVlIG9mIHRoZSBxdWF0ZXJuaW9uLgogICAgICovCgoKICAgIHNldCh4LCB5LCB6LCB3KSB7CiAgICAgIHRoaXMueCA9IHg7CiAgICAgIHRoaXMueSA9IHk7CiAgICAgIHRoaXMueiA9IHo7CiAgICAgIHRoaXMudyA9IHc7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgLyoqCiAgICAgKiBDb252ZXJ0IHRvIGEgcmVhZGFibGUgZm9ybWF0CiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9ICJ4LHkseix3IgogICAgICovCgoKICAgIHRvU3RyaW5nKCkgewogICAgICByZXR1cm4gdGhpcy54ICsgIiwiICsgdGhpcy55ICsgIiwiICsgdGhpcy56ICsgIiwiICsgdGhpcy53OwogICAgfQogICAgLyoqCiAgICAgKiBDb252ZXJ0IHRvIGFuIEFycmF5CiAgICAgKiBAcmV0dXJuIHtBcnJheX0gW3gsIHksIHosIHddCiAgICAgKi8KCgogICAgdG9BcnJheSgpIHsKICAgICAgcmV0dXJuIFt0aGlzLngsIHRoaXMueSwgdGhpcy56LCB0aGlzLnddOwogICAgfQogICAgLyoqCiAgICAgKiBTZXQgdGhlIHF1YXRlcm5pb24gY29tcG9uZW50cyBnaXZlbiBhbiBheGlzIGFuZCBhbiBhbmdsZSBpbiByYWRpYW5zLgogICAgICovCgoKICAgIHNldEZyb21BeGlzQW5nbGUodmVjdG9yLCBhbmdsZSkgewogICAgICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGUgKiAwLjUpOwogICAgICB0aGlzLnggPSB2ZWN0b3IueCAqIHM7CiAgICAgIHRoaXMueSA9IHZlY3Rvci55ICogczsKICAgICAgdGhpcy56ID0gdmVjdG9yLnogKiBzOwogICAgICB0aGlzLncgPSBNYXRoLmNvcyhhbmdsZSAqIDAuNSk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgLyoqCiAgICAgKiBDb252ZXJ0cyB0aGUgcXVhdGVybmlvbiB0byBbIGF4aXMsIGFuZ2xlIF0gcmVwcmVzZW50YXRpb24uCiAgICAgKiBAcGFyYW0ge1ZlYzN9IFt0YXJnZXRBeGlzXSBBIHZlY3RvciBvYmplY3QgdG8gcmV1c2UgZm9yIHN0b3JpbmcgdGhlIGF4aXMuCiAgICAgKiBAcmV0dXJuIHtBcnJheX0gQW4gYXJyYXksIGZpcnN0IGVsZW1lbnQgaXMgdGhlIGF4aXMgYW5kIHRoZSBzZWNvbmQgaXMgdGhlIGFuZ2xlIGluIHJhZGlhbnMuCiAgICAgKi8KCgogICAgdG9BeGlzQW5nbGUodGFyZ2V0QXhpcyA9IG5ldyBWZWMzKCkpIHsKICAgICAgdGhpcy5ub3JtYWxpemUoKTsgLy8gaWYgdz4xIGFjb3MgYW5kIHNxcnQgd2lsbCBwcm9kdWNlIGVycm9ycywgdGhpcyBjYW50IGhhcHBlbiBpZiBxdWF0ZXJuaW9uIGlzIG5vcm1hbGlzZWQKCiAgICAgIGNvbnN0IGFuZ2xlID0gMiAqIE1hdGguYWNvcyh0aGlzLncpOwogICAgICBjb25zdCBzID0gTWF0aC5zcXJ0KDEgLSB0aGlzLncgKiB0aGlzLncpOyAvLyBhc3N1bWluZyBxdWF0ZXJuaW9uIG5vcm1hbGlzZWQgdGhlbiB3IGlzIGxlc3MgdGhhbiAxLCBzbyB0ZXJtIGFsd2F5cyBwb3NpdGl2ZS4KCiAgICAgIGlmIChzIDwgMC4wMDEpIHsKICAgICAgICAvLyB0ZXN0IHRvIGF2b2lkIGRpdmlkZSBieSB6ZXJvLCBzIGlzIGFsd2F5cyBwb3NpdGl2ZSBkdWUgdG8gc3FydAogICAgICAgIC8vIGlmIHMgY2xvc2UgdG8gemVybyB0aGVuIGRpcmVjdGlvbiBvZiBheGlzIG5vdCBpbXBvcnRhbnQKICAgICAgICB0YXJnZXRBeGlzLnggPSB0aGlzLng7IC8vIGlmIGl0IGlzIGltcG9ydGFudCB0aGF0IGF4aXMgaXMgbm9ybWFsaXNlZCB0aGVuIHJlcGxhY2Ugd2l0aCB4PTE7IHk9ej0wOwoKICAgICAgICB0YXJnZXRBeGlzLnkgPSB0aGlzLnk7CiAgICAgICAgdGFyZ2V0QXhpcy56ID0gdGhpcy56OwogICAgICB9IGVsc2UgewogICAgICAgIHRhcmdldEF4aXMueCA9IHRoaXMueCAvIHM7IC8vIG5vcm1hbGlzZSBheGlzCgogICAgICAgIHRhcmdldEF4aXMueSA9IHRoaXMueSAvIHM7CiAgICAgICAgdGFyZ2V0QXhpcy56ID0gdGhpcy56IC8gczsKICAgICAgfQoKICAgICAgcmV0dXJuIFt0YXJnZXRBeGlzLCBhbmdsZV07CiAgICB9CiAgICAvKioKICAgICAqIFNldCB0aGUgcXVhdGVybmlvbiB2YWx1ZSBnaXZlbiB0d28gdmVjdG9ycy4gVGhlIHJlc3VsdGluZyByb3RhdGlvbiB3aWxsIGJlIHRoZSBuZWVkZWQgcm90YXRpb24gdG8gcm90YXRlIHUgdG8gdi4KICAgICAqLwoKCiAgICBzZXRGcm9tVmVjdG9ycyh1LCB2KSB7CiAgICAgIGlmICh1LmlzQW50aXBhcmFsbGVsVG8odikpIHsKICAgICAgICBjb25zdCB0MSA9IHNmdl90MTsKICAgICAgICBjb25zdCB0MiA9IHNmdl90MjsKICAgICAgICB1LnRhbmdlbnRzKHQxLCB0Mik7CiAgICAgICAgdGhpcy5zZXRGcm9tQXhpc0FuZ2xlKHQxLCBNYXRoLlBJKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBhID0gdS5jcm9zcyh2KTsKICAgICAgICB0aGlzLnggPSBhLng7CiAgICAgICAgdGhpcy55ID0gYS55OwogICAgICAgIHRoaXMueiA9IGEuejsKICAgICAgICB0aGlzLncgPSBNYXRoLnNxcnQodS5sZW5ndGgoKSAqKiAyICogdi5sZW5ndGgoKSAqKiAyKSArIHUuZG90KHYpOwogICAgICAgIHRoaXMubm9ybWFsaXplKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgLyoqCiAgICAgKiBNdWx0aXBseSB0aGUgcXVhdGVybmlvbiB3aXRoIGFuIG90aGVyIHF1YXRlcm5pb24uCiAgICAgKi8KCgogICAgbXVsdChxdWF0LCB0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7CiAgICAgIGNvbnN0IGF4ID0gdGhpcy54OwogICAgICBjb25zdCBheSA9IHRoaXMueTsKICAgICAgY29uc3QgYXogPSB0aGlzLno7CiAgICAgIGNvbnN0IGF3ID0gdGhpcy53OwogICAgICBjb25zdCBieCA9IHF1YXQueDsKICAgICAgY29uc3QgYnkgPSBxdWF0Lnk7CiAgICAgIGNvbnN0IGJ6ID0gcXVhdC56OwogICAgICBjb25zdCBidyA9IHF1YXQudzsKICAgICAgdGFyZ2V0LnggPSBheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5OwogICAgICB0YXJnZXQueSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYno7CiAgICAgIHRhcmdldC56ID0gYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieDsKICAgICAgdGFyZ2V0LncgPSBhdyAqIGJ3IC0gYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6OwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIGludmVyc2UgcXVhdGVybmlvbiByb3RhdGlvbi4KICAgICAqLwoKCiAgICBpbnZlcnNlKHRhcmdldCA9IG5ldyBRdWF0ZXJuaW9uKCkpIHsKICAgICAgY29uc3QgeCA9IHRoaXMueDsKICAgICAgY29uc3QgeSA9IHRoaXMueTsKICAgICAgY29uc3QgeiA9IHRoaXMuejsKICAgICAgY29uc3QgdyA9IHRoaXMudzsKICAgICAgdGhpcy5jb25qdWdhdGUodGFyZ2V0KTsKICAgICAgY29uc3QgaW5vcm0yID0gMSAvICh4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdyk7CiAgICAgIHRhcmdldC54ICo9IGlub3JtMjsKICAgICAgdGFyZ2V0LnkgKj0gaW5vcm0yOwogICAgICB0YXJnZXQueiAqPSBpbm9ybTI7CiAgICAgIHRhcmdldC53ICo9IGlub3JtMjsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIC8qKgogICAgICogR2V0IHRoZSBxdWF0ZXJuaW9uIGNvbmp1Z2F0ZQogICAgICovCgoKICAgIGNvbmp1Z2F0ZSh0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpKSB7CiAgICAgIHRhcmdldC54ID0gLXRoaXMueDsKICAgICAgdGFyZ2V0LnkgPSAtdGhpcy55OwogICAgICB0YXJnZXQueiA9IC10aGlzLno7CiAgICAgIHRhcmdldC53ID0gdGhpcy53OwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBOb3JtYWxpemUgdGhlIHF1YXRlcm5pb24uIE5vdGUgdGhhdCB0aGlzIGNoYW5nZXMgdGhlIHZhbHVlcyBvZiB0aGUgcXVhdGVybmlvbi4KICAgICAqIEBtZXRob2Qgbm9ybWFsaXplCiAgICAgKi8KCgogICAgbm9ybWFsaXplKCkgewogICAgICBsZXQgbCA9IE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnogKyB0aGlzLncgKiB0aGlzLncpOwoKICAgICAgaWYgKGwgPT09IDApIHsKICAgICAgICB0aGlzLnggPSAwOwogICAgICAgIHRoaXMueSA9IDA7CiAgICAgICAgdGhpcy56ID0gMDsKICAgICAgICB0aGlzLncgPSAwOwogICAgICB9IGVsc2UgewogICAgICAgIGwgPSAxIC8gbDsKICAgICAgICB0aGlzLnggKj0gbDsKICAgICAgICB0aGlzLnkgKj0gbDsKICAgICAgICB0aGlzLnogKj0gbDsKICAgICAgICB0aGlzLncgKj0gbDsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIEFwcHJveGltYXRpb24gb2YgcXVhdGVybmlvbiBub3JtYWxpemF0aW9uLiBXb3JrcyBiZXN0IHdoZW4gcXVhdCBpcyBhbHJlYWR5IGFsbW9zdC1ub3JtYWxpemVkLgogICAgICogQHNlZSBodHRwOi8vanNwZXJmLmNvbS9mYXN0LXF1YXRlcm5pb24tbm9ybWFsaXphdGlvbgogICAgICogQGF1dGhvciB1bnBoYXNlZCwgaHR0cHM6Ly9naXRodWIuY29tL3VucGhhc2VkCiAgICAgKi8KCgogICAgbm9ybWFsaXplRmFzdCgpIHsKICAgICAgY29uc3QgZiA9ICgzLjAgLSAodGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56ICsgdGhpcy53ICogdGhpcy53KSkgLyAyLjA7CgogICAgICBpZiAoZiA9PT0gMCkgewogICAgICAgIHRoaXMueCA9IDA7CiAgICAgICAgdGhpcy55ID0gMDsKICAgICAgICB0aGlzLnogPSAwOwogICAgICAgIHRoaXMudyA9IDA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy54ICo9IGY7CiAgICAgICAgdGhpcy55ICo9IGY7CiAgICAgICAgdGhpcy56ICo9IGY7CiAgICAgICAgdGhpcy53ICo9IGY7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgLyoqCiAgICAgKiBNdWx0aXBseSB0aGUgcXVhdGVybmlvbiBieSBhIHZlY3RvcgogICAgICovCgoKICAgIHZtdWx0KHYsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgICAgY29uc3QgeCA9IHYueDsKICAgICAgY29uc3QgeSA9IHYueTsKICAgICAgY29uc3QgeiA9IHYuejsKICAgICAgY29uc3QgcXggPSB0aGlzLng7CiAgICAgIGNvbnN0IHF5ID0gdGhpcy55OwogICAgICBjb25zdCBxeiA9IHRoaXMuejsKICAgICAgY29uc3QgcXcgPSB0aGlzLnc7IC8vIHEqdgoKICAgICAgY29uc3QgaXggPSBxdyAqIHggKyBxeSAqIHogLSBxeiAqIHk7CiAgICAgIGNvbnN0IGl5ID0gcXcgKiB5ICsgcXogKiB4IC0gcXggKiB6OwogICAgICBjb25zdCBpeiA9IHF3ICogeiArIHF4ICogeSAtIHF5ICogeDsKICAgICAgY29uc3QgaXcgPSAtcXggKiB4IC0gcXkgKiB5IC0gcXogKiB6OwogICAgICB0YXJnZXQueCA9IGl4ICogcXcgKyBpdyAqIC1xeCArIGl5ICogLXF6IC0gaXogKiAtcXk7CiAgICAgIHRhcmdldC55ID0gaXkgKiBxdyArIGl3ICogLXF5ICsgaXogKiAtcXggLSBpeCAqIC1xejsKICAgICAgdGFyZ2V0LnogPSBpeiAqIHF3ICsgaXcgKiAtcXogKyBpeCAqIC1xeSAtIGl5ICogLXF4OwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBDb3BpZXMgdmFsdWUgb2Ygc291cmNlIHRvIHRoaXMgcXVhdGVybmlvbi4KICAgICAqIEBtZXRob2QgY29weQogICAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBzb3VyY2UKICAgICAqIEByZXR1cm4ge1F1YXRlcm5pb259IHRoaXMKICAgICAqLwoKCiAgICBjb3B5KHF1YXQpIHsKICAgICAgdGhpcy54ID0gcXVhdC54OwogICAgICB0aGlzLnkgPSBxdWF0Lnk7CiAgICAgIHRoaXMueiA9IHF1YXQuejsKICAgICAgdGhpcy53ID0gcXVhdC53OwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIC8qKgogICAgICogQ29udmVydCB0aGUgcXVhdGVybmlvbiB0byBldWxlciBhbmdsZSByZXByZXNlbnRhdGlvbi4gT3JkZXI6IFlaWCwgYXMgdGhpcyBwYWdlIGRlc2NyaWJlczogaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvc3RhbmRhcmRzL2luZGV4Lmh0bQogICAgICogQG1ldGhvZCB0b0V1bGVyCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldAogICAgICogQHBhcmFtIHtTdHJpbmd9IG9yZGVyIFRocmVlLWNoYXJhY3RlciBzdHJpbmcsIGRlZmF1bHRzIHRvICJZWlgiCiAgICAgKi8KCgogICAgdG9FdWxlcih0YXJnZXQsIG9yZGVyID0gJ1laWCcpIHsKICAgICAgbGV0IGhlYWRpbmc7CiAgICAgIGxldCBhdHRpdHVkZTsKICAgICAgbGV0IGJhbms7CiAgICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICAgIGNvbnN0IHogPSB0aGlzLno7CiAgICAgIGNvbnN0IHcgPSB0aGlzLnc7CgogICAgICBzd2l0Y2ggKG9yZGVyKSB7CiAgICAgICAgY2FzZSAnWVpYJzoKICAgICAgICAgIGNvbnN0IHRlc3QgPSB4ICogeSArIHogKiB3OwoKICAgICAgICAgIGlmICh0ZXN0ID4gMC40OTkpIHsKICAgICAgICAgICAgLy8gc2luZ3VsYXJpdHkgYXQgbm9ydGggcG9sZQogICAgICAgICAgICBoZWFkaW5nID0gMiAqIE1hdGguYXRhbjIoeCwgdyk7CiAgICAgICAgICAgIGF0dGl0dWRlID0gTWF0aC5QSSAvIDI7CiAgICAgICAgICAgIGJhbmsgPSAwOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh0ZXN0IDwgLTAuNDk5KSB7CiAgICAgICAgICAgIC8vIHNpbmd1bGFyaXR5IGF0IHNvdXRoIHBvbGUKICAgICAgICAgICAgaGVhZGluZyA9IC0yICogTWF0aC5hdGFuMih4LCB3KTsKICAgICAgICAgICAgYXR0aXR1ZGUgPSAtTWF0aC5QSSAvIDI7CiAgICAgICAgICAgIGJhbmsgPSAwOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChoZWFkaW5nID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgY29uc3Qgc3F4ID0geCAqIHg7CiAgICAgICAgICAgIGNvbnN0IHNxeSA9IHkgKiB5OwogICAgICAgICAgICBjb25zdCBzcXogPSB6ICogejsKICAgICAgICAgICAgaGVhZGluZyA9IE1hdGguYXRhbjIoMiAqIHkgKiB3IC0gMiAqIHggKiB6LCAxIC0gMiAqIHNxeSAtIDIgKiBzcXopOyAvLyBIZWFkaW5nCgogICAgICAgICAgICBhdHRpdHVkZSA9IE1hdGguYXNpbigyICogdGVzdCk7IC8vIGF0dGl0dWRlCgogICAgICAgICAgICBiYW5rID0gTWF0aC5hdGFuMigyICogeCAqIHcgLSAyICogeSAqIHosIDEgLSAyICogc3F4IC0gMiAqIHNxeik7IC8vIGJhbmsKICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiRXVsZXIgb3JkZXIgIiArIG9yZGVyICsgIiBub3Qgc3VwcG9ydGVkIHlldC4iKTsKICAgICAgfQoKICAgICAgdGFyZ2V0LnkgPSBoZWFkaW5nOwogICAgICB0YXJnZXQueiA9IGF0dGl0dWRlOwogICAgICB0YXJnZXQueCA9IGJhbms7CiAgICB9CiAgICAvKioKICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4CiAgICAgKiBAcGFyYW0ge051bWJlcn0geQogICAgICogQHBhcmFtIHtOdW1iZXJ9IHoKICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcmRlciBUaGUgb3JkZXIgdG8gYXBwbHkgYW5nbGVzOiAnWFlaJyBvciAnWVhaJyBvciBhbnkgb3RoZXIgY29tYmluYXRpb24KICAgICAqIEBzZWUgaHR0cDovL3d3dy5tYXRod29ya3MuY29tL21hdGxhYmNlbnRyYWwvZmlsZWV4Y2hhbmdlLzIwNjk2LWZ1bmN0aW9uLXRvLWNvbnZlcnQtYmV0d2Vlbi1kY20tZXVsZXItYW5nbGVzLXF1YXRlcm5pb25zLWFuZC1ldWxlci12ZWN0b3JzL2NvbnRlbnQvU3BpbkNhbGMubQogICAgICovCgoKICAgIHNldEZyb21FdWxlcih4LCB5LCB6LCBvcmRlciA9ICdYWVonKSB7CiAgICAgIGNvbnN0IGMxID0gTWF0aC5jb3MoeCAvIDIpOwogICAgICBjb25zdCBjMiA9IE1hdGguY29zKHkgLyAyKTsKICAgICAgY29uc3QgYzMgPSBNYXRoLmNvcyh6IC8gMik7CiAgICAgIGNvbnN0IHMxID0gTWF0aC5zaW4oeCAvIDIpOwogICAgICBjb25zdCBzMiA9IE1hdGguc2luKHkgLyAyKTsKICAgICAgY29uc3QgczMgPSBNYXRoLnNpbih6IC8gMik7CgogICAgICBpZiAob3JkZXIgPT09ICdYWVonKSB7CiAgICAgICAgdGhpcy54ID0gczEgKiBjMiAqIGMzICsgYzEgKiBzMiAqIHMzOwogICAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMzsKICAgICAgICB0aGlzLnogPSBjMSAqIGMyICogczMgKyBzMSAqIHMyICogYzM7CiAgICAgICAgdGhpcy53ID0gYzEgKiBjMiAqIGMzIC0gczEgKiBzMiAqIHMzOwogICAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWVhaJykgewogICAgICAgIHRoaXMueCA9IHMxICogYzIgKiBjMyArIGMxICogczIgKiBzMzsKICAgICAgICB0aGlzLnkgPSBjMSAqIHMyICogYzMgLSBzMSAqIGMyICogczM7CiAgICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzOwogICAgICAgIHRoaXMudyA9IGMxICogYzIgKiBjMyArIHMxICogczIgKiBzMzsKICAgICAgfSBlbHNlIGlmIChvcmRlciA9PT0gJ1pYWScpIHsKICAgICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7CiAgICAgICAgdGhpcy55ID0gYzEgKiBzMiAqIGMzICsgczEgKiBjMiAqIHMzOwogICAgICAgIHRoaXMueiA9IGMxICogYzIgKiBzMyArIHMxICogczIgKiBjMzsKICAgICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7CiAgICAgIH0gZWxzZSBpZiAob3JkZXIgPT09ICdaWVgnKSB7CiAgICAgICAgdGhpcy54ID0gczEgKiBjMiAqIGMzIC0gYzEgKiBzMiAqIHMzOwogICAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMzsKICAgICAgICB0aGlzLnogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7CiAgICAgICAgdGhpcy53ID0gYzEgKiBjMiAqIGMzICsgczEgKiBzMiAqIHMzOwogICAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWVpYJykgewogICAgICAgIHRoaXMueCA9IHMxICogYzIgKiBjMyArIGMxICogczIgKiBzMzsKICAgICAgICB0aGlzLnkgPSBjMSAqIHMyICogYzMgKyBzMSAqIGMyICogczM7CiAgICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzIC0gczEgKiBzMiAqIGMzOwogICAgICAgIHRoaXMudyA9IGMxICogYzIgKiBjMyAtIHMxICogczIgKiBzMzsKICAgICAgfSBlbHNlIGlmIChvcmRlciA9PT0gJ1haWScpIHsKICAgICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7CiAgICAgICAgdGhpcy55ID0gYzEgKiBzMiAqIGMzIC0gczEgKiBjMiAqIHMzOwogICAgICAgIHRoaXMueiA9IGMxICogYzIgKiBzMyArIHMxICogczIgKiBjMzsKICAgICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgLyoqCiAgICAgKiBAbWV0aG9kIGNsb25lCiAgICAgKiBAcmV0dXJuIHtRdWF0ZXJuaW9ufQogICAgICovCgoKICAgIGNsb25lKCkgewogICAgICByZXR1cm4gbmV3IFF1YXRlcm5pb24odGhpcy54LCB0aGlzLnksIHRoaXMueiwgdGhpcy53KTsKICAgIH0KICAgIC8qKgogICAgICogUGVyZm9ybXMgYSBzcGhlcmljYWwgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gcXVhdAogICAgICoKICAgICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gdG9RdWF0IHNlY29uZCBvcGVyYW5kCiAgICAgKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCBiZXR3ZWVuIHRoZSBzZWxmIHF1YXRlcm5pb24gYW5kIHRvUXVhdAogICAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBbdGFyZ2V0XSBBIHF1YXRlcm5pb24gdG8gc3RvcmUgdGhlIHJlc3VsdCBpbi4gSWYgbm90IHByb3ZpZGVkLCBhIG5ldyBvbmUgd2lsbCBiZSBjcmVhdGVkLgogICAgICogQHJldHVybnMge1F1YXRlcm5pb259IFRoZSAidGFyZ2V0IiBvYmplY3QKICAgICAqLwoKCiAgICBzbGVycCh0b1F1YXQsIHQsIHRhcmdldCA9IG5ldyBRdWF0ZXJuaW9uKCkpIHsKICAgICAgY29uc3QgYXggPSB0aGlzLng7CiAgICAgIGNvbnN0IGF5ID0gdGhpcy55OwogICAgICBjb25zdCBheiA9IHRoaXMuejsKICAgICAgY29uc3QgYXcgPSB0aGlzLnc7CiAgICAgIGxldCBieCA9IHRvUXVhdC54OwogICAgICBsZXQgYnkgPSB0b1F1YXQueTsKICAgICAgbGV0IGJ6ID0gdG9RdWF0Lno7CiAgICAgIGxldCBidyA9IHRvUXVhdC53OwogICAgICBsZXQgb21lZ2E7CiAgICAgIGxldCBjb3NvbTsKICAgICAgbGV0IHNpbm9tOwogICAgICBsZXQgc2NhbGUwOwogICAgICBsZXQgc2NhbGUxOyAvLyBjYWxjIGNvc2luZQoKICAgICAgY29zb20gPSBheCAqIGJ4ICsgYXkgKiBieSArIGF6ICogYnogKyBhdyAqIGJ3OyAvLyBhZGp1c3Qgc2lnbnMgKGlmIG5lY2Vzc2FyeSkKCiAgICAgIGlmIChjb3NvbSA8IDAuMCkgewogICAgICAgIGNvc29tID0gLWNvc29tOwogICAgICAgIGJ4ID0gLWJ4OwogICAgICAgIGJ5ID0gLWJ5OwogICAgICAgIGJ6ID0gLWJ6OwogICAgICAgIGJ3ID0gLWJ3OwogICAgICB9IC8vIGNhbGN1bGF0ZSBjb2VmZmljaWVudHMKCgogICAgICBpZiAoMS4wIC0gY29zb20gPiAwLjAwMDAwMSkgewogICAgICAgIC8vIHN0YW5kYXJkIGNhc2UgKHNsZXJwKQogICAgICAgIG9tZWdhID0gTWF0aC5hY29zKGNvc29tKTsKICAgICAgICBzaW5vbSA9IE1hdGguc2luKG9tZWdhKTsKICAgICAgICBzY2FsZTAgPSBNYXRoLnNpbigoMS4wIC0gdCkgKiBvbWVnYSkgLyBzaW5vbTsKICAgICAgICBzY2FsZTEgPSBNYXRoLnNpbih0ICogb21lZ2EpIC8gc2lub207CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gImZyb20iIGFuZCAidG8iIHF1YXRlcm5pb25zIGFyZSB2ZXJ5IGNsb3NlCiAgICAgICAgLy8gIC4uLiBzbyB3ZSBjYW4gZG8gYSBsaW5lYXIgaW50ZXJwb2xhdGlvbgogICAgICAgIHNjYWxlMCA9IDEuMCAtIHQ7CiAgICAgICAgc2NhbGUxID0gdDsKICAgICAgfSAvLyBjYWxjdWxhdGUgZmluYWwgdmFsdWVzCgoKICAgICAgdGFyZ2V0LnggPSBzY2FsZTAgKiBheCArIHNjYWxlMSAqIGJ4OwogICAgICB0YXJnZXQueSA9IHNjYWxlMCAqIGF5ICsgc2NhbGUxICogYnk7CiAgICAgIHRhcmdldC56ID0gc2NhbGUwICogYXogKyBzY2FsZTEgKiBiejsKICAgICAgdGFyZ2V0LncgPSBzY2FsZTAgKiBhdyArIHNjYWxlMSAqIGJ3OwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBSb3RhdGUgYW4gYWJzb2x1dGUgb3JpZW50YXRpb24gcXVhdGVybmlvbiBnaXZlbiBhbiBhbmd1bGFyIHZlbG9jaXR5IGFuZCBhIHRpbWUgc3RlcC4KICAgICAqLwoKCiAgICBpbnRlZ3JhdGUoYW5ndWxhclZlbG9jaXR5LCBkdCwgYW5ndWxhckZhY3RvciwgdGFyZ2V0ID0gbmV3IFF1YXRlcm5pb24oKSkgewogICAgICBjb25zdCBheCA9IGFuZ3VsYXJWZWxvY2l0eS54ICogYW5ndWxhckZhY3Rvci54LAogICAgICAgICAgICBheSA9IGFuZ3VsYXJWZWxvY2l0eS55ICogYW5ndWxhckZhY3Rvci55LAogICAgICAgICAgICBheiA9IGFuZ3VsYXJWZWxvY2l0eS56ICogYW5ndWxhckZhY3Rvci56LAogICAgICAgICAgICBieCA9IHRoaXMueCwKICAgICAgICAgICAgYnkgPSB0aGlzLnksCiAgICAgICAgICAgIGJ6ID0gdGhpcy56LAogICAgICAgICAgICBidyA9IHRoaXMudzsKICAgICAgY29uc3QgaGFsZl9kdCA9IGR0ICogMC41OwogICAgICB0YXJnZXQueCArPSBoYWxmX2R0ICogKGF4ICogYncgKyBheSAqIGJ6IC0gYXogKiBieSk7CiAgICAgIHRhcmdldC55ICs9IGhhbGZfZHQgKiAoYXkgKiBidyArIGF6ICogYnggLSBheCAqIGJ6KTsKICAgICAgdGFyZ2V0LnogKz0gaGFsZl9kdCAqIChheiAqIGJ3ICsgYXggKiBieSAtIGF5ICogYngpOwogICAgICB0YXJnZXQudyArPSBoYWxmX2R0ICogKC1heCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYnopOwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQoKICB9CgogIGNvbnN0IHNmdl90MSA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc2Z2X3QyID0gbmV3IFZlYzMoKTsKICBjb25zdCBTSEFQRV9UWVBFUyA9IHsKICAgIFNQSEVSRTogMSwKICAgIFBMQU5FOiAyLAogICAgQk9YOiA0LAogICAgQ09NUE9VTkQ6IDgsCiAgICBDT05WRVhQT0xZSEVEUk9OOiAxNiwKICAgIEhFSUdIVEZJRUxEOiAzMiwKICAgIFBBUlRJQ0xFOiA2NCwKICAgIENZTElOREVSOiAxMjgsCiAgICBUUklNRVNIOiAyNTYKICB9OwogIC8qKgogICAqIEJhc2UgY2xhc3MgZm9yIHNoYXBlcwogICAqIEBjbGFzcyBTaGFwZQogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXA9MV0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2U9dHJ1ZV0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF0ZXJpYWw9bnVsbF0KICAgKiBAYXV0aG9yIHNjaHRlcHBlCiAgICovCgogIGNsYXNzIFNoYXBlIHsKICAgIC8vIElkZW50aWZ5ZXIgb2YgdGhlIFNoYXBlLgogICAgLy8gVGhlIHR5cGUgb2YgdGhpcyBzaGFwZS4gTXVzdCBiZSBzZXQgdG8gYW4gaW50ID4gMCBieSBzdWJjbGFzc2VzLgogICAgLy8gVGhlIGxvY2FsIGJvdW5kaW5nIHNwaGVyZSByYWRpdXMgb2YgdGhpcyBzaGFwZS4KICAgIC8vIFdoZXRoZXIgdG8gcHJvZHVjZSBjb250YWN0IGZvcmNlcyB3aGVuIGluIGNvbnRhY3Qgd2l0aCBvdGhlciBib2RpZXMuIE5vdGUgdGhhdCBjb250YWN0cyB3aWxsIGJlIGdlbmVyYXRlZCwgYnV0IHRoZXkgd2lsbCBiZSBkaXNhYmxlZC4KICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkgewogICAgICB0aGlzLmlkID0gU2hhcGUuaWRDb3VudGVyKys7CiAgICAgIHRoaXMudHlwZSA9IG9wdGlvbnMudHlwZSB8fCAwOwogICAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gMDsKICAgICAgdGhpcy5jb2xsaXNpb25SZXNwb25zZSA9IG9wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2UgPyBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlIDogdHJ1ZTsKICAgICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJHcm91cCA9IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXAgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXAgOiAxOwogICAgICB0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2sgPSBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayA6IC0xOwogICAgICB0aGlzLm1hdGVyaWFsID0gb3B0aW9ucy5tYXRlcmlhbCA/IG9wdGlvbnMubWF0ZXJpYWwgOiBudWxsOwogICAgICB0aGlzLmJvZHkgPSBudWxsOwogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlcyB0aGUgYm91bmRpbmcgc3BoZXJlIHJhZGl1cy4gVGhlIHJlc3VsdCBpcyBzdG9yZWQgaW4gdGhlIHByb3BlcnR5IC5ib3VuZGluZ1NwaGVyZVJhZGl1cwogICAgICogQG1ldGhvZCB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cwogICAgICovCgoKICAgIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkgewogICAgICB0aHJvdyAiY29tcHV0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkgbm90IGltcGxlbWVudGVkIGZvciBzaGFwZSB0eXBlICIgKyB0aGlzLnR5cGU7CiAgICB9CiAgICAvKioKICAgICAqIEdldCB0aGUgdm9sdW1lIG9mIHRoaXMgc2hhcGUKICAgICAqIEBtZXRob2Qgdm9sdW1lCiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9CiAgICAgKi8KCgogICAgdm9sdW1lKCkgewogICAgICB0aHJvdyAidm9sdW1lKCkgbm90IGltcGxlbWVudGVkIGZvciBzaGFwZSB0eXBlICIgKyB0aGlzLnR5cGU7CiAgICB9CiAgICAvKioKICAgICAqIENhbGN1bGF0ZXMgdGhlIGluZXJ0aWEgaW4gdGhlIGxvY2FsIGZyYW1lIGZvciB0aGlzIHNoYXBlLgogICAgICogQG1ldGhvZCBjYWxjdWxhdGVMb2NhbEluZXJ0aWEKICAgICAqIEBwYXJhbSB7TnVtYmVyfSBtYXNzCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldAogICAgICogQHNlZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpc3Rfb2ZfbW9tZW50c19vZl9pbmVydGlhCiAgICAgKi8KCgogICAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCkgewogICAgICB0aHJvdyAiY2FsY3VsYXRlTG9jYWxJbmVydGlhKCkgbm90IGltcGxlbWVudGVkIGZvciBzaGFwZSB0eXBlICIgKyB0aGlzLnR5cGU7CiAgICB9CgogICAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHsKICAgICAgdGhyb3cgImNhbGN1bGF0ZVdvcmxkQUFCQigpIG5vdCBpbXBsZW1lbnRlZCBmb3Igc2hhcGUgdHlwZSAiICsgdGhpcy50eXBlOwogICAgfQoKICB9CgogIFNoYXBlLmlkQ291bnRlciA9IDA7CiAgLyoqCiAgICogVGhlIGF2YWlsYWJsZSBzaGFwZSB0eXBlcy4KICAgKiBAc3RhdGljCiAgICogQHByb3BlcnR5IHR5cGVzCiAgICogQHR5cGUge09iamVjdH0KICAgKi8KCiAgU2hhcGUudHlwZXMgPSBTSEFQRV9UWVBFUzsKCiAgY2xhc3MgVHJhbnNmb3JtIHsKICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkgewogICAgICB0aGlzLnBvc2l0aW9uID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy5xdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTsKCiAgICAgIGlmIChvcHRpb25zLnBvc2l0aW9uKSB7CiAgICAgICAgdGhpcy5wb3NpdGlvbi5jb3B5KG9wdGlvbnMucG9zaXRpb24pOwogICAgICB9CgogICAgICBpZiAob3B0aW9ucy5xdWF0ZXJuaW9uKSB7CiAgICAgICAgdGhpcy5xdWF0ZXJuaW9uLmNvcHkob3B0aW9ucy5xdWF0ZXJuaW9uKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBHZXQgYSBnbG9iYWwgcG9pbnQgaW4gbG9jYWwgdHJhbnNmb3JtIGNvb3JkaW5hdGVzLgogICAgICovCgoKICAgIHBvaW50VG9Mb2NhbCh3b3JsZFBvaW50LCByZXN1bHQpIHsKICAgICAgcmV0dXJuIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZSh0aGlzLnBvc2l0aW9uLCB0aGlzLnF1YXRlcm5pb24sIHdvcmxkUG9pbnQsIHJlc3VsdCk7CiAgICB9CiAgICAvKioKICAgICAqIEdldCBhIGxvY2FsIHBvaW50IGluIGdsb2JhbCB0cmFuc2Zvcm0gY29vcmRpbmF0ZXMuCiAgICAgKi8KCgogICAgcG9pbnRUb1dvcmxkKGxvY2FsUG9pbnQsIHJlc3VsdCkgewogICAgICByZXR1cm4gVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHRoaXMucG9zaXRpb24sIHRoaXMucXVhdGVybmlvbiwgbG9jYWxQb2ludCwgcmVzdWx0KTsKICAgIH0KCiAgICB2ZWN0b3JUb1dvcmxkRnJhbWUobG9jYWxWZWN0b3IsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHsKICAgICAgdGhpcy5xdWF0ZXJuaW9uLnZtdWx0KGxvY2FsVmVjdG9yLCByZXN1bHQpOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQoKICAgIHN0YXRpYyBwb2ludFRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdGVybmlvbiwgd29ybGRQb2ludCwgcmVzdWx0ID0gbmV3IFZlYzMoKSkgewogICAgICB3b3JsZFBvaW50LnZzdWIocG9zaXRpb24sIHJlc3VsdCk7CiAgICAgIHF1YXRlcm5pb24uY29uanVnYXRlKHRtcFF1YXQpOwogICAgICB0bXBRdWF0LnZtdWx0KHJlc3VsdCwgcmVzdWx0KTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KCiAgICBzdGF0aWMgcG9pbnRUb1dvcmxkRnJhbWUocG9zaXRpb24sIHF1YXRlcm5pb24sIGxvY2FsUG9pbnQsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHsKICAgICAgcXVhdGVybmlvbi52bXVsdChsb2NhbFBvaW50LCByZXN1bHQpOwogICAgICByZXN1bHQudmFkZChwb3NpdGlvbiwgcmVzdWx0KTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KCiAgICBzdGF0aWMgdmVjdG9yVG9Xb3JsZEZyYW1lKHF1YXRlcm5pb24sIGxvY2FsVmVjdG9yLCByZXN1bHQgPSBuZXcgVmVjMygpKSB7CiAgICAgIHF1YXRlcm5pb24udm11bHQobG9jYWxWZWN0b3IsIHJlc3VsdCk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogICAgc3RhdGljIHZlY3RvclRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdGVybmlvbiwgd29ybGRWZWN0b3IsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHsKICAgICAgcXVhdGVybmlvbi53ICo9IC0xOwogICAgICBxdWF0ZXJuaW9uLnZtdWx0KHdvcmxkVmVjdG9yLCByZXN1bHQpOwogICAgICBxdWF0ZXJuaW9uLncgKj0gLTE7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogIH0KCiAgY29uc3QgdG1wUXVhdCA9IG5ldyBRdWF0ZXJuaW9uKCk7CiAgLyoqCiAgICogQSBzZXQgb2YgcG9seWdvbnMgZGVzY3JpYmluZyBhIGNvbnZleCBzaGFwZS4KICAgKiBAY2xhc3MgQ29udmV4UG9seWhlZHJvbgogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBleHRlbmRzIFNoYXBlCiAgICogQGRlc2NyaXB0aW9uIFRoZSBzaGFwZSBNVVNUIGJlIGNvbnZleCBmb3IgdGhlIGNvZGUgdG8gd29yayBwcm9wZXJseS4gTm8gcG9seWdvbnMgbWF5IGJlIGNvcGxhbmFyIChjb250YWluZWQKICAgKiBpbiB0aGUgc2FtZSAzRCBwbGFuZSksIGluc3RlYWQgdGhlc2Ugc2hvdWxkIGJlIG1lcmdlZCBpbnRvIG9uZSBwb2x5Z29uLgogICAqCiAgICogQHBhcmFtIHthcnJheX0gcG9pbnRzIEFuIGFycmF5IG9mIFZlYzMncwogICAqIEBwYXJhbSB7YXJyYXl9IGZhY2VzIEFycmF5IG9mIGludGVnZXIgYXJyYXlzLCBkZXNjcmliaW5nIHdoaWNoIHZlcnRpY2VzIHRoYXQgaXMgaW5jbHVkZWQgaW4gZWFjaCBmYWNlLgogICAqCiAgICogQGF1dGhvciBxaWFvIC8gaHR0cHM6Ly9naXRodWIuY29tL3FpYW8gKG9yaWdpbmFsIGF1dGhvciwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9xaWFvL3RocmVlLmpzL2NvbW1pdC84NTAyNmYwYzc2OWU0MDAwMTQ4YTY3ZDQ1YTllOWI5YzUxMDg4MzZmKQogICAqIEBhdXRob3Igc2NodGVwcGUgLyBodHRwczovL2dpdGh1Yi5jb20vc2NodGVwcGUKICAgKiBAc2VlIGh0dHA6Ly93d3cuYWx0ZGV2YmxvZ2FkYXkuY29tLzIwMTEvMDUvMTMvY29udGFjdC1nZW5lcmF0aW9uLWJldHdlZW4tM2QtY29udmV4LW1lc2hlcy8KICAgKgogICAqIEB0b2RvIE1vdmUgdGhlIGNsaXBwaW5nIGZ1bmN0aW9ucyB0byBDb250YWN0R2VuZXJhdG9yPwogICAqIEB0b2RvIEF1dG9tYXRpY2FsbHkgbWVyZ2UgY29wbGFuYXIgcG9seWdvbnMgaW4gY29uc3RydWN0b3IuCiAgICovCgogIGNsYXNzIENvbnZleFBvbHloZWRyb24gZXh0ZW5kcyBTaGFwZSB7CiAgICAvLyBBcnJheSBvZiBpbnRlZ2VyIGFycmF5cywgaW5kaWNhdGluZyB3aGljaCB2ZXJ0aWNlcyBlYWNoIGZhY2UgY29uc2lzdHMgb2YKICAgIC8vIElmIGdpdmVuLCB0aGVzZSBsb2NhbGx5IGRlZmluZWQsIG5vcm1hbGl6ZWQgYXhlcyBhcmUgdGhlIG9ubHkgb25lcyBiZWluZyBjaGVja2VkIHdoZW4gZG9pbmcgc2VwYXJhdGluZyBheGlzIGNoZWNrLgogICAgY29uc3RydWN0b3IocHJvcHMgPSB7fSkgewogICAgICBjb25zdCB7CiAgICAgICAgdmVydGljZXMgPSBbXSwKICAgICAgICBmYWNlcyA9IFtdLAogICAgICAgIG5vcm1hbHMgPSBbXSwKICAgICAgICBheGVzLAogICAgICAgIGJvdW5kaW5nU3BoZXJlUmFkaXVzCiAgICAgIH0gPSBwcm9wczsKICAgICAgc3VwZXIoewogICAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04KICAgICAgfSk7CiAgICAgIHRoaXMudmVydGljZXMgPSB2ZXJ0aWNlczsKICAgICAgdGhpcy5mYWNlcyA9IGZhY2VzOwogICAgICB0aGlzLmZhY2VOb3JtYWxzID0gbm9ybWFsczsKCiAgICAgIGlmICh0aGlzLmZhY2VOb3JtYWxzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuY29tcHV0ZU5vcm1hbHMoKTsKICAgICAgfQoKICAgICAgaWYgKCFib3VuZGluZ1NwaGVyZVJhZGl1cykgewogICAgICAgIHRoaXMudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gYm91bmRpbmdTcGhlcmVSYWRpdXM7CiAgICAgIH0KCiAgICAgIHRoaXMud29ybGRWZXJ0aWNlcyA9IFtdOyAvLyBXb3JsZCB0cmFuc2Zvcm1lZCB2ZXJzaW9uIG9mIC52ZXJ0aWNlcwoKICAgICAgdGhpcy53b3JsZFZlcnRpY2VzTmVlZHNVcGRhdGUgPSB0cnVlOwogICAgICB0aGlzLndvcmxkRmFjZU5vcm1hbHMgPSBbXTsgLy8gV29ybGQgdHJhbnNmb3JtZWQgdmVyc2lvbiBvZiAuZmFjZU5vcm1hbHMKCiAgICAgIHRoaXMud29ybGRGYWNlTm9ybWFsc05lZWRzVXBkYXRlID0gdHJ1ZTsKICAgICAgdGhpcy51bmlxdWVBeGVzID0gYXhlcyA/IGF4ZXMuc2xpY2UoKSA6IG51bGw7CiAgICAgIHRoaXMudW5pcXVlRWRnZXMgPSBbXTsKICAgICAgdGhpcy5jb21wdXRlRWRnZXMoKTsKICAgIH0KICAgIC8qKgogICAgICogQ29tcHV0ZXMgdW5pcXVlRWRnZXMKICAgICAqIEBtZXRob2QgY29tcHV0ZUVkZ2VzCiAgICAgKi8KCgogICAgY29tcHV0ZUVkZ2VzKCkgewogICAgICBjb25zdCBmYWNlcyA9IHRoaXMuZmFjZXM7CiAgICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlczsKICAgICAgY29uc3QgZWRnZXMgPSB0aGlzLnVuaXF1ZUVkZ2VzOwogICAgICBlZGdlcy5sZW5ndGggPSAwOwogICAgICBjb25zdCBlZGdlID0gbmV3IFZlYzMoKTsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBmYWNlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IGZhY2UgPSBmYWNlc1tpXTsKICAgICAgICBjb25zdCBudW1WZXJ0aWNlcyA9IGZhY2UubGVuZ3RoOwoKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gbnVtVmVydGljZXM7IGorKykgewogICAgICAgICAgY29uc3QgayA9IChqICsgMSkgJSBudW1WZXJ0aWNlczsKICAgICAgICAgIHZlcnRpY2VzW2ZhY2Vbal1dLnZzdWIodmVydGljZXNbZmFjZVtrXV0sIGVkZ2UpOwogICAgICAgICAgZWRnZS5ub3JtYWxpemUoKTsKICAgICAgICAgIGxldCBmb3VuZCA9IGZhbHNlOwoKICAgICAgICAgIGZvciAobGV0IHAgPSAwOyBwICE9PSBlZGdlcy5sZW5ndGg7IHArKykgewogICAgICAgICAgICBpZiAoZWRnZXNbcF0uYWxtb3N0RXF1YWxzKGVkZ2UpIHx8IGVkZ2VzW3BdLmFsbW9zdEVxdWFscyhlZGdlKSkgewogICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmICghZm91bmQpIHsKICAgICAgICAgICAgZWRnZXMucHVzaChlZGdlLmNsb25lKCkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlIHRoZSBub3JtYWxzIG9mIHRoZSBmYWNlcy4gV2lsbCByZXVzZSBleGlzdGluZyBWZWMzIG9iamVjdHMgaW4gdGhlIC5mYWNlTm9ybWFscyBhcnJheSBpZiB0aGV5IGV4aXN0LgogICAgICogQG1ldGhvZCBjb21wdXRlTm9ybWFscwogICAgICovCgoKICAgIGNvbXB1dGVOb3JtYWxzKCkgewogICAgICB0aGlzLmZhY2VOb3JtYWxzLmxlbmd0aCA9IHRoaXMuZmFjZXMubGVuZ3RoOyAvLyBHZW5lcmF0ZSBub3JtYWxzCgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmFjZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAvLyBDaGVjayBzbyBhbGwgdmVydGljZXMgZXhpc3RzIGZvciB0aGlzIGZhY2UKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuZmFjZXNbaV0ubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGlmICghdGhpcy52ZXJ0aWNlc1t0aGlzLmZhY2VzW2ldW2pdXSkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIlZlcnRleCAiICsgdGhpcy5mYWNlc1tpXVtqXSArICIgbm90IGZvdW5kISIpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY29uc3QgbiA9IHRoaXMuZmFjZU5vcm1hbHNbaV0gfHwgbmV3IFZlYzMoKTsKICAgICAgICB0aGlzLmdldEZhY2VOb3JtYWwoaSwgbik7CiAgICAgICAgbi5uZWdhdGUobik7CiAgICAgICAgdGhpcy5mYWNlTm9ybWFsc1tpXSA9IG47CiAgICAgICAgY29uc3QgdmVydGV4ID0gdGhpcy52ZXJ0aWNlc1t0aGlzLmZhY2VzW2ldWzBdXTsKCiAgICAgICAgaWYgKG4uZG90KHZlcnRleCkgPCAwKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCIuZmFjZU5vcm1hbHNbIiArIGkgKyAiXSA9IFZlYzMoIiArIG4udG9TdHJpbmcoKSArICIpIGxvb2tzIGxpa2UgaXQgcG9pbnRzIGludG8gdGhlIHNoYXBlPyBUaGUgdmVydGljZXMgZm9sbG93LiBNYWtlIHN1cmUgdGhleSBhcmUgb3JkZXJlZCBDQ1cgYXJvdW5kIHRoZSBub3JtYWwsIHVzaW5nIHRoZSByaWdodCBoYW5kIHJ1bGUuIik7CgogICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmZhY2VzW2ldLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIGNvbnNvbGUud2FybigiLnZlcnRpY2VzWyIgKyB0aGlzLmZhY2VzW2ldW2pdICsgIl0gPSBWZWMzKCIgKyB0aGlzLnZlcnRpY2VzW3RoaXMuZmFjZXNbaV1bal1dLnRvU3RyaW5nKCkgKyAiKSIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlIHRoZSBub3JtYWwgb2YgYSBmYWNlIGZyb20gaXRzIHZlcnRpY2VzCiAgICAgKiBAbWV0aG9kIGdldEZhY2VOb3JtYWwKICAgICAqIEBwYXJhbSAge051bWJlcn0gaQogICAgICogQHBhcmFtICB7VmVjM30gdGFyZ2V0CiAgICAgKi8KCgogICAgZ2V0RmFjZU5vcm1hbChpLCB0YXJnZXQpIHsKICAgICAgY29uc3QgZiA9IHRoaXMuZmFjZXNbaV07CiAgICAgIGNvbnN0IHZhID0gdGhpcy52ZXJ0aWNlc1tmWzBdXTsKICAgICAgY29uc3QgdmIgPSB0aGlzLnZlcnRpY2VzW2ZbMV1dOwogICAgICBjb25zdCB2YyA9IHRoaXMudmVydGljZXNbZlsyXV07CiAgICAgIENvbnZleFBvbHloZWRyb24uY29tcHV0ZU5vcm1hbCh2YSwgdmIsIHZjLCB0YXJnZXQpOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgZmFjZSBub3JtYWwgZ2l2ZW4gMyB2ZXJ0aWNlcwogICAgICogQHN0YXRpYwogICAgICogQG1ldGhvZCBjb21wdXRlTm9ybWFsCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHZhCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHZiCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHZjCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHRhcmdldAogICAgICovCgoKICAgIHN0YXRpYyBjb21wdXRlTm9ybWFsKHZhLCB2YiwgdmMsIHRhcmdldCkgewogICAgICBjb25zdCBjYiA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IGFiID0gbmV3IFZlYzMoKTsKICAgICAgdmIudnN1Yih2YSwgYWIpOwogICAgICB2Yy52c3ViKHZiLCBjYik7CiAgICAgIGNiLmNyb3NzKGFiLCB0YXJnZXQpOwoKICAgICAgaWYgKCF0YXJnZXQuaXNaZXJvKCkpIHsKICAgICAgICB0YXJnZXQubm9ybWFsaXplKCk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogQG1ldGhvZCBjbGlwQWdhaW5zdEh1bGwKICAgICAqIEBwYXJhbSB7VmVjM30gcG9zQQogICAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0QQogICAgICogQHBhcmFtIHtDb252ZXhQb2x5aGVkcm9ufSBodWxsQgogICAgICogQHBhcmFtIHtWZWMzfSBwb3NCCiAgICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRCCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHNlcGFyYXRpbmdOb3JtYWwKICAgICAqIEBwYXJhbSB7TnVtYmVyfSBtaW5EaXN0IENsYW1wIGRpc3RhbmNlCiAgICAgKiBAcGFyYW0ge051bWJlcn0gbWF4RGlzdAogICAgICogQHBhcmFtIHthcnJheX0gcmVzdWx0IFRoZSBhbiBhcnJheSBvZiBjb250YWN0IHBvaW50IG9iamVjdHMsIHNlZSBjbGlwRmFjZUFnYWluc3RIdWxsCiAgICAgKi8KCgogICAgY2xpcEFnYWluc3RIdWxsKHBvc0EsIHF1YXRBLCBodWxsQiwgcG9zQiwgcXVhdEIsIHNlcGFyYXRpbmdOb3JtYWwsIG1pbkRpc3QsIG1heERpc3QsIHJlc3VsdCkgewogICAgICBjb25zdCBXb3JsZE5vcm1hbCA9IG5ldyBWZWMzKCk7CiAgICAgIGxldCBjbG9zZXN0RmFjZUIgPSAtMTsKICAgICAgbGV0IGRtYXggPSAtTnVtYmVyLk1BWF9WQUxVRTsKCiAgICAgIGZvciAobGV0IGZhY2UgPSAwOyBmYWNlIDwgaHVsbEIuZmFjZXMubGVuZ3RoOyBmYWNlKyspIHsKICAgICAgICBXb3JsZE5vcm1hbC5jb3B5KGh1bGxCLmZhY2VOb3JtYWxzW2ZhY2VdKTsKICAgICAgICBxdWF0Qi52bXVsdChXb3JsZE5vcm1hbCwgV29ybGROb3JtYWwpOwogICAgICAgIGNvbnN0IGQgPSBXb3JsZE5vcm1hbC5kb3Qoc2VwYXJhdGluZ05vcm1hbCk7CgogICAgICAgIGlmIChkID4gZG1heCkgewogICAgICAgICAgZG1heCA9IGQ7CiAgICAgICAgICBjbG9zZXN0RmFjZUIgPSBmYWNlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgY29uc3Qgd29ybGRWZXJ0c0IxID0gW107CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGh1bGxCLmZhY2VzW2Nsb3Nlc3RGYWNlQl0ubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBiID0gaHVsbEIudmVydGljZXNbaHVsbEIuZmFjZXNbY2xvc2VzdEZhY2VCXVtpXV07CiAgICAgICAgY29uc3Qgd29ybGRiID0gbmV3IFZlYzMoKTsKICAgICAgICB3b3JsZGIuY29weShiKTsKICAgICAgICBxdWF0Qi52bXVsdCh3b3JsZGIsIHdvcmxkYik7CiAgICAgICAgcG9zQi52YWRkKHdvcmxkYiwgd29ybGRiKTsKICAgICAgICB3b3JsZFZlcnRzQjEucHVzaCh3b3JsZGIpOwogICAgICB9CgogICAgICBpZiAoY2xvc2VzdEZhY2VCID49IDApIHsKICAgICAgICB0aGlzLmNsaXBGYWNlQWdhaW5zdEh1bGwoc2VwYXJhdGluZ05vcm1hbCwgcG9zQSwgcXVhdEEsIHdvcmxkVmVydHNCMSwgbWluRGlzdCwgbWF4RGlzdCwgcmVzdWx0KTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBGaW5kIHRoZSBzZXBhcmF0aW5nIGF4aXMgYmV0d2VlbiB0aGlzIGh1bGwgYW5kIGFub3RoZXIKICAgICAqIEBtZXRob2QgZmluZFNlcGFyYXRpbmdBeGlzCiAgICAgKiBAcGFyYW0ge0NvbnZleFBvbHloZWRyb259IGh1bGxCCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHBvc0EKICAgICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdEEKICAgICAqIEBwYXJhbSB7VmVjM30gcG9zQgogICAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0QgogICAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQgVGhlIHRhcmdldCB2ZWN0b3IgdG8gc2F2ZSB0aGUgYXhpcyBpbgogICAgICogQHJldHVybiB7Ym9vbH0gUmV0dXJucyBmYWxzZSBpZiBhIHNlcGFyYXRpb24gaXMgZm91bmQsIGVsc2UgdHJ1ZQogICAgICovCgoKICAgIGZpbmRTZXBhcmF0aW5nQXhpcyhodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCLCB0YXJnZXQsIGZhY2VMaXN0QSwgZmFjZUxpc3RCKSB7CiAgICAgIGNvbnN0IGZhY2VBTm9ybWFsV1MzID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgV29ybGRub3JtYWwxID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgZGVsdGFDID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3Qgd29ybGRFZGdlMCA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IHdvcmxkRWRnZTEgPSBuZXcgVmVjMygpOwogICAgICBjb25zdCBDcm9zcyA9IG5ldyBWZWMzKCk7CiAgICAgIGxldCBkbWluID0gTnVtYmVyLk1BWF9WQUxVRTsKICAgICAgY29uc3QgaHVsbEEgPSB0aGlzOwoKICAgICAgaWYgKCFodWxsQS51bmlxdWVBeGVzKSB7CiAgICAgICAgY29uc3QgbnVtRmFjZXNBID0gZmFjZUxpc3RBID8gZmFjZUxpc3RBLmxlbmd0aCA6IGh1bGxBLmZhY2VzLmxlbmd0aDsgLy8gVGVzdCBmYWNlIG5vcm1hbHMgZnJvbSBodWxsQQoKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUZhY2VzQTsgaSsrKSB7CiAgICAgICAgICBjb25zdCBmaSA9IGZhY2VMaXN0QSA/IGZhY2VMaXN0QVtpXSA6IGk7IC8vIEdldCB3b3JsZCBmYWNlIG5vcm1hbAoKICAgICAgICAgIGZhY2VBTm9ybWFsV1MzLmNvcHkoaHVsbEEuZmFjZU5vcm1hbHNbZmldKTsKICAgICAgICAgIHF1YXRBLnZtdWx0KGZhY2VBTm9ybWFsV1MzLCBmYWNlQU5vcm1hbFdTMyk7CiAgICAgICAgICBjb25zdCBkID0gaHVsbEEudGVzdFNlcEF4aXMoZmFjZUFOb3JtYWxXUzMsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpOwoKICAgICAgICAgIGlmIChkID09PSBmYWxzZSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGQgPCBkbWluKSB7CiAgICAgICAgICAgIGRtaW4gPSBkOwogICAgICAgICAgICB0YXJnZXQuY29weShmYWNlQU5vcm1hbFdTMyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIFRlc3QgdW5pcXVlIGF4ZXMKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gaHVsbEEudW5pcXVlQXhlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgLy8gR2V0IHdvcmxkIGF4aXMKICAgICAgICAgIHF1YXRBLnZtdWx0KGh1bGxBLnVuaXF1ZUF4ZXNbaV0sIGZhY2VBTm9ybWFsV1MzKTsKICAgICAgICAgIGNvbnN0IGQgPSBodWxsQS50ZXN0U2VwQXhpcyhmYWNlQU5vcm1hbFdTMywgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qik7CgogICAgICAgICAgaWYgKGQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZCA8IGRtaW4pIHsKICAgICAgICAgICAgZG1pbiA9IGQ7CiAgICAgICAgICAgIHRhcmdldC5jb3B5KGZhY2VBTm9ybWFsV1MzKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICghaHVsbEIudW5pcXVlQXhlcykgewogICAgICAgIC8vIFRlc3QgZmFjZSBub3JtYWxzIGZyb20gaHVsbEIKICAgICAgICBjb25zdCBudW1GYWNlc0IgPSBmYWNlTGlzdEIgPyBmYWNlTGlzdEIubGVuZ3RoIDogaHVsbEIuZmFjZXMubGVuZ3RoOwoKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUZhY2VzQjsgaSsrKSB7CiAgICAgICAgICBjb25zdCBmaSA9IGZhY2VMaXN0QiA/IGZhY2VMaXN0QltpXSA6IGk7CiAgICAgICAgICBXb3JsZG5vcm1hbDEuY29weShodWxsQi5mYWNlTm9ybWFsc1tmaV0pOwogICAgICAgICAgcXVhdEIudm11bHQoV29ybGRub3JtYWwxLCBXb3JsZG5vcm1hbDEpOwogICAgICAgICAgY29uc3QgZCA9IGh1bGxBLnRlc3RTZXBBeGlzKFdvcmxkbm9ybWFsMSwgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qik7CgogICAgICAgICAgaWYgKGQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZCA8IGRtaW4pIHsKICAgICAgICAgICAgZG1pbiA9IGQ7CiAgICAgICAgICAgIHRhcmdldC5jb3B5KFdvcmxkbm9ybWFsMSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIFRlc3QgdW5pcXVlIGF4ZXMgaW4gQgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBodWxsQi51bmlxdWVBeGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBxdWF0Qi52bXVsdChodWxsQi51bmlxdWVBeGVzW2ldLCBXb3JsZG5vcm1hbDEpOwogICAgICAgICAgY29uc3QgZCA9IGh1bGxBLnRlc3RTZXBBeGlzKFdvcmxkbm9ybWFsMSwgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qik7CgogICAgICAgICAgaWYgKGQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZCA8IGRtaW4pIHsKICAgICAgICAgICAgZG1pbiA9IGQ7CiAgICAgICAgICAgIHRhcmdldC5jb3B5KFdvcmxkbm9ybWFsMSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IC8vIFRlc3QgZWRnZXMKCgogICAgICBmb3IgKGxldCBlMCA9IDA7IGUwICE9PSBodWxsQS51bmlxdWVFZGdlcy5sZW5ndGg7IGUwKyspIHsKICAgICAgICAvLyBHZXQgd29ybGQgZWRnZQogICAgICAgIHF1YXRBLnZtdWx0KGh1bGxBLnVuaXF1ZUVkZ2VzW2UwXSwgd29ybGRFZGdlMCk7CgogICAgICAgIGZvciAobGV0IGUxID0gMDsgZTEgIT09IGh1bGxCLnVuaXF1ZUVkZ2VzLmxlbmd0aDsgZTErKykgewogICAgICAgICAgLy8gR2V0IHdvcmxkIGVkZ2UgMgogICAgICAgICAgcXVhdEIudm11bHQoaHVsbEIudW5pcXVlRWRnZXNbZTFdLCB3b3JsZEVkZ2UxKTsKICAgICAgICAgIHdvcmxkRWRnZTAuY3Jvc3Mod29ybGRFZGdlMSwgQ3Jvc3MpOwoKICAgICAgICAgIGlmICghQ3Jvc3MuYWxtb3N0WmVybygpKSB7CiAgICAgICAgICAgIENyb3NzLm5vcm1hbGl6ZSgpOwogICAgICAgICAgICBjb25zdCBkaXN0ID0gaHVsbEEudGVzdFNlcEF4aXMoQ3Jvc3MsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpOwoKICAgICAgICAgICAgaWYgKGRpc3QgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoZGlzdCA8IGRtaW4pIHsKICAgICAgICAgICAgICBkbWluID0gZGlzdDsKICAgICAgICAgICAgICB0YXJnZXQuY29weShDcm9zcyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHBvc0IudnN1Yihwb3NBLCBkZWx0YUMpOwoKICAgICAgaWYgKGRlbHRhQy5kb3QodGFyZ2V0KSA+IDAuMCkgewogICAgICAgIHRhcmdldC5uZWdhdGUodGFyZ2V0KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAvKioKICAgICAqIFRlc3Qgc2VwYXJhdGluZyBheGlzIGFnYWluc3QgdHdvIGh1bGxzLiBCb3RoIGh1bGxzIGFyZSBwcm9qZWN0ZWQgb250byB0aGUgYXhpcyBhbmQgdGhlIG92ZXJsYXAgc2l6ZSBpcyByZXR1cm5lZCBpZiB0aGVyZSBpcyBvbmUuCiAgICAgKiBAbWV0aG9kIHRlc3RTZXBBeGlzCiAgICAgKiBAcGFyYW0ge1ZlYzN9IGF4aXMKICAgICAqIEBwYXJhbSB7Q29udmV4UG9seWhlZHJvbn0gaHVsbEIKICAgICAqIEBwYXJhbSB7VmVjM30gcG9zQQogICAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0QQogICAgICogQHBhcmFtIHtWZWMzfSBwb3NCCiAgICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRCCiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBvdmVybGFwIGRlcHRoLCBvciBGQUxTRSBpZiBubyBwZW5ldHJhdGlvbi4KICAgICAqLwoKCiAgICB0ZXN0U2VwQXhpcyhheGlzLCBodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCKSB7CiAgICAgIGNvbnN0IGh1bGxBID0gdGhpczsKICAgICAgQ29udmV4UG9seWhlZHJvbi5wcm9qZWN0KGh1bGxBLCBheGlzLCBwb3NBLCBxdWF0QSwgbWF4bWluQSk7CiAgICAgIENvbnZleFBvbHloZWRyb24ucHJvamVjdChodWxsQiwgYXhpcywgcG9zQiwgcXVhdEIsIG1heG1pbkIpOwogICAgICBjb25zdCBtYXhBID0gbWF4bWluQVswXTsKICAgICAgY29uc3QgbWluQSA9IG1heG1pbkFbMV07CiAgICAgIGNvbnN0IG1heEIgPSBtYXhtaW5CWzBdOwogICAgICBjb25zdCBtaW5CID0gbWF4bWluQlsxXTsKCiAgICAgIGlmIChtYXhBIDwgbWluQiB8fCBtYXhCIDwgbWluQSkgewogICAgICAgIHJldHVybiBmYWxzZTsgLy8gU2VwYXJhdGVkCiAgICAgIH0KCiAgICAgIGNvbnN0IGQwID0gbWF4QSAtIG1pbkI7CiAgICAgIGNvbnN0IGQxID0gbWF4QiAtIG1pbkE7CiAgICAgIGNvbnN0IGRlcHRoID0gZDAgPCBkMSA/IGQwIDogZDE7CiAgICAgIHJldHVybiBkZXB0aDsKICAgIH0KICAgIC8qKgogICAgICogQG1ldGhvZCBjYWxjdWxhdGVMb2NhbEluZXJ0aWEKICAgICAqIEBwYXJhbSAge051bWJlcn0gbWFzcwogICAgICogQHBhcmFtICB7VmVjM30gdGFyZ2V0CiAgICAgKi8KCgogICAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCkgewogICAgICAvLyBBcHByb3hpbWF0ZSB3aXRoIGJveCBpbmVydGlhCiAgICAgIC8vIEV4YWN0IGluZXJ0aWEgY2FsY3VsYXRpb24gaXMgb3ZlcmtpbGwsIGJ1dCBzZWUgaHR0cDovL2dlb21ldHJpY3Rvb2xzLmNvbS9Eb2N1bWVudGF0aW9uL1BvbHloZWRyYWxNYXNzUHJvcGVydGllcy5wZGYgZm9yIHRoZSBjb3JyZWN0IHdheSB0byBkbyBpdAogICAgICBjb25zdCBhYWJibWF4ID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgYWFiYm1pbiA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMuY29tcHV0ZUxvY2FsQUFCQihhYWJibWluLCBhYWJibWF4KTsKICAgICAgY29uc3QgeCA9IGFhYmJtYXgueCAtIGFhYmJtaW4ueDsKICAgICAgY29uc3QgeSA9IGFhYmJtYXgueSAtIGFhYmJtaW4ueTsKICAgICAgY29uc3QgeiA9IGFhYmJtYXgueiAtIGFhYmJtaW4uejsKICAgICAgdGFyZ2V0LnggPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogeSAqIDIgKiB5ICsgMiAqIHogKiAyICogeik7CiAgICAgIHRhcmdldC55ID0gMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIHggKiAyICogeCArIDIgKiB6ICogMiAqIHopOwogICAgICB0YXJnZXQueiA9IDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB5ICogMiAqIHkgKyAyICogeCAqIDIgKiB4KTsKICAgIH0KICAgIC8qKgogICAgICogQG1ldGhvZCBnZXRQbGFuZUNvbnN0YW50T2ZGYWNlCiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGZhY2VfaSBJbmRleCBvZiB0aGUgZmFjZQogICAgICogQHJldHVybiB7TnVtYmVyfQogICAgICovCgoKICAgIGdldFBsYW5lQ29uc3RhbnRPZkZhY2UoZmFjZV9pKSB7CiAgICAgIGNvbnN0IGYgPSB0aGlzLmZhY2VzW2ZhY2VfaV07CiAgICAgIGNvbnN0IG4gPSB0aGlzLmZhY2VOb3JtYWxzW2ZhY2VfaV07CiAgICAgIGNvbnN0IHYgPSB0aGlzLnZlcnRpY2VzW2ZbMF1dOwogICAgICBjb25zdCBjID0gLW4uZG90KHYpOwogICAgICByZXR1cm4gYzsKICAgIH0KICAgIC8qKgogICAgICogQ2xpcCBhIGZhY2UgYWdhaW5zdCBhIGh1bGwuCiAgICAgKiBAbWV0aG9kIGNsaXBGYWNlQWdhaW5zdEh1bGwKICAgICAqIEBwYXJhbSB7VmVjM30gc2VwYXJhdGluZ05vcm1hbAogICAgICogQHBhcmFtIHtWZWMzfSBwb3NBCiAgICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IHF1YXRBCiAgICAgKiBAcGFyYW0ge0FycmF5fSB3b3JsZFZlcnRzQjEgQW4gYXJyYXkgb2YgVmVjMyB3aXRoIHZlcnRpY2VzIGluIHRoZSB3b3JsZCBmcmFtZS4KICAgICAqIEBwYXJhbSB7TnVtYmVyfSBtaW5EaXN0IERpc3RhbmNlIGNsYW1waW5nCiAgICAgKiBAcGFyYW0ge051bWJlcn0gbWF4RGlzdAogICAgICogQHBhcmFtIEFycmF5IHJlc3VsdCBBcnJheSB0byBzdG9yZSByZXN1bHRpbmcgY29udGFjdCBwb2ludHMgaW4uIFdpbGwgYmUgb2JqZWN0cyB3aXRoIHByb3BlcnRpZXM6IHBvaW50LCBkZXB0aCwgbm9ybWFsLiBUaGVzZSBhcmUgcmVwcmVzZW50ZWQgaW4gd29ybGQgY29vcmRpbmF0ZXMuCiAgICAgKi8KCgogICAgY2xpcEZhY2VBZ2FpbnN0SHVsbChzZXBhcmF0aW5nTm9ybWFsLCBwb3NBLCBxdWF0QSwgd29ybGRWZXJ0c0IxLCBtaW5EaXN0LCBtYXhEaXN0LCByZXN1bHQpIHsKICAgICAgY29uc3QgZmFjZUFOb3JtYWxXUyA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IGVkZ2UwID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgV29ybGRFZGdlMCA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IHdvcmxkUGxhbmVBbm9ybWFsMSA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IHBsYW5lTm9ybWFsV1MxID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3Qgd29ybGRBMSA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IGxvY2FsUGxhbmVOb3JtYWwgPSBuZXcgVmVjMygpOwogICAgICBjb25zdCBwbGFuZU5vcm1hbFdTID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgaHVsbEEgPSB0aGlzOwogICAgICBjb25zdCB3b3JsZFZlcnRzQjIgPSBbXTsKICAgICAgY29uc3QgcFZ0eEluID0gd29ybGRWZXJ0c0IxOwogICAgICBjb25zdCBwVnR4T3V0ID0gd29ybGRWZXJ0c0IyOwogICAgICBsZXQgY2xvc2VzdEZhY2VBID0gLTE7CiAgICAgIGxldCBkbWluID0gTnVtYmVyLk1BWF9WQUxVRTsgLy8gRmluZCB0aGUgZmFjZSB3aXRoIG5vcm1hbCBjbG9zZXN0IHRvIHRoZSBzZXBhcmF0aW5nIGF4aXMKCiAgICAgIGZvciAobGV0IGZhY2UgPSAwOyBmYWNlIDwgaHVsbEEuZmFjZXMubGVuZ3RoOyBmYWNlKyspIHsKICAgICAgICBmYWNlQU5vcm1hbFdTLmNvcHkoaHVsbEEuZmFjZU5vcm1hbHNbZmFjZV0pOwogICAgICAgIHF1YXRBLnZtdWx0KGZhY2VBTm9ybWFsV1MsIGZhY2VBTm9ybWFsV1MpOwogICAgICAgIGNvbnN0IGQgPSBmYWNlQU5vcm1hbFdTLmRvdChzZXBhcmF0aW5nTm9ybWFsKTsKCiAgICAgICAgaWYgKGQgPCBkbWluKSB7CiAgICAgICAgICBkbWluID0gZDsKICAgICAgICAgIGNsb3Nlc3RGYWNlQSA9IGZhY2U7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoY2xvc2VzdEZhY2VBIDwgMCkgewogICAgICAgIHJldHVybjsKICAgICAgfSAvLyBHZXQgdGhlIGZhY2UgYW5kIGNvbnN0cnVjdCBjb25uZWN0ZWQgZmFjZXMKCgogICAgICBjb25zdCBwb2x5QSA9IGh1bGxBLmZhY2VzW2Nsb3Nlc3RGYWNlQV07CiAgICAgIHBvbHlBLmNvbm5lY3RlZEZhY2VzID0gW107CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGh1bGxBLmZhY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBodWxsQS5mYWNlc1tpXS5sZW5ndGg7IGorKykgewogICAgICAgICAgaWYgKAogICAgICAgICAgLyogU2hhcmluZyBhIHZlcnRleCovCiAgICAgICAgICBwb2x5QS5pbmRleE9mKGh1bGxBLmZhY2VzW2ldW2pdKSAhPT0gLTEgJiYKICAgICAgICAgIC8qIE5vdCB0aGUgb25lIHdlIGFyZSBsb29raW5nIGZvciBjb25uZWN0aW9ucyBmcm9tICovCiAgICAgICAgICBpICE9PSBjbG9zZXN0RmFjZUEgJiYKICAgICAgICAgIC8qIE5vdCBhbHJlYWR5IGFkZGVkICovCiAgICAgICAgICBwb2x5QS5jb25uZWN0ZWRGYWNlcy5pbmRleE9mKGkpID09PSAtMSkgewogICAgICAgICAgICBwb2x5QS5jb25uZWN0ZWRGYWNlcy5wdXNoKGkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSAvLyBDbGlwIHRoZSBwb2x5Z29uIHRvIHRoZSBiYWNrIG9mIHRoZSBwbGFuZXMgb2YgYWxsIGZhY2VzIG9mIGh1bGwgQSwKICAgICAgLy8gdGhhdCBhcmUgYWRqYWNlbnQgdG8gdGhlIHdpdG5lc3MgZmFjZQoKCiAgICAgIGNvbnN0IG51bVZlcnRpY2VzQSA9IHBvbHlBLmxlbmd0aDsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtVmVydGljZXNBOyBpKyspIHsKICAgICAgICBjb25zdCBhID0gaHVsbEEudmVydGljZXNbcG9seUFbaV1dOwogICAgICAgIGNvbnN0IGIgPSBodWxsQS52ZXJ0aWNlc1twb2x5QVsoaSArIDEpICUgbnVtVmVydGljZXNBXV07CiAgICAgICAgYS52c3ViKGIsIGVkZ2UwKTsKICAgICAgICBXb3JsZEVkZ2UwLmNvcHkoZWRnZTApOwogICAgICAgIHF1YXRBLnZtdWx0KFdvcmxkRWRnZTAsIFdvcmxkRWRnZTApOwogICAgICAgIHBvc0EudmFkZChXb3JsZEVkZ2UwLCBXb3JsZEVkZ2UwKTsKICAgICAgICB3b3JsZFBsYW5lQW5vcm1hbDEuY29weSh0aGlzLmZhY2VOb3JtYWxzW2Nsb3Nlc3RGYWNlQV0pOwogICAgICAgIHF1YXRBLnZtdWx0KHdvcmxkUGxhbmVBbm9ybWFsMSwgd29ybGRQbGFuZUFub3JtYWwxKTsKICAgICAgICBwb3NBLnZhZGQod29ybGRQbGFuZUFub3JtYWwxLCB3b3JsZFBsYW5lQW5vcm1hbDEpOwogICAgICAgIFdvcmxkRWRnZTAuY3Jvc3Mod29ybGRQbGFuZUFub3JtYWwxLCBwbGFuZU5vcm1hbFdTMSk7CiAgICAgICAgcGxhbmVOb3JtYWxXUzEubmVnYXRlKHBsYW5lTm9ybWFsV1MxKTsKICAgICAgICB3b3JsZEExLmNvcHkoYSk7CiAgICAgICAgcXVhdEEudm11bHQod29ybGRBMSwgd29ybGRBMSk7CiAgICAgICAgcG9zQS52YWRkKHdvcmxkQTEsIHdvcmxkQTEpOwogICAgICAgIGNvbnN0IG90aGVyRmFjZSA9IHBvbHlBLmNvbm5lY3RlZEZhY2VzW2ldOwogICAgICAgIGxvY2FsUGxhbmVOb3JtYWwuY29weSh0aGlzLmZhY2VOb3JtYWxzW290aGVyRmFjZV0pOwogICAgICAgIGNvbnN0IGxvY2FsUGxhbmVFcSA9IHRoaXMuZ2V0UGxhbmVDb25zdGFudE9mRmFjZShvdGhlckZhY2UpOwogICAgICAgIHBsYW5lTm9ybWFsV1MuY29weShsb2NhbFBsYW5lTm9ybWFsKTsKICAgICAgICBxdWF0QS52bXVsdChwbGFuZU5vcm1hbFdTLCBwbGFuZU5vcm1hbFdTKTsKICAgICAgICBjb25zdCBwbGFuZUVxV1MgPSBsb2NhbFBsYW5lRXEgLSBwbGFuZU5vcm1hbFdTLmRvdChwb3NBKTsgLy8gQ2xpcCBmYWNlIGFnYWluc3Qgb3VyIGNvbnN0cnVjdGVkIHBsYW5lCgogICAgICAgIHRoaXMuY2xpcEZhY2VBZ2FpbnN0UGxhbmUocFZ0eEluLCBwVnR4T3V0LCBwbGFuZU5vcm1hbFdTLCBwbGFuZUVxV1MpOyAvLyBUaHJvdyBhd2F5IGFsbCBjbGlwcGVkIHBvaW50cywgYnV0IHNhdmUgdGhlIHJlbWFpbmluZyB1bnRpbCBuZXh0IGNsaXAKCiAgICAgICAgd2hpbGUgKHBWdHhJbi5sZW5ndGgpIHsKICAgICAgICAgIHBWdHhJbi5zaGlmdCgpOwogICAgICAgIH0KCiAgICAgICAgd2hpbGUgKHBWdHhPdXQubGVuZ3RoKSB7CiAgICAgICAgICBwVnR4SW4ucHVzaChwVnR4T3V0LnNoaWZ0KCkpOwogICAgICAgIH0KICAgICAgfSAvLyBvbmx5IGtlZXAgY29udGFjdCBwb2ludHMgdGhhdCBhcmUgYmVoaW5kIHRoZSB3aXRuZXNzIGZhY2UKCgogICAgICBsb2NhbFBsYW5lTm9ybWFsLmNvcHkodGhpcy5mYWNlTm9ybWFsc1tjbG9zZXN0RmFjZUFdKTsKICAgICAgY29uc3QgbG9jYWxQbGFuZUVxID0gdGhpcy5nZXRQbGFuZUNvbnN0YW50T2ZGYWNlKGNsb3Nlc3RGYWNlQSk7CiAgICAgIHBsYW5lTm9ybWFsV1MuY29weShsb2NhbFBsYW5lTm9ybWFsKTsKICAgICAgcXVhdEEudm11bHQocGxhbmVOb3JtYWxXUywgcGxhbmVOb3JtYWxXUyk7CiAgICAgIGNvbnN0IHBsYW5lRXFXUyA9IGxvY2FsUGxhbmVFcSAtIHBsYW5lTm9ybWFsV1MuZG90KHBvc0EpOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwVnR4SW4ubGVuZ3RoOyBpKyspIHsKICAgICAgICBsZXQgZGVwdGggPSBwbGFuZU5vcm1hbFdTLmRvdChwVnR4SW5baV0pICsgcGxhbmVFcVdTOyAvLyA/Pz8KCiAgICAgICAgaWYgKGRlcHRoIDw9IG1pbkRpc3QpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJjbGFtcGVkOiBkZXB0aD0iICsgZGVwdGggKyAiIHRvIG1pbkRpc3Q9IiArIG1pbkRpc3QpOwogICAgICAgICAgZGVwdGggPSBtaW5EaXN0OwogICAgICAgIH0KCiAgICAgICAgaWYgKGRlcHRoIDw9IG1heERpc3QpIHsKICAgICAgICAgIGNvbnN0IHBvaW50ID0gcFZ0eEluW2ldOwoKICAgICAgICAgIGlmIChkZXB0aCA8PSAxZS02KSB7CiAgICAgICAgICAgIGNvbnN0IHAgPSB7CiAgICAgICAgICAgICAgcG9pbnQsCiAgICAgICAgICAgICAgbm9ybWFsOiBwbGFuZU5vcm1hbFdTLAogICAgICAgICAgICAgIGRlcHRoCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBDbGlwIGEgZmFjZSBpbiBhIGh1bGwgYWdhaW5zdCB0aGUgYmFjayBvZiBhIHBsYW5lLgogICAgICogQG1ldGhvZCBjbGlwRmFjZUFnYWluc3RQbGFuZQogICAgICogQHBhcmFtIHtBcnJheX0gaW5WZXJ0aWNlcwogICAgICogQHBhcmFtIHtBcnJheX0gb3V0VmVydGljZXMKICAgICAqIEBwYXJhbSB7VmVjM30gcGxhbmVOb3JtYWwKICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwbGFuZUNvbnN0YW50IFRoZSBjb25zdGFudCBpbiB0aGUgbWF0aGVtYXRpY2FsIHBsYW5lIGVxdWF0aW9uCiAgICAgKi8KCgogICAgY2xpcEZhY2VBZ2FpbnN0UGxhbmUoaW5WZXJ0aWNlcywgb3V0VmVydGljZXMsIHBsYW5lTm9ybWFsLCBwbGFuZUNvbnN0YW50KSB7CiAgICAgIGxldCBuX2RvdF9maXJzdDsKICAgICAgbGV0IG5fZG90X2xhc3Q7CiAgICAgIGNvbnN0IG51bVZlcnRzID0gaW5WZXJ0aWNlcy5sZW5ndGg7CgogICAgICBpZiAobnVtVmVydHMgPCAyKSB7CiAgICAgICAgcmV0dXJuIG91dFZlcnRpY2VzOwogICAgICB9CgogICAgICBsZXQgZmlyc3RWZXJ0ZXggPSBpblZlcnRpY2VzW2luVmVydGljZXMubGVuZ3RoIC0gMV07CiAgICAgIGxldCBsYXN0VmVydGV4ID0gaW5WZXJ0aWNlc1swXTsKICAgICAgbl9kb3RfZmlyc3QgPSBwbGFuZU5vcm1hbC5kb3QoZmlyc3RWZXJ0ZXgpICsgcGxhbmVDb25zdGFudDsKCiAgICAgIGZvciAobGV0IHZpID0gMDsgdmkgPCBudW1WZXJ0czsgdmkrKykgewogICAgICAgIGxhc3RWZXJ0ZXggPSBpblZlcnRpY2VzW3ZpXTsKICAgICAgICBuX2RvdF9sYXN0ID0gcGxhbmVOb3JtYWwuZG90KGxhc3RWZXJ0ZXgpICsgcGxhbmVDb25zdGFudDsKCiAgICAgICAgaWYgKG5fZG90X2ZpcnN0IDwgMCkgewogICAgICAgICAgaWYgKG5fZG90X2xhc3QgPCAwKSB7CiAgICAgICAgICAgIC8vIFN0YXJ0IDwgMCwgZW5kIDwgMCwgc28gb3V0cHV0IGxhc3RWZXJ0ZXgKICAgICAgICAgICAgY29uc3QgbmV3diA9IG5ldyBWZWMzKCk7CiAgICAgICAgICAgIG5ld3YuY29weShsYXN0VmVydGV4KTsKICAgICAgICAgICAgb3V0VmVydGljZXMucHVzaChuZXd2KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIFN0YXJ0IDwgMCwgZW5kID49IDAsIHNvIG91dHB1dCBpbnRlcnNlY3Rpb24KICAgICAgICAgICAgY29uc3QgbmV3diA9IG5ldyBWZWMzKCk7CiAgICAgICAgICAgIGZpcnN0VmVydGV4LmxlcnAobGFzdFZlcnRleCwgbl9kb3RfZmlyc3QgLyAobl9kb3RfZmlyc3QgLSBuX2RvdF9sYXN0KSwgbmV3dik7CiAgICAgICAgICAgIG91dFZlcnRpY2VzLnB1c2gobmV3dik7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChuX2RvdF9sYXN0IDwgMCkgewogICAgICAgICAgICAvLyBTdGFydCA+PSAwLCBlbmQgPCAwIHNvIG91dHB1dCBpbnRlcnNlY3Rpb24gYW5kIGVuZAogICAgICAgICAgICBjb25zdCBuZXd2ID0gbmV3IFZlYzMoKTsKICAgICAgICAgICAgZmlyc3RWZXJ0ZXgubGVycChsYXN0VmVydGV4LCBuX2RvdF9maXJzdCAvIChuX2RvdF9maXJzdCAtIG5fZG90X2xhc3QpLCBuZXd2KTsKICAgICAgICAgICAgb3V0VmVydGljZXMucHVzaChuZXd2KTsKICAgICAgICAgICAgb3V0VmVydGljZXMucHVzaChsYXN0VmVydGV4KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZpcnN0VmVydGV4ID0gbGFzdFZlcnRleDsKICAgICAgICBuX2RvdF9maXJzdCA9IG5fZG90X2xhc3Q7CiAgICAgIH0KCiAgICAgIHJldHVybiBvdXRWZXJ0aWNlczsKICAgIH0gLy8gVXBkYXRlcyAud29ybGRWZXJ0aWNlcyBhbmQgc2V0cyAud29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlIHRvIGZhbHNlLgoKCiAgICBjb21wdXRlV29ybGRWZXJ0aWNlcyhwb3NpdGlvbiwgcXVhdCkgewogICAgICB3aGlsZSAodGhpcy53b3JsZFZlcnRpY2VzLmxlbmd0aCA8IHRoaXMudmVydGljZXMubGVuZ3RoKSB7CiAgICAgICAgdGhpcy53b3JsZFZlcnRpY2VzLnB1c2gobmV3IFZlYzMoKSk7CiAgICAgIH0KCiAgICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0aWNlczsKICAgICAgY29uc3Qgd29ybGRWZXJ0cyA9IHRoaXMud29ybGRWZXJ0aWNlczsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSB0aGlzLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgcXVhdC52bXVsdCh2ZXJ0c1tpXSwgd29ybGRWZXJ0c1tpXSk7CiAgICAgICAgcG9zaXRpb24udmFkZCh3b3JsZFZlcnRzW2ldLCB3b3JsZFZlcnRzW2ldKTsKICAgICAgfQoKICAgICAgdGhpcy53b3JsZFZlcnRpY2VzTmVlZHNVcGRhdGUgPSBmYWxzZTsKICAgIH0KCiAgICBjb21wdXRlTG9jYWxBQUJCKGFhYmJtaW4sIGFhYmJtYXgpIHsKICAgICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzOwogICAgICBhYWJibWluLnNldChOdW1iZXIuTUFYX1ZBTFVFLCBOdW1iZXIuTUFYX1ZBTFVFLCBOdW1iZXIuTUFYX1ZBTFVFKTsKICAgICAgYWFiYm1heC5zZXQoLU51bWJlci5NQVhfVkFMVUUsIC1OdW1iZXIuTUFYX1ZBTFVFLCAtTnVtYmVyLk1BWF9WQUxVRSk7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudmVydGljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCB2ID0gdmVydGljZXNbaV07CgogICAgICAgIGlmICh2LnggPCBhYWJibWluLngpIHsKICAgICAgICAgIGFhYmJtaW4ueCA9IHYueDsKICAgICAgICB9IGVsc2UgaWYgKHYueCA+IGFhYmJtYXgueCkgewogICAgICAgICAgYWFiYm1heC54ID0gdi54OwogICAgICAgIH0KCiAgICAgICAgaWYgKHYueSA8IGFhYmJtaW4ueSkgewogICAgICAgICAgYWFiYm1pbi55ID0gdi55OwogICAgICAgIH0gZWxzZSBpZiAodi55ID4gYWFiYm1heC55KSB7CiAgICAgICAgICBhYWJibWF4LnkgPSB2Lnk7CiAgICAgICAgfQoKICAgICAgICBpZiAodi56IDwgYWFiYm1pbi56KSB7CiAgICAgICAgICBhYWJibWluLnogPSB2Lno7CiAgICAgICAgfSBlbHNlIGlmICh2LnogPiBhYWJibWF4LnopIHsKICAgICAgICAgIGFhYmJtYXgueiA9IHYuejsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogVXBkYXRlcyAud29ybGRWZXJ0aWNlcyBhbmQgc2V0cyAud29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlIHRvIGZhbHNlLgogICAgICogQG1ldGhvZCBjb21wdXRlV29ybGRGYWNlTm9ybWFscwogICAgICogQHBhcmFtICB7UXVhdGVybmlvbn0gcXVhdAogICAgICovCgoKICAgIGNvbXB1dGVXb3JsZEZhY2VOb3JtYWxzKHF1YXQpIHsKICAgICAgY29uc3QgTiA9IHRoaXMuZmFjZU5vcm1hbHMubGVuZ3RoOwoKICAgICAgd2hpbGUgKHRoaXMud29ybGRGYWNlTm9ybWFscy5sZW5ndGggPCBOKSB7CiAgICAgICAgdGhpcy53b3JsZEZhY2VOb3JtYWxzLnB1c2gobmV3IFZlYzMoKSk7CiAgICAgIH0KCiAgICAgIGNvbnN0IG5vcm1hbHMgPSB0aGlzLmZhY2VOb3JtYWxzOwogICAgICBjb25zdCB3b3JsZE5vcm1hbHMgPSB0aGlzLndvcmxkRmFjZU5vcm1hbHM7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgICAgcXVhdC52bXVsdChub3JtYWxzW2ldLCB3b3JsZE5vcm1hbHNbaV0pOwogICAgICB9CgogICAgICB0aGlzLndvcmxkRmFjZU5vcm1hbHNOZWVkc1VwZGF0ZSA9IGZhbHNlOwogICAgfQogICAgLyoqCiAgICAgKiBAbWV0aG9kIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzCiAgICAgKi8KCgogICAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICAgIC8vIEFzc3VtZSBwb2ludHMgYXJlIGRpc3RyaWJ1dGVkIHdpdGggbG9jYWwgKDAsMCwwKSBhcyBjZW50ZXIKICAgICAgbGV0IG1heDIgPSAwOwogICAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gdmVydHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBub3JtMiA9IHZlcnRzW2ldLmxlbmd0aFNxdWFyZWQoKTsKCiAgICAgICAgaWYgKG5vcm0yID4gbWF4MikgewogICAgICAgICAgbWF4MiA9IG5vcm0yOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IE1hdGguc3FydChtYXgyKTsKICAgIH0KICAgIC8qKgogICAgICogQG1ldGhvZCBjYWxjdWxhdGVXb3JsZEFBQkIKICAgICAqIEBwYXJhbSB7VmVjM30gICAgICAgIHBvcwogICAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSAgcXVhdAogICAgICogQHBhcmFtIHtWZWMzfSAgICAgICAgbWluCiAgICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBtYXgKICAgICAqLwoKCiAgICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkgewogICAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7CiAgICAgIGxldCBtaW54OwogICAgICBsZXQgbWlueTsKICAgICAgbGV0IG1pbno7CiAgICAgIGxldCBtYXh4OwogICAgICBsZXQgbWF4eTsKICAgICAgbGV0IG1heHo7CiAgICAgIGxldCB0ZW1wV29ybGRWZXJ0ZXggPSBuZXcgVmVjMygpOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0cy5sZW5ndGg7IGkrKykgewogICAgICAgIHRlbXBXb3JsZFZlcnRleC5jb3B5KHZlcnRzW2ldKTsKICAgICAgICBxdWF0LnZtdWx0KHRlbXBXb3JsZFZlcnRleCwgdGVtcFdvcmxkVmVydGV4KTsKICAgICAgICBwb3MudmFkZCh0ZW1wV29ybGRWZXJ0ZXgsIHRlbXBXb3JsZFZlcnRleCk7CiAgICAgICAgY29uc3QgdiA9IHRlbXBXb3JsZFZlcnRleDsKCiAgICAgICAgaWYgKG1pbnggPT09IHVuZGVmaW5lZCB8fCB2LnggPCBtaW54KSB7CiAgICAgICAgICBtaW54ID0gdi54OwogICAgICAgIH0KCiAgICAgICAgaWYgKG1heHggPT09IHVuZGVmaW5lZCB8fCB2LnggPiBtYXh4KSB7CiAgICAgICAgICBtYXh4ID0gdi54OwogICAgICAgIH0KCiAgICAgICAgaWYgKG1pbnkgPT09IHVuZGVmaW5lZCB8fCB2LnkgPCBtaW55KSB7CiAgICAgICAgICBtaW55ID0gdi55OwogICAgICAgIH0KCiAgICAgICAgaWYgKG1heHkgPT09IHVuZGVmaW5lZCB8fCB2LnkgPiBtYXh5KSB7CiAgICAgICAgICBtYXh5ID0gdi55OwogICAgICAgIH0KCiAgICAgICAgaWYgKG1pbnogPT09IHVuZGVmaW5lZCB8fCB2LnogPCBtaW56KSB7CiAgICAgICAgICBtaW56ID0gdi56OwogICAgICAgIH0KCiAgICAgICAgaWYgKG1heHogPT09IHVuZGVmaW5lZCB8fCB2LnogPiBtYXh6KSB7CiAgICAgICAgICBtYXh6ID0gdi56OwogICAgICAgIH0KICAgICAgfQoKICAgICAgbWluLnNldChtaW54LCBtaW55LCBtaW56KTsKICAgICAgbWF4LnNldChtYXh4LCBtYXh5LCBtYXh6KTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IGFwcHJveGltYXRlIGNvbnZleCB2b2x1bWUKICAgICAqIEBtZXRob2Qgdm9sdW1lCiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9CiAgICAgKi8KCgogICAgdm9sdW1lKCkgewogICAgICByZXR1cm4gNC4wICogTWF0aC5QSSAqIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgLyAzLjA7CiAgICB9CiAgICAvKioKICAgICAqIEdldCBhbiBhdmVyYWdlIG9mIGFsbCB0aGUgdmVydGljZXMgcG9zaXRpb25zCiAgICAgKiBAbWV0aG9kIGdldEF2ZXJhZ2VQb2ludExvY2FsCiAgICAgKiBAcGFyYW0gIHtWZWMzfSB0YXJnZXQKICAgICAqIEByZXR1cm4ge1ZlYzN9CiAgICAgKi8KCgogICAgZ2V0QXZlcmFnZVBvaW50TG9jYWwodGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdGFyZ2V0LnZhZGQodmVydHNbaV0sIHRhcmdldCk7CiAgICAgIH0KCiAgICAgIHRhcmdldC5zY2FsZSgxIC8gdmVydHMubGVuZ3RoLCB0YXJnZXQpOwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBUcmFuc2Zvcm0gYWxsIGxvY2FsIHBvaW50cy4gV2lsbCBjaGFuZ2UgdGhlIC52ZXJ0aWNlcwogICAgICogQG1ldGhvZCB0cmFuc2Zvcm1BbGxQb2ludHMKICAgICAqIEBwYXJhbSAge1ZlYzN9IG9mZnNldAogICAgICogQHBhcmFtICB7UXVhdGVybmlvbn0gcXVhdAogICAgICovCgoKICAgIHRyYW5zZm9ybUFsbFBvaW50cyhvZmZzZXQsIHF1YXQpIHsKICAgICAgY29uc3QgbiA9IHRoaXMudmVydGljZXMubGVuZ3RoOwogICAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7IC8vIEFwcGx5IHJvdGF0aW9uCgogICAgICBpZiAocXVhdCkgewogICAgICAgIC8vIFJvdGF0ZSB2ZXJ0aWNlcwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICBjb25zdCB2ID0gdmVydHNbaV07CiAgICAgICAgICBxdWF0LnZtdWx0KHYsIHYpOwogICAgICAgIH0gLy8gUm90YXRlIGZhY2Ugbm9ybWFscwoKCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZhY2VOb3JtYWxzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBjb25zdCB2ID0gdGhpcy5mYWNlTm9ybWFsc1tpXTsKICAgICAgICAgIHF1YXQudm11bHQodiwgdik7CiAgICAgICAgfQogICAgICAgIC8qCiAgICAgICAgICAgICAgLy8gUm90YXRlIGVkZ2VzCiAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8dGhpcy51bmlxdWVFZGdlcy5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgICAgICAgIGNvbnN0IHYgPSB0aGlzLnVuaXF1ZUVkZ2VzW2ldOwogICAgICAgICAgICAgICAgICBxdWF0LnZtdWx0KHYsdik7CiAgICAgICAgICAgICAgfSovCgogICAgICB9IC8vIEFwcGx5IG9mZnNldAoKCiAgICAgIGlmIChvZmZzZXQpIHsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgICAgY29uc3QgdiA9IHZlcnRzW2ldOwogICAgICAgICAgdi52YWRkKG9mZnNldCwgdik7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIENoZWNrcyB3aGV0aGVyIHAgaXMgaW5zaWRlIHRoZSBwb2x5aGVkcmEuIE11c3QgYmUgaW4gbG9jYWwgY29vcmRzLgogICAgICogVGhlIHBvaW50IGxpZXMgb3V0c2lkZSBvZiB0aGUgY29udmV4IGh1bGwgb2YgdGhlIG90aGVyIHBvaW50cyBpZiBhbmQgb25seSBpZiB0aGUgZGlyZWN0aW9uCiAgICAgKiBvZiBhbGwgdGhlIHZlY3RvcnMgZnJvbSBpdCB0byB0aG9zZSBvdGhlciBwb2ludHMgYXJlIG9uIGxlc3MgdGhhbiBvbmUgaGFsZiBvZiBhIHNwaGVyZSBhcm91bmQgaXQuCiAgICAgKiBAbWV0aG9kIHBvaW50SXNJbnNpZGUKICAgICAqIEBwYXJhbSAge1ZlYzN9IHAgICAgICBBIHBvaW50IGdpdmVuIGluIGxvY2FsIGNvb3JkaW5hdGVzCiAgICAgKiBAcmV0dXJuIHtCb29sZWFufQogICAgICovCgoKICAgIHBvaW50SXNJbnNpZGUocCkgewogICAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7CiAgICAgIGNvbnN0IGZhY2VzID0gdGhpcy5mYWNlczsKICAgICAgY29uc3Qgbm9ybWFscyA9IHRoaXMuZmFjZU5vcm1hbHM7CiAgICAgIGNvbnN0IHBvaW50SW5zaWRlID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy5nZXRBdmVyYWdlUG9pbnRMb2NhbChwb2ludEluc2lkZSk7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmFjZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBsZXQgbiA9IG5vcm1hbHNbaV07CiAgICAgICAgY29uc3QgdiA9IHZlcnRzW2ZhY2VzW2ldWzBdXTsgLy8gV2Ugb25seSBuZWVkIG9uZSBwb2ludCBpbiB0aGUgZmFjZQogICAgICAgIC8vIFRoaXMgZG90IHByb2R1Y3QgZGV0ZXJtaW5lcyB3aGljaCBzaWRlIG9mIHRoZSBlZGdlIHRoZSBwb2ludCBpcwoKICAgICAgICBjb25zdCB2VG9QID0gbmV3IFZlYzMoKTsKICAgICAgICBwLnZzdWIodiwgdlRvUCk7CiAgICAgICAgY29uc3QgcjEgPSBuLmRvdCh2VG9QKTsKICAgICAgICBjb25zdCB2VG9Qb2ludEluc2lkZSA9IG5ldyBWZWMzKCk7CiAgICAgICAgcG9pbnRJbnNpZGUudnN1Yih2LCB2VG9Qb2ludEluc2lkZSk7CiAgICAgICAgY29uc3QgcjIgPSBuLmRvdCh2VG9Qb2ludEluc2lkZSk7CgogICAgICAgIGlmIChyMSA8IDAgJiYgcjIgPiAwIHx8IHIxID4gMCAmJiByMiA8IDApIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gRW5jb3VudGVyZWQgc29tZSBvdGhlciBzaWduLiBFeGl0LgogICAgICAgIH0KICAgICAgfSAvLyBJZiB3ZSBnb3QgaGVyZSwgYWxsIGRvdCBwcm9kdWN0cyB3ZXJlIG9mIHRoZSBzYW1lIHNpZ24uCgoKICAgICAgcmV0dXJuIC0xOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgbWF4IGFuZCBtaW4gZG90IHByb2R1Y3Qgb2YgYSBjb252ZXggaHVsbCBhdCBwb3NpdGlvbiAocG9zLHF1YXQpIHByb2plY3RlZCBvbnRvIGFuIGF4aXMuCiAgICAgKiBSZXN1bHRzIGFyZSBzYXZlZCBpbiB0aGUgYXJyYXkgbWF4bWluLgogICAgICogQHN0YXRpYwogICAgICogQG1ldGhvZCBwcm9qZWN0CiAgICAgKiBAcGFyYW0ge0NvbnZleFBvbHloZWRyb259IGh1bGwKICAgICAqIEBwYXJhbSB7VmVjM30gYXhpcwogICAgICogQHBhcmFtIHtWZWMzfSBwb3MKICAgICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gcXVhdAogICAgICogQHBhcmFtIHthcnJheX0gcmVzdWx0IHJlc3VsdFswXSBhbmQgcmVzdWx0WzFdIHdpbGwgYmUgc2V0IHRvIG1heGltdW0gYW5kIG1pbmltdW0sIHJlc3BlY3RpdmVseS4KICAgICAqLwoKCiAgICBzdGF0aWMgcHJvamVjdChzaGFwZSwgYXhpcywgcG9zLCBxdWF0LCByZXN1bHQpIHsKICAgICAgY29uc3QgbiA9IHNoYXBlLnZlcnRpY2VzLmxlbmd0aDsKICAgICAgY29uc3QgbG9jYWxBeGlzID0gcHJvamVjdF9sb2NhbEF4aXM7CiAgICAgIGxldCBtYXggPSAwOwogICAgICBsZXQgbWluID0gMDsKICAgICAgY29uc3QgbG9jYWxPcmlnaW4gPSBwcm9qZWN0X2xvY2FsT3JpZ2luOwogICAgICBjb25zdCB2cyA9IHNoYXBlLnZlcnRpY2VzOwogICAgICBsb2NhbE9yaWdpbi5zZXRaZXJvKCk7IC8vIFRyYW5zZm9ybSB0aGUgYXhpcyB0byBsb2NhbAoKICAgICAgVHJhbnNmb3JtLnZlY3RvclRvTG9jYWxGcmFtZShwb3MsIHF1YXQsIGF4aXMsIGxvY2FsQXhpcyk7CiAgICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShwb3MsIHF1YXQsIGxvY2FsT3JpZ2luLCBsb2NhbE9yaWdpbik7CiAgICAgIGNvbnN0IGFkZCA9IGxvY2FsT3JpZ2luLmRvdChsb2NhbEF4aXMpOwogICAgICBtaW4gPSBtYXggPSB2c1swXS5kb3QobG9jYWxBeGlzKTsKCiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgY29uc3QgdmFsID0gdnNbaV0uZG90KGxvY2FsQXhpcyk7CgogICAgICAgIGlmICh2YWwgPiBtYXgpIHsKICAgICAgICAgIG1heCA9IHZhbDsKICAgICAgICB9CgogICAgICAgIGlmICh2YWwgPCBtaW4pIHsKICAgICAgICAgIG1pbiA9IHZhbDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIG1pbiAtPSBhZGQ7CiAgICAgIG1heCAtPSBhZGQ7CgogICAgICBpZiAobWluID4gbWF4KSB7CiAgICAgICAgLy8gSW5jb25zaXN0ZW50IC0gc3dhcAogICAgICAgIGNvbnN0IHRlbXAgPSBtaW47CiAgICAgICAgbWluID0gbWF4OwogICAgICAgIG1heCA9IHRlbXA7CiAgICAgIH0gLy8gT3V0cHV0CgoKICAgICAgcmVzdWx0WzBdID0gbWF4OwogICAgICByZXN1bHRbMV0gPSBtaW47CiAgICB9CgogIH0KCiAgY29uc3QgbWF4bWluQSA9IFtdOwogIGNvbnN0IG1heG1pbkIgPSBbXTsKICBjb25zdCBwcm9qZWN0X2xvY2FsQXhpcyA9IG5ldyBWZWMzKCk7CiAgY29uc3QgcHJvamVjdF9sb2NhbE9yaWdpbiA9IG5ldyBWZWMzKCk7CiAgLyoqCiAgICogQSAzZCBib3ggc2hhcGUuCiAgICogQGNsYXNzIEJveAogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBwYXJhbSB7VmVjM30gaGFsZkV4dGVudHMKICAgKiBAYXV0aG9yIHNjaHRlcHBlCiAgICogQGV4dGVuZHMgU2hhcGUKICAgKi8KCiAgY2xhc3MgQm94IGV4dGVuZHMgU2hhcGUgewogICAgLy8gVXNlZCBieSB0aGUgY29udGFjdCBnZW5lcmF0b3IgdG8gbWFrZSBjb250YWN0cyB3aXRoIG90aGVyIGNvbnZleCBwb2x5aGVkcmEgZm9yIGV4YW1wbGUuCiAgICBjb25zdHJ1Y3RvcihoYWxmRXh0ZW50cykgewogICAgICBzdXBlcih7CiAgICAgICAgdHlwZTogU2hhcGUudHlwZXMuQk9YCiAgICAgIH0pOwogICAgICB0aGlzLmhhbGZFeHRlbnRzID0gaGFsZkV4dGVudHM7CiAgICAgIHRoaXMuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uID0gbnVsbDsKICAgICAgdGhpcy51cGRhdGVDb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24oKTsKICAgICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOwogICAgfQogICAgLyoqCiAgICAgKiBVcGRhdGVzIHRoZSBsb2NhbCBjb252ZXggcG9seWhlZHJvbiByZXByZXNlbnRhdGlvbiB1c2VkIGZvciBzb21lIGNvbGxpc2lvbnMuCiAgICAgKiBAbWV0aG9kIHVwZGF0ZUNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbgogICAgICovCgoKICAgIHVwZGF0ZUNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbigpIHsKICAgICAgY29uc3Qgc3ggPSB0aGlzLmhhbGZFeHRlbnRzLng7CiAgICAgIGNvbnN0IHN5ID0gdGhpcy5oYWxmRXh0ZW50cy55OwogICAgICBjb25zdCBzeiA9IHRoaXMuaGFsZkV4dGVudHMuejsKICAgICAgY29uc3QgViA9IFZlYzM7CiAgICAgIGNvbnN0IHZlcnRpY2VzID0gW25ldyBWKC1zeCwgLXN5LCAtc3opLCBuZXcgVihzeCwgLXN5LCAtc3opLCBuZXcgVihzeCwgc3ksIC1zeiksIG5ldyBWKC1zeCwgc3ksIC1zeiksIG5ldyBWKC1zeCwgLXN5LCBzeiksIG5ldyBWKHN4LCAtc3ksIHN6KSwgbmV3IFYoc3gsIHN5LCBzeiksIG5ldyBWKC1zeCwgc3ksIHN6KV07CiAgICAgIGNvbnN0IGZhY2VzID0gW1szLCAyLCAxLCAwXSwgLy8gLXoKICAgICAgWzQsIDUsIDYsIDddLCAvLyAregogICAgICBbNSwgNCwgMCwgMV0sIC8vIC15CiAgICAgIFsyLCAzLCA3LCA2XSwgLy8gK3kKICAgICAgWzAsIDQsIDcsIDNdLCAvLyAteAogICAgICBbMSwgMiwgNiwgNV0gLy8gK3gKICAgICAgXTsKICAgICAgY29uc3QgYXhlcyA9IFtuZXcgVigwLCAwLCAxKSwgbmV3IFYoMCwgMSwgMCksIG5ldyBWKDEsIDAsIDApXTsKICAgICAgY29uc3QgaCA9IG5ldyBDb252ZXhQb2x5aGVkcm9uKHsKICAgICAgICB2ZXJ0aWNlcywKICAgICAgICBmYWNlcywKICAgICAgICBheGVzCiAgICAgIH0pOwogICAgICB0aGlzLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiA9IGg7CiAgICAgIGgubWF0ZXJpYWwgPSB0aGlzLm1hdGVyaWFsOwogICAgfQogICAgLyoqCiAgICAgKiBAbWV0aG9kIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYQogICAgICogQHBhcmFtICB7TnVtYmVyfSBtYXNzCiAgICAgKiBAcGFyYW0gIHtWZWMzfSB0YXJnZXQKICAgICAqIEByZXR1cm4ge1ZlYzN9CiAgICAgKi8KCgogICAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgICAgQm94LmNhbGN1bGF0ZUluZXJ0aWEodGhpcy5oYWxmRXh0ZW50cywgbWFzcywgdGFyZ2V0KTsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KCiAgICBzdGF0aWMgY2FsY3VsYXRlSW5lcnRpYShoYWxmRXh0ZW50cywgbWFzcywgdGFyZ2V0KSB7CiAgICAgIGNvbnN0IGUgPSBoYWxmRXh0ZW50czsKICAgICAgdGFyZ2V0LnggPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogZS55ICogMiAqIGUueSArIDIgKiBlLnogKiAyICogZS56KTsKICAgICAgdGFyZ2V0LnkgPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogZS54ICogMiAqIGUueCArIDIgKiBlLnogKiAyICogZS56KTsKICAgICAgdGFyZ2V0LnogPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogZS55ICogMiAqIGUueSArIDIgKiBlLnggKiAyICogZS54KTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IHRoZSBib3ggNiBzaWRlIG5vcm1hbHMKICAgICAqIEBtZXRob2QgZ2V0U2lkZU5vcm1hbHMKICAgICAqIEBwYXJhbSB7YXJyYXl9ICAgICAgc2l4VGFyZ2V0VmVjdG9ycyBBbiBhcnJheSBvZiA2IHZlY3RvcnMsIHRvIHN0b3JlIHRoZSByZXN1bHRpbmcgc2lkZSBub3JtYWxzIGluLgogICAgICogQHBhcmFtIHtRdWF0ZXJuaW9ufSBxdWF0ICAgICAgICAgICAgIE9yaWVudGF0aW9uIHRvIGFwcGx5IHRvIHRoZSBub3JtYWwgdmVjdG9ycy4gSWYgbm90IHByb3ZpZGVkLCB0aGUgdmVjdG9ycyB3aWxsIGJlIGluIHJlc3BlY3QgdG8gdGhlIGxvY2FsIGZyYW1lLgogICAgICogQHJldHVybiB7YXJyYXl9CiAgICAgKi8KCgogICAgZ2V0U2lkZU5vcm1hbHMoc2l4VGFyZ2V0VmVjdG9ycywgcXVhdCkgewogICAgICBjb25zdCBzaWRlcyA9IHNpeFRhcmdldFZlY3RvcnM7CiAgICAgIGNvbnN0IGV4ID0gdGhpcy5oYWxmRXh0ZW50czsKICAgICAgc2lkZXNbMF0uc2V0KGV4LngsIDAsIDApOwogICAgICBzaWRlc1sxXS5zZXQoMCwgZXgueSwgMCk7CiAgICAgIHNpZGVzWzJdLnNldCgwLCAwLCBleC56KTsKICAgICAgc2lkZXNbM10uc2V0KC1leC54LCAwLCAwKTsKICAgICAgc2lkZXNbNF0uc2V0KDAsIC1leC55LCAwKTsKICAgICAgc2lkZXNbNV0uc2V0KDAsIDAsIC1leC56KTsKCiAgICAgIGlmIChxdWF0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gc2lkZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHF1YXQudm11bHQoc2lkZXNbaV0sIHNpZGVzW2ldKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBzaWRlczsKICAgIH0KCiAgICB2b2x1bWUoKSB7CiAgICAgIHJldHVybiA4LjAgKiB0aGlzLmhhbGZFeHRlbnRzLnggKiB0aGlzLmhhbGZFeHRlbnRzLnkgKiB0aGlzLmhhbGZFeHRlbnRzLno7CiAgICB9CgogICAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSB0aGlzLmhhbGZFeHRlbnRzLmxlbmd0aCgpOwogICAgfQoKICAgIGZvckVhY2hXb3JsZENvcm5lcihwb3MsIHF1YXQsIGNhbGxiYWNrKSB7CiAgICAgIGNvbnN0IGUgPSB0aGlzLmhhbGZFeHRlbnRzOwogICAgICBjb25zdCBjb3JuZXJzID0gW1tlLngsIGUueSwgZS56XSwgWy1lLngsIGUueSwgZS56XSwgWy1lLngsIC1lLnksIGUuel0sIFstZS54LCAtZS55LCAtZS56XSwgW2UueCwgLWUueSwgLWUuel0sIFtlLngsIGUueSwgLWUuel0sIFstZS54LCBlLnksIC1lLnpdLCBbZS54LCAtZS55LCBlLnpdXTsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29ybmVycy5sZW5ndGg7IGkrKykgewogICAgICAgIHdvcmxkQ29ybmVyVGVtcFBvcy5zZXQoY29ybmVyc1tpXVswXSwgY29ybmVyc1tpXVsxXSwgY29ybmVyc1tpXVsyXSk7CiAgICAgICAgcXVhdC52bXVsdCh3b3JsZENvcm5lclRlbXBQb3MsIHdvcmxkQ29ybmVyVGVtcFBvcyk7CiAgICAgICAgcG9zLnZhZGQod29ybGRDb3JuZXJUZW1wUG9zLCB3b3JsZENvcm5lclRlbXBQb3MpOwogICAgICAgIGNhbGxiYWNrKHdvcmxkQ29ybmVyVGVtcFBvcy54LCB3b3JsZENvcm5lclRlbXBQb3MueSwgd29ybGRDb3JuZXJUZW1wUG9zLnopOwogICAgICB9CiAgICB9CgogICAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHsKICAgICAgY29uc3QgZSA9IHRoaXMuaGFsZkV4dGVudHM7CiAgICAgIHdvcmxkQ29ybmVyc1RlbXBbMF0uc2V0KGUueCwgZS55LCBlLnopOwogICAgICB3b3JsZENvcm5lcnNUZW1wWzFdLnNldCgtZS54LCBlLnksIGUueik7CiAgICAgIHdvcmxkQ29ybmVyc1RlbXBbMl0uc2V0KC1lLngsIC1lLnksIGUueik7CiAgICAgIHdvcmxkQ29ybmVyc1RlbXBbM10uc2V0KC1lLngsIC1lLnksIC1lLnopOwogICAgICB3b3JsZENvcm5lcnNUZW1wWzRdLnNldChlLngsIC1lLnksIC1lLnopOwogICAgICB3b3JsZENvcm5lcnNUZW1wWzVdLnNldChlLngsIGUueSwgLWUueik7CiAgICAgIHdvcmxkQ29ybmVyc1RlbXBbNl0uc2V0KC1lLngsIGUueSwgLWUueik7CiAgICAgIHdvcmxkQ29ybmVyc1RlbXBbN10uc2V0KGUueCwgLWUueSwgZS56KTsKICAgICAgY29uc3Qgd2MgPSB3b3JsZENvcm5lcnNUZW1wWzBdOwogICAgICBxdWF0LnZtdWx0KHdjLCB3Yyk7CiAgICAgIHBvcy52YWRkKHdjLCB3Yyk7CiAgICAgIG1heC5jb3B5KHdjKTsKICAgICAgbWluLmNvcHkod2MpOwoKICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCA4OyBpKyspIHsKICAgICAgICBjb25zdCB3YyA9IHdvcmxkQ29ybmVyc1RlbXBbaV07CiAgICAgICAgcXVhdC52bXVsdCh3Yywgd2MpOwogICAgICAgIHBvcy52YWRkKHdjLCB3Yyk7CiAgICAgICAgY29uc3QgeCA9IHdjLng7CiAgICAgICAgY29uc3QgeSA9IHdjLnk7CiAgICAgICAgY29uc3QgeiA9IHdjLno7CgogICAgICAgIGlmICh4ID4gbWF4LngpIHsKICAgICAgICAgIG1heC54ID0geDsKICAgICAgICB9CgogICAgICAgIGlmICh5ID4gbWF4LnkpIHsKICAgICAgICAgIG1heC55ID0geTsKICAgICAgICB9CgogICAgICAgIGlmICh6ID4gbWF4LnopIHsKICAgICAgICAgIG1heC56ID0gejsKICAgICAgICB9CgogICAgICAgIGlmICh4IDwgbWluLngpIHsKICAgICAgICAgIG1pbi54ID0geDsKICAgICAgICB9CgogICAgICAgIGlmICh5IDwgbWluLnkpIHsKICAgICAgICAgIG1pbi55ID0geTsKICAgICAgICB9CgogICAgICAgIGlmICh6IDwgbWluLnopIHsKICAgICAgICAgIG1pbi56ID0gejsKICAgICAgICB9CiAgICAgIH0gLy8gR2V0IGVhY2ggYXhpcyBtYXgKICAgICAgLy8gbWluLnNldChJbmZpbml0eSxJbmZpbml0eSxJbmZpbml0eSk7CiAgICAgIC8vIG1heC5zZXQoLUluZmluaXR5LC1JbmZpbml0eSwtSW5maW5pdHkpOwogICAgICAvLyB0aGlzLmZvckVhY2hXb3JsZENvcm5lcihwb3MscXVhdCxmdW5jdGlvbih4LHkseil7CiAgICAgIC8vICAgICBpZih4ID4gbWF4LngpewogICAgICAvLyAgICAgICAgIG1heC54ID0geDsKICAgICAgLy8gICAgIH0KICAgICAgLy8gICAgIGlmKHkgPiBtYXgueSl7CiAgICAgIC8vICAgICAgICAgbWF4LnkgPSB5OwogICAgICAvLyAgICAgfQogICAgICAvLyAgICAgaWYoeiA+IG1heC56KXsKICAgICAgLy8gICAgICAgICBtYXgueiA9IHo7CiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgICBpZih4IDwgbWluLngpewogICAgICAvLyAgICAgICAgIG1pbi54ID0geDsKICAgICAgLy8gICAgIH0KICAgICAgLy8gICAgIGlmKHkgPCBtaW4ueSl7CiAgICAgIC8vICAgICAgICAgbWluLnkgPSB5OwogICAgICAvLyAgICAgfQogICAgICAvLyAgICAgaWYoeiA8IG1pbi56KXsKICAgICAgLy8gICAgICAgICBtaW4ueiA9IHo7CiAgICAgIC8vICAgICB9CiAgICAgIC8vIH0pOwoKICAgIH0KCiAgfQoKICBjb25zdCB3b3JsZENvcm5lclRlbXBQb3MgPSBuZXcgVmVjMygpOwogIGNvbnN0IHdvcmxkQ29ybmVyc1RlbXAgPSBbbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKV07CiAgY29uc3QgQk9EWV9TTEVFUF9TVEFURVMgPSB7CiAgICBBV0FLRTogMCwKICAgIFNMRUVQWTogMSwKICAgIFNMRUVQSU5HOiAyCiAgfTsKICAvKioKICAgKiBCYXNlIGNsYXNzIGZvciBhbGwgYm9keSB0eXBlcy4KICAgKiBAY2xhc3MgQm9keQogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBleHRlbmRzIEV2ZW50VGFyZ2V0CiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQogICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucG9zaXRpb25dCiAgICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy52ZWxvY2l0eV0KICAgKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmFuZ3VsYXJWZWxvY2l0eV0KICAgKiBAcGFyYW0ge1F1YXRlcm5pb259IFtvcHRpb25zLnF1YXRlcm5pb25dCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1hc3NdCiAgICogQHBhcmFtIHtNYXRlcmlhbH0gW29wdGlvbnMubWF0ZXJpYWxdCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnR5cGVdCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxpbmVhckRhbXBpbmc9MC4wMV0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYW5ndWxhckRhbXBpbmc9MC4wMV0KICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmFsbG93U2xlZXA9dHJ1ZV0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2xlZXBTcGVlZExpbWl0PTAuMV0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2xlZXBUaW1lTGltaXQ9MV0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXA9MV0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV0KICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZpeGVkUm90YXRpb249ZmFsc2VdCiAgICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5saW5lYXJGYWN0b3JdCiAgICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5hbmd1bGFyRmFjdG9yXQogICAqIEBwYXJhbSB7U2hhcGV9IFtvcHRpb25zLnNoYXBlXQogICAqIEBleGFtcGxlCiAgICogICAgIGNvbnN0IGJvZHkgPSBuZXcgQm9keSh7CiAgICogICAgICAgICBtYXNzOiAxCiAgICogICAgIH0pOwogICAqICAgICBjb25zdCBzaGFwZSA9IG5ldyBTcGhlcmUoMSk7CiAgICogICAgIGJvZHkuYWRkU2hhcGUoc2hhcGUpOwogICAqICAgICB3b3JsZC5hZGRCb2R5KGJvZHkpOwogICAqLwoKICBjbGFzcyBCb2R5IGV4dGVuZHMgRXZlbnRUYXJnZXQgewogICAgLy8gUG9zaXRpb24gb2YgYm9keSBpbiBXb3JsZC5ib2RpZXMuIFVwZGF0ZWQgYnkgV29ybGQgYW5kIHVzZWQgaW4gQXJyYXlDb2xsaXNpb25NYXRyaXguCiAgICAvLyBSZWZlcmVuY2UgdG8gdGhlIHdvcmxkIHRoZSBib2R5IGlzIGxpdmluZyBpbi4KICAgIC8vIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCBCRUZPUkUgc3RlcHBpbmcgdGhlIHN5c3RlbS4gVXNlIGl0IHRvIGFwcGx5IGZvcmNlcywgZm9yIGV4YW1wbGUuIEluc2lkZSB0aGUgZnVuY3Rpb24sICJ0aGlzIiB3aWxsIHJlZmVyIHRvIHRoaXMgQm9keSBvYmplY3QuIERlcHJlY2F0ZWQgLSB1c2UgV29ybGQgZXZlbnRzIGluc3RlYWQuCiAgICAvLyBDYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgQUZURVIgc3RlcHBpbmcgdGhlIHN5c3RlbS4gSW5zaWRlIHRoZSBmdW5jdGlvbiwgInRoaXMiIHdpbGwgcmVmZXIgdG8gdGhpcyBCb2R5IG9iamVjdC4gRGVwcmVjYXRlZCAtIHVzZSBXb3JsZCBldmVudHMgaW5zdGVhZC4KICAgIC8vIFdoZXRoZXIgdG8gcHJvZHVjZSBjb250YWN0IGZvcmNlcyB3aGVuIGluIGNvbnRhY3Qgd2l0aCBvdGhlciBib2RpZXMuIE5vdGUgdGhhdCBjb250YWN0cyB3aWxsIGJlIGdlbmVyYXRlZCwgYnV0IHRoZXkgd2lsbCBiZSBkaXNhYmxlZCAtIGkuZS4gImNvbGxpZGUiIGV2ZW50cyB3aWxsIGJlIHJhaXNlZCwgYnV0IGZvcmNlcyB3aWxsIG5vdCBiZSBhbHRlcmVkLgogICAgLy8gV29ybGQgc3BhY2UgcG9zaXRpb24gb2YgdGhlIGJvZHkuCiAgICAvLyBJbnRlcnBvbGF0ZWQgcG9zaXRpb24gb2YgdGhlIGJvZHkuCiAgICAvLyBJbml0aWFsIHBvc2l0aW9uIG9mIHRoZSBib2R5LgogICAgLy8gV29ybGQgc3BhY2UgdmVsb2NpdHkgb2YgdGhlIGJvZHkuCiAgICAvLyBMaW5lYXIgZm9yY2Ugb24gdGhlIGJvZHkgaW4gd29ybGQgc3BhY2UuCiAgICAvLyBPbmUgb2Y6IEJvZHkuRFlOQU1JQywgQm9keS5TVEFUSUMgYW5kIEJvZHkuS0lORU1BVElDLgogICAgLy8gSWYgdHJ1ZSwgdGhlIGJvZHkgd2lsbCBhdXRvbWF0aWNhbGx5IGZhbGwgdG8gc2xlZXAuCiAgICAvLyBDdXJyZW50IHNsZWVwIHN0YXRlLgogICAgLy8gSWYgdGhlIHNwZWVkICh0aGUgbm9ybSBvZiB0aGUgdmVsb2NpdHkpIGlzIHNtYWxsZXIgdGhhbiB0aGlzIHZhbHVlLCB0aGUgYm9keSBpcyBjb25zaWRlcmVkIHNsZWVweS4KICAgIC8vIElmIHRoZSBib2R5IGhhcyBiZWVuIHNsZWVweSBmb3IgdGhpcyBzbGVlcFRpbWVMaW1pdCBzZWNvbmRzLCBpdCBpcyBjb25zaWRlcmVkIHNsZWVwaW5nLgogICAgLy8gV29ybGQgc3BhY2Ugcm90YXRpb25hbCBmb3JjZSBvbiB0aGUgYm9keSwgYXJvdW5kIGNlbnRlciBvZiBtYXNzLgogICAgLy8gV29ybGQgc3BhY2Ugb3JpZW50YXRpb24gb2YgdGhlIGJvZHkuCiAgICAvLyBJbnRlcnBvbGF0ZWQgb3JpZW50YXRpb24gb2YgdGhlIGJvZHkuCiAgICAvLyBBbmd1bGFyIHZlbG9jaXR5IG9mIHRoZSBib2R5LCBpbiB3b3JsZCBzcGFjZS4gVGhpbmsgb2YgdGhlIGFuZ3VsYXIgdmVsb2NpdHkgYXMgYSB2ZWN0b3IsIHdoaWNoIHRoZSBib2R5IHJvdGF0ZXMgYXJvdW5kLiBUaGUgbGVuZ3RoIG9mIHRoaXMgdmVjdG9yIGRldGVybWluZXMgaG93IGZhc3QgKGluIHJhZGlhbnMgcGVyIHNlY29uZCkgdGhlIGJvZHkgcm90YXRlcy4KICAgIC8vIFBvc2l0aW9uIG9mIGVhY2ggU2hhcGUgaW4gdGhlIGJvZHksIGdpdmVuIGluIGxvY2FsIEJvZHkgc3BhY2UuCiAgICAvLyBPcmllbnRhdGlvbiBvZiBlYWNoIFNoYXBlLCBnaXZlbiBpbiBsb2NhbCBCb2R5IHNwYWNlLgogICAgLy8gU2V0IHRvIHRydWUgaWYgeW91IGRvbid0IHdhbnQgdGhlIGJvZHkgdG8gcm90YXRlLiBNYWtlIHN1cmUgdG8gcnVuIC51cGRhdGVNYXNzUHJvcGVydGllcygpIGFmdGVyIGNoYW5naW5nIHRoaXMuCiAgICAvLyBVc2UgdGhpcyBwcm9wZXJ0eSB0byBsaW1pdCB0aGUgbW90aW9uIGFsb25nIGFueSB3b3JsZCBheGlzLiAoMSwxLDEpIHdpbGwgYWxsb3cgbW90aW9uIGFsb25nIGFsbCBheGVzIHdoaWxlICgwLDAsMCkgYWxsb3dzIG5vbmUuCiAgICAvLyBVc2UgdGhpcyBwcm9wZXJ0eSB0byBsaW1pdCB0aGUgcm90YXRpb25hbCBtb3Rpb24gYWxvbmcgYW55IHdvcmxkIGF4aXMuICgxLDEsMSkgd2lsbCBhbGxvdyByb3RhdGlvbiBhbG9uZyBhbGwgYXhlcyB3aGlsZSAoMCwwLDApIGFsbG93cyBub25lLgogICAgLy8gV29ybGQgc3BhY2UgYm91bmRpbmcgYm94IG9mIHRoZSBib2R5IGFuZCBpdHMgc2hhcGVzLgogICAgLy8gSW5kaWNhdGVzIGlmIHRoZSBBQUJCIG5lZWRzIHRvIGJlIHVwZGF0ZWQgYmVmb3JlIHVzZS4KICAgIC8vIFRvdGFsIGJvdW5kaW5nIHJhZGl1cyBvZiB0aGUgQm9keSBpbmNsdWRpbmcgaXRzIHNoYXBlcywgcmVsYXRpdmUgdG8gYm9keS5wb3NpdGlvbi4KICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkgewogICAgICBzdXBlcigpOwogICAgICB0aGlzLmlkID0gQm9keS5pZENvdW50ZXIrKzsKICAgICAgdGhpcy5pbmRleCA9IC0xOwogICAgICB0aGlzLndvcmxkID0gbnVsbDsKICAgICAgdGhpcy5wcmVTdGVwID0gbnVsbDsKICAgICAgdGhpcy5wb3N0U3RlcCA9IG51bGw7CiAgICAgIHRoaXMudmxhbWJkYSA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPSB0eXBlb2Ygb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCA9PT0gJ251bWJlcicgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwIDogMTsKICAgICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrID0gdHlwZW9mIG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayA9PT0gJ251bWJlcicgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgOiAtMTsKICAgICAgdGhpcy5jb2xsaXNpb25SZXNwb25zZSA9IHR5cGVvZiBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlID09PSAnYm9vbGVhbicgPyBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlIDogdHJ1ZTsKICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbiA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMuaW50ZXJwb2xhdGVkUG9zaXRpb24gPSBuZXcgVmVjMygpOwogICAgICB0aGlzLmluaXRQb3NpdGlvbiA9IG5ldyBWZWMzKCk7CgogICAgICBpZiAob3B0aW9ucy5wb3NpdGlvbikgewogICAgICAgIHRoaXMucG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTsKICAgICAgICB0aGlzLnByZXZpb3VzUG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTsKICAgICAgICB0aGlzLmludGVycG9sYXRlZFBvc2l0aW9uLmNvcHkob3B0aW9ucy5wb3NpdGlvbik7CiAgICAgICAgdGhpcy5pbml0UG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTsKICAgICAgfQoKICAgICAgdGhpcy52ZWxvY2l0eSA9IG5ldyBWZWMzKCk7CgogICAgICBpZiAob3B0aW9ucy52ZWxvY2l0eSkgewogICAgICAgIHRoaXMudmVsb2NpdHkuY29weShvcHRpb25zLnZlbG9jaXR5KTsKICAgICAgfQoKICAgICAgdGhpcy5pbml0VmVsb2NpdHkgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLmZvcmNlID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgbWFzcyA9IHR5cGVvZiBvcHRpb25zLm1hc3MgPT09ICdudW1iZXInID8gb3B0aW9ucy5tYXNzIDogMDsKICAgICAgdGhpcy5tYXNzID0gbWFzczsKICAgICAgdGhpcy5pbnZNYXNzID0gbWFzcyA+IDAgPyAxLjAgLyBtYXNzIDogMDsKICAgICAgdGhpcy5tYXRlcmlhbCA9IG9wdGlvbnMubWF0ZXJpYWwgfHwgbnVsbDsKICAgICAgdGhpcy5saW5lYXJEYW1waW5nID0gdHlwZW9mIG9wdGlvbnMubGluZWFyRGFtcGluZyA9PT0gJ251bWJlcicgPyBvcHRpb25zLmxpbmVhckRhbXBpbmcgOiAwLjAxOwogICAgICB0aGlzLnR5cGUgPSBtYXNzIDw9IDAuMCA/IEJvZHkuU1RBVElDIDogQm9keS5EWU5BTUlDOwoKICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnR5cGUgPT09IHR5cGVvZiBCb2R5LlNUQVRJQykgewogICAgICAgIHRoaXMudHlwZSA9IG9wdGlvbnMudHlwZTsKICAgICAgfQoKICAgICAgdGhpcy5hbGxvd1NsZWVwID0gdHlwZW9mIG9wdGlvbnMuYWxsb3dTbGVlcCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmFsbG93U2xlZXAgOiB0cnVlOwogICAgICB0aGlzLnNsZWVwU3RhdGUgPSBCb2R5LkFXQUtFOwogICAgICB0aGlzLnNsZWVwU3BlZWRMaW1pdCA9IHR5cGVvZiBvcHRpb25zLnNsZWVwU3BlZWRMaW1pdCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLnNsZWVwU3BlZWRMaW1pdCA6IDAuMTsKICAgICAgdGhpcy5zbGVlcFRpbWVMaW1pdCA9IHR5cGVvZiBvcHRpb25zLnNsZWVwVGltZUxpbWl0ICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuc2xlZXBUaW1lTGltaXQgOiAxOwogICAgICB0aGlzLnRpbWVMYXN0U2xlZXB5ID0gMDsKICAgICAgdGhpcy53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gZmFsc2U7CiAgICAgIHRoaXMudG9ycXVlID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy5xdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTsKICAgICAgdGhpcy5pbml0UXVhdGVybmlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7CiAgICAgIHRoaXMucHJldmlvdXNRdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTsKICAgICAgdGhpcy5pbnRlcnBvbGF0ZWRRdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTsKCiAgICAgIGlmIChvcHRpb25zLnF1YXRlcm5pb24pIHsKICAgICAgICB0aGlzLnF1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pOwogICAgICAgIHRoaXMuaW5pdFF1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pOwogICAgICAgIHRoaXMucHJldmlvdXNRdWF0ZXJuaW9uLmNvcHkob3B0aW9ucy5xdWF0ZXJuaW9uKTsKICAgICAgICB0aGlzLmludGVycG9sYXRlZFF1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pOwogICAgICB9CgogICAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eSA9IG5ldyBWZWMzKCk7CgogICAgICBpZiAob3B0aW9ucy5hbmd1bGFyVmVsb2NpdHkpIHsKICAgICAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eS5jb3B5KG9wdGlvbnMuYW5ndWxhclZlbG9jaXR5KTsKICAgICAgfQoKICAgICAgdGhpcy5pbml0QW5ndWxhclZlbG9jaXR5ID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy5zaGFwZXMgPSBbXTsKICAgICAgdGhpcy5zaGFwZU9mZnNldHMgPSBbXTsKICAgICAgdGhpcy5zaGFwZU9yaWVudGF0aW9ucyA9IFtdOwogICAgICB0aGlzLmluZXJ0aWEgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLmludkluZXJ0aWEgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLmludkluZXJ0aWFXb3JsZCA9IG5ldyBNYXQzKCk7CiAgICAgIHRoaXMuaW52TWFzc1NvbHZlID0gMDsKICAgICAgdGhpcy5pbnZJbmVydGlhU29sdmUgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLmludkluZXJ0aWFXb3JsZFNvbHZlID0gbmV3IE1hdDMoKTsKICAgICAgdGhpcy5maXhlZFJvdGF0aW9uID0gdHlwZW9mIG9wdGlvbnMuZml4ZWRSb3RhdGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmZpeGVkUm90YXRpb24gOiBmYWxzZTsKICAgICAgdGhpcy5hbmd1bGFyRGFtcGluZyA9IHR5cGVvZiBvcHRpb25zLmFuZ3VsYXJEYW1waW5nICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuYW5ndWxhckRhbXBpbmcgOiAwLjAxOwogICAgICB0aGlzLmxpbmVhckZhY3RvciA9IG5ldyBWZWMzKDEsIDEsIDEpOwoKICAgICAgaWYgKG9wdGlvbnMubGluZWFyRmFjdG9yKSB7CiAgICAgICAgdGhpcy5saW5lYXJGYWN0b3IuY29weShvcHRpb25zLmxpbmVhckZhY3Rvcik7CiAgICAgIH0KCiAgICAgIHRoaXMuYW5ndWxhckZhY3RvciA9IG5ldyBWZWMzKDEsIDEsIDEpOwoKICAgICAgaWYgKG9wdGlvbnMuYW5ndWxhckZhY3RvcikgewogICAgICAgIHRoaXMuYW5ndWxhckZhY3Rvci5jb3B5KG9wdGlvbnMuYW5ndWxhckZhY3Rvcik7CiAgICAgIH0KCiAgICAgIHRoaXMuYWFiYiA9IG5ldyBBQUJCKCk7CiAgICAgIHRoaXMuYWFiYk5lZWRzVXBkYXRlID0gdHJ1ZTsKICAgICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IDA7CiAgICAgIHRoaXMud2xhbWJkYSA9IG5ldyBWZWMzKCk7CgogICAgICBpZiAob3B0aW9ucy5zaGFwZSkgewogICAgICAgIHRoaXMuYWRkU2hhcGUob3B0aW9ucy5zaGFwZSk7CiAgICAgIH0KCiAgICAgIHRoaXMudXBkYXRlTWFzc1Byb3BlcnRpZXMoKTsKICAgIH0KICAgIC8qKgogICAgICogV2FrZSB0aGUgYm9keSB1cC4KICAgICAqIEBtZXRob2Qgd2FrZVVwCiAgICAgKi8KCgogICAgd2FrZVVwKCkgewogICAgICBjb25zdCBwcmV2U3RhdGUgPSB0aGlzLnNsZWVwU3RhdGU7CiAgICAgIHRoaXMuc2xlZXBTdGF0ZSA9IEJvZHkuQVdBS0U7CiAgICAgIHRoaXMud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IGZhbHNlOwoKICAgICAgaWYgKHByZXZTdGF0ZSA9PT0gQm9keS5TTEVFUElORykgewogICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChCb2R5Lndha2V1cEV2ZW50KTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBGb3JjZSBib2R5IHNsZWVwCiAgICAgKiBAbWV0aG9kIHNsZWVwCiAgICAgKi8KCgogICAgc2xlZXAoKSB7CiAgICAgIHRoaXMuc2xlZXBTdGF0ZSA9IEJvZHkuU0xFRVBJTkc7CiAgICAgIHRoaXMudmVsb2NpdHkuc2V0KDAsIDAsIDApOwogICAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eS5zZXQoMCwgMCwgMCk7CiAgICAgIHRoaXMud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IGZhbHNlOwogICAgfQogICAgLyoqCiAgICAgKiBDYWxsZWQgZXZlcnkgdGltZXN0ZXAgdG8gdXBkYXRlIGludGVybmFsIHNsZWVwIHRpbWVyIGFuZCBjaGFuZ2Ugc2xlZXAgc3RhdGUgaWYgbmVlZGVkLgogICAgICogQG1ldGhvZCBzbGVlcFRpY2sKICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lIFRoZSB3b3JsZCB0aW1lIGluIHNlY29uZHMKICAgICAqLwoKCiAgICBzbGVlcFRpY2sodGltZSkgewogICAgICBpZiAodGhpcy5hbGxvd1NsZWVwKSB7CiAgICAgICAgY29uc3Qgc2xlZXBTdGF0ZSA9IHRoaXMuc2xlZXBTdGF0ZTsKICAgICAgICBjb25zdCBzcGVlZFNxdWFyZWQgPSB0aGlzLnZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKSArIHRoaXMuYW5ndWxhclZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKTsKICAgICAgICBjb25zdCBzcGVlZExpbWl0U3F1YXJlZCA9IHRoaXMuc2xlZXBTcGVlZExpbWl0ICoqIDI7CgogICAgICAgIGlmIChzbGVlcFN0YXRlID09PSBCb2R5LkFXQUtFICYmIHNwZWVkU3F1YXJlZCA8IHNwZWVkTGltaXRTcXVhcmVkKSB7CiAgICAgICAgICB0aGlzLnNsZWVwU3RhdGUgPSBCb2R5LlNMRUVQWTsgLy8gU2xlZXB5CgogICAgICAgICAgdGhpcy50aW1lTGFzdFNsZWVweSA9IHRpbWU7CiAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoQm9keS5zbGVlcHlFdmVudCk7CiAgICAgICAgfSBlbHNlIGlmIChzbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQWSAmJiBzcGVlZFNxdWFyZWQgPiBzcGVlZExpbWl0U3F1YXJlZCkgewogICAgICAgICAgdGhpcy53YWtlVXAoKTsgLy8gV2FrZSB1cAogICAgICAgIH0gZWxzZSBpZiAoc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUFkgJiYgdGltZSAtIHRoaXMudGltZUxhc3RTbGVlcHkgPiB0aGlzLnNsZWVwVGltZUxpbWl0KSB7CiAgICAgICAgICB0aGlzLnNsZWVwKCk7IC8vIFNsZWVwaW5nCgogICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KEJvZHkuc2xlZXBFdmVudCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIElmIHRoZSBib2R5IGlzIHNsZWVwaW5nLCBpdCBzaG91bGQgYmUgaW1tb3ZhYmxlIC8gaGF2ZSBpbmZpbml0ZSBtYXNzIGR1cmluZyBzb2x2ZS4gV2Ugc29sdmUgaXQgYnkgaGF2aW5nIGEgc2VwYXJhdGUgInNvbHZlIG1hc3MiLgogICAgICogQG1ldGhvZCB1cGRhdGVTb2x2ZU1hc3NQcm9wZXJ0aWVzCiAgICAgKi8KCgogICAgdXBkYXRlU29sdmVNYXNzUHJvcGVydGllcygpIHsKICAgICAgaWYgKHRoaXMuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORyB8fCB0aGlzLnR5cGUgPT09IEJvZHkuS0lORU1BVElDKSB7CiAgICAgICAgdGhpcy5pbnZNYXNzU29sdmUgPSAwOwogICAgICAgIHRoaXMuaW52SW5lcnRpYVNvbHZlLnNldFplcm8oKTsKICAgICAgICB0aGlzLmludkluZXJ0aWFXb3JsZFNvbHZlLnNldFplcm8oKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmludk1hc3NTb2x2ZSA9IHRoaXMuaW52TWFzczsKICAgICAgICB0aGlzLmludkluZXJ0aWFTb2x2ZS5jb3B5KHRoaXMuaW52SW5lcnRpYSk7CiAgICAgICAgdGhpcy5pbnZJbmVydGlhV29ybGRTb2x2ZS5jb3B5KHRoaXMuaW52SW5lcnRpYVdvcmxkKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBDb252ZXJ0IGEgd29ybGQgcG9pbnQgdG8gbG9jYWwgYm9keSBmcmFtZS4KICAgICAqIEBtZXRob2QgcG9pbnRUb0xvY2FsRnJhbWUKICAgICAqIEBwYXJhbSAge1ZlYzN9IHdvcmxkUG9pbnQKICAgICAqIEBwYXJhbSAge1ZlYzN9IHJlc3VsdAogICAgICogQHJldHVybiB7VmVjM30KICAgICAqLwoKCiAgICBwb2ludFRvTG9jYWxGcmFtZSh3b3JsZFBvaW50LCByZXN1bHQgPSBuZXcgVmVjMygpKSB7CiAgICAgIHdvcmxkUG9pbnQudnN1Yih0aGlzLnBvc2l0aW9uLCByZXN1bHQpOwogICAgICB0aGlzLnF1YXRlcm5pb24uY29uanVnYXRlKCkudm11bHQocmVzdWx0LCByZXN1bHQpOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQogICAgLyoqCiAgICAgKiBDb252ZXJ0IGEgd29ybGQgdmVjdG9yIHRvIGxvY2FsIGJvZHkgZnJhbWUuCiAgICAgKiBAbWV0aG9kIHZlY3RvclRvTG9jYWxGcmFtZQogICAgICogQHBhcmFtICB7VmVjM30gd29ybGRQb2ludAogICAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0CiAgICAgKiBAcmV0dXJuIHtWZWMzfQogICAgICovCgoKICAgIHZlY3RvclRvTG9jYWxGcmFtZSh3b3JsZFZlY3RvciwgcmVzdWx0ID0gbmV3IFZlYzMoKSkgewogICAgICB0aGlzLnF1YXRlcm5pb24uY29uanVnYXRlKCkudm11bHQod29ybGRWZWN0b3IsIHJlc3VsdCk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICAvKioKICAgICAqIENvbnZlcnQgYSBsb2NhbCBib2R5IHBvaW50IHRvIHdvcmxkIGZyYW1lLgogICAgICogQG1ldGhvZCBwb2ludFRvV29ybGRGcmFtZQogICAgICogQHBhcmFtICB7VmVjM30gbG9jYWxQb2ludAogICAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0CiAgICAgKiBAcmV0dXJuIHtWZWMzfQogICAgICovCgoKICAgIHBvaW50VG9Xb3JsZEZyYW1lKGxvY2FsUG9pbnQsIHJlc3VsdCA9IG5ldyBWZWMzKCkpIHsKICAgICAgdGhpcy5xdWF0ZXJuaW9uLnZtdWx0KGxvY2FsUG9pbnQsIHJlc3VsdCk7CiAgICAgIHJlc3VsdC52YWRkKHRoaXMucG9zaXRpb24sIHJlc3VsdCk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICAvKioKICAgICAqIENvbnZlcnQgYSBsb2NhbCBib2R5IHBvaW50IHRvIHdvcmxkIGZyYW1lLgogICAgICogQG1ldGhvZCB2ZWN0b3JUb1dvcmxkRnJhbWUKICAgICAqIEBwYXJhbSAge1ZlYzN9IGxvY2FsVmVjdG9yCiAgICAgKiBAcGFyYW0gIHtWZWMzfSByZXN1bHQKICAgICAqIEByZXR1cm4ge1ZlYzN9CiAgICAgKi8KCgogICAgdmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsVmVjdG9yLCByZXN1bHQgPSBuZXcgVmVjMygpKSB7CiAgICAgIHRoaXMucXVhdGVybmlvbi52bXVsdChsb2NhbFZlY3RvciwgcmVzdWx0KTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICAgIC8qKgogICAgICogQWRkIGEgc2hhcGUgdG8gdGhlIGJvZHkgd2l0aCBhIGxvY2FsIG9mZnNldCBhbmQgb3JpZW50YXRpb24uCiAgICAgKiBAbWV0aG9kIGFkZFNoYXBlCiAgICAgKiBAcGFyYW0ge1NoYXBlfSBzaGFwZQogICAgICogQHBhcmFtIHtWZWMzfSBbX29mZnNldF0KICAgICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gW19vcmllbnRhdGlvbl0KICAgICAqIEByZXR1cm4ge0JvZHl9IFRoZSBib2R5IG9iamVjdCwgZm9yIGNoYWluYWJpbGl0eS4KICAgICAqLwoKCiAgICBhZGRTaGFwZShzaGFwZSwgX29mZnNldCwgX29yaWVudGF0aW9uKSB7CiAgICAgIGNvbnN0IG9mZnNldCA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IG9yaWVudGF0aW9uID0gbmV3IFF1YXRlcm5pb24oKTsKCiAgICAgIGlmIChfb2Zmc2V0KSB7CiAgICAgICAgb2Zmc2V0LmNvcHkoX29mZnNldCk7CiAgICAgIH0KCiAgICAgIGlmIChfb3JpZW50YXRpb24pIHsKICAgICAgICBvcmllbnRhdGlvbi5jb3B5KF9vcmllbnRhdGlvbik7CiAgICAgIH0KCiAgICAgIHRoaXMuc2hhcGVzLnB1c2goc2hhcGUpOwogICAgICB0aGlzLnNoYXBlT2Zmc2V0cy5wdXNoKG9mZnNldCk7CiAgICAgIHRoaXMuc2hhcGVPcmllbnRhdGlvbnMucHVzaChvcmllbnRhdGlvbik7CiAgICAgIHRoaXMudXBkYXRlTWFzc1Byb3BlcnRpZXMoKTsKICAgICAgdGhpcy51cGRhdGVCb3VuZGluZ1JhZGl1cygpOwogICAgICB0aGlzLmFhYmJOZWVkc1VwZGF0ZSA9IHRydWU7CiAgICAgIHNoYXBlLmJvZHkgPSB0aGlzOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIC8qKgogICAgICogUmVtb3ZlIGEgc2hhcGUgZnJvbSB0aGUgYm9keS4KICAgICAqIEBtZXRob2QgcmVtb3ZlU2hhcGUKICAgICAqIEBwYXJhbSB7U2hhcGV9IHNoYXBlCiAgICAgKiBAcmV0dXJuIHtCb2R5fSBUaGUgYm9keSBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuCiAgICAgKi8KCgogICAgcmVtb3ZlU2hhcGUoc2hhcGUpIHsKICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnNoYXBlcy5pbmRleE9mKHNoYXBlKTsKCiAgICAgIGlmIChpbmRleCA9PT0gLTEpIHsKICAgICAgICBjb25zb2xlLndhcm4oJ1NoYXBlIGRvZXMgbm90IGJlbG9uZyB0byB0aGUgYm9keScpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9CgogICAgICB0aGlzLnNoYXBlcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB0aGlzLnNoYXBlT2Zmc2V0cy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB0aGlzLnNoYXBlT3JpZW50YXRpb25zLnNwbGljZShpbmRleCwgMSk7CiAgICAgIHRoaXMudXBkYXRlTWFzc1Byb3BlcnRpZXMoKTsKICAgICAgdGhpcy51cGRhdGVCb3VuZGluZ1JhZGl1cygpOwogICAgICB0aGlzLmFhYmJOZWVkc1VwZGF0ZSA9IHRydWU7CiAgICAgIHNoYXBlLmJvZHkgPSBudWxsOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIC8qKgogICAgICogVXBkYXRlIHRoZSBib3VuZGluZyByYWRpdXMgb2YgdGhlIGJvZHkuIFNob3VsZCBiZSBkb25lIGlmIGFueSBvZiB0aGUgc2hhcGVzIGFyZSBjaGFuZ2VkLgogICAgICogQG1ldGhvZCB1cGRhdGVCb3VuZGluZ1JhZGl1cwogICAgICovCgoKICAgIHVwZGF0ZUJvdW5kaW5nUmFkaXVzKCkgewogICAgICBjb25zdCBzaGFwZXMgPSB0aGlzLnNoYXBlczsKICAgICAgY29uc3Qgc2hhcGVPZmZzZXRzID0gdGhpcy5zaGFwZU9mZnNldHM7CiAgICAgIGNvbnN0IE4gPSBzaGFwZXMubGVuZ3RoOwogICAgICBsZXQgcmFkaXVzID0gMDsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgICBjb25zdCBzaGFwZSA9IHNoYXBlc1tpXTsKICAgICAgICBzaGFwZS51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOwogICAgICAgIGNvbnN0IG9mZnNldCA9IHNoYXBlT2Zmc2V0c1tpXS5sZW5ndGgoKTsKICAgICAgICBjb25zdCByID0gc2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXM7CgogICAgICAgIGlmIChvZmZzZXQgKyByID4gcmFkaXVzKSB7CiAgICAgICAgICByYWRpdXMgPSBvZmZzZXQgKyByOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IHJhZGl1czsKICAgIH0KICAgIC8qKgogICAgICogVXBkYXRlcyB0aGUgLmFhYmIKICAgICAqIEBtZXRob2QgdXBkYXRlQUFCQgogICAgICovCgoKICAgIHVwZGF0ZUFBQkIoKSB7CiAgICAgIGNvbnN0IHNoYXBlcyA9IHRoaXMuc2hhcGVzOwogICAgICBjb25zdCBzaGFwZU9mZnNldHMgPSB0aGlzLnNoYXBlT2Zmc2V0czsKICAgICAgY29uc3Qgc2hhcGVPcmllbnRhdGlvbnMgPSB0aGlzLnNoYXBlT3JpZW50YXRpb25zOwogICAgICBjb25zdCBOID0gc2hhcGVzLmxlbmd0aDsKICAgICAgY29uc3Qgb2Zmc2V0ID0gdG1wVmVjOwogICAgICBjb25zdCBvcmllbnRhdGlvbiA9IHRtcFF1YXQkMTsKICAgICAgY29uc3QgYm9keVF1YXQgPSB0aGlzLnF1YXRlcm5pb247CiAgICAgIGNvbnN0IGFhYmIgPSB0aGlzLmFhYmI7CiAgICAgIGNvbnN0IHNoYXBlQUFCQiA9IHVwZGF0ZUFBQkJfc2hhcGVBQUJCOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICAgIGNvbnN0IHNoYXBlID0gc2hhcGVzW2ldOyAvLyBHZXQgc2hhcGUgd29ybGQgcG9zaXRpb24KCiAgICAgICAgYm9keVF1YXQudm11bHQoc2hhcGVPZmZzZXRzW2ldLCBvZmZzZXQpOwogICAgICAgIG9mZnNldC52YWRkKHRoaXMucG9zaXRpb24sIG9mZnNldCk7IC8vIEdldCBzaGFwZSB3b3JsZCBxdWF0ZXJuaW9uCgogICAgICAgIGJvZHlRdWF0Lm11bHQoc2hhcGVPcmllbnRhdGlvbnNbaV0sIG9yaWVudGF0aW9uKTsgLy8gR2V0IHNoYXBlIEFBQkIKCiAgICAgICAgc2hhcGUuY2FsY3VsYXRlV29ybGRBQUJCKG9mZnNldCwgb3JpZW50YXRpb24sIHNoYXBlQUFCQi5sb3dlckJvdW5kLCBzaGFwZUFBQkIudXBwZXJCb3VuZCk7CgogICAgICAgIGlmIChpID09PSAwKSB7CiAgICAgICAgICBhYWJiLmNvcHkoc2hhcGVBQUJCKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWFiYi5leHRlbmQoc2hhcGVBQUJCKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuYWFiYk5lZWRzVXBkYXRlID0gZmFsc2U7CiAgICB9CiAgICAvKioKICAgICAqIFVwZGF0ZSAuaW5lcnRpYVdvcmxkIGFuZCAuaW52SW5lcnRpYVdvcmxkCiAgICAgKiBAbWV0aG9kIHVwZGF0ZUluZXJ0aWFXb3JsZAogICAgICovCgoKICAgIHVwZGF0ZUluZXJ0aWFXb3JsZChmb3JjZSkgewogICAgICBjb25zdCBJID0gdGhpcy5pbnZJbmVydGlhOwogICAgICBpZiAoSS54ID09PSBJLnkgJiYgSS55ID09PSBJLnogJiYgIWZvcmNlKSA7ZWxzZSB7CiAgICAgICAgY29uc3QgbTEgPSB1aXdfbTE7CiAgICAgICAgY29uc3QgbTIgPSB1aXdfbTI7CiAgICAgICAgbTEuc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbih0aGlzLnF1YXRlcm5pb24pOwogICAgICAgIG0xLnRyYW5zcG9zZShtMik7CiAgICAgICAgbTEuc2NhbGUoSSwgbTEpOwogICAgICAgIG0xLm1tdWx0KG0yLCB0aGlzLmludkluZXJ0aWFXb3JsZCk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogQXBwbHkgZm9yY2UgdG8gYSBwb2ludCBvZiB0aGUgYm9keS4gVGhpcyBjb3VsZCBmb3IgZXhhbXBsZSBiZSBhIHBvaW50IG9uIHRoZSBCb2R5IHN1cmZhY2UuCiAgICAgKiBBcHBseWluZyBmb3JjZSB0aGlzIHdheSB3aWxsIGFkZCB0byBCb2R5LmZvcmNlIGFuZCBCb2R5LnRvcnF1ZS4KICAgICAqIEBtZXRob2QgYXBwbHlGb3JjZQogICAgICogQHBhcmFtICB7VmVjM30gZm9yY2UgVGhlIGFtb3VudCBvZiBmb3JjZSB0byBhZGQuCiAgICAgKiBAcGFyYW0gIHtWZWMzfSBbcmVsYXRpdmVQb2ludF0gQSBwb2ludCByZWxhdGl2ZSB0byB0aGUgY2VudGVyIG9mIG1hc3MgdG8gYXBwbHkgdGhlIGZvcmNlIG9uLgogICAgICovCgoKICAgIGFwcGx5Rm9yY2UoZm9yY2UsIHJlbGF0aXZlUG9pbnQgPSBuZXcgVmVjMygpKSB7CiAgICAgIC8vIE5lZWRlZD8KICAgICAgaWYgKHRoaXMudHlwZSAhPT0gQm9keS5EWU5BTUlDKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSB7CiAgICAgICAgdGhpcy53YWtlVXAoKTsKICAgICAgfSAvLyBDb21wdXRlIHByb2R1Y2VkIHJvdGF0aW9uYWwgZm9yY2UKCgogICAgICBjb25zdCByb3RGb3JjZSA9IEJvZHlfYXBwbHlGb3JjZV9yb3RGb3JjZTsKICAgICAgcmVsYXRpdmVQb2ludC5jcm9zcyhmb3JjZSwgcm90Rm9yY2UpOyAvLyBBZGQgbGluZWFyIGZvcmNlCgogICAgICB0aGlzLmZvcmNlLnZhZGQoZm9yY2UsIHRoaXMuZm9yY2UpOyAvLyBBZGQgcm90YXRpb25hbCBmb3JjZQoKICAgICAgdGhpcy50b3JxdWUudmFkZChyb3RGb3JjZSwgdGhpcy50b3JxdWUpOwogICAgfQogICAgLyoqCiAgICAgKiBBcHBseSBmb3JjZSB0byBhIGxvY2FsIHBvaW50IGluIHRoZSBib2R5LgogICAgICogQG1ldGhvZCBhcHBseUxvY2FsRm9yY2UKICAgICAqIEBwYXJhbSAge1ZlYzN9IGZvcmNlIFRoZSBmb3JjZSB2ZWN0b3IgdG8gYXBwbHksIGRlZmluZWQgbG9jYWxseSBpbiB0aGUgYm9keSBmcmFtZS4KICAgICAqIEBwYXJhbSAge1ZlYzN9IFtsb2NhbFBvaW50XSBBIGxvY2FsIHBvaW50IGluIHRoZSBib2R5IHRvIGFwcGx5IHRoZSBmb3JjZSBvbi4KICAgICAqLwoKCiAgICBhcHBseUxvY2FsRm9yY2UobG9jYWxGb3JjZSwgbG9jYWxQb2ludCA9IG5ldyBWZWMzKCkpIHsKICAgICAgaWYgKHRoaXMudHlwZSAhPT0gQm9keS5EWU5BTUlDKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zdCB3b3JsZEZvcmNlID0gQm9keV9hcHBseUxvY2FsRm9yY2Vfd29ybGRGb3JjZTsKICAgICAgY29uc3QgcmVsYXRpdmVQb2ludFdvcmxkID0gQm9keV9hcHBseUxvY2FsRm9yY2VfcmVsYXRpdmVQb2ludFdvcmxkOyAvLyBUcmFuc2Zvcm0gdGhlIGZvcmNlIHZlY3RvciB0byB3b3JsZCBzcGFjZQoKICAgICAgdGhpcy52ZWN0b3JUb1dvcmxkRnJhbWUobG9jYWxGb3JjZSwgd29ybGRGb3JjZSk7CiAgICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsUG9pbnQsIHJlbGF0aXZlUG9pbnRXb3JsZCk7CiAgICAgIHRoaXMuYXBwbHlGb3JjZSh3b3JsZEZvcmNlLCByZWxhdGl2ZVBvaW50V29ybGQpOwogICAgfQogICAgLyoqCiAgICAgKiBBcHBseSB0b3JxdWUgdG8gdGhlIGJvZHkuCiAgICAgKiBAbWV0aG9kIGFwcGx5VG9ycXVlCiAgICAgKiBAcGFyYW0gIHtWZWMzfSB0b3JxdWUgVGhlIGFtb3VudCBvZiB0b3JxdWUgdG8gYWRkLgogICAgICovCgoKICAgIGFwcGx5VG9ycXVlKHRvcnF1ZSkgewogICAgICBpZiAodGhpcy50eXBlICE9PSBCb2R5LkRZTkFNSUMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcpIHsKICAgICAgICB0aGlzLndha2VVcCgpOwogICAgICB9IC8vIEFkZCByb3RhdGlvbmFsIGZvcmNlCgoKICAgICAgdGhpcy50b3JxdWUudmFkZCh0b3JxdWUsIHRoaXMudG9ycXVlKTsKICAgIH0KICAgIC8qKgogICAgICogQXBwbHkgaW1wdWxzZSB0byBhIHBvaW50IG9mIHRoZSBib2R5LiBUaGlzIGNvdWxkIGZvciBleGFtcGxlIGJlIGEgcG9pbnQgb24gdGhlIEJvZHkgc3VyZmFjZS4KICAgICAqIEFuIGltcHVsc2UgaXMgYSBmb3JjZSBhZGRlZCB0byBhIGJvZHkgZHVyaW5nIGEgc2hvcnQgcGVyaW9kIG9mIHRpbWUgKGltcHVsc2UgPSBmb3JjZSAqIHRpbWUpLgogICAgICogSW1wdWxzZXMgd2lsbCBiZSBhZGRlZCB0byBCb2R5LnZlbG9jaXR5IGFuZCBCb2R5LmFuZ3VsYXJWZWxvY2l0eS4KICAgICAqIEBtZXRob2QgYXBwbHlJbXB1bHNlCiAgICAgKiBAcGFyYW0gIHtWZWMzfSBpbXB1bHNlIFRoZSBhbW91bnQgb2YgaW1wdWxzZSB0byBhZGQuCiAgICAgKiBAcGFyYW0gIHtWZWMzfSByZWxhdGl2ZVBvaW50IEEgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGNlbnRlciBvZiBtYXNzIHRvIGFwcGx5IHRoZSBmb3JjZSBvbi4KICAgICAqLwoKCiAgICBhcHBseUltcHVsc2UoaW1wdWxzZSwgcmVsYXRpdmVQb2ludCA9IG5ldyBWZWMzKCkpIHsKICAgICAgaWYgKHRoaXMudHlwZSAhPT0gQm9keS5EWU5BTUlDKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSB7CiAgICAgICAgdGhpcy53YWtlVXAoKTsKICAgICAgfSAvLyBDb21wdXRlIHBvaW50IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBib2R5IGNlbnRlcgoKCiAgICAgIGNvbnN0IHIgPSByZWxhdGl2ZVBvaW50OyAvLyBDb21wdXRlIHByb2R1Y2VkIGNlbnRyYWwgaW1wdWxzZSB2ZWxvY2l0eQoKICAgICAgY29uc3QgdmVsbyA9IEJvZHlfYXBwbHlJbXB1bHNlX3ZlbG87CiAgICAgIHZlbG8uY29weShpbXB1bHNlKTsKICAgICAgdmVsby5zY2FsZSh0aGlzLmludk1hc3MsIHZlbG8pOyAvLyBBZGQgbGluZWFyIGltcHVsc2UKCiAgICAgIHRoaXMudmVsb2NpdHkudmFkZCh2ZWxvLCB0aGlzLnZlbG9jaXR5KTsgLy8gQ29tcHV0ZSBwcm9kdWNlZCByb3RhdGlvbmFsIGltcHVsc2UgdmVsb2NpdHkKCiAgICAgIGNvbnN0IHJvdFZlbG8gPSBCb2R5X2FwcGx5SW1wdWxzZV9yb3RWZWxvOwogICAgICByLmNyb3NzKGltcHVsc2UsIHJvdFZlbG8pOwogICAgICAvKgogICAgICAgcm90VmVsby54ICo9IHRoaXMuaW52SW5lcnRpYS54OwogICAgICAgcm90VmVsby55ICo9IHRoaXMuaW52SW5lcnRpYS55OwogICAgICAgcm90VmVsby56ICo9IHRoaXMuaW52SW5lcnRpYS56OwogICAgICAgKi8KCiAgICAgIHRoaXMuaW52SW5lcnRpYVdvcmxkLnZtdWx0KHJvdFZlbG8sIHJvdFZlbG8pOyAvLyBBZGQgcm90YXRpb25hbCBJbXB1bHNlCgogICAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eS52YWRkKHJvdFZlbG8sIHRoaXMuYW5ndWxhclZlbG9jaXR5KTsKICAgIH0KICAgIC8qKgogICAgICogQXBwbHkgbG9jYWxseS1kZWZpbmVkIGltcHVsc2UgdG8gYSBsb2NhbCBwb2ludCBpbiB0aGUgYm9keS4KICAgICAqIEBtZXRob2QgYXBwbHlMb2NhbEltcHVsc2UKICAgICAqIEBwYXJhbSAge1ZlYzN9IGZvcmNlIFRoZSBmb3JjZSB2ZWN0b3IgdG8gYXBwbHksIGRlZmluZWQgbG9jYWxseSBpbiB0aGUgYm9keSBmcmFtZS4KICAgICAqIEBwYXJhbSAge1ZlYzN9IGxvY2FsUG9pbnQgQSBsb2NhbCBwb2ludCBpbiB0aGUgYm9keSB0byBhcHBseSB0aGUgZm9yY2Ugb24uCiAgICAgKi8KCgogICAgYXBwbHlMb2NhbEltcHVsc2UobG9jYWxJbXB1bHNlLCBsb2NhbFBvaW50ID0gbmV3IFZlYzMoKSkgewogICAgICBpZiAodGhpcy50eXBlICE9PSBCb2R5LkRZTkFNSUMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNvbnN0IHdvcmxkSW1wdWxzZSA9IEJvZHlfYXBwbHlMb2NhbEltcHVsc2Vfd29ybGRJbXB1bHNlOwogICAgICBjb25zdCByZWxhdGl2ZVBvaW50V29ybGQgPSBCb2R5X2FwcGx5TG9jYWxJbXB1bHNlX3JlbGF0aXZlUG9pbnQ7IC8vIFRyYW5zZm9ybSB0aGUgZm9yY2UgdmVjdG9yIHRvIHdvcmxkIHNwYWNlCgogICAgICB0aGlzLnZlY3RvclRvV29ybGRGcmFtZShsb2NhbEltcHVsc2UsIHdvcmxkSW1wdWxzZSk7CiAgICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsUG9pbnQsIHJlbGF0aXZlUG9pbnRXb3JsZCk7CiAgICAgIHRoaXMuYXBwbHlJbXB1bHNlKHdvcmxkSW1wdWxzZSwgcmVsYXRpdmVQb2ludFdvcmxkKTsKICAgIH0KICAgIC8qKgogICAgICogU2hvdWxkIGJlIGNhbGxlZCB3aGVuZXZlciB5b3UgY2hhbmdlIHRoZSBib2R5IHNoYXBlIG9yIG1hc3MuCiAgICAgKiBAbWV0aG9kIHVwZGF0ZU1hc3NQcm9wZXJ0aWVzCiAgICAgKi8KCgogICAgdXBkYXRlTWFzc1Byb3BlcnRpZXMoKSB7CiAgICAgIGNvbnN0IGhhbGZFeHRlbnRzID0gQm9keV91cGRhdGVNYXNzUHJvcGVydGllc19oYWxmRXh0ZW50czsKICAgICAgdGhpcy5pbnZNYXNzID0gdGhpcy5tYXNzID4gMCA/IDEuMCAvIHRoaXMubWFzcyA6IDA7CiAgICAgIGNvbnN0IEkgPSB0aGlzLmluZXJ0aWE7CiAgICAgIGNvbnN0IGZpeGVkID0gdGhpcy5maXhlZFJvdGF0aW9uOyAvLyBBcHByb3hpbWF0ZSB3aXRoIEFBQkIgYm94CgogICAgICB0aGlzLnVwZGF0ZUFBQkIoKTsKICAgICAgaGFsZkV4dGVudHMuc2V0KCh0aGlzLmFhYmIudXBwZXJCb3VuZC54IC0gdGhpcy5hYWJiLmxvd2VyQm91bmQueCkgLyAyLCAodGhpcy5hYWJiLnVwcGVyQm91bmQueSAtIHRoaXMuYWFiYi5sb3dlckJvdW5kLnkpIC8gMiwgKHRoaXMuYWFiYi51cHBlckJvdW5kLnogLSB0aGlzLmFhYmIubG93ZXJCb3VuZC56KSAvIDIpOwogICAgICBCb3guY2FsY3VsYXRlSW5lcnRpYShoYWxmRXh0ZW50cywgdGhpcy5tYXNzLCBJKTsKICAgICAgdGhpcy5pbnZJbmVydGlhLnNldChJLnggPiAwICYmICFmaXhlZCA/IDEuMCAvIEkueCA6IDAsIEkueSA+IDAgJiYgIWZpeGVkID8gMS4wIC8gSS55IDogMCwgSS56ID4gMCAmJiAhZml4ZWQgPyAxLjAgLyBJLnogOiAwKTsKICAgICAgdGhpcy51cGRhdGVJbmVydGlhV29ybGQodHJ1ZSk7CiAgICB9CiAgICAvKioKICAgICAqIEdldCB3b3JsZCB2ZWxvY2l0eSBvZiBhIHBvaW50IGluIHRoZSBib2R5LgogICAgICogQG1ldGhvZCBnZXRWZWxvY2l0eUF0V29ybGRQb2ludAogICAgICogQHBhcmFtICB7VmVjM30gd29ybGRQb2ludAogICAgICogQHBhcmFtICB7VmVjM30gcmVzdWx0CiAgICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgcmVzdWx0IHZlY3Rvci4KICAgICAqLwoKCiAgICBnZXRWZWxvY2l0eUF0V29ybGRQb2ludCh3b3JsZFBvaW50LCByZXN1bHQpIHsKICAgICAgY29uc3QgciA9IG5ldyBWZWMzKCk7CiAgICAgIHdvcmxkUG9pbnQudnN1Yih0aGlzLnBvc2l0aW9uLCByKTsKICAgICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkuY3Jvc3MociwgcmVzdWx0KTsKICAgICAgdGhpcy52ZWxvY2l0eS52YWRkKHJlc3VsdCwgcmVzdWx0KTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICAgIC8qKgogICAgICogTW92ZSB0aGUgYm9keSBmb3J3YXJkIGluIHRpbWUuCiAgICAgKiBAcGFyYW0ge251bWJlcn0gZHQgVGltZSBzdGVwCiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHF1YXROb3JtYWxpemUgU2V0IHRvIHRydWUgdG8gbm9ybWFsaXplIHRoZSBib2R5IHF1YXRlcm5pb24KICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcXVhdE5vcm1hbGl6ZUZhc3QgSWYgdGhlIHF1YXRlcm5pb24gc2hvdWxkIGJlIG5vcm1hbGl6ZWQgdXNpbmcgImZhc3QiIHF1YXRlcm5pb24gbm9ybWFsaXphdGlvbgogICAgICovCgoKICAgIGludGVncmF0ZShkdCwgcXVhdE5vcm1hbGl6ZSwgcXVhdE5vcm1hbGl6ZUZhc3QpIHsKICAgICAgLy8gU2F2ZSBwcmV2aW91cyBwb3NpdGlvbgogICAgICB0aGlzLnByZXZpb3VzUG9zaXRpb24uY29weSh0aGlzLnBvc2l0aW9uKTsKICAgICAgdGhpcy5wcmV2aW91c1F1YXRlcm5pb24uY29weSh0aGlzLnF1YXRlcm5pb24pOwoKICAgICAgaWYgKCEodGhpcy50eXBlID09PSBCb2R5LkRZTkFNSUMgfHwgdGhpcy50eXBlID09PSBCb2R5LktJTkVNQVRJQykgfHwgdGhpcy5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSB7CiAgICAgICAgLy8gT25seSBmb3IgZHluYW1pYwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc3QgdmVsbyA9IHRoaXMudmVsb2NpdHk7CiAgICAgIGNvbnN0IGFuZ3VsYXJWZWxvID0gdGhpcy5hbmd1bGFyVmVsb2NpdHk7CiAgICAgIGNvbnN0IHBvcyA9IHRoaXMucG9zaXRpb247CiAgICAgIGNvbnN0IGZvcmNlID0gdGhpcy5mb3JjZTsKICAgICAgY29uc3QgdG9ycXVlID0gdGhpcy50b3JxdWU7CiAgICAgIGNvbnN0IHF1YXQgPSB0aGlzLnF1YXRlcm5pb247CiAgICAgIGNvbnN0IGludk1hc3MgPSB0aGlzLmludk1hc3M7CiAgICAgIGNvbnN0IGludkluZXJ0aWEgPSB0aGlzLmludkluZXJ0aWFXb3JsZDsKICAgICAgY29uc3QgbGluZWFyRmFjdG9yID0gdGhpcy5saW5lYXJGYWN0b3I7CiAgICAgIGNvbnN0IGlNZHQgPSBpbnZNYXNzICogZHQ7CiAgICAgIHZlbG8ueCArPSBmb3JjZS54ICogaU1kdCAqIGxpbmVhckZhY3Rvci54OwogICAgICB2ZWxvLnkgKz0gZm9yY2UueSAqIGlNZHQgKiBsaW5lYXJGYWN0b3IueTsKICAgICAgdmVsby56ICs9IGZvcmNlLnogKiBpTWR0ICogbGluZWFyRmFjdG9yLno7CiAgICAgIGNvbnN0IGUgPSBpbnZJbmVydGlhLmVsZW1lbnRzOwogICAgICBjb25zdCBhbmd1bGFyRmFjdG9yID0gdGhpcy5hbmd1bGFyRmFjdG9yOwogICAgICBjb25zdCB0eCA9IHRvcnF1ZS54ICogYW5ndWxhckZhY3Rvci54OwogICAgICBjb25zdCB0eSA9IHRvcnF1ZS55ICogYW5ndWxhckZhY3Rvci55OwogICAgICBjb25zdCB0eiA9IHRvcnF1ZS56ICogYW5ndWxhckZhY3Rvci56OwogICAgICBhbmd1bGFyVmVsby54ICs9IGR0ICogKGVbMF0gKiB0eCArIGVbMV0gKiB0eSArIGVbMl0gKiB0eik7CiAgICAgIGFuZ3VsYXJWZWxvLnkgKz0gZHQgKiAoZVszXSAqIHR4ICsgZVs0XSAqIHR5ICsgZVs1XSAqIHR6KTsKICAgICAgYW5ndWxhclZlbG8ueiArPSBkdCAqIChlWzZdICogdHggKyBlWzddICogdHkgKyBlWzhdICogdHopOyAvLyBVc2UgbmV3IHZlbG9jaXR5ICAtIGxlYXAgZnJvZwoKICAgICAgcG9zLnggKz0gdmVsby54ICogZHQ7CiAgICAgIHBvcy55ICs9IHZlbG8ueSAqIGR0OwogICAgICBwb3MueiArPSB2ZWxvLnogKiBkdDsKICAgICAgcXVhdC5pbnRlZ3JhdGUodGhpcy5hbmd1bGFyVmVsb2NpdHksIGR0LCB0aGlzLmFuZ3VsYXJGYWN0b3IsIHF1YXQpOwoKICAgICAgaWYgKHF1YXROb3JtYWxpemUpIHsKICAgICAgICBpZiAocXVhdE5vcm1hbGl6ZUZhc3QpIHsKICAgICAgICAgIHF1YXQubm9ybWFsaXplRmFzdCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBxdWF0Lm5vcm1hbGl6ZSgpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlOyAvLyBVcGRhdGUgd29ybGQgaW5lcnRpYQoKICAgICAgdGhpcy51cGRhdGVJbmVydGlhV29ybGQoKTsKICAgIH0KCiAgfQogIC8qKgogICAqIERpc3BhdGNoZWQgYWZ0ZXIgdHdvIGJvZGllcyBjb2xsaWRlLiBUaGlzIGV2ZW50IGlzIGRpc3BhdGNoZWQgb24gZWFjaAogICAqIG9mIHRoZSB0d28gYm9kaWVzIGludm9sdmVkIGluIHRoZSBjb2xsaXNpb24uCiAgICogQGV2ZW50IGNvbGxpZGUKICAgKiBAcGFyYW0ge0JvZHl9IGJvZHkgVGhlIGJvZHkgdGhhdCB3YXMgaW52b2x2ZWQgaW4gdGhlIGNvbGxpc2lvbi4KICAgKiBAcGFyYW0ge0NvbnRhY3RFcXVhdGlvbn0gY29udGFjdCBUaGUgZGV0YWlscyBvZiB0aGUgY29sbGlzaW9uLgogICAqLwoKCiAgQm9keS5DT0xMSURFX0VWRU5UX05BTUUgPSAnY29sbGlkZSc7CiAgLyoqCiAgICogQSBkeW5hbWljIGJvZHkgaXMgZnVsbHkgc2ltdWxhdGVkLiBDYW4gYmUgbW92ZWQgbWFudWFsbHkgYnkgdGhlIHVzZXIsIGJ1dCBub3JtYWxseSB0aGV5IG1vdmUgYWNjb3JkaW5nIHRvIGZvcmNlcy4gQSBkeW5hbWljIGJvZHkgY2FuIGNvbGxpZGUgd2l0aCBhbGwgYm9keSB0eXBlcy4gQSBkeW5hbWljIGJvZHkgYWx3YXlzIGhhcyBmaW5pdGUsIG5vbi16ZXJvIG1hc3MuCiAgICogQHN0YXRpYwogICAqIEBwcm9wZXJ0eSBEWU5BTUlDCiAgICogQHR5cGUge051bWJlcn0KICAgKi8KCiAgQm9keS5EWU5BTUlDID0gMTsKICAvKioKICAgKiBBIHN0YXRpYyBib2R5IGRvZXMgbm90IG1vdmUgZHVyaW5nIHNpbXVsYXRpb24gYW5kIGJlaGF2ZXMgYXMgaWYgaXQgaGFzIGluZmluaXRlIG1hc3MuIFN0YXRpYyBib2RpZXMgY2FuIGJlIG1vdmVkIG1hbnVhbGx5IGJ5IHNldHRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoZSBib2R5LiBUaGUgdmVsb2NpdHkgb2YgYSBzdGF0aWMgYm9keSBpcyBhbHdheXMgemVyby4gU3RhdGljIGJvZGllcyBkbyBub3QgY29sbGlkZSB3aXRoIG90aGVyIHN0YXRpYyBvciBraW5lbWF0aWMgYm9kaWVzLgogICAqIEBzdGF0aWMKICAgKiBAcHJvcGVydHkgU1RBVElDCiAgICogQHR5cGUge051bWJlcn0KICAgKi8KCiAgQm9keS5TVEFUSUMgPSAyOwogIC8qKgogICAqIEEga2luZW1hdGljIGJvZHkgbW92ZXMgdW5kZXIgc2ltdWxhdGlvbiBhY2NvcmRpbmcgdG8gaXRzIHZlbG9jaXR5LiBUaGV5IGRvIG5vdCByZXNwb25kIHRvIGZvcmNlcy4gVGhleSBjYW4gYmUgbW92ZWQgbWFudWFsbHksIGJ1dCBub3JtYWxseSBhIGtpbmVtYXRpYyBib2R5IGlzIG1vdmVkIGJ5IHNldHRpbmcgaXRzIHZlbG9jaXR5LiBBIGtpbmVtYXRpYyBib2R5IGJlaGF2ZXMgYXMgaWYgaXQgaGFzIGluZmluaXRlIG1hc3MuIEtpbmVtYXRpYyBib2RpZXMgZG8gbm90IGNvbGxpZGUgd2l0aCBvdGhlciBzdGF0aWMgb3Iga2luZW1hdGljIGJvZGllcy4KICAgKiBAc3RhdGljCiAgICogQHByb3BlcnR5IEtJTkVNQVRJQwogICAqIEB0eXBlIHtOdW1iZXJ9CiAgICovCgogIEJvZHkuS0lORU1BVElDID0gNDsKICAvKioKICAgKiBAc3RhdGljCiAgICogQHByb3BlcnR5IEFXQUtFCiAgICogQHR5cGUge251bWJlcn0KICAgKi8KCiAgQm9keS5BV0FLRSA9IEJPRFlfU0xFRVBfU1RBVEVTLkFXQUtFOwogIEJvZHkuU0xFRVBZID0gQk9EWV9TTEVFUF9TVEFURVMuU0xFRVBZOwogIEJvZHkuU0xFRVBJTkcgPSBCT0RZX1NMRUVQX1NUQVRFUy5TTEVFUElORzsKICBCb2R5LmlkQ291bnRlciA9IDA7CiAgLyoqCiAgICogRGlzcGF0Y2hlZCBhZnRlciBhIHNsZWVwaW5nIGJvZHkgaGFzIHdva2VuIHVwLgogICAqIEBldmVudCB3YWtldXAKICAgKi8KCiAgQm9keS53YWtldXBFdmVudCA9IHsKICAgIHR5cGU6ICd3YWtldXAnCiAgfTsKICAvKioKICAgKiBEaXNwYXRjaGVkIGFmdGVyIGEgYm9keSBoYXMgZ29uZSBpbiB0byB0aGUgc2xlZXB5IHN0YXRlLgogICAqIEBldmVudCBzbGVlcHkKICAgKi8KCiAgQm9keS5zbGVlcHlFdmVudCA9IHsKICAgIHR5cGU6ICdzbGVlcHknCiAgfTsKICAvKioKICAgKiBEaXNwYXRjaGVkIGFmdGVyIGEgYm9keSBoYXMgZmFsbGVuIGFzbGVlcC4KICAgKiBAZXZlbnQgc2xlZXAKICAgKi8KCiAgQm9keS5zbGVlcEV2ZW50ID0gewogICAgdHlwZTogJ3NsZWVwJwogIH07CiAgY29uc3QgdG1wVmVjID0gbmV3IFZlYzMoKTsKICBjb25zdCB0bXBRdWF0JDEgPSBuZXcgUXVhdGVybmlvbigpOwogIGNvbnN0IHVwZGF0ZUFBQkJfc2hhcGVBQUJCID0gbmV3IEFBQkIoKTsKICBjb25zdCB1aXdfbTEgPSBuZXcgTWF0MygpOwogIGNvbnN0IHVpd19tMiA9IG5ldyBNYXQzKCk7CiAgY29uc3QgQm9keV9hcHBseUZvcmNlX3JvdEZvcmNlID0gbmV3IFZlYzMoKTsKICBjb25zdCBCb2R5X2FwcGx5TG9jYWxGb3JjZV93b3JsZEZvcmNlID0gbmV3IFZlYzMoKTsKICBjb25zdCBCb2R5X2FwcGx5TG9jYWxGb3JjZV9yZWxhdGl2ZVBvaW50V29ybGQgPSBuZXcgVmVjMygpOwogIGNvbnN0IEJvZHlfYXBwbHlJbXB1bHNlX3ZlbG8gPSBuZXcgVmVjMygpOwogIGNvbnN0IEJvZHlfYXBwbHlJbXB1bHNlX3JvdFZlbG8gPSBuZXcgVmVjMygpOwogIGNvbnN0IEJvZHlfYXBwbHlMb2NhbEltcHVsc2Vfd29ybGRJbXB1bHNlID0gbmV3IFZlYzMoKTsKICBjb25zdCBCb2R5X2FwcGx5TG9jYWxJbXB1bHNlX3JlbGF0aXZlUG9pbnQgPSBuZXcgVmVjMygpOwogIGNvbnN0IEJvZHlfdXBkYXRlTWFzc1Byb3BlcnRpZXNfaGFsZkV4dGVudHMgPSBuZXcgVmVjMygpOwogIC8qKgogICAqIEJhc2UgY2xhc3MgZm9yIGJyb2FkcGhhc2UgaW1wbGVtZW50YXRpb25zCiAgICogQGNsYXNzIEJyb2FkcGhhc2UKICAgKiBAY29uc3RydWN0b3IKICAgKiBAYXV0aG9yIHNjaHRlcHBlCiAgICovCgogIGNsYXNzIEJyb2FkcGhhc2UgewogICAgLy8gVGhlIHdvcmxkIHRvIHNlYXJjaCBmb3IgY29sbGlzaW9ucyBpbi4KICAgIC8vIElmIHNldCB0byB0cnVlLCB0aGUgYnJvYWRwaGFzZSB1c2VzIGJvdW5kaW5nIGJveGVzIGZvciBpbnRlcnNlY3Rpb24gdGVzdCwgZWxzZSBpdCB1c2VzIGJvdW5kaW5nIHNwaGVyZXMuCiAgICAvLyBTZXQgdG8gdHJ1ZSBpZiB0aGUgb2JqZWN0cyBpbiB0aGUgd29ybGQgbW92ZWQuCiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgdGhpcy53b3JsZCA9IG51bGw7CiAgICAgIHRoaXMudXNlQm91bmRpbmdCb3hlcyA9IGZhbHNlOwogICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IHRoZSBjb2xsaXNpb24gcGFpcnMgZnJvbSB0aGUgd29ybGQKICAgICAqIEBtZXRob2QgY29sbGlzaW9uUGFpcnMKICAgICAqIEBwYXJhbSB7V29ybGR9IHdvcmxkIFRoZSB3b3JsZCB0byBzZWFyY2ggaW4KICAgICAqIEBwYXJhbSB7QXJyYXl9IHAxIEVtcHR5IGFycmF5IHRvIGJlIGZpbGxlZCB3aXRoIGJvZHkgb2JqZWN0cwogICAgICogQHBhcmFtIHtBcnJheX0gcDIgRW1wdHkgYXJyYXkgdG8gYmUgZmlsbGVkIHdpdGggYm9keSBvYmplY3RzCiAgICAgKi8KCgogICAgY29sbGlzaW9uUGFpcnMod29ybGQsIHAxLCBwMikgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbGxpc2lvblBhaXJzIG5vdCBpbXBsZW1lbnRlZCBmb3IgdGhpcyBCcm9hZFBoYXNlIGNsYXNzIScpOwogICAgfQogICAgLyoqCiAgICAgKiBDaGVjayBpZiBhIGJvZHkgcGFpciBuZWVkcyB0byBiZSBpbnRlcnNlY3Rpb24gdGVzdGVkIGF0IGFsbC4KICAgICAqIEBtZXRob2QgbmVlZEJyb2FkcGhhc2VDb2xsaXNpb24KICAgICAqIEBwYXJhbSB7Qm9keX0gYm9keUEKICAgICAqIEBwYXJhbSB7Qm9keX0gYm9keUIKICAgICAqIEByZXR1cm4ge2Jvb2x9CiAgICAgKi8KCgogICAgbmVlZEJyb2FkcGhhc2VDb2xsaXNpb24oYm9keUEsIGJvZHlCKSB7CiAgICAgIC8vIENoZWNrIGNvbGxpc2lvbiBmaWx0ZXIgbWFza3MKICAgICAgaWYgKChib2R5QS5jb2xsaXNpb25GaWx0ZXJHcm91cCAmIGJvZHlCLmNvbGxpc2lvbkZpbHRlck1hc2spID09PSAwIHx8IChib2R5Qi5jb2xsaXNpb25GaWx0ZXJHcm91cCAmIGJvZHlBLmNvbGxpc2lvbkZpbHRlck1hc2spID09PSAwKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IC8vIENoZWNrIHR5cGVzCgoKICAgICAgaWYgKCgoYm9keUEudHlwZSAmIEJvZHkuU1RBVElDKSAhPT0gMCB8fCBib2R5QS5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSAmJiAoKGJvZHlCLnR5cGUgJiBCb2R5LlNUQVRJQykgIT09IDAgfHwgYm9keUIuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORykpIHsKICAgICAgICAvLyBCb3RoIGJvZGllcyBhcmUgc3RhdGljIG9yIHNsZWVwaW5nLiBTa2lwLgogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAvKioKICAgICAqIENoZWNrIGlmIHRoZSBib3VuZGluZyB2b2x1bWVzIG9mIHR3byBib2RpZXMgaW50ZXJzZWN0LgogICAgICogQG1ldGhvZCBpbnRlcnNlY3Rpb25UZXN0CiAgICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlBCiAgICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlCCiAgICAgKiBAcGFyYW0ge2FycmF5fSBwYWlyczEKICAgICAqIEBwYXJhbSB7YXJyYXl9IHBhaXJzMgogICAgICovCgoKICAgIGludGVyc2VjdGlvblRlc3QoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMikgewogICAgICBpZiAodGhpcy51c2VCb3VuZGluZ0JveGVzKSB7CiAgICAgICAgdGhpcy5kb0JvdW5kaW5nQm94QnJvYWRwaGFzZShib2R5QSwgYm9keUIsIHBhaXJzMSwgcGFpcnMyKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmRvQm91bmRpbmdTcGhlcmVCcm9hZHBoYXNlKGJvZHlBLCBib2R5QiwgcGFpcnMxLCBwYWlyczIpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIENoZWNrIGlmIHRoZSBib3VuZGluZyBzcGhlcmVzIG9mIHR3byBib2RpZXMgYXJlIGludGVyc2VjdGluZy4KICAgICAqIEBtZXRob2QgZG9Cb3VuZGluZ1NwaGVyZUJyb2FkcGhhc2UKICAgICAqIEBwYXJhbSB7Qm9keX0gYm9keUEKICAgICAqIEBwYXJhbSB7Qm9keX0gYm9keUIKICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMSBib2R5QSBpcyBhcHBlbmRlZCB0byB0aGlzIGFycmF5IGlmIGludGVyc2VjdGlvbgogICAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMyIGJvZHlCIGlzIGFwcGVuZGVkIHRvIHRoaXMgYXJyYXkgaWYgaW50ZXJzZWN0aW9uCiAgICAgKi8KCgogICAgZG9Cb3VuZGluZ1NwaGVyZUJyb2FkcGhhc2UoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMikgewogICAgICBjb25zdCByID0gQnJvYWRwaGFzZV9jb2xsaXNpb25QYWlyc19yOwogICAgICBib2R5Qi5wb3NpdGlvbi52c3ViKGJvZHlBLnBvc2l0aW9uLCByKTsKICAgICAgY29uc3QgYm91bmRpbmdSYWRpdXNTdW0yID0gKGJvZHlBLmJvdW5kaW5nUmFkaXVzICsgYm9keUIuYm91bmRpbmdSYWRpdXMpICoqIDI7CiAgICAgIGNvbnN0IG5vcm0yID0gci5sZW5ndGhTcXVhcmVkKCk7CgogICAgICBpZiAobm9ybTIgPCBib3VuZGluZ1JhZGl1c1N1bTIpIHsKICAgICAgICBwYWlyczEucHVzaChib2R5QSk7CiAgICAgICAgcGFpcnMyLnB1c2goYm9keUIpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIENoZWNrIGlmIHRoZSBib3VuZGluZyBib3hlcyBvZiB0d28gYm9kaWVzIGFyZSBpbnRlcnNlY3RpbmcuCiAgICAgKiBAbWV0aG9kIGRvQm91bmRpbmdCb3hCcm9hZHBoYXNlCiAgICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlBCiAgICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlCCiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyczEKICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMgogICAgICovCgoKICAgIGRvQm91bmRpbmdCb3hCcm9hZHBoYXNlKGJvZHlBLCBib2R5QiwgcGFpcnMxLCBwYWlyczIpIHsKICAgICAgaWYgKGJvZHlBLmFhYmJOZWVkc1VwZGF0ZSkgewogICAgICAgIGJvZHlBLnVwZGF0ZUFBQkIoKTsKICAgICAgfQoKICAgICAgaWYgKGJvZHlCLmFhYmJOZWVkc1VwZGF0ZSkgewogICAgICAgIGJvZHlCLnVwZGF0ZUFBQkIoKTsKICAgICAgfSAvLyBDaGVjayBBQUJCIC8gQUFCQgoKCiAgICAgIGlmIChib2R5QS5hYWJiLm92ZXJsYXBzKGJvZHlCLmFhYmIpKSB7CiAgICAgICAgcGFpcnMxLnB1c2goYm9keUEpOwogICAgICAgIHBhaXJzMi5wdXNoKGJvZHlCKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBSZW1vdmVzIGR1cGxpY2F0ZSBwYWlycyBmcm9tIHRoZSBwYWlyIGFycmF5cy4KICAgICAqIEBtZXRob2QgbWFrZVBhaXJzVW5pcXVlCiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyczEKICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzMgogICAgICovCgoKICAgIG1ha2VQYWlyc1VuaXF1ZShwYWlyczEsIHBhaXJzMikgewogICAgICBjb25zdCB0ID0gQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfdGVtcDsKICAgICAgY29uc3QgcDEgPSBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMTsKICAgICAgY29uc3QgcDIgPSBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV9wMjsKICAgICAgY29uc3QgTiA9IHBhaXJzMS5sZW5ndGg7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgICAgcDFbaV0gPSBwYWlyczFbaV07CiAgICAgICAgcDJbaV0gPSBwYWlyczJbaV07CiAgICAgIH0KCiAgICAgIHBhaXJzMS5sZW5ndGggPSAwOwogICAgICBwYWlyczIubGVuZ3RoID0gMDsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgICBjb25zdCBpZDEgPSBwMVtpXS5pZDsKICAgICAgICBjb25zdCBpZDIgPSBwMltpXS5pZDsKICAgICAgICBjb25zdCBrZXkgPSBpZDEgPCBpZDIgPyBpZDEgKyAiLCIgKyBpZDIgOiBpZDIgKyAiLCIgKyBpZDE7CiAgICAgICAgdFtrZXldID0gaTsKICAgICAgICB0LmtleXMucHVzaChrZXkpOwogICAgICB9CgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gdC5rZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc3Qga2V5ID0gdC5rZXlzLnBvcCgpOwogICAgICAgIGNvbnN0IHBhaXJJbmRleCA9IHRba2V5XTsKICAgICAgICBwYWlyczEucHVzaChwMVtwYWlySW5kZXhdKTsKICAgICAgICBwYWlyczIucHVzaChwMltwYWlySW5kZXhdKTsKICAgICAgICBkZWxldGUgdFtrZXldOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFRvIGJlIGltcGxlbWVudGVkIGJ5IHN1YmNhc3NlcwogICAgICogQG1ldGhvZCBzZXRXb3JsZAogICAgICogQHBhcmFtIHtXb3JsZH0gd29ybGQKICAgICAqLwoKCiAgICBzZXRXb3JsZCh3b3JsZCkge30KICAgIC8qKgogICAgICogQ2hlY2sgaWYgdGhlIGJvdW5kaW5nIHNwaGVyZXMgb2YgdHdvIGJvZGllcyBvdmVybGFwLgogICAgICogQHN0YXRpYwogICAgICogQG1ldGhvZCBib3VuZGluZ1NwaGVyZUNoZWNrCiAgICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlBCiAgICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlCCiAgICAgKiBAcmV0dXJuIHtib29sZWFufQogICAgICovCgoKICAgIHN0YXRpYyBib3VuZGluZ1NwaGVyZUNoZWNrKGJvZHlBLCBib2R5QikgewogICAgICBjb25zdCBkaXN0ID0gbmV3IFZlYzMoKTsgLy8gYnNjX2Rpc3Q7CgogICAgICBib2R5QS5wb3NpdGlvbi52c3ViKGJvZHlCLnBvc2l0aW9uLCBkaXN0KTsKICAgICAgY29uc3Qgc2EgPSBib2R5QS5zaGFwZXNbMF07CiAgICAgIGNvbnN0IHNiID0gYm9keUIuc2hhcGVzWzBdOwogICAgICByZXR1cm4gTWF0aC5wb3coc2EuYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBzYi5ib3VuZGluZ1NwaGVyZVJhZGl1cywgMikgPiBkaXN0Lmxlbmd0aFNxdWFyZWQoKTsKICAgIH0KICAgIC8qKgogICAgICogUmV0dXJucyBhbGwgdGhlIGJvZGllcyB3aXRoaW4gdGhlIEFBQkIuCiAgICAgKiBAbWV0aG9kIGFhYmJRdWVyeQogICAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkCiAgICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiCiAgICAgKiBAcGFyYW0gIHthcnJheX0gcmVzdWx0IEFuIGFycmF5IHRvIHN0b3JlIHJlc3VsdGluZyBib2RpZXMgaW4uCiAgICAgKiBAcmV0dXJuIHthcnJheX0KICAgICAqLwoKCiAgICBhYWJiUXVlcnkod29ybGQsIGFhYmIsIHJlc3VsdCkgewogICAgICBjb25zb2xlLndhcm4oJy5hYWJiUXVlcnkgaXMgbm90IGltcGxlbWVudGVkIGluIHRoaXMgQnJvYWRwaGFzZSBzdWJjbGFzcy4nKTsKICAgICAgcmV0dXJuIFtdOwogICAgfQoKICB9IC8vIFRlbXAgb2JqZWN0cwoKCiAgY29uc3QgQnJvYWRwaGFzZV9jb2xsaXNpb25QYWlyc19yID0gbmV3IFZlYzMoKTsKICBjb25zdCBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV90ZW1wID0gewogICAga2V5czogW10KICB9OwogIGNvbnN0IEJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3AxID0gW107CiAgY29uc3QgQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfcDIgPSBbXTsKICAvKioKICAgKiBOYWl2ZSBicm9hZHBoYXNlIGltcGxlbWVudGF0aW9uLCB1c2VkIGluIGxhY2sgb2YgYmV0dGVyIG9uZXMuCiAgICogQGNsYXNzIE5haXZlQnJvYWRwaGFzZQogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBkZXNjcmlwdGlvbiBUaGUgbmFpdmUgYnJvYWRwaGFzZSBsb29rcyBhdCBhbGwgcG9zc2libGUgcGFpcnMgd2l0aG91dCByZXN0cmljdGlvbiwgdGhlcmVmb3JlIGl0IGhhcyBjb21wbGV4aXR5IE5eMiAod2hpY2ggaXMgYmFkKQogICAqIEBleHRlbmRzIEJyb2FkcGhhc2UKICAgKi8KCiAgY2xhc3MgTmFpdmVCcm9hZHBoYXNlIGV4dGVuZHMgQnJvYWRwaGFzZSB7CiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgc3VwZXIoKTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IGFsbCB0aGUgY29sbGlzaW9uIHBhaXJzIGluIHRoZSBwaHlzaWNzIHdvcmxkCiAgICAgKiBAbWV0aG9kIGNvbGxpc2lvblBhaXJzCiAgICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZAogICAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMxCiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyczIKICAgICAqLwoKCiAgICBjb2xsaXNpb25QYWlycyh3b3JsZCwgcGFpcnMxLCBwYWlyczIpIHsKICAgICAgY29uc3QgYm9kaWVzID0gd29ybGQuYm9kaWVzOwogICAgICBjb25zdCBuID0gYm9kaWVzLmxlbmd0aDsKICAgICAgbGV0IGJpOwogICAgICBsZXQgYmo7IC8vIE5haXZlIE5eMiBmdHchCgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gbjsgaSsrKSB7CiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IGk7IGorKykgewogICAgICAgICAgYmkgPSBib2RpZXNbaV07CiAgICAgICAgICBiaiA9IGJvZGllc1tqXTsKCiAgICAgICAgICBpZiAoIXRoaXMubmVlZEJyb2FkcGhhc2VDb2xsaXNpb24oYmksIGJqKSkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmludGVyc2VjdGlvblRlc3QoYmksIGJqLCBwYWlyczEsIHBhaXJzMik7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFJldHVybnMgYWxsIHRoZSBib2RpZXMgd2l0aGluIGFuIEFBQkIuCiAgICAgKiBAbWV0aG9kIGFhYmJRdWVyeQogICAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkCiAgICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiCiAgICAgKiBAcGFyYW0ge2FycmF5fSByZXN1bHQgQW4gYXJyYXkgdG8gc3RvcmUgcmVzdWx0aW5nIGJvZGllcyBpbi4KICAgICAqIEByZXR1cm4ge2FycmF5fQogICAgICovCgoKICAgIGFhYmJRdWVyeSh3b3JsZCwgYWFiYiwgcmVzdWx0ID0gW10pIHsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3JsZC5ib2RpZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBiID0gd29ybGQuYm9kaWVzW2ldOwoKICAgICAgICBpZiAoYi5hYWJiTmVlZHNVcGRhdGUpIHsKICAgICAgICAgIGIudXBkYXRlQUFCQigpOwogICAgICAgIH0gLy8gVWdseSBoYWNrIHVudGlsIEJvZHkgZ2V0cyBhYWJiCgoKICAgICAgICBpZiAoYi5hYWJiLm92ZXJsYXBzKGFhYmIpKSB7CiAgICAgICAgICByZXN1bHQucHVzaChiKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogIH0KICAvKioKICAgKiBTdG9yYWdlIGZvciBSYXkgY2FzdGluZyBkYXRhLgogICAqIEBjbGFzcyBSYXljYXN0UmVzdWx0CiAgICogQGNvbnN0cnVjdG9yCiAgICovCgoKICBjbGFzcyBSYXljYXN0UmVzdWx0IHsKICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgaGl0IHRyaWFuZ2xlLCBpZiB0aGUgaGl0IHNoYXBlIHdhcyBhIHRyaW1lc2guCiAgICAvLyBEaXN0YW5jZSB0byB0aGUgaGl0LiBXaWxsIGJlIHNldCB0byAtMSBpZiB0aGVyZSB3YXMgbm8gaGl0LgogICAgLy8gSWYgdGhlIHJheSBzaG91bGQgc3RvcCB0cmF2ZXJzaW5nIHRoZSBib2RpZXMuCiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgdGhpcy5yYXlGcm9tV29ybGQgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLnJheVRvV29ybGQgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLmhpdE5vcm1hbFdvcmxkID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy5oaXRQb2ludFdvcmxkID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy5oYXNIaXQgPSBmYWxzZTsKICAgICAgdGhpcy5zaGFwZSA9IG51bGw7CiAgICAgIHRoaXMuYm9keSA9IG51bGw7CiAgICAgIHRoaXMuaGl0RmFjZUluZGV4ID0gLTE7CiAgICAgIHRoaXMuZGlzdGFuY2UgPSAtMTsKICAgICAgdGhpcy5zaG91bGRTdG9wID0gZmFsc2U7CiAgICB9CiAgICAvKioKICAgICAqIFJlc2V0IGFsbCByZXN1bHQgZGF0YS4KICAgICAqIEBtZXRob2QgcmVzZXQKICAgICAqLwoKCiAgICByZXNldCgpIHsKICAgICAgdGhpcy5yYXlGcm9tV29ybGQuc2V0WmVybygpOwogICAgICB0aGlzLnJheVRvV29ybGQuc2V0WmVybygpOwogICAgICB0aGlzLmhpdE5vcm1hbFdvcmxkLnNldFplcm8oKTsKICAgICAgdGhpcy5oaXRQb2ludFdvcmxkLnNldFplcm8oKTsKICAgICAgdGhpcy5oYXNIaXQgPSBmYWxzZTsKICAgICAgdGhpcy5zaGFwZSA9IG51bGw7CiAgICAgIHRoaXMuYm9keSA9IG51bGw7CiAgICAgIHRoaXMuaGl0RmFjZUluZGV4ID0gLTE7CiAgICAgIHRoaXMuZGlzdGFuY2UgPSAtMTsKICAgICAgdGhpcy5zaG91bGRTdG9wID0gZmFsc2U7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2QgYWJvcnQKICAgICAqLwoKCiAgICBhYm9ydCgpIHsKICAgICAgdGhpcy5zaG91bGRTdG9wID0gdHJ1ZTsKICAgIH0KICAgIC8qKgogICAgICogQG1ldGhvZCBzZXQKICAgICAqIEBwYXJhbSB7VmVjM30gcmF5RnJvbVdvcmxkCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHJheVRvV29ybGQKICAgICAqIEBwYXJhbSB7VmVjM30gaGl0Tm9ybWFsV29ybGQKICAgICAqIEBwYXJhbSB7VmVjM30gaGl0UG9pbnRXb3JsZAogICAgICogQHBhcmFtIHtTaGFwZX0gc2hhcGUKICAgICAqIEBwYXJhbSB7Qm9keX0gYm9keQogICAgICogQHBhcmFtIHtudW1iZXJ9IGRpc3RhbmNlCiAgICAgKi8KCgogICAgc2V0KHJheUZyb21Xb3JsZCwgcmF5VG9Xb3JsZCwgaGl0Tm9ybWFsV29ybGQsIGhpdFBvaW50V29ybGQsIHNoYXBlLCBib2R5LCBkaXN0YW5jZSkgewogICAgICB0aGlzLnJheUZyb21Xb3JsZC5jb3B5KHJheUZyb21Xb3JsZCk7CiAgICAgIHRoaXMucmF5VG9Xb3JsZC5jb3B5KHJheVRvV29ybGQpOwogICAgICB0aGlzLmhpdE5vcm1hbFdvcmxkLmNvcHkoaGl0Tm9ybWFsV29ybGQpOwogICAgICB0aGlzLmhpdFBvaW50V29ybGQuY29weShoaXRQb2ludFdvcmxkKTsKICAgICAgdGhpcy5zaGFwZSA9IHNoYXBlOwogICAgICB0aGlzLmJvZHkgPSBib2R5OwogICAgICB0aGlzLmRpc3RhbmNlID0gZGlzdGFuY2U7CiAgICB9CgogIH0KICAvKioKICAgKiBBIGxpbmUgaW4gM0Qgc3BhY2UgdGhhdCBpbnRlcnNlY3RzIGJvZGllcyBhbmQgcmV0dXJuIHBvaW50cy4KICAgKiBAY2xhc3MgUmF5CiAgICogQGNvbnN0cnVjdG9yCiAgICogQHBhcmFtIHtWZWMzfSBmcm9tCiAgICogQHBhcmFtIHtWZWMzfSB0bwogICAqLwoKICBjbGFzcyBSYXkgewogICAgLy8gVGhlIHByZWNpc2lvbiBvZiB0aGUgcmF5LiBVc2VkIHdoZW4gY2hlY2tpbmcgcGFyYWxsZWxpdHkgZXRjLgogICAgLy8gU2V0IHRvIHRydWUgaWYgeW91IHdhbnQgdGhlIFJheSB0byB0YWtlIC5jb2xsaXNpb25SZXNwb25zZSBmbGFncyBpbnRvIGFjY291bnQgb24gYm9kaWVzIGFuZCBzaGFwZXMuCiAgICAvLyBJZiBzZXQgdG8gdHJ1ZSwgdGhlIHJheSBza2lwcyBhbnkgaGl0cyB3aXRoIG5vcm1hbC5kb3QocmF5RGlyZWN0aW9uKSA8IDAuCiAgICAvLyBUaGUgaW50ZXJzZWN0aW9uIG1vZGUuIFNob3VsZCBiZSBSYXkuQU5ZLCBSYXkuQUxMIG9yIFJheS5DTE9TRVNULgogICAgLy8gQ3VycmVudCByZXN1bHQgb2JqZWN0LgogICAgLy8gV2lsbCBiZSBzZXQgdG8gdHJ1ZSBkdXJpbmcgaW50ZXJzZWN0V29ybGQoKSBpZiB0aGUgcmF5IGhpdCBhbnl0aGluZy4KICAgIC8vIFVzZXItcHJvdmlkZWQgcmVzdWx0IGNhbGxiYWNrLiBXaWxsIGJlIHVzZWQgaWYgbW9kZSBpcyBSYXkuQUxMLgogICAgY29uc3RydWN0b3IoZnJvbSA9IG5ldyBWZWMzKCksIHRvID0gbmV3IFZlYzMoKSkgewogICAgICB0aGlzLmZyb20gPSBmcm9tLmNsb25lKCk7CiAgICAgIHRoaXMudG8gPSB0by5jbG9uZSgpOwogICAgICB0aGlzLmRpcmVjdGlvbiA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMucHJlY2lzaW9uID0gMC4wMDAxOwogICAgICB0aGlzLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgPSB0cnVlOwogICAgICB0aGlzLnNraXBCYWNrZmFjZXMgPSBmYWxzZTsKICAgICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrID0gLTE7CiAgICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPSAtMTsKICAgICAgdGhpcy5tb2RlID0gUmF5LkFOWTsKICAgICAgdGhpcy5yZXN1bHQgPSBuZXcgUmF5Y2FzdFJlc3VsdCgpOwogICAgICB0aGlzLmhhc0hpdCA9IGZhbHNlOwoKICAgICAgdGhpcy5jYWxsYmFjayA9IHJlc3VsdCA9PiB7fTsKICAgIH0KICAgIC8qKgogICAgICogRG8gaXRlcnNlY3Rpb24gYWdhaW5zdCBhbGwgYm9kaWVzIGluIHRoZSBnaXZlbiBXb3JsZC4KICAgICAqIEBtZXRob2QgaW50ZXJzZWN0V29ybGQKICAgICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZAogICAgICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zCiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSByYXkgaGl0IGFueXRoaW5nLCBvdGhlcndpc2UgZmFsc2UuCiAgICAgKi8KCgogICAgaW50ZXJzZWN0V29ybGQod29ybGQsIG9wdGlvbnMpIHsKICAgICAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IFJheS5BTlk7CiAgICAgIHRoaXMucmVzdWx0ID0gb3B0aW9ucy5yZXN1bHQgfHwgbmV3IFJheWNhc3RSZXN1bHQoKTsKICAgICAgdGhpcy5za2lwQmFja2ZhY2VzID0gISFvcHRpb25zLnNraXBCYWNrZmFjZXM7CiAgICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyTWFzayA9IHR5cGVvZiBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrIDogLTE7CiAgICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPSB0eXBlb2Ygb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwIDogLTE7CiAgICAgIHRoaXMuY2hlY2tDb2xsaXNpb25SZXNwb25zZSA9IHR5cGVvZiBvcHRpb25zLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5jaGVja0NvbGxpc2lvblJlc3BvbnNlIDogdHJ1ZTsKCiAgICAgIGlmIChvcHRpb25zLmZyb20pIHsKICAgICAgICB0aGlzLmZyb20uY29weShvcHRpb25zLmZyb20pOwogICAgICB9CgogICAgICBpZiAob3B0aW9ucy50bykgewogICAgICAgIHRoaXMudG8uY29weShvcHRpb25zLnRvKTsKICAgICAgfQoKICAgICAgdGhpcy5jYWxsYmFjayA9IG9wdGlvbnMuY2FsbGJhY2sgfHwgKCgpID0+IHt9KTsKCiAgICAgIHRoaXMuaGFzSGl0ID0gZmFsc2U7CiAgICAgIHRoaXMucmVzdWx0LnJlc2V0KCk7CiAgICAgIHRoaXMudXBkYXRlRGlyZWN0aW9uKCk7CiAgICAgIHRoaXMuZ2V0QUFCQih0bXBBQUJCKTsKICAgICAgdG1wQXJyYXkubGVuZ3RoID0gMDsKICAgICAgd29ybGQuYnJvYWRwaGFzZS5hYWJiUXVlcnkod29ybGQsIHRtcEFBQkIsIHRtcEFycmF5KTsKICAgICAgdGhpcy5pbnRlcnNlY3RCb2RpZXModG1wQXJyYXkpOwogICAgICByZXR1cm4gdGhpcy5oYXNIaXQ7CiAgICB9CiAgICAvKioKICAgICAqIFNob290IGEgcmF5IGF0IGEgYm9keSwgZ2V0IGJhY2sgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGhpdC4KICAgICAqIEBwYXJhbSB7Qm9keX0gYm9keQogICAgICogQHBhcmFtIHtSYXljYXN0UmVzdWx0fSBbcmVzdWx0XSBEZXByZWNhdGVkIC0gc2V0IHRoZSByZXN1bHQgcHJvcGVydHkgb2YgdGhlIFJheSBpbnN0ZWFkLgogICAgICovCgoKICAgIGludGVyc2VjdEJvZHkoYm9keSwgcmVzdWx0KSB7CiAgICAgIGlmIChyZXN1bHQpIHsKICAgICAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDsKICAgICAgICB0aGlzLnVwZGF0ZURpcmVjdGlvbigpOwogICAgICB9CgogICAgICBjb25zdCBjaGVja0NvbGxpc2lvblJlc3BvbnNlID0gdGhpcy5jaGVja0NvbGxpc2lvblJlc3BvbnNlOwoKICAgICAgaWYgKGNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgJiYgIWJvZHkuY29sbGlzaW9uUmVzcG9uc2UpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICgodGhpcy5jb2xsaXNpb25GaWx0ZXJHcm91cCAmIGJvZHkuY29sbGlzaW9uRmlsdGVyTWFzaykgPT09IDAgfHwgKGJvZHkuY29sbGlzaW9uRmlsdGVyR3JvdXAgJiB0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2spID09PSAwKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zdCB4aSA9IGludGVyc2VjdEJvZHlfeGk7CiAgICAgIGNvbnN0IHFpID0gaW50ZXJzZWN0Qm9keV9xaTsKCiAgICAgIGZvciAobGV0IGkgPSAwLCBOID0gYm9keS5zaGFwZXMubGVuZ3RoOyBpIDwgTjsgaSsrKSB7CiAgICAgICAgY29uc3Qgc2hhcGUgPSBib2R5LnNoYXBlc1tpXTsKCiAgICAgICAgaWYgKGNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgJiYgIXNoYXBlLmNvbGxpc2lvblJlc3BvbnNlKSB7CiAgICAgICAgICBjb250aW51ZTsgLy8gU2tpcAogICAgICAgIH0KCiAgICAgICAgYm9keS5xdWF0ZXJuaW9uLm11bHQoYm9keS5zaGFwZU9yaWVudGF0aW9uc1tpXSwgcWkpOwogICAgICAgIGJvZHkucXVhdGVybmlvbi52bXVsdChib2R5LnNoYXBlT2Zmc2V0c1tpXSwgeGkpOwogICAgICAgIHhpLnZhZGQoYm9keS5wb3NpdGlvbiwgeGkpOwogICAgICAgIHRoaXMuaW50ZXJzZWN0U2hhcGUoc2hhcGUsIHFpLCB4aSwgYm9keSk7CgogICAgICAgIGlmICh0aGlzLnJlc3VsdC5zaG91bGRTdG9wKSB7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogQG1ldGhvZCBpbnRlcnNlY3RCb2RpZXMKICAgICAqIEBwYXJhbSB7QXJyYXl9IGJvZGllcyBBbiBhcnJheSBvZiBCb2R5IG9iamVjdHMuCiAgICAgKiBAcGFyYW0ge1JheWNhc3RSZXN1bHR9IFtyZXN1bHRdIERlcHJlY2F0ZWQKICAgICAqLwoKCiAgICBpbnRlcnNlY3RCb2RpZXMoYm9kaWVzLCByZXN1bHQpIHsKICAgICAgaWYgKHJlc3VsdCkgewogICAgICAgIHRoaXMucmVzdWx0ID0gcmVzdWx0OwogICAgICAgIHRoaXMudXBkYXRlRGlyZWN0aW9uKCk7CiAgICAgIH0KCiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gYm9kaWVzLmxlbmd0aDsgIXRoaXMucmVzdWx0LnNob3VsZFN0b3AgJiYgaSA8IGw7IGkrKykgewogICAgICAgIHRoaXMuaW50ZXJzZWN0Qm9keShib2RpZXNbaV0pOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFVwZGF0ZXMgdGhlIGRpcmVjdGlvbiB2ZWN0b3IuCiAgICAgKi8KCgogICAgdXBkYXRlRGlyZWN0aW9uKCkgewogICAgICB0aGlzLnRvLnZzdWIodGhpcy5mcm9tLCB0aGlzLmRpcmVjdGlvbik7CiAgICAgIHRoaXMuZGlyZWN0aW9uLm5vcm1hbGl6ZSgpOwogICAgfQoKICAgIGludGVyc2VjdFNoYXBlKHNoYXBlLCBxdWF0LCBwb3NpdGlvbiwgYm9keSkgewogICAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tOyAvLyBDaGVja2luZyBib3VuZGluZ1NwaGVyZQoKICAgICAgY29uc3QgZGlzdGFuY2UgPSBkaXN0YW5jZUZyb21JbnRlcnNlY3Rpb24oZnJvbSwgdGhpcy5kaXJlY3Rpb24sIHBvc2l0aW9uKTsKCiAgICAgIGlmIChkaXN0YW5jZSA+IHNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zdCBpbnRlcnNlY3RNZXRob2QgPSB0aGlzW3NoYXBlLnR5cGVdOwoKICAgICAgaWYgKGludGVyc2VjdE1ldGhvZCkgewogICAgICAgIGludGVyc2VjdE1ldGhvZC5jYWxsKHRoaXMsIHNoYXBlLCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgc2hhcGUpOwogICAgICB9CiAgICB9CgogICAgX2ludGVyc2VjdEJveChib3gsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlKSB7CiAgICAgIHJldHVybiB0aGlzLl9pbnRlcnNlY3RDb252ZXgoYm94LmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpOwogICAgfQoKICAgIF9pbnRlcnNlY3RQbGFuZShzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpIHsKICAgICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTsKICAgICAgY29uc3QgdG8gPSB0aGlzLnRvOwogICAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbjsgLy8gR2V0IHBsYW5lIG5vcm1hbAoKICAgICAgY29uc3Qgd29ybGROb3JtYWwgPSBuZXcgVmVjMygwLCAwLCAxKTsKICAgICAgcXVhdC52bXVsdCh3b3JsZE5vcm1hbCwgd29ybGROb3JtYWwpOwogICAgICBjb25zdCBsZW4gPSBuZXcgVmVjMygpOwogICAgICBmcm9tLnZzdWIocG9zaXRpb24sIGxlbik7CiAgICAgIGNvbnN0IHBsYW5lVG9Gcm9tID0gbGVuLmRvdCh3b3JsZE5vcm1hbCk7CiAgICAgIHRvLnZzdWIocG9zaXRpb24sIGxlbik7CiAgICAgIGNvbnN0IHBsYW5lVG9UbyA9IGxlbi5kb3Qod29ybGROb3JtYWwpOwoKICAgICAgaWYgKHBsYW5lVG9Gcm9tICogcGxhbmVUb1RvID4gMCkgewogICAgICAgIC8vICJmcm9tIiBhbmQgInRvIiBhcmUgb24gdGhlIHNhbWUgc2lkZSBvZiB0aGUgcGxhbmUuLi4gYmFpbCBvdXQKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChmcm9tLmRpc3RhbmNlVG8odG8pIDwgcGxhbmVUb0Zyb20pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNvbnN0IG5fZG90X2RpciA9IHdvcmxkTm9ybWFsLmRvdChkaXJlY3Rpb24pOwoKICAgICAgaWYgKE1hdGguYWJzKG5fZG90X2RpcikgPCB0aGlzLnByZWNpc2lvbikgewogICAgICAgIC8vIE5vIGludGVyc2VjdGlvbgogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc3QgcGxhbmVQb2ludFRvRnJvbSA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IGRpcl9zY2FsZWRfd2l0aF90ID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgaGl0UG9pbnRXb3JsZCA9IG5ldyBWZWMzKCk7CiAgICAgIGZyb20udnN1Yihwb3NpdGlvbiwgcGxhbmVQb2ludFRvRnJvbSk7CiAgICAgIGNvbnN0IHQgPSAtd29ybGROb3JtYWwuZG90KHBsYW5lUG9pbnRUb0Zyb20pIC8gbl9kb3RfZGlyOwogICAgICBkaXJlY3Rpb24uc2NhbGUodCwgZGlyX3NjYWxlZF93aXRoX3QpOwogICAgICBmcm9tLnZhZGQoZGlyX3NjYWxlZF93aXRoX3QsIGhpdFBvaW50V29ybGQpOwogICAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbih3b3JsZE5vcm1hbCwgaGl0UG9pbnRXb3JsZCwgcmVwb3J0ZWRTaGFwZSwgYm9keSwgLTEpOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIHdvcmxkIEFBQkIgb2YgdGhlIHJheS4KICAgICAqLwoKCiAgICBnZXRBQUJCKGFhYmIpIHsKICAgICAgY29uc3QgewogICAgICAgIGxvd2VyQm91bmQsCiAgICAgICAgdXBwZXJCb3VuZAogICAgICB9ID0gYWFiYjsKICAgICAgY29uc3QgdG8gPSB0aGlzLnRvOwogICAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tOwogICAgICBsb3dlckJvdW5kLnggPSBNYXRoLm1pbih0by54LCBmcm9tLngpOwogICAgICBsb3dlckJvdW5kLnkgPSBNYXRoLm1pbih0by55LCBmcm9tLnkpOwogICAgICBsb3dlckJvdW5kLnogPSBNYXRoLm1pbih0by56LCBmcm9tLnopOwogICAgICB1cHBlckJvdW5kLnggPSBNYXRoLm1heCh0by54LCBmcm9tLngpOwogICAgICB1cHBlckJvdW5kLnkgPSBNYXRoLm1heCh0by55LCBmcm9tLnkpOwogICAgICB1cHBlckJvdW5kLnogPSBNYXRoLm1heCh0by56LCBmcm9tLnopOwogICAgfQoKICAgIF9pbnRlcnNlY3RIZWlnaHRmaWVsZChzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpIHsKICAgICAgc2hhcGUuZGF0YTsKICAgICAgc2hhcGUuZWxlbWVudFNpemU7IC8vIENvbnZlcnQgdGhlIHJheSB0byBsb2NhbCBoZWlnaHRmaWVsZCBjb29yZGluYXRlcwoKICAgICAgY29uc3QgbG9jYWxSYXkgPSBpbnRlcnNlY3RIZWlnaHRmaWVsZF9sb2NhbFJheTsgLy9uZXcgUmF5KHRoaXMuZnJvbSwgdGhpcy50byk7CgogICAgICBsb2NhbFJheS5mcm9tLmNvcHkodGhpcy5mcm9tKTsKICAgICAgbG9jYWxSYXkudG8uY29weSh0aGlzLnRvKTsKICAgICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBsb2NhbFJheS5mcm9tLCBsb2NhbFJheS5mcm9tKTsKICAgICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBsb2NhbFJheS50bywgbG9jYWxSYXkudG8pOwogICAgICBsb2NhbFJheS51cGRhdGVEaXJlY3Rpb24oKTsgLy8gR2V0IHRoZSBpbmRleCBvZiB0aGUgZGF0YSBwb2ludHMgdG8gdGVzdCBhZ2FpbnN0CgogICAgICBjb25zdCBpbmRleCA9IGludGVyc2VjdEhlaWdodGZpZWxkX2luZGV4OwogICAgICBsZXQgaU1pblg7CiAgICAgIGxldCBpTWluWTsKICAgICAgbGV0IGlNYXhYOwogICAgICBsZXQgaU1heFk7IC8vIFNldCB0byBtYXgKCiAgICAgIGlNaW5YID0gaU1pblkgPSAwOwogICAgICBpTWF4WCA9IGlNYXhZID0gc2hhcGUuZGF0YS5sZW5ndGggLSAxOwogICAgICBjb25zdCBhYWJiID0gbmV3IEFBQkIoKTsKICAgICAgbG9jYWxSYXkuZ2V0QUFCQihhYWJiKTsKICAgICAgc2hhcGUuZ2V0SW5kZXhPZlBvc2l0aW9uKGFhYmIubG93ZXJCb3VuZC54LCBhYWJiLmxvd2VyQm91bmQueSwgaW5kZXgsIHRydWUpOwogICAgICBpTWluWCA9IE1hdGgubWF4KGlNaW5YLCBpbmRleFswXSk7CiAgICAgIGlNaW5ZID0gTWF0aC5tYXgoaU1pblksIGluZGV4WzFdKTsKICAgICAgc2hhcGUuZ2V0SW5kZXhPZlBvc2l0aW9uKGFhYmIudXBwZXJCb3VuZC54LCBhYWJiLnVwcGVyQm91bmQueSwgaW5kZXgsIHRydWUpOwogICAgICBpTWF4WCA9IE1hdGgubWluKGlNYXhYLCBpbmRleFswXSArIDEpOwogICAgICBpTWF4WSA9IE1hdGgubWluKGlNYXhZLCBpbmRleFsxXSArIDEpOwoKICAgICAgZm9yIChsZXQgaSA9IGlNaW5YOyBpIDwgaU1heFg7IGkrKykgewogICAgICAgIGZvciAobGV0IGogPSBpTWluWTsgaiA8IGlNYXhZOyBqKyspIHsKICAgICAgICAgIGlmICh0aGlzLnJlc3VsdC5zaG91bGRTdG9wKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBzaGFwZS5nZXRBYWJiQXRJbmRleChpLCBqLCBhYWJiKTsKCiAgICAgICAgICBpZiAoIWFhYmIub3ZlcmxhcHNSYXkobG9jYWxSYXkpKSB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfSAvLyBMb3dlciB0cmlhbmdsZQoKCiAgICAgICAgICBzaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCBmYWxzZSk7CiAgICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUocG9zaXRpb24sIHF1YXQsIHNoYXBlLnBpbGxhck9mZnNldCwgd29ybGRQaWxsYXJPZmZzZXQpOwoKICAgICAgICAgIHRoaXMuX2ludGVyc2VjdENvbnZleChzaGFwZS5waWxsYXJDb252ZXgsIHF1YXQsIHdvcmxkUGlsbGFyT2Zmc2V0LCBib2R5LCByZXBvcnRlZFNoYXBlLCBpbnRlcnNlY3RDb252ZXhPcHRpb25zKTsKCiAgICAgICAgICBpZiAodGhpcy5yZXN1bHQuc2hvdWxkU3RvcCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9IC8vIFVwcGVyIHRyaWFuZ2xlCgoKICAgICAgICAgIHNoYXBlLmdldENvbnZleFRyaWFuZ2xlUGlsbGFyKGksIGosIHRydWUpOwogICAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBzaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTsKCiAgICAgICAgICB0aGlzLl9pbnRlcnNlY3RDb252ZXgoc2hhcGUucGlsbGFyQ29udmV4LCBxdWF0LCB3b3JsZFBpbGxhck9mZnNldCwgYm9keSwgcmVwb3J0ZWRTaGFwZSwgaW50ZXJzZWN0Q29udmV4T3B0aW9ucyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgX2ludGVyc2VjdFNwaGVyZShzcGhlcmUsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlKSB7CiAgICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207CiAgICAgIGNvbnN0IHRvID0gdGhpcy50bzsKICAgICAgY29uc3QgciA9IHNwaGVyZS5yYWRpdXM7CiAgICAgIGNvbnN0IGEgPSAodG8ueCAtIGZyb20ueCkgKiogMiArICh0by55IC0gZnJvbS55KSAqKiAyICsgKHRvLnogLSBmcm9tLnopICoqIDI7CiAgICAgIGNvbnN0IGIgPSAyICogKCh0by54IC0gZnJvbS54KSAqIChmcm9tLnggLSBwb3NpdGlvbi54KSArICh0by55IC0gZnJvbS55KSAqIChmcm9tLnkgLSBwb3NpdGlvbi55KSArICh0by56IC0gZnJvbS56KSAqIChmcm9tLnogLSBwb3NpdGlvbi56KSk7CiAgICAgIGNvbnN0IGMgPSAoZnJvbS54IC0gcG9zaXRpb24ueCkgKiogMiArIChmcm9tLnkgLSBwb3NpdGlvbi55KSAqKiAyICsgKGZyb20ueiAtIHBvc2l0aW9uLnopICoqIDIgLSByICoqIDI7CiAgICAgIGNvbnN0IGRlbHRhID0gYiAqKiAyIC0gNCAqIGEgKiBjOwogICAgICBjb25zdCBpbnRlcnNlY3Rpb25Qb2ludCA9IFJheV9pbnRlcnNlY3RTcGhlcmVfaW50ZXJzZWN0aW9uUG9pbnQ7CiAgICAgIGNvbnN0IG5vcm1hbCA9IFJheV9pbnRlcnNlY3RTcGhlcmVfbm9ybWFsOwoKICAgICAgaWYgKGRlbHRhIDwgMCkgewogICAgICAgIC8vIE5vIGludGVyc2VjdGlvbgogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmIChkZWx0YSA9PT0gMCkgewogICAgICAgIC8vIHNpbmdsZSBpbnRlcnNlY3Rpb24gcG9pbnQKICAgICAgICBmcm9tLmxlcnAodG8sIGRlbHRhLCBpbnRlcnNlY3Rpb25Qb2ludCk7CiAgICAgICAgaW50ZXJzZWN0aW9uUG9pbnQudnN1Yihwb3NpdGlvbiwgbm9ybWFsKTsKICAgICAgICBub3JtYWwubm9ybWFsaXplKCk7CiAgICAgICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24obm9ybWFsLCBpbnRlcnNlY3Rpb25Qb2ludCwgcmVwb3J0ZWRTaGFwZSwgYm9keSwgLTEpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IGQxID0gKC1iIC0gTWF0aC5zcXJ0KGRlbHRhKSkgLyAoMiAqIGEpOwogICAgICAgIGNvbnN0IGQyID0gKC1iICsgTWF0aC5zcXJ0KGRlbHRhKSkgLyAoMiAqIGEpOwoKICAgICAgICBpZiAoZDEgPj0gMCAmJiBkMSA8PSAxKSB7CiAgICAgICAgICBmcm9tLmxlcnAodG8sIGQxLCBpbnRlcnNlY3Rpb25Qb2ludCk7CiAgICAgICAgICBpbnRlcnNlY3Rpb25Qb2ludC52c3ViKHBvc2l0aW9uLCBub3JtYWwpOwogICAgICAgICAgbm9ybWFsLm5vcm1hbGl6ZSgpOwogICAgICAgICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24obm9ybWFsLCBpbnRlcnNlY3Rpb25Qb2ludCwgcmVwb3J0ZWRTaGFwZSwgYm9keSwgLTEpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMucmVzdWx0LnNob3VsZFN0b3ApIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmIChkMiA+PSAwICYmIGQyIDw9IDEpIHsKICAgICAgICAgIGZyb20ubGVycCh0bywgZDIsIGludGVyc2VjdGlvblBvaW50KTsKICAgICAgICAgIGludGVyc2VjdGlvblBvaW50LnZzdWIocG9zaXRpb24sIG5vcm1hbCk7CiAgICAgICAgICBub3JtYWwubm9ybWFsaXplKCk7CiAgICAgICAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbihub3JtYWwsIGludGVyc2VjdGlvblBvaW50LCByZXBvcnRlZFNoYXBlLCBib2R5LCAtMSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgX2ludGVyc2VjdENvbnZleChzaGFwZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUsIG9wdGlvbnMpIHsKICAgICAgY29uc3Qgbm9ybWFsID0gaW50ZXJzZWN0Q29udmV4X25vcm1hbDsKICAgICAgY29uc3QgdmVjdG9yID0gaW50ZXJzZWN0Q29udmV4X3ZlY3RvcjsKICAgICAgY29uc3QgZmFjZUxpc3QgPSBvcHRpb25zICYmIG9wdGlvbnMuZmFjZUxpc3QgfHwgbnVsbDsgLy8gQ2hlY2tpbmcgZmFjZXMKCiAgICAgIGNvbnN0IGZhY2VzID0gc2hhcGUuZmFjZXM7CiAgICAgIGNvbnN0IHZlcnRpY2VzID0gc2hhcGUudmVydGljZXM7CiAgICAgIGNvbnN0IG5vcm1hbHMgPSBzaGFwZS5mYWNlTm9ybWFsczsKICAgICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb247CiAgICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207CiAgICAgIGNvbnN0IHRvID0gdGhpcy50bzsKICAgICAgY29uc3QgZnJvbVRvRGlzdGFuY2UgPSBmcm9tLmRpc3RhbmNlVG8odG8pOwogICAgICBjb25zdCBOZmFjZXMgPSBmYWNlTGlzdCA/IGZhY2VMaXN0Lmxlbmd0aCA6IGZhY2VzLmxlbmd0aDsKICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5yZXN1bHQ7CgogICAgICBmb3IgKGxldCBqID0gMDsgIXJlc3VsdC5zaG91bGRTdG9wICYmIGogPCBOZmFjZXM7IGorKykgewogICAgICAgIGNvbnN0IGZpID0gZmFjZUxpc3QgPyBmYWNlTGlzdFtqXSA6IGo7CiAgICAgICAgY29uc3QgZmFjZSA9IGZhY2VzW2ZpXTsKICAgICAgICBjb25zdCBmYWNlTm9ybWFsID0gbm9ybWFsc1tmaV07CiAgICAgICAgY29uc3QgcSA9IHF1YXQ7CiAgICAgICAgY29uc3QgeCA9IHBvc2l0aW9uOyAvLyBkZXRlcm1pbmUgaWYgcmF5IGludGVyc2VjdHMgdGhlIHBsYW5lIG9mIHRoZSBmYWNlCiAgICAgICAgLy8gbm90ZTogdGhpcyB3b3JrcyByZWdhcmRsZXNzIG9mIHRoZSBkaXJlY3Rpb24gb2YgdGhlIGZhY2Ugbm9ybWFsCiAgICAgICAgLy8gR2V0IHBsYW5lIHBvaW50IGluIHdvcmxkIGNvb3JkaW5hdGVzLi4uCgogICAgICAgIHZlY3Rvci5jb3B5KHZlcnRpY2VzW2ZhY2VbMF1dKTsKICAgICAgICBxLnZtdWx0KHZlY3RvciwgdmVjdG9yKTsKICAgICAgICB2ZWN0b3IudmFkZCh4LCB2ZWN0b3IpOyAvLyAuLi5idXQgbWFrZSBpdCByZWxhdGl2ZSB0byB0aGUgcmF5IGZyb20uIFdlJ2xsIGZpeCB0aGlzIGxhdGVyLgoKICAgICAgICB2ZWN0b3IudnN1Yihmcm9tLCB2ZWN0b3IpOyAvLyBHZXQgcGxhbmUgbm9ybWFsCgogICAgICAgIHEudm11bHQoZmFjZU5vcm1hbCwgbm9ybWFsKTsgLy8gSWYgdGhpcyBkb3QgcHJvZHVjdCBpcyBuZWdhdGl2ZSwgd2UgaGF2ZSBzb21ldGhpbmcgaW50ZXJlc3RpbmcKCiAgICAgICAgY29uc3QgZG90ID0gZGlyZWN0aW9uLmRvdChub3JtYWwpOyAvLyBCYWlsIG91dCBpZiByYXkgYW5kIHBsYW5lIGFyZSBwYXJhbGxlbAoKICAgICAgICBpZiAoTWF0aC5hYnMoZG90KSA8IHRoaXMucHJlY2lzaW9uKSB7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9IC8vIGNhbGMgZGlzdGFuY2UgdG8gcGxhbmUKCgogICAgICAgIGNvbnN0IHNjYWxhciA9IG5vcm1hbC5kb3QodmVjdG9yKSAvIGRvdDsgLy8gaWYgbmVnYXRpdmUgZGlzdGFuY2UsIHRoZW4gcGxhbmUgaXMgYmVoaW5kIHJheQoKICAgICAgICBpZiAoc2NhbGFyIDwgMCkgewogICAgICAgICAgY29udGludWU7CiAgICAgICAgfSAvLyBpZiAoZG90IDwgMCkgewogICAgICAgIC8vIEludGVyc2VjdGlvbiBwb2ludCBpcyBmcm9tICsgZGlyZWN0aW9uICogc2NhbGFyCgoKICAgICAgICBkaXJlY3Rpb24uc2NhbGUoc2NhbGFyLCBpbnRlcnNlY3RQb2ludCk7CiAgICAgICAgaW50ZXJzZWN0UG9pbnQudmFkZChmcm9tLCBpbnRlcnNlY3RQb2ludCk7IC8vIGEgaXMgdGhlIHBvaW50IHdlIGNvbXBhcmUgcG9pbnRzIGIgYW5kIGMgd2l0aC4KCiAgICAgICAgYS5jb3B5KHZlcnRpY2VzW2ZhY2VbMF1dKTsKICAgICAgICBxLnZtdWx0KGEsIGEpOwogICAgICAgIHgudmFkZChhLCBhKTsKCiAgICAgICAgZm9yIChsZXQgaSA9IDE7ICFyZXN1bHQuc2hvdWxkU3RvcCAmJiBpIDwgZmFjZS5sZW5ndGggLSAxOyBpKyspIHsKICAgICAgICAgIC8vIFRyYW5zZm9ybSAzIHZlcnRpY2VzIHRvIHdvcmxkIGNvb3JkcwogICAgICAgICAgYi5jb3B5KHZlcnRpY2VzW2ZhY2VbaV1dKTsKICAgICAgICAgIGMuY29weSh2ZXJ0aWNlc1tmYWNlW2kgKyAxXV0pOwogICAgICAgICAgcS52bXVsdChiLCBiKTsKICAgICAgICAgIHEudm11bHQoYywgYyk7CiAgICAgICAgICB4LnZhZGQoYiwgYik7CiAgICAgICAgICB4LnZhZGQoYywgYyk7CiAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IGludGVyc2VjdFBvaW50LmRpc3RhbmNlVG8oZnJvbSk7CgogICAgICAgICAgaWYgKCEocG9pbnRJblRyaWFuZ2xlKGludGVyc2VjdFBvaW50LCBhLCBiLCBjKSB8fCBwb2ludEluVHJpYW5nbGUoaW50ZXJzZWN0UG9pbnQsIGIsIGEsIGMpKSB8fCBkaXN0YW5jZSA+IGZyb21Ub0Rpc3RhbmNlKSB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKG5vcm1hbCwgaW50ZXJzZWN0UG9pbnQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIGZpKTsKICAgICAgICB9IC8vIH0KCiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogQHRvZG8gT3B0aW1pemUgYnkgdHJhbnNmb3JtaW5nIHRoZSB3b3JsZCB0byBsb2NhbCBzcGFjZSBmaXJzdC4KICAgICAqIEB0b2RvIFVzZSBPY3RyZWUgbG9va3VwCiAgICAgKi8KCgogICAgX2ludGVyc2VjdFRyaW1lc2gobWVzaCwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUsIG9wdGlvbnMpIHsKICAgICAgY29uc3Qgbm9ybWFsID0gaW50ZXJzZWN0VHJpbWVzaF9ub3JtYWw7CiAgICAgIGNvbnN0IHRyaWFuZ2xlcyA9IGludGVyc2VjdFRyaW1lc2hfdHJpYW5nbGVzOwogICAgICBjb25zdCB0cmVlVHJhbnNmb3JtID0gaW50ZXJzZWN0VHJpbWVzaF90cmVlVHJhbnNmb3JtOwogICAgICBjb25zdCB2ZWN0b3IgPSBpbnRlcnNlY3RDb252ZXhfdmVjdG9yOwogICAgICBjb25zdCBsb2NhbERpcmVjdGlvbiA9IGludGVyc2VjdFRyaW1lc2hfbG9jYWxEaXJlY3Rpb247CiAgICAgIGNvbnN0IGxvY2FsRnJvbSA9IGludGVyc2VjdFRyaW1lc2hfbG9jYWxGcm9tOwogICAgICBjb25zdCBsb2NhbFRvID0gaW50ZXJzZWN0VHJpbWVzaF9sb2NhbFRvOwogICAgICBjb25zdCB3b3JsZEludGVyc2VjdFBvaW50ID0gaW50ZXJzZWN0VHJpbWVzaF93b3JsZEludGVyc2VjdFBvaW50OwogICAgICBjb25zdCB3b3JsZE5vcm1hbCA9IGludGVyc2VjdFRyaW1lc2hfd29ybGROb3JtYWw7CiAgICAgIG9wdGlvbnMgJiYgb3B0aW9ucy5mYWNlTGlzdCB8fCBudWxsOyAvLyBDaGVja2luZyBmYWNlcwoKICAgICAgY29uc3QgaW5kaWNlcyA9IG1lc2guaW5kaWNlczsKICAgICAgbWVzaC52ZXJ0aWNlczsgLy8gY29uc3Qgbm9ybWFscyA9IG1lc2guZmFjZU5vcm1hbHMKCiAgICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207CiAgICAgIGNvbnN0IHRvID0gdGhpcy50bzsKICAgICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb247CiAgICAgIHRyZWVUcmFuc2Zvcm0ucG9zaXRpb24uY29weShwb3NpdGlvbik7CiAgICAgIHRyZWVUcmFuc2Zvcm0ucXVhdGVybmlvbi5jb3B5KHF1YXQpOyAvLyBUcmFuc2Zvcm0gcmF5IHRvIGxvY2FsIHNwYWNlIQoKICAgICAgVHJhbnNmb3JtLnZlY3RvclRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdCwgZGlyZWN0aW9uLCBsb2NhbERpcmVjdGlvbik7CiAgICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdCwgZnJvbSwgbG9jYWxGcm9tKTsKICAgICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0LCB0bywgbG9jYWxUbyk7CiAgICAgIGxvY2FsVG8ueCAqPSBtZXNoLnNjYWxlLng7CiAgICAgIGxvY2FsVG8ueSAqPSBtZXNoLnNjYWxlLnk7CiAgICAgIGxvY2FsVG8ueiAqPSBtZXNoLnNjYWxlLno7CiAgICAgIGxvY2FsRnJvbS54ICo9IG1lc2guc2NhbGUueDsKICAgICAgbG9jYWxGcm9tLnkgKj0gbWVzaC5zY2FsZS55OwogICAgICBsb2NhbEZyb20ueiAqPSBtZXNoLnNjYWxlLno7CiAgICAgIGxvY2FsVG8udnN1Yihsb2NhbEZyb20sIGxvY2FsRGlyZWN0aW9uKTsKICAgICAgbG9jYWxEaXJlY3Rpb24ubm9ybWFsaXplKCk7CiAgICAgIGNvbnN0IGZyb21Ub0Rpc3RhbmNlU3F1YXJlZCA9IGxvY2FsRnJvbS5kaXN0YW5jZVNxdWFyZWQobG9jYWxUbyk7CiAgICAgIG1lc2gudHJlZS5yYXlRdWVyeSh0aGlzLCB0cmVlVHJhbnNmb3JtLCB0cmlhbmdsZXMpOwoKICAgICAgZm9yIChsZXQgaSA9IDAsIE4gPSB0cmlhbmdsZXMubGVuZ3RoOyAhdGhpcy5yZXN1bHQuc2hvdWxkU3RvcCAmJiBpICE9PSBOOyBpKyspIHsKICAgICAgICBjb25zdCB0cmlhbmdsZXNJbmRleCA9IHRyaWFuZ2xlc1tpXTsKICAgICAgICBtZXNoLmdldE5vcm1hbCh0cmlhbmdsZXNJbmRleCwgbm9ybWFsKTsgLy8gZGV0ZXJtaW5lIGlmIHJheSBpbnRlcnNlY3RzIHRoZSBwbGFuZSBvZiB0aGUgZmFjZQogICAgICAgIC8vIG5vdGU6IHRoaXMgd29ya3MgcmVnYXJkbGVzcyBvZiB0aGUgZGlyZWN0aW9uIG9mIHRoZSBmYWNlIG5vcm1hbAogICAgICAgIC8vIEdldCBwbGFuZSBwb2ludCBpbiB3b3JsZCBjb29yZGluYXRlcy4uLgoKICAgICAgICBtZXNoLmdldFZlcnRleChpbmRpY2VzW3RyaWFuZ2xlc0luZGV4ICogM10sIGEpOyAvLyAuLi5idXQgbWFrZSBpdCByZWxhdGl2ZSB0byB0aGUgcmF5IGZyb20uIFdlJ2xsIGZpeCB0aGlzIGxhdGVyLgoKICAgICAgICBhLnZzdWIobG9jYWxGcm9tLCB2ZWN0b3IpOyAvLyBJZiB0aGlzIGRvdCBwcm9kdWN0IGlzIG5lZ2F0aXZlLCB3ZSBoYXZlIHNvbWV0aGluZyBpbnRlcmVzdGluZwoKICAgICAgICBjb25zdCBkb3QgPSBsb2NhbERpcmVjdGlvbi5kb3Qobm9ybWFsKTsgLy8gQmFpbCBvdXQgaWYgcmF5IGFuZCBwbGFuZSBhcmUgcGFyYWxsZWwKICAgICAgICAvLyBpZiAoTWF0aC5hYnMoIGRvdCApIDwgdGhpcy5wcmVjaXNpb24pewogICAgICAgIC8vICAgICBjb250aW51ZTsKICAgICAgICAvLyB9CiAgICAgICAgLy8gY2FsYyBkaXN0YW5jZSB0byBwbGFuZQoKICAgICAgICBjb25zdCBzY2FsYXIgPSBub3JtYWwuZG90KHZlY3RvcikgLyBkb3Q7IC8vIGlmIG5lZ2F0aXZlIGRpc3RhbmNlLCB0aGVuIHBsYW5lIGlzIGJlaGluZCByYXkKCiAgICAgICAgaWYgKHNjYWxhciA8IDApIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0gLy8gSW50ZXJzZWN0aW9uIHBvaW50IGlzIGZyb20gKyBkaXJlY3Rpb24gKiBzY2FsYXIKCgogICAgICAgIGxvY2FsRGlyZWN0aW9uLnNjYWxlKHNjYWxhciwgaW50ZXJzZWN0UG9pbnQpOwogICAgICAgIGludGVyc2VjdFBvaW50LnZhZGQobG9jYWxGcm9tLCBpbnRlcnNlY3RQb2ludCk7IC8vIEdldCB0cmlhbmdsZSB2ZXJ0aWNlcwoKICAgICAgICBtZXNoLmdldFZlcnRleChpbmRpY2VzW3RyaWFuZ2xlc0luZGV4ICogMyArIDFdLCBiKTsKICAgICAgICBtZXNoLmdldFZlcnRleChpbmRpY2VzW3RyaWFuZ2xlc0luZGV4ICogMyArIDJdLCBjKTsKICAgICAgICBjb25zdCBzcXVhcmVkRGlzdGFuY2UgPSBpbnRlcnNlY3RQb2ludC5kaXN0YW5jZVNxdWFyZWQobG9jYWxGcm9tKTsKCiAgICAgICAgaWYgKCEocG9pbnRJblRyaWFuZ2xlKGludGVyc2VjdFBvaW50LCBiLCBhLCBjKSB8fCBwb2ludEluVHJpYW5nbGUoaW50ZXJzZWN0UG9pbnQsIGEsIGIsIGMpKSB8fCBzcXVhcmVkRGlzdGFuY2UgPiBmcm9tVG9EaXN0YW5jZVNxdWFyZWQpIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0gLy8gdHJhbnNmb3JtIGludGVyc2VjdHBvaW50IGFuZCBub3JtYWwgdG8gd29ybGQKCgogICAgICAgIFRyYW5zZm9ybS52ZWN0b3JUb1dvcmxkRnJhbWUocXVhdCwgbm9ybWFsLCB3b3JsZE5vcm1hbCk7CiAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHBvc2l0aW9uLCBxdWF0LCBpbnRlcnNlY3RQb2ludCwgd29ybGRJbnRlcnNlY3RQb2ludCk7CiAgICAgICAgdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24od29ybGROb3JtYWwsIHdvcmxkSW50ZXJzZWN0UG9pbnQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIHRyaWFuZ2xlc0luZGV4KTsKICAgICAgfQoKICAgICAgdHJpYW5nbGVzLmxlbmd0aCA9IDA7CiAgICB9CiAgICAvKioKICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGludGVyc2VjdGlvbnMgc2hvdWxkIGNvbnRpbnVlCiAgICAgKi8KCgogICAgcmVwb3J0SW50ZXJzZWN0aW9uKG5vcm1hbCwgaGl0UG9pbnRXb3JsZCwgc2hhcGUsIGJvZHksIGhpdEZhY2VJbmRleCkgewogICAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tOwogICAgICBjb25zdCB0byA9IHRoaXMudG87CiAgICAgIGNvbnN0IGRpc3RhbmNlID0gZnJvbS5kaXN0YW5jZVRvKGhpdFBvaW50V29ybGQpOwogICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnJlc3VsdDsgLy8gU2tpcCBiYWNrIGZhY2VzPwoKICAgICAgaWYgKHRoaXMuc2tpcEJhY2tmYWNlcyAmJiBub3JtYWwuZG90KHRoaXMuZGlyZWN0aW9uKSA+IDApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHJlc3VsdC5oaXRGYWNlSW5kZXggPSB0eXBlb2YgaGl0RmFjZUluZGV4ICE9PSAndW5kZWZpbmVkJyA/IGhpdEZhY2VJbmRleCA6IC0xOwoKICAgICAgc3dpdGNoICh0aGlzLm1vZGUpIHsKICAgICAgICBjYXNlIFJheS5BTEw6CiAgICAgICAgICB0aGlzLmhhc0hpdCA9IHRydWU7CiAgICAgICAgICByZXN1bHQuc2V0KGZyb20sIHRvLCBub3JtYWwsIGhpdFBvaW50V29ybGQsIHNoYXBlLCBib2R5LCBkaXN0YW5jZSk7CiAgICAgICAgICByZXN1bHQuaGFzSGl0ID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuY2FsbGJhY2socmVzdWx0KTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIFJheS5DTE9TRVNUOgogICAgICAgICAgLy8gU3RvcmUgaWYgY2xvc2VyIHRoYW4gY3VycmVudCBjbG9zZXN0CiAgICAgICAgICBpZiAoZGlzdGFuY2UgPCByZXN1bHQuZGlzdGFuY2UgfHwgIXJlc3VsdC5oYXNIaXQpIHsKICAgICAgICAgICAgdGhpcy5oYXNIaXQgPSB0cnVlOwogICAgICAgICAgICByZXN1bHQuaGFzSGl0ID0gdHJ1ZTsKICAgICAgICAgICAgcmVzdWx0LnNldChmcm9tLCB0bywgbm9ybWFsLCBoaXRQb2ludFdvcmxkLCBzaGFwZSwgYm9keSwgZGlzdGFuY2UpOwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIFJheS5BTlk6CiAgICAgICAgICAvLyBSZXBvcnQgYW5kIHN0b3AuCiAgICAgICAgICB0aGlzLmhhc0hpdCA9IHRydWU7CiAgICAgICAgICByZXN1bHQuaGFzSGl0ID0gdHJ1ZTsKICAgICAgICAgIHJlc3VsdC5zZXQoZnJvbSwgdG8sIG5vcm1hbCwgaGl0UG9pbnRXb3JsZCwgc2hhcGUsIGJvZHksIGRpc3RhbmNlKTsKICAgICAgICAgIHJlc3VsdC5zaG91bGRTdG9wID0gdHJ1ZTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogIH0KCiAgUmF5LkNMT1NFU1QgPSAxOwogIFJheS5BTlkgPSAyOwogIFJheS5BTEwgPSA0OwogIGNvbnN0IHRtcEFBQkIgPSBuZXcgQUFCQigpOwogIGNvbnN0IHRtcEFycmF5ID0gW107CiAgY29uc3QgdjEgPSBuZXcgVmVjMygpOwogIGNvbnN0IHYyID0gbmV3IFZlYzMoKTsKICAvKgogICAqIEFzIHBlciAiQmFyeWNlbnRyaWMgVGVjaG5pcXVlIiBhcyBuYW1lZCBoZXJlIGh0dHA6Ly93d3cuYmxhY2twYXduLmNvbS90ZXh0cy9wb2ludGlucG9seS9kZWZhdWx0Lmh0bWwgQnV0IHdpdGhvdXQgdGhlIGRpdmlzaW9uCiAgICovCgogIFJheS5wb2ludEluVHJpYW5nbGUgPSBwb2ludEluVHJpYW5nbGU7CgogIGZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShwLCBhLCBiLCBjKSB7CiAgICBjLnZzdWIoYSwgdjApOwogICAgYi52c3ViKGEsIHYxKTsKICAgIHAudnN1YihhLCB2Mik7CiAgICBjb25zdCBkb3QwMCA9IHYwLmRvdCh2MCk7CiAgICBjb25zdCBkb3QwMSA9IHYwLmRvdCh2MSk7CiAgICBjb25zdCBkb3QwMiA9IHYwLmRvdCh2Mik7CiAgICBjb25zdCBkb3QxMSA9IHYxLmRvdCh2MSk7CiAgICBjb25zdCBkb3QxMiA9IHYxLmRvdCh2Mik7CiAgICBsZXQgdTsKICAgIGxldCB2OwogICAgcmV0dXJuICh1ID0gZG90MTEgKiBkb3QwMiAtIGRvdDAxICogZG90MTIpID49IDAgJiYgKHYgPSBkb3QwMCAqIGRvdDEyIC0gZG90MDEgKiBkb3QwMikgPj0gMCAmJiB1ICsgdiA8IGRvdDAwICogZG90MTEgLSBkb3QwMSAqIGRvdDAxOwogIH0KCiAgY29uc3QgaW50ZXJzZWN0Qm9keV94aSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgaW50ZXJzZWN0Qm9keV9xaSA9IG5ldyBRdWF0ZXJuaW9uKCk7CiAgY29uc3QgaW50ZXJzZWN0UG9pbnQgPSBuZXcgVmVjMygpOwogIGNvbnN0IGEgPSBuZXcgVmVjMygpOwogIGNvbnN0IGIgPSBuZXcgVmVjMygpOwogIGNvbnN0IGMgPSBuZXcgVmVjMygpOwogIFJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuQk9YXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdEJveDsKICBSYXkucHJvdG90eXBlW1NoYXBlLnR5cGVzLlBMQU5FXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdFBsYW5lOwogIGNvbnN0IGludGVyc2VjdENvbnZleE9wdGlvbnMgPSB7CiAgICBmYWNlTGlzdDogWzBdCiAgfTsKICBjb25zdCB3b3JsZFBpbGxhck9mZnNldCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgaW50ZXJzZWN0SGVpZ2h0ZmllbGRfbG9jYWxSYXkgPSBuZXcgUmF5KCk7CiAgY29uc3QgaW50ZXJzZWN0SGVpZ2h0ZmllbGRfaW5kZXggPSBbXTsKICBSYXkucHJvdG90eXBlW1NoYXBlLnR5cGVzLkhFSUdIVEZJRUxEXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdEhlaWdodGZpZWxkOwogIGNvbnN0IFJheV9pbnRlcnNlY3RTcGhlcmVfaW50ZXJzZWN0aW9uUG9pbnQgPSBuZXcgVmVjMygpOwogIGNvbnN0IFJheV9pbnRlcnNlY3RTcGhlcmVfbm9ybWFsID0gbmV3IFZlYzMoKTsKICBSYXkucHJvdG90eXBlW1NoYXBlLnR5cGVzLlNQSEVSRV0gPSBSYXkucHJvdG90eXBlLl9pbnRlcnNlY3RTcGhlcmU7CiAgY29uc3QgaW50ZXJzZWN0Q29udmV4X25vcm1hbCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgaW50ZXJzZWN0Q29udmV4X3ZlY3RvciA9IG5ldyBWZWMzKCk7CiAgUmF5LnByb3RvdHlwZVtTaGFwZS50eXBlcy5DWUxJTkRFUl0gPSBSYXkucHJvdG90eXBlLl9pbnRlcnNlY3RDb252ZXg7CiAgUmF5LnByb3RvdHlwZVtTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OXSA9IFJheS5wcm90b3R5cGUuX2ludGVyc2VjdENvbnZleDsKICBjb25zdCBpbnRlcnNlY3RUcmltZXNoX25vcm1hbCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgaW50ZXJzZWN0VHJpbWVzaF9sb2NhbERpcmVjdGlvbiA9IG5ldyBWZWMzKCk7CiAgY29uc3QgaW50ZXJzZWN0VHJpbWVzaF9sb2NhbEZyb20gPSBuZXcgVmVjMygpOwogIGNvbnN0IGludGVyc2VjdFRyaW1lc2hfbG9jYWxUbyA9IG5ldyBWZWMzKCk7CiAgY29uc3QgaW50ZXJzZWN0VHJpbWVzaF93b3JsZE5vcm1hbCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgaW50ZXJzZWN0VHJpbWVzaF93b3JsZEludGVyc2VjdFBvaW50ID0gbmV3IFZlYzMoKTsKICBuZXcgQUFCQigpOwogIGNvbnN0IGludGVyc2VjdFRyaW1lc2hfdHJpYW5nbGVzID0gW107CiAgY29uc3QgaW50ZXJzZWN0VHJpbWVzaF90cmVlVHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpOwogIFJheS5wcm90b3R5cGVbU2hhcGUudHlwZXMuVFJJTUVTSF0gPSBSYXkucHJvdG90eXBlLl9pbnRlcnNlY3RUcmltZXNoOwogIGNvbnN0IHYwID0gbmV3IFZlYzMoKTsKICBjb25zdCBpbnRlcnNlY3QgPSBuZXcgVmVjMygpOwoKICBmdW5jdGlvbiBkaXN0YW5jZUZyb21JbnRlcnNlY3Rpb24oZnJvbSwgZGlyZWN0aW9uLCBwb3NpdGlvbikgewogICAgLy8gdjAgaXMgdmVjdG9yIGZyb20gZnJvbSB0byBwb3NpdGlvbgogICAgcG9zaXRpb24udnN1Yihmcm9tLCB2MCk7CiAgICBjb25zdCBkb3QgPSB2MC5kb3QoZGlyZWN0aW9uKTsgLy8gaW50ZXJzZWN0ID0gZGlyZWN0aW9uKmRvdCArIGZyb20KCiAgICBkaXJlY3Rpb24uc2NhbGUoZG90LCBpbnRlcnNlY3QpOwogICAgaW50ZXJzZWN0LnZhZGQoZnJvbSwgaW50ZXJzZWN0KTsKICAgIGNvbnN0IGRpc3RhbmNlID0gcG9zaXRpb24uZGlzdGFuY2VUbyhpbnRlcnNlY3QpOwogICAgcmV0dXJuIGRpc3RhbmNlOwogIH0KICAvKioKICAgKiBTd2VlcCBhbmQgcHJ1bmUgYnJvYWRwaGFzZSBhbG9uZyBvbmUgYXhpcy4KICAgKgogICAqIEBjbGFzcyBTQVBCcm9hZHBoYXNlCiAgICogQGNvbnN0cnVjdG9yCiAgICogQHBhcmFtIHtXb3JsZH0gW3dvcmxkXQogICAqIEBleHRlbmRzIEJyb2FkcGhhc2UKICAgKi8KCgogIGNsYXNzIFNBUEJyb2FkcGhhc2UgZXh0ZW5kcyBCcm9hZHBoYXNlIHsKICAgIC8vIExpc3Qgb2YgYm9kaWVzIGN1cnJlbnRseSBpbiB0aGUgYnJvYWRwaGFzZS4KICAgIC8vIFRoZSB3b3JsZCB0byBzZWFyY2ggaW4uCiAgICAvLyBBeGlzIHRvIHNvcnQgdGhlIGJvZGllcyBhbG9uZy4gU2V0IHRvIDAgZm9yIHggYXhpcywgYW5kIDEgZm9yIHkgYXhpcy4gRm9yIGJlc3QgcGVyZm9ybWFuY2UsIGNob29zZSBhbiBheGlzIHRoYXQgdGhlIGJvZGllcyBhcmUgc3ByZWFkIG91dCBtb3JlIG9uLgogICAgY29uc3RydWN0b3Iod29ybGQpIHsKICAgICAgc3VwZXIoKTsKICAgICAgdGhpcy5heGlzTGlzdCA9IFtdOwogICAgICB0aGlzLndvcmxkID0gbnVsbDsKICAgICAgdGhpcy5heGlzSW5kZXggPSAwOwogICAgICBjb25zdCBheGlzTGlzdCA9IHRoaXMuYXhpc0xpc3Q7CgogICAgICB0aGlzLl9hZGRCb2R5SGFuZGxlciA9IGV2ZW50ID0+IHsKICAgICAgICBheGlzTGlzdC5wdXNoKGV2ZW50LmJvZHkpOwogICAgICB9OwoKICAgICAgdGhpcy5fcmVtb3ZlQm9keUhhbmRsZXIgPSBldmVudCA9PiB7CiAgICAgICAgY29uc3QgaWR4ID0gYXhpc0xpc3QuaW5kZXhPZihldmVudC5ib2R5KTsKCiAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHsKICAgICAgICAgIGF4aXNMaXN0LnNwbGljZShpZHgsIDEpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGlmICh3b3JsZCkgewogICAgICAgIHRoaXMuc2V0V29ybGQod29ybGQpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIENoYW5nZSB0aGUgd29ybGQKICAgICAqIEBtZXRob2Qgc2V0V29ybGQKICAgICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZAogICAgICovCgoKICAgIHNldFdvcmxkKHdvcmxkKSB7CiAgICAgIC8vIENsZWFyIHRoZSBvbGQgYXhpcyBhcnJheQogICAgICB0aGlzLmF4aXNMaXN0Lmxlbmd0aCA9IDA7IC8vIEFkZCBhbGwgYm9kaWVzIGZyb20gdGhlIG5ldyB3b3JsZAoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3JsZC5ib2RpZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLmF4aXNMaXN0LnB1c2god29ybGQuYm9kaWVzW2ldKTsKICAgICAgfSAvLyBSZW1vdmUgb2xkIGhhbmRsZXJzLCBpZiBhbnkKCgogICAgICB3b3JsZC5yZW1vdmVFdmVudExpc3RlbmVyKCdhZGRCb2R5JywgdGhpcy5fYWRkQm9keUhhbmRsZXIpOwogICAgICB3b3JsZC5yZW1vdmVFdmVudExpc3RlbmVyKCdyZW1vdmVCb2R5JywgdGhpcy5fcmVtb3ZlQm9keUhhbmRsZXIpOyAvLyBBZGQgaGFuZGxlcnMgdG8gdXBkYXRlIHRoZSBsaXN0IG9mIGJvZGllcy4KCiAgICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ2FkZEJvZHknLCB0aGlzLl9hZGRCb2R5SGFuZGxlcik7CiAgICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ3JlbW92ZUJvZHknLCB0aGlzLl9yZW1vdmVCb2R5SGFuZGxlcik7CiAgICAgIHRoaXMud29ybGQgPSB3b3JsZDsKICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7CiAgICB9CiAgICAvKioKICAgICAqIENvbGxlY3QgYWxsIGNvbGxpc2lvbiBwYWlycwogICAgICogQG1ldGhvZCBjb2xsaXNpb25QYWlycwogICAgICogQHBhcmFtICB7V29ybGR9IHdvcmxkCiAgICAgKiBAcGFyYW0gIHtBcnJheX0gcDEKICAgICAqIEBwYXJhbSAge0FycmF5fSBwMgogICAgICovCgoKICAgIGNvbGxpc2lvblBhaXJzKHdvcmxkLCBwMSwgcDIpIHsKICAgICAgY29uc3QgYm9kaWVzID0gdGhpcy5heGlzTGlzdDsKICAgICAgY29uc3QgTiA9IGJvZGllcy5sZW5ndGg7CiAgICAgIGNvbnN0IGF4aXNJbmRleCA9IHRoaXMuYXhpc0luZGV4OwogICAgICBsZXQgaTsKICAgICAgbGV0IGo7CgogICAgICBpZiAodGhpcy5kaXJ0eSkgewogICAgICAgIHRoaXMuc29ydExpc3QoKTsKICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7CiAgICAgIH0gLy8gTG9vayB0aHJvdWdoIHRoZSBsaXN0CgoKICAgICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07CgogICAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgTjsgaisrKSB7CiAgICAgICAgICBjb25zdCBiaiA9IGJvZGllc1tqXTsKCiAgICAgICAgICBpZiAoIXRoaXMubmVlZEJyb2FkcGhhc2VDb2xsaXNpb24oYmksIGJqKSkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoIVNBUEJyb2FkcGhhc2UuY2hlY2tCb3VuZHMoYmksIGJqLCBheGlzSW5kZXgpKSB7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uVGVzdChiaSwgYmosIHAxLCBwMik7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgc29ydExpc3QoKSB7CiAgICAgIGNvbnN0IGF4aXNMaXN0ID0gdGhpcy5heGlzTGlzdDsKICAgICAgY29uc3QgYXhpc0luZGV4ID0gdGhpcy5heGlzSW5kZXg7CiAgICAgIGNvbnN0IE4gPSBheGlzTGlzdC5sZW5ndGg7IC8vIFVwZGF0ZSBBQUJCcwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICAgIGNvbnN0IGJpID0gYXhpc0xpc3RbaV07CgogICAgICAgIGlmIChiaS5hYWJiTmVlZHNVcGRhdGUpIHsKICAgICAgICAgIGJpLnVwZGF0ZUFBQkIoKTsKICAgICAgICB9CiAgICAgIH0gLy8gU29ydCB0aGUgbGlzdAoKCiAgICAgIGlmIChheGlzSW5kZXggPT09IDApIHsKICAgICAgICBTQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRYKGF4aXNMaXN0KTsKICAgICAgfSBlbHNlIGlmIChheGlzSW5kZXggPT09IDEpIHsKICAgICAgICBTQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRZKGF4aXNMaXN0KTsKICAgICAgfSBlbHNlIGlmIChheGlzSW5kZXggPT09IDIpIHsKICAgICAgICBTQVBCcm9hZHBoYXNlLmluc2VydGlvblNvcnRaKGF4aXNMaXN0KTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlcyB0aGUgdmFyaWFuY2Ugb2YgdGhlIGJvZHkgcG9zaXRpb25zIGFuZCBlc3RpbWF0ZXMgdGhlIGJlc3QKICAgICAqIGF4aXMgdG8gdXNlLiBXaWxsIGF1dG9tYXRpY2FsbHkgc2V0IHByb3BlcnR5IC5heGlzSW5kZXguCiAgICAgKiBAbWV0aG9kIGF1dG9EZXRlY3RBeGlzCiAgICAgKi8KCgogICAgYXV0b0RldGVjdEF4aXMoKSB7CiAgICAgIGxldCBzdW1YID0gMDsKICAgICAgbGV0IHN1bVgyID0gMDsKICAgICAgbGV0IHN1bVkgPSAwOwogICAgICBsZXQgc3VtWTIgPSAwOwogICAgICBsZXQgc3VtWiA9IDA7CiAgICAgIGxldCBzdW1aMiA9IDA7CiAgICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYXhpc0xpc3Q7CiAgICAgIGNvbnN0IE4gPSBib2RpZXMubGVuZ3RoOwogICAgICBjb25zdCBpbnZOID0gMSAvIE47CgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgICAgY29uc3QgYiA9IGJvZGllc1tpXTsKICAgICAgICBjb25zdCBjZW50ZXJYID0gYi5wb3NpdGlvbi54OwogICAgICAgIHN1bVggKz0gY2VudGVyWDsKICAgICAgICBzdW1YMiArPSBjZW50ZXJYICogY2VudGVyWDsKICAgICAgICBjb25zdCBjZW50ZXJZID0gYi5wb3NpdGlvbi55OwogICAgICAgIHN1bVkgKz0gY2VudGVyWTsKICAgICAgICBzdW1ZMiArPSBjZW50ZXJZICogY2VudGVyWTsKICAgICAgICBjb25zdCBjZW50ZXJaID0gYi5wb3NpdGlvbi56OwogICAgICAgIHN1bVogKz0gY2VudGVyWjsKICAgICAgICBzdW1aMiArPSBjZW50ZXJaICogY2VudGVyWjsKICAgICAgfQoKICAgICAgY29uc3QgdmFyaWFuY2VYID0gc3VtWDIgLSBzdW1YICogc3VtWCAqIGludk47CiAgICAgIGNvbnN0IHZhcmlhbmNlWSA9IHN1bVkyIC0gc3VtWSAqIHN1bVkgKiBpbnZOOwogICAgICBjb25zdCB2YXJpYW5jZVogPSBzdW1aMiAtIHN1bVogKiBzdW1aICogaW52TjsKCiAgICAgIGlmICh2YXJpYW5jZVggPiB2YXJpYW5jZVkpIHsKICAgICAgICBpZiAodmFyaWFuY2VYID4gdmFyaWFuY2VaKSB7CiAgICAgICAgICB0aGlzLmF4aXNJbmRleCA9IDA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuYXhpc0luZGV4ID0gMjsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodmFyaWFuY2VZID4gdmFyaWFuY2VaKSB7CiAgICAgICAgdGhpcy5heGlzSW5kZXggPSAxOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYXhpc0luZGV4ID0gMjsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBSZXR1cm5zIGFsbCB0aGUgYm9kaWVzIHdpdGhpbiBhbiBBQUJCLgogICAgICogQG1ldGhvZCBhYWJiUXVlcnkKICAgICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZAogICAgICogQHBhcmFtICB7QUFCQn0gYWFiYgogICAgICogQHBhcmFtIHthcnJheX0gcmVzdWx0IEFuIGFycmF5IHRvIHN0b3JlIHJlc3VsdGluZyBib2RpZXMgaW4uCiAgICAgKiBAcmV0dXJuIHthcnJheX0KICAgICAqLwoKCiAgICBhYWJiUXVlcnkod29ybGQsIGFhYmIsIHJlc3VsdCA9IFtdKSB7CiAgICAgIGlmICh0aGlzLmRpcnR5KSB7CiAgICAgICAgdGhpcy5zb3J0TGlzdCgpOwogICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTsKICAgICAgfQoKICAgICAgY29uc3QgYXhpc0luZGV4ID0gdGhpcy5heGlzSW5kZXg7CiAgICAgIGxldCBheGlzID0gJ3gnOwoKICAgICAgaWYgKGF4aXNJbmRleCA9PT0gMSkgewogICAgICAgIGF4aXMgPSAneSc7CiAgICAgIH0KCiAgICAgIGlmIChheGlzSW5kZXggPT09IDIpIHsKICAgICAgICBheGlzID0gJ3onOwogICAgICB9CgogICAgICBjb25zdCBheGlzTGlzdCA9IHRoaXMuYXhpc0xpc3Q7CiAgICAgIGFhYmIubG93ZXJCb3VuZFtheGlzXTsKICAgICAgYWFiYi51cHBlckJvdW5kW2F4aXNdOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBheGlzTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IGIgPSBheGlzTGlzdFtpXTsKCiAgICAgICAgaWYgKGIuYWFiYk5lZWRzVXBkYXRlKSB7CiAgICAgICAgICBiLnVwZGF0ZUFBQkIoKTsKICAgICAgICB9CgogICAgICAgIGlmIChiLmFhYmIub3ZlcmxhcHMoYWFiYikpIHsKICAgICAgICAgIHJlc3VsdC5wdXNoKGIpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KCiAgfQogIC8qKgogICAqIEBzdGF0aWMKICAgKiBAbWV0aG9kIGluc2VydGlvblNvcnRYCiAgICogQHBhcmFtICB7QXJyYXl9IGEKICAgKiBAcmV0dXJuIHtBcnJheX0KICAgKi8KCgogIFNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFggPSBhID0+IHsKICAgIGZvciAobGV0IGkgPSAxLCBsID0gYS5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgY29uc3QgdiA9IGFbaV07CiAgICAgIGxldCBqOwoKICAgICAgZm9yIChqID0gaSAtIDE7IGogPj0gMDsgai0tKSB7CiAgICAgICAgaWYgKGFbal0uYWFiYi5sb3dlckJvdW5kLnggPD0gdi5hYWJiLmxvd2VyQm91bmQueCkgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBhW2ogKyAxXSA9IGFbal07CiAgICAgIH0KCiAgICAgIGFbaiArIDFdID0gdjsKICAgIH0KCiAgICByZXR1cm4gYTsKICB9OwogIC8qKgogICAqIEBzdGF0aWMKICAgKiBAbWV0aG9kIGluc2VydGlvblNvcnRZCiAgICogQHBhcmFtICB7QXJyYXl9IGEKICAgKiBAcmV0dXJuIHtBcnJheX0KICAgKi8KCgogIFNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFkgPSBhID0+IHsKICAgIGZvciAobGV0IGkgPSAxLCBsID0gYS5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgY29uc3QgdiA9IGFbaV07CiAgICAgIGxldCBqOwoKICAgICAgZm9yIChqID0gaSAtIDE7IGogPj0gMDsgai0tKSB7CiAgICAgICAgaWYgKGFbal0uYWFiYi5sb3dlckJvdW5kLnkgPD0gdi5hYWJiLmxvd2VyQm91bmQueSkgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBhW2ogKyAxXSA9IGFbal07CiAgICAgIH0KCiAgICAgIGFbaiArIDFdID0gdjsKICAgIH0KCiAgICByZXR1cm4gYTsKICB9OwogIC8qKgogICAqIEBzdGF0aWMKICAgKiBAbWV0aG9kIGluc2VydGlvblNvcnRaCiAgICogQHBhcmFtICB7QXJyYXl9IGEKICAgKiBAcmV0dXJuIHtBcnJheX0KICAgKi8KCgogIFNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFogPSBhID0+IHsKICAgIGZvciAobGV0IGkgPSAxLCBsID0gYS5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgY29uc3QgdiA9IGFbaV07CiAgICAgIGxldCBqOwoKICAgICAgZm9yIChqID0gaSAtIDE7IGogPj0gMDsgai0tKSB7CiAgICAgICAgaWYgKGFbal0uYWFiYi5sb3dlckJvdW5kLnogPD0gdi5hYWJiLmxvd2VyQm91bmQueikgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBhW2ogKyAxXSA9IGFbal07CiAgICAgIH0KCiAgICAgIGFbaiArIDFdID0gdjsKICAgIH0KCiAgICByZXR1cm4gYTsKICB9OwogIC8qKgogICAqIENoZWNrIGlmIHRoZSBib3VuZHMgb2YgdHdvIGJvZGllcyBvdmVybGFwLCBhbG9uZyB0aGUgZ2l2ZW4gU0FQIGF4aXMuCiAgICogQHN0YXRpYwogICAqIEBtZXRob2QgY2hlY2tCb3VuZHMKICAgKiBAcGFyYW0gIHtCb2R5fSBiaQogICAqIEBwYXJhbSAge0JvZHl9IGJqCiAgICogQHBhcmFtICB7TnVtYmVyfSBheGlzSW5kZXgKICAgKiBAcmV0dXJuIHtCb29sZWFufQogICAqLwoKCiAgU0FQQnJvYWRwaGFzZS5jaGVja0JvdW5kcyA9IChiaSwgYmosIGF4aXNJbmRleCkgPT4gewogICAgbGV0IGJpUG9zOwogICAgbGV0IGJqUG9zOwoKICAgIGlmIChheGlzSW5kZXggPT09IDApIHsKICAgICAgYmlQb3MgPSBiaS5wb3NpdGlvbi54OwogICAgICBialBvcyA9IGJqLnBvc2l0aW9uLng7CiAgICB9IGVsc2UgaWYgKGF4aXNJbmRleCA9PT0gMSkgewogICAgICBiaVBvcyA9IGJpLnBvc2l0aW9uLnk7CiAgICAgIGJqUG9zID0gYmoucG9zaXRpb24ueTsKICAgIH0gZWxzZSBpZiAoYXhpc0luZGV4ID09PSAyKSB7CiAgICAgIGJpUG9zID0gYmkucG9zaXRpb24uejsKICAgICAgYmpQb3MgPSBiai5wb3NpdGlvbi56OwogICAgfQoKICAgIGNvbnN0IHJpID0gYmkuYm91bmRpbmdSYWRpdXMsCiAgICAgICAgICByaiA9IGJqLmJvdW5kaW5nUmFkaXVzLAogICAgICAgICAgLy8gYm91bmRBMSA9IGJpUG9zIC0gcmksCiAgICBib3VuZEEyID0gYmlQb3MgKyByaSwKICAgICAgICAgIGJvdW5kQjEgPSBialBvcyAtIHJqOyAvLyBib3VuZEIyID0gYmpQb3MgKyByajsKCiAgICByZXR1cm4gYm91bmRCMSA8IGJvdW5kQTI7CiAgfTsKCiAgY2xhc3MgVXRpbHMgewogICAgLyoqCiAgICAgKiBFeHRlbmQgYW4gb3B0aW9ucyBvYmplY3Qgd2l0aCBkZWZhdWx0IHZhbHVlcy4KICAgICAqIEBzdGF0aWMKICAgICAqIEBtZXRob2QgZGVmYXVsdHMKICAgICAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9ucyBUaGUgb3B0aW9ucyBvYmplY3QuIE1heSBiZSBmYWxzeTogaW4gdGhpcyBjYXNlLCBhIG5ldyBvYmplY3QgaXMgY3JlYXRlZCBhbmQgcmV0dXJuZWQuCiAgICAgKiBAcGFyYW0gIHtvYmplY3R9IGRlZmF1bHRzIEFuIG9iamVjdCBjb250YWluaW5nIGRlZmF1bHQgdmFsdWVzLgogICAgICogQHJldHVybiB7b2JqZWN0fSBUaGUgbW9kaWZpZWQgb3B0aW9ucyBvYmplY3QuCiAgICAgKi8KICAgIHN0YXRpYyBkZWZhdWx0cyhvcHRpb25zID0ge30sIGRlZmF1bHRzKSB7CiAgICAgIGZvciAobGV0IGtleSBpbiBkZWZhdWx0cykgewogICAgICAgIGlmICghKGtleSBpbiBvcHRpb25zKSkgewogICAgICAgICAgb3B0aW9uc1trZXldID0gZGVmYXVsdHNba2V5XTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBvcHRpb25zOwogICAgfQoKICB9CiAgLyoqCiAgICogQ29uc3RyYWludCBiYXNlIGNsYXNzCiAgICogQGNsYXNzIENvbnN0cmFpbnQKICAgKiBAYXV0aG9yIHNjaHRlcHBlCiAgICogQGNvbnN0cnVjdG9yCiAgICogQHBhcmFtIHtCb2R5fSBib2R5QQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUIKICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdCiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jb2xsaWRlQ29ubmVjdGVkPXRydWVdCiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy53YWtlVXBCb2RpZXM9dHJ1ZV0KICAgKi8KCgogIGNsYXNzIENvbnN0cmFpbnQgewogICAgLy8gRXF1YXRpb25zIHRvIGJlIHNvbHZlZCBpbiB0aGlzIGNvbnN0cmFpbnQuCiAgICAvLyBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGUgYm9kaWVzIHRvIGNvbGxpZGUgd2hlbiB0aGV5IGFyZSBjb25uZWN0ZWQuCiAgICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG9wdGlvbnMgPSB7fSkgewogICAgICBvcHRpb25zID0gVXRpbHMuZGVmYXVsdHMob3B0aW9ucywgewogICAgICAgIGNvbGxpZGVDb25uZWN0ZWQ6IHRydWUsCiAgICAgICAgd2FrZVVwQm9kaWVzOiB0cnVlCiAgICAgIH0pOwogICAgICB0aGlzLmVxdWF0aW9ucyA9IFtdOwogICAgICB0aGlzLmJvZHlBID0gYm9keUE7CiAgICAgIHRoaXMuYm9keUIgPSBib2R5QjsKICAgICAgdGhpcy5pZCA9IENvbnN0cmFpbnQuaWRDb3VudGVyKys7CiAgICAgIHRoaXMuY29sbGlkZUNvbm5lY3RlZCA9IG9wdGlvbnMuY29sbGlkZUNvbm5lY3RlZDsKCiAgICAgIGlmIChvcHRpb25zLndha2VVcEJvZGllcykgewogICAgICAgIGlmIChib2R5QSkgewogICAgICAgICAgYm9keUEud2FrZVVwKCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoYm9keUIpIHsKICAgICAgICAgIGJvZHlCLndha2VVcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBVcGRhdGUgYWxsIHRoZSBlcXVhdGlvbnMgd2l0aCBkYXRhLgogICAgICogQG1ldGhvZCB1cGRhdGUKICAgICAqLwoKCiAgICB1cGRhdGUoKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignbWV0aG9kIHVwZGF0ZSgpIG5vdCBpbXBsbWVtZW50ZWQgaW4gdGhpcyBDb25zdHJhaW50IHN1YmNsYXNzIScpOwogICAgfQogICAgLyoqCiAgICAgKiBFbmFibGVzIGFsbCBlcXVhdGlvbnMgaW4gdGhlIGNvbnN0cmFpbnQuCiAgICAgKiBAbWV0aG9kIGVuYWJsZQogICAgICovCgoKICAgIGVuYWJsZSgpIHsKICAgICAgY29uc3QgZXFzID0gdGhpcy5lcXVhdGlvbnM7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVxcy5sZW5ndGg7IGkrKykgewogICAgICAgIGVxc1tpXS5lbmFibGVkID0gdHJ1ZTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBEaXNhYmxlcyBhbGwgZXF1YXRpb25zIGluIHRoZSBjb25zdHJhaW50LgogICAgICogQG1ldGhvZCBkaXNhYmxlCiAgICAgKi8KCgogICAgZGlzYWJsZSgpIHsKICAgICAgY29uc3QgZXFzID0gdGhpcy5lcXVhdGlvbnM7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVxcy5sZW5ndGg7IGkrKykgewogICAgICAgIGVxc1tpXS5lbmFibGVkID0gZmFsc2U7CiAgICAgIH0KICAgIH0KCiAgfQoKICBDb25zdHJhaW50LmlkQ291bnRlciA9IDA7CiAgLyoqCiAgICogQW4gZWxlbWVudCBjb250YWluaW5nIDYgZW50cmllcywgMyBzcGF0aWFsIGFuZCAzIHJvdGF0aW9uYWwgZGVncmVlcyBvZiBmcmVlZG9tLgogICAqLwoKICBjbGFzcyBKYWNvYmlhbkVsZW1lbnQgewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHRoaXMuc3BhdGlhbCA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMucm90YXRpb25hbCA9IG5ldyBWZWMzKCk7CiAgICB9CiAgICAvKioKICAgICAqIE11bHRpcGx5IHdpdGggb3RoZXIgSmFjb2JpYW5FbGVtZW50CiAgICAgKi8KCgogICAgbXVsdGlwbHlFbGVtZW50KGVsZW1lbnQpIHsKICAgICAgcmV0dXJuIGVsZW1lbnQuc3BhdGlhbC5kb3QodGhpcy5zcGF0aWFsKSArIGVsZW1lbnQucm90YXRpb25hbC5kb3QodGhpcy5yb3RhdGlvbmFsKTsKICAgIH0KICAgIC8qKgogICAgICogTXVsdGlwbHkgd2l0aCB0d28gdmVjdG9ycwogICAgICovCgoKICAgIG11bHRpcGx5VmVjdG9ycyhzcGF0aWFsLCByb3RhdGlvbmFsKSB7CiAgICAgIHJldHVybiBzcGF0aWFsLmRvdCh0aGlzLnNwYXRpYWwpICsgcm90YXRpb25hbC5kb3QodGhpcy5yb3RhdGlvbmFsKTsKICAgIH0KCiAgfQogIC8qKgogICAqIEVxdWF0aW9uIGJhc2UgY2xhc3MKICAgKiBAY2xhc3MgRXF1YXRpb24KICAgKiBAY29uc3RydWN0b3IKICAgKiBAYXV0aG9yIHNjaHRlcHBlCiAgICogQHBhcmFtIHtCb2R5fSBiaQogICAqIEBwYXJhbSB7Qm9keX0gYmoKICAgKiBAcGFyYW0ge051bWJlcn0gbWluRm9yY2UgTWluaW11bSAocmVhZDogbmVnYXRpdmUgbWF4KSBmb3JjZSB0byBiZSBhcHBsaWVkIGJ5IHRoZSBjb25zdHJhaW50LgogICAqIEBwYXJhbSB7TnVtYmVyfSBtYXhGb3JjZSBNYXhpbXVtIChyZWFkOiBwb3NpdGl2ZSBtYXgpIGZvcmNlIHRvIGJlIGFwcGxpZWQgYnkgdGhlIGNvbnN0cmFpbnQuCiAgICovCgoKICBjbGFzcyBFcXVhdGlvbiB7CiAgICAvLyBTUE9PSyBwYXJhbWV0ZXIKICAgIC8vIFNQT09LIHBhcmFtZXRlcgogICAgLy8gU1BPT0sgcGFyYW1ldGVyCiAgICAvLyBBIG51bWJlciwgcHJvcG9ydGlvbmFsIHRvIHRoZSBmb3JjZSBhZGRlZCB0byB0aGUgYm9kaWVzLgogICAgY29uc3RydWN0b3IoYmksIGJqLCBtaW5Gb3JjZSA9IC0xZTYsIG1heEZvcmNlID0gMWU2KSB7CiAgICAgIHRoaXMuaWQgPSBFcXVhdGlvbi5pZCsrOwogICAgICB0aGlzLm1pbkZvcmNlID0gbWluRm9yY2U7CiAgICAgIHRoaXMubWF4Rm9yY2UgPSBtYXhGb3JjZTsKICAgICAgdGhpcy5iaSA9IGJpOwogICAgICB0aGlzLmJqID0gYmo7CiAgICAgIHRoaXMuYSA9IDAuMDsgLy8gU1BPT0sgcGFyYW1ldGVyCgogICAgICB0aGlzLmIgPSAwLjA7IC8vIFNQT09LIHBhcmFtZXRlcgoKICAgICAgdGhpcy5lcHMgPSAwLjA7IC8vIFNQT09LIHBhcmFtZXRlcgoKICAgICAgdGhpcy5qYWNvYmlhbkVsZW1lbnRBID0gbmV3IEphY29iaWFuRWxlbWVudCgpOwogICAgICB0aGlzLmphY29iaWFuRWxlbWVudEIgPSBuZXcgSmFjb2JpYW5FbGVtZW50KCk7CiAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7CiAgICAgIHRoaXMubXVsdGlwbGllciA9IDA7CiAgICAgIHRoaXMuc2V0U3Bvb2tQYXJhbXMoMWU3LCA0LCAxIC8gNjApOyAvLyBTZXQgdHlwaWNhbCBzcG9vayBwYXJhbXMKICAgIH0KICAgIC8qKgogICAgICogUmVjYWxjdWxhdGVzIGEsYixlcHMuCiAgICAgKiBAbWV0aG9kIHNldFNwb29rUGFyYW1zCiAgICAgKi8KCgogICAgc2V0U3Bvb2tQYXJhbXMoc3RpZmZuZXNzLCByZWxheGF0aW9uLCB0aW1lU3RlcCkgewogICAgICBjb25zdCBkID0gcmVsYXhhdGlvbjsKICAgICAgY29uc3QgayA9IHN0aWZmbmVzczsKICAgICAgY29uc3QgaCA9IHRpbWVTdGVwOwogICAgICB0aGlzLmEgPSA0LjAgLyAoaCAqICgxICsgNCAqIGQpKTsKICAgICAgdGhpcy5iID0gNC4wICogZCAvICgxICsgNCAqIGQpOwogICAgICB0aGlzLmVwcyA9IDQuMCAvIChoICogaCAqIGsgKiAoMSArIDQgKiBkKSk7CiAgICB9CiAgICAvKioKICAgICAqIENvbXB1dGVzIHRoZSByaWdodCBoYW5kIHNpZGUgb2YgdGhlIFNQT09LIGVxdWF0aW9uCiAgICAgKiBAbWV0aG9kIGNvbXB1dGVCCiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9CiAgICAgKi8KCgogICAgY29tcHV0ZUIoYSwgYiwgaCkgewogICAgICBjb25zdCBHVyA9IHRoaXMuY29tcHV0ZUdXKCk7CiAgICAgIGNvbnN0IEdxID0gdGhpcy5jb21wdXRlR3EoKTsKICAgICAgY29uc3QgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTsKICAgICAgcmV0dXJuIC1HcSAqIGEgLSBHVyAqIGIgLSBHaU1mICogaDsKICAgIH0KICAgIC8qKgogICAgICogQ29tcHV0ZXMgRypxLCB3aGVyZSBxIGFyZSB0aGUgZ2VuZXJhbGl6ZWQgYm9keSBjb29yZGluYXRlcwogICAgICogQG1ldGhvZCBjb21wdXRlR3EKICAgICAqIEByZXR1cm4ge051bWJlcn0KICAgICAqLwoKCiAgICBjb21wdXRlR3EoKSB7CiAgICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsKICAgICAgY29uc3QgYmkgPSB0aGlzLmJpOwogICAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICAgIGNvbnN0IHhpID0gYmkucG9zaXRpb247CiAgICAgIGNvbnN0IHhqID0gYmoucG9zaXRpb247CiAgICAgIHJldHVybiBHQS5zcGF0aWFsLmRvdCh4aSkgKyBHQi5zcGF0aWFsLmRvdCh4aik7CiAgICB9CiAgICAvKioKICAgICAqIENvbXB1dGVzIEcqVywgd2hlcmUgVyBhcmUgdGhlIGJvZHkgdmVsb2NpdGllcwogICAgICogQG1ldGhvZCBjb21wdXRlR1cKICAgICAqIEByZXR1cm4ge051bWJlcn0KICAgICAqLwoKCiAgICBjb21wdXRlR1coKSB7CiAgICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsKICAgICAgY29uc3QgYmkgPSB0aGlzLmJpOwogICAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICAgIGNvbnN0IHZpID0gYmkudmVsb2NpdHk7CiAgICAgIGNvbnN0IHZqID0gYmoudmVsb2NpdHk7CiAgICAgIGNvbnN0IHdpID0gYmkuYW5ndWxhclZlbG9jaXR5OwogICAgICBjb25zdCB3aiA9IGJqLmFuZ3VsYXJWZWxvY2l0eTsKICAgICAgcmV0dXJuIEdBLm11bHRpcGx5VmVjdG9ycyh2aSwgd2kpICsgR0IubXVsdGlwbHlWZWN0b3JzKHZqLCB3aik7CiAgICB9CiAgICAvKioKICAgICAqIENvbXB1dGVzIEcqV2xhbWJkYSwgd2hlcmUgVyBhcmUgdGhlIGJvZHkgdmVsb2NpdGllcwogICAgICogQG1ldGhvZCBjb21wdXRlR1dsYW1iZGEKICAgICAqIEByZXR1cm4ge051bWJlcn0KICAgICAqLwoKCiAgICBjb21wdXRlR1dsYW1iZGEoKSB7CiAgICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsKICAgICAgY29uc3QgYmkgPSB0aGlzLmJpOwogICAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICAgIGNvbnN0IHZpID0gYmkudmxhbWJkYTsKICAgICAgY29uc3QgdmogPSBiai52bGFtYmRhOwogICAgICBjb25zdCB3aSA9IGJpLndsYW1iZGE7CiAgICAgIGNvbnN0IHdqID0gYmoud2xhbWJkYTsKICAgICAgcmV0dXJuIEdBLm11bHRpcGx5VmVjdG9ycyh2aSwgd2kpICsgR0IubXVsdGlwbHlWZWN0b3JzKHZqLCB3aik7CiAgICB9CgogICAgY29tcHV0ZUdpTWYoKSB7CiAgICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsKICAgICAgY29uc3QgYmkgPSB0aGlzLmJpOwogICAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICAgIGNvbnN0IGZpID0gYmkuZm9yY2U7CiAgICAgIGNvbnN0IHRpID0gYmkudG9ycXVlOwogICAgICBjb25zdCBmaiA9IGJqLmZvcmNlOwogICAgICBjb25zdCB0aiA9IGJqLnRvcnF1ZTsKICAgICAgY29uc3QgaW52TWFzc2kgPSBiaS5pbnZNYXNzU29sdmU7CiAgICAgIGNvbnN0IGludk1hc3NqID0gYmouaW52TWFzc1NvbHZlOwogICAgICBmaS5zY2FsZShpbnZNYXNzaSwgaU1maSk7CiAgICAgIGZqLnNjYWxlKGludk1hc3NqLCBpTWZqKTsKICAgICAgYmkuaW52SW5lcnRpYVdvcmxkU29sdmUudm11bHQodGksIGludklpX3ZtdWx0X3RhdWkpOwogICAgICBiai5pbnZJbmVydGlhV29ybGRTb2x2ZS52bXVsdCh0aiwgaW52SWpfdm11bHRfdGF1aik7CiAgICAgIHJldHVybiBHQS5tdWx0aXBseVZlY3RvcnMoaU1maSwgaW52SWlfdm11bHRfdGF1aSkgKyBHQi5tdWx0aXBseVZlY3RvcnMoaU1maiwgaW52SWpfdm11bHRfdGF1aik7CiAgICB9CgogICAgY29tcHV0ZUdpTUd0KCkgewogICAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTsKICAgICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7CiAgICAgIGNvbnN0IGJpID0gdGhpcy5iaTsKICAgICAgY29uc3QgYmogPSB0aGlzLmJqOwogICAgICBjb25zdCBpbnZNYXNzaSA9IGJpLmludk1hc3NTb2x2ZTsKICAgICAgY29uc3QgaW52TWFzc2ogPSBiai5pbnZNYXNzU29sdmU7CiAgICAgIGNvbnN0IGludklpID0gYmkuaW52SW5lcnRpYVdvcmxkU29sdmU7CiAgICAgIGNvbnN0IGludklqID0gYmouaW52SW5lcnRpYVdvcmxkU29sdmU7CiAgICAgIGxldCByZXN1bHQgPSBpbnZNYXNzaSArIGludk1hc3NqOwogICAgICBpbnZJaS52bXVsdChHQS5yb3RhdGlvbmFsLCB0bXAkMSk7CiAgICAgIHJlc3VsdCArPSB0bXAkMS5kb3QoR0Eucm90YXRpb25hbCk7CiAgICAgIGludklqLnZtdWx0KEdCLnJvdGF0aW9uYWwsIHRtcCQxKTsKICAgICAgcmVzdWx0ICs9IHRtcCQxLmRvdChHQi5yb3RhdGlvbmFsKTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICAgIC8qKgogICAgICogQWRkIGNvbnN0cmFpbnQgdmVsb2NpdHkgdG8gdGhlIGJvZGllcy4KICAgICAqIEBtZXRob2QgYWRkVG9XbGFtYmRhCiAgICAgKiBAcGFyYW0ge051bWJlcn0gZGVsdGFsYW1iZGEKICAgICAqLwoKCiAgICBhZGRUb1dsYW1iZGEoZGVsdGFsYW1iZGEpIHsKICAgICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7CiAgICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCOwogICAgICBjb25zdCBiaSA9IHRoaXMuYmk7CiAgICAgIGNvbnN0IGJqID0gdGhpcy5iajsKICAgICAgY29uc3QgdGVtcCA9IGFkZFRvV2xhbWJkYV90ZW1wOyAvLyBBZGQgdG8gbGluZWFyIHZlbG9jaXR5CiAgICAgIC8vIHZfbGFtYmRhICs9IGludihNKSAqIGRlbHRhX2xhbWJhICogRwoKICAgICAgYmkudmxhbWJkYS5hZGRTY2FsZWRWZWN0b3IoYmkuaW52TWFzc1NvbHZlICogZGVsdGFsYW1iZGEsIEdBLnNwYXRpYWwsIGJpLnZsYW1iZGEpOwogICAgICBiai52bGFtYmRhLmFkZFNjYWxlZFZlY3Rvcihiai5pbnZNYXNzU29sdmUgKiBkZWx0YWxhbWJkYSwgR0Iuc3BhdGlhbCwgYmoudmxhbWJkYSk7IC8vIEFkZCB0byBhbmd1bGFyIHZlbG9jaXR5CgogICAgICBiaS5pbnZJbmVydGlhV29ybGRTb2x2ZS52bXVsdChHQS5yb3RhdGlvbmFsLCB0ZW1wKTsKICAgICAgYmkud2xhbWJkYS5hZGRTY2FsZWRWZWN0b3IoZGVsdGFsYW1iZGEsIHRlbXAsIGJpLndsYW1iZGEpOwogICAgICBiai5pbnZJbmVydGlhV29ybGRTb2x2ZS52bXVsdChHQi5yb3RhdGlvbmFsLCB0ZW1wKTsKICAgICAgYmoud2xhbWJkYS5hZGRTY2FsZWRWZWN0b3IoZGVsdGFsYW1iZGEsIHRlbXAsIGJqLndsYW1iZGEpOwogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlIHRoZSBkZW5vbWluYXRvciBwYXJ0IG9mIHRoZSBTUE9PSyBlcXVhdGlvbjogQyA9IEcqaW52KE0pKkcnICsgZXBzCiAgICAgKiBAbWV0aG9kIGNvbXB1dGVJbnZDCiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGVwcwogICAgICogQHJldHVybiB7TnVtYmVyfQogICAgICovCgoKICAgIGNvbXB1dGVDKCkgewogICAgICByZXR1cm4gdGhpcy5jb21wdXRlR2lNR3QoKSArIHRoaXMuZXBzOwogICAgfQoKICB9CgogIEVxdWF0aW9uLmlkID0gMDsKICAvKioKICAgKiBDb21wdXRlcyBHKmludihNKSpmLCB3aGVyZSBNIGlzIHRoZSBtYXNzIG1hdHJpeCB3aXRoIGRpYWdvbmFsIGJsb2NrcyBmb3IgZWFjaCBib2R5LCBhbmQgZiBhcmUgdGhlIGZvcmNlcyBvbiB0aGUgYm9kaWVzLgogICAqIEBtZXRob2QgY29tcHV0ZUdpTWYKICAgKiBAcmV0dXJuIHtOdW1iZXJ9CiAgICovCgogIGNvbnN0IGlNZmkgPSBuZXcgVmVjMygpOwogIGNvbnN0IGlNZmogPSBuZXcgVmVjMygpOwogIGNvbnN0IGludklpX3ZtdWx0X3RhdWkgPSBuZXcgVmVjMygpOwogIGNvbnN0IGludklqX3ZtdWx0X3RhdWogPSBuZXcgVmVjMygpOwogIC8qKgogICAqIENvbXB1dGVzIEcqaW52KE0pKkcnCiAgICogQG1ldGhvZCBjb21wdXRlR2lNR3QKICAgKiBAcmV0dXJuIHtOdW1iZXJ9CiAgICovCgogIGNvbnN0IHRtcCQxID0gbmV3IFZlYzMoKTsKICBjb25zdCBhZGRUb1dsYW1iZGFfdGVtcCA9IG5ldyBWZWMzKCk7CiAgLyoqCiAgICogQ29udGFjdC9ub24tcGVuZXRyYXRpb24gY29uc3RyYWludCBlcXVhdGlvbgogICAqIEBjbGFzcyBDb250YWN0RXF1YXRpb24KICAgKiBAY29uc3RydWN0b3IKICAgKiBAYXV0aG9yIHNjaHRlcHBlCiAgICogQHBhcmFtIHtCb2R5fSBib2R5QQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUIKICAgKiBAZXh0ZW5kcyBFcXVhdGlvbgogICAqLwoKICBjbGFzcyBDb250YWN0RXF1YXRpb24gZXh0ZW5kcyBFcXVhdGlvbiB7CiAgICAvLyAiYm91bmNpbmVzcyI6IHUxID0gLWUqdTAKICAgIC8vIFdvcmxkLW9yaWVudGVkIHZlY3RvciB0aGF0IGdvZXMgZnJvbSB0aGUgY2VudGVyIG9mIGJpIHRvIHRoZSBjb250YWN0IHBvaW50LgogICAgLy8gV29ybGQtb3JpZW50ZWQgdmVjdG9yIHRoYXQgc3RhcnRzIGluIGJvZHkgaiBwb3NpdGlvbiBhbmQgZ29lcyB0byB0aGUgY29udGFjdCBwb2ludC4KICAgIC8vIENvbnRhY3Qgbm9ybWFsLCBwb2ludGluZyBvdXQgb2YgYm9keSBpLgogICAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBtYXhGb3JjZSA9IDFlNikgewogICAgICBzdXBlcihib2R5QSwgYm9keUIsIDAsIG1heEZvcmNlKTsKICAgICAgdGhpcy5yZXN0aXR1dGlvbiA9IDAuMDsKICAgICAgdGhpcy5yaSA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMucmogPSBuZXcgVmVjMygpOwogICAgICB0aGlzLm5pID0gbmV3IFZlYzMoKTsKICAgIH0KCiAgICBjb21wdXRlQihoKSB7CiAgICAgIGNvbnN0IGEgPSB0aGlzLmE7CiAgICAgIGNvbnN0IGIgPSB0aGlzLmI7CiAgICAgIGNvbnN0IGJpID0gdGhpcy5iaTsKICAgICAgY29uc3QgYmogPSB0aGlzLmJqOwogICAgICBjb25zdCByaSA9IHRoaXMucmk7CiAgICAgIGNvbnN0IHJqID0gdGhpcy5yajsKICAgICAgY29uc3Qgcml4biA9IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMTsKICAgICAgY29uc3Qgcmp4biA9IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMjsKICAgICAgY29uc3QgdmkgPSBiaS52ZWxvY2l0eTsKICAgICAgY29uc3Qgd2kgPSBiaS5hbmd1bGFyVmVsb2NpdHk7CiAgICAgIGJpLmZvcmNlOwogICAgICBiaS50b3JxdWU7CiAgICAgIGNvbnN0IHZqID0gYmoudmVsb2NpdHk7CiAgICAgIGNvbnN0IHdqID0gYmouYW5ndWxhclZlbG9jaXR5OwogICAgICBiai5mb3JjZTsKICAgICAgYmoudG9ycXVlOwogICAgICBjb25zdCBwZW5ldHJhdGlvblZlYyA9IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMzsKICAgICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7CiAgICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCOwogICAgICBjb25zdCBuID0gdGhpcy5uaTsgLy8gQ2FsdWNsYXRlIGNyb3NzIHByb2R1Y3RzCgogICAgICByaS5jcm9zcyhuLCByaXhuKTsKICAgICAgcmouY3Jvc3Mobiwgcmp4bik7IC8vIGcgPSB4aityaiAtKHhpK3JpKQogICAgICAvLyBHID0gWyAtbmkgIC1yaXhuICBuaSAgcmp4biBdCgogICAgICBuLm5lZ2F0ZShHQS5zcGF0aWFsKTsKICAgICAgcml4bi5uZWdhdGUoR0Eucm90YXRpb25hbCk7CiAgICAgIEdCLnNwYXRpYWwuY29weShuKTsKICAgICAgR0Iucm90YXRpb25hbC5jb3B5KHJqeG4pOyAvLyBDYWxjdWxhdGUgdGhlIHBlbmV0cmF0aW9uIHZlY3RvcgoKICAgICAgcGVuZXRyYXRpb25WZWMuY29weShiai5wb3NpdGlvbik7CiAgICAgIHBlbmV0cmF0aW9uVmVjLnZhZGQocmosIHBlbmV0cmF0aW9uVmVjKTsKICAgICAgcGVuZXRyYXRpb25WZWMudnN1YihiaS5wb3NpdGlvbiwgcGVuZXRyYXRpb25WZWMpOwogICAgICBwZW5ldHJhdGlvblZlYy52c3ViKHJpLCBwZW5ldHJhdGlvblZlYyk7CiAgICAgIGNvbnN0IGcgPSBuLmRvdChwZW5ldHJhdGlvblZlYyk7IC8vIENvbXB1dGUgaXRlcmF0aW9uCgogICAgICBjb25zdCBlUGx1c09uZSA9IHRoaXMucmVzdGl0dXRpb24gKyAxOwogICAgICBjb25zdCBHVyA9IGVQbHVzT25lICogdmouZG90KG4pIC0gZVBsdXNPbmUgKiB2aS5kb3QobikgKyB3ai5kb3Qocmp4bikgLSB3aS5kb3Qocml4bik7CiAgICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7CiAgICAgIGNvbnN0IEIgPSAtZyAqIGEgLSBHVyAqIGIgLSBoICogR2lNZjsKICAgICAgcmV0dXJuIEI7CiAgICB9CiAgICAvKioKICAgICAqIEdldCB0aGUgY3VycmVudCByZWxhdGl2ZSB2ZWxvY2l0eSBpbiB0aGUgY29udGFjdCBwb2ludC4KICAgICAqIEBtZXRob2QgZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbAogICAgICogQHJldHVybiB7bnVtYmVyfQogICAgICovCgoKICAgIGdldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWwoKSB7CiAgICAgIGNvbnN0IHZpID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmk7CiAgICAgIGNvbnN0IHZqID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmo7CiAgICAgIGNvbnN0IHhpID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfeGk7CiAgICAgIGNvbnN0IHhqID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfeGo7CiAgICAgIGNvbnN0IHJlbFZlbCA9IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3JlbFZlbDsKICAgICAgdGhpcy5iaS5wb3NpdGlvbi52YWRkKHRoaXMucmksIHhpKTsKICAgICAgdGhpcy5iai5wb3NpdGlvbi52YWRkKHRoaXMucmosIHhqKTsKICAgICAgdGhpcy5iaS5nZXRWZWxvY2l0eUF0V29ybGRQb2ludCh4aSwgdmkpOwogICAgICB0aGlzLmJqLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHhqLCB2aik7CiAgICAgIHZpLnZzdWIodmosIHJlbFZlbCk7CiAgICAgIHJldHVybiB0aGlzLm5pLmRvdChyZWxWZWwpOwogICAgfQoKICB9CgogIGNvbnN0IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMSA9IG5ldyBWZWMzKCk7IC8vIFRlbXAgdmVjdG9ycwoKICBjb25zdCBDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDIgPSBuZXcgVmVjMygpOwogIGNvbnN0IENvbnRhY3RFcXVhdGlvbl9jb21wdXRlQl90ZW1wMyA9IG5ldyBWZWMzKCk7CiAgY29uc3QgQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfdmkgPSBuZXcgVmVjMygpOwogIGNvbnN0IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3ZqID0gbmV3IFZlYzMoKTsKICBjb25zdCBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF94aSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfeGogPSBuZXcgVmVjMygpOwogIGNvbnN0IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3JlbFZlbCA9IG5ldyBWZWMzKCk7CiAgLyoqCiAgICogQ29ubmVjdHMgdHdvIGJvZGllcyBhdCBnaXZlbiBvZmZzZXQgcG9pbnRzLgogICAqIEBjbGFzcyBQb2ludFRvUG9pbnRDb25zdHJhaW50CiAgICogQGV4dGVuZHMgQ29uc3RyYWludAogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBwYXJhbSB7Qm9keX0gYm9keUEKICAgKiBAcGFyYW0ge1ZlYzN9IHBpdm90QSBUaGUgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGNlbnRlciBvZiBtYXNzIG9mIGJvZHlBIHdoaWNoIGJvZHlBIGlzIGNvbnN0cmFpbmVkIHRvLgogICAqIEBwYXJhbSB7Qm9keX0gYm9keUIgQm9keSB0aGF0IHdpbGwgYmUgY29uc3RyYWluZWQgaW4gYSBzaW1pbGFyIHdheSB0byB0aGUgc2FtZSBwb2ludCBhcyBib2R5QS4gV2Ugd2lsbCB0aGVyZWZvcmUgZ2V0IGEgbGluayBiZXR3ZWVuIGJvZHlBIGFuZCBib2R5Qi4gSWYgbm90IHNwZWNpZmllZCwgYm9keUEgd2lsbCBiZSBjb25zdHJhaW5lZCB0byBhIHN0YXRpYyBwb2ludC4KICAgKiBAcGFyYW0ge1ZlYzN9IHBpdm90QiBTZWUgcGl2b3RBLgogICAqIEBwYXJhbSB7TnVtYmVyfSBtYXhGb3JjZSBUaGUgbWF4aW11bSBmb3JjZSB0aGF0IHNob3VsZCBiZSBhcHBsaWVkIHRvIGNvbnN0cmFpbiB0aGUgYm9kaWVzLgogICAqCiAgICogQGV4YW1wbGUKICAgKiAgICAgY29uc3QgYm9keUEgPSBuZXcgQm9keSh7IG1hc3M6IDEgfSk7CiAgICogICAgIGNvbnN0IGJvZHlCID0gbmV3IEJvZHkoeyBtYXNzOiAxIH0pOwogICAqICAgICBib2R5QS5wb3NpdGlvbi5zZXQoLTEsIDAsIDApOwogICAqICAgICBib2R5Qi5wb3NpdGlvbi5zZXQoMSwgMCwgMCk7CiAgICogICAgIGJvZHlBLmFkZFNoYXBlKHNoYXBlQSk7CiAgICogICAgIGJvZHlCLmFkZFNoYXBlKHNoYXBlQik7CiAgICogICAgIHdvcmxkLmFkZEJvZHkoYm9keUEpOwogICAqICAgICB3b3JsZC5hZGRCb2R5KGJvZHlCKTsKICAgKiAgICAgY29uc3QgbG9jYWxQaXZvdEEgPSBuZXcgVmVjMygxLCAwLCAwKTsKICAgKiAgICAgY29uc3QgbG9jYWxQaXZvdEIgPSBuZXcgVmVjMygtMSwgMCwgMCk7CiAgICogICAgIGNvbnN0IGNvbnN0cmFpbnQgPSBuZXcgUG9pbnRUb1BvaW50Q29uc3RyYWludChib2R5QSwgbG9jYWxQaXZvdEEsIGJvZHlCLCBsb2NhbFBpdm90Qik7CiAgICogICAgIHdvcmxkLmFkZENvbnN0cmFpbnQoY29uc3RyYWludCk7CiAgICovCgogIGNsYXNzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQgZXh0ZW5kcyBDb25zdHJhaW50IHsKICAgIC8vIFBpdm90LCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUEuCiAgICAvLyBQaXZvdCwgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlCLgogICAgY29uc3RydWN0b3IoYm9keUEsIHBpdm90QSA9IG5ldyBWZWMzKCksIGJvZHlCLCBwaXZvdEIgPSBuZXcgVmVjMygpLCBtYXhGb3JjZSA9IDFlNikgewogICAgICBzdXBlcihib2R5QSwgYm9keUIpOwogICAgICB0aGlzLnBpdm90QSA9IHBpdm90QS5jbG9uZSgpOwogICAgICB0aGlzLnBpdm90QiA9IHBpdm90Qi5jbG9uZSgpOwogICAgICBjb25zdCB4ID0gdGhpcy5lcXVhdGlvblggPSBuZXcgQ29udGFjdEVxdWF0aW9uKGJvZHlBLCBib2R5Qik7CiAgICAgIGNvbnN0IHkgPSB0aGlzLmVxdWF0aW9uWSA9IG5ldyBDb250YWN0RXF1YXRpb24oYm9keUEsIGJvZHlCKTsKICAgICAgY29uc3QgeiA9IHRoaXMuZXF1YXRpb25aID0gbmV3IENvbnRhY3RFcXVhdGlvbihib2R5QSwgYm9keUIpOyAvLyBFcXVhdGlvbnMgdG8gYmUgZmVkIHRvIHRoZSBzb2x2ZXIKCiAgICAgIHRoaXMuZXF1YXRpb25zLnB1c2goeCwgeSwgeik7IC8vIE1ha2UgdGhlIGVxdWF0aW9ucyBiaWRpcmVjdGlvbmFsCgogICAgICB4Lm1pbkZvcmNlID0geS5taW5Gb3JjZSA9IHoubWluRm9yY2UgPSAtbWF4Rm9yY2U7CiAgICAgIHgubWF4Rm9yY2UgPSB5Lm1heEZvcmNlID0gei5tYXhGb3JjZSA9IG1heEZvcmNlOwogICAgICB4Lm5pLnNldCgxLCAwLCAwKTsKICAgICAgeS5uaS5zZXQoMCwgMSwgMCk7CiAgICAgIHoubmkuc2V0KDAsIDAsIDEpOwogICAgfQoKICAgIHVwZGF0ZSgpIHsKICAgICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBOwogICAgICBjb25zdCBib2R5QiA9IHRoaXMuYm9keUI7CiAgICAgIGNvbnN0IHggPSB0aGlzLmVxdWF0aW9uWDsKICAgICAgY29uc3QgeSA9IHRoaXMuZXF1YXRpb25ZOwogICAgICBjb25zdCB6ID0gdGhpcy5lcXVhdGlvblo7IC8vIFJvdGF0ZSB0aGUgcGl2b3RzIHRvIHdvcmxkIHNwYWNlCgogICAgICBib2R5QS5xdWF0ZXJuaW9uLnZtdWx0KHRoaXMucGl2b3RBLCB4LnJpKTsKICAgICAgYm9keUIucXVhdGVybmlvbi52bXVsdCh0aGlzLnBpdm90QiwgeC5yaik7CiAgICAgIHkucmkuY29weSh4LnJpKTsKICAgICAgeS5yai5jb3B5KHgucmopOwogICAgICB6LnJpLmNvcHkoeC5yaSk7CiAgICAgIHoucmouY29weSh4LnJqKTsKICAgIH0KCiAgfQogIC8qKgogICAqIENvbmUgZXF1YXRpb24uIFdvcmtzIHRvIGtlZXAgdGhlIGdpdmVuIGJvZHkgd29ybGQgdmVjdG9ycyBhbGlnbmVkLCBvciB0aWx0ZWQgd2l0aGluIGEgZ2l2ZW4gYW5nbGUgZnJvbSBlYWNoIG90aGVyLgogICAqIEBjbGFzcyBDb25lRXF1YXRpb24KICAgKiBAY29uc3RydWN0b3IKICAgKiBAYXV0aG9yIHNjaHRlcHBlCiAgICogQHBhcmFtIHtCb2R5fSBib2R5QQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUIKICAgKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNBXSBMb2NhbCBheGlzIGluIEEKICAgKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmF4aXNCXSBMb2NhbCBheGlzIGluIEIKICAgKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmFuZ2xlXSBUaGUgImNvbmUgYW5nbGUiIHRvIGtlZXAKICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4Rm9yY2U9MWU2XQogICAqIEBleHRlbmRzIEVxdWF0aW9uCiAgICovCgoKICBjbGFzcyBDb25lRXF1YXRpb24gZXh0ZW5kcyBFcXVhdGlvbiB7CiAgICAvLyBUaGUgY29uZSBhbmdsZSB0byBrZWVwLgogICAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHsKICAgICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2OwogICAgICBzdXBlcihib2R5QSwgYm9keUIsIC1tYXhGb3JjZSwgbWF4Rm9yY2UpOwogICAgICB0aGlzLmF4aXNBID0gb3B0aW9ucy5heGlzQSA/IG9wdGlvbnMuYXhpc0EuY2xvbmUoKSA6IG5ldyBWZWMzKDEsIDAsIDApOwogICAgICB0aGlzLmF4aXNCID0gb3B0aW9ucy5heGlzQiA/IG9wdGlvbnMuYXhpc0IuY2xvbmUoKSA6IG5ldyBWZWMzKDAsIDEsIDApOwogICAgICB0aGlzLmFuZ2xlID0gdHlwZW9mIG9wdGlvbnMuYW5nbGUgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5hbmdsZSA6IDA7CiAgICB9CgogICAgY29tcHV0ZUIoaCkgewogICAgICBjb25zdCBhID0gdGhpcy5hOwogICAgICBjb25zdCBiID0gdGhpcy5iOwogICAgICBjb25zdCBuaSA9IHRoaXMuYXhpc0E7CiAgICAgIGNvbnN0IG5qID0gdGhpcy5heGlzQjsKICAgICAgY29uc3Qgbml4bmogPSB0bXBWZWMxOwogICAgICBjb25zdCBuanhuaSA9IHRtcFZlYzI7CiAgICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsgLy8gQ2FsdWNsYXRlIGNyb3NzIHByb2R1Y3RzCgogICAgICBuaS5jcm9zcyhuaiwgbml4bmopOwogICAgICBuai5jcm9zcyhuaSwgbmp4bmkpOyAvLyBUaGUgYW5nbGUgYmV0d2VlbiB0d28gdmVjdG9yIGlzOgogICAgICAvLyBjb3ModGhldGEpID0gYSAqIGIgLyAobGVuZ3RoKGEpICogbGVuZ3RoKGIpID0geyBsZW4oYSkgPSBsZW4oYikgPSAxIH0gPSBhICogYgogICAgICAvLyBnID0gYSAqIGIKICAgICAgLy8gZ2RvdCA9IChiIHggYSkgKiB3aSArIChhIHggYikgKiB3agogICAgICAvLyBHID0gWzAgYnhhIDAgYXhiXQogICAgICAvLyBXID0gW3ZpIHdpIHZqIHdqXQoKICAgICAgR0Eucm90YXRpb25hbC5jb3B5KG5qeG5pKTsKICAgICAgR0Iucm90YXRpb25hbC5jb3B5KG5peG5qKTsKICAgICAgY29uc3QgZyA9IE1hdGguY29zKHRoaXMuYW5nbGUpIC0gbmkuZG90KG5qKTsKICAgICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpOwogICAgICBjb25zdCBHaU1mID0gdGhpcy5jb21wdXRlR2lNZigpOwogICAgICBjb25zdCBCID0gLWcgKiBhIC0gR1cgKiBiIC0gaCAqIEdpTWY7CiAgICAgIHJldHVybiBCOwogICAgfQoKICB9CgogIGNvbnN0IHRtcFZlYzEgPSBuZXcgVmVjMygpOwogIGNvbnN0IHRtcFZlYzIgPSBuZXcgVmVjMygpOwogIC8qKgogICAqIFJvdGF0aW9uYWwgY29uc3RyYWludC4gV29ya3MgdG8ga2VlcCB0aGUgbG9jYWwgdmVjdG9ycyBvcnRob2dvbmFsIHRvIGVhY2ggb3RoZXIgaW4gd29ybGQgc3BhY2UuCiAgICogQGNsYXNzIFJvdGF0aW9uYWxFcXVhdGlvbgogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBhdXRob3Igc2NodGVwcGUKICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlBCiAgICogQHBhcmFtIHtCb2R5fSBib2R5QgogICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0FdCiAgICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQl0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4Rm9yY2VdCiAgICogQGV4dGVuZHMgRXF1YXRpb24KICAgKi8KCiAgY2xhc3MgUm90YXRpb25hbEVxdWF0aW9uIGV4dGVuZHMgRXF1YXRpb24gewogICAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHsKICAgICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2OwogICAgICBzdXBlcihib2R5QSwgYm9keUIsIC1tYXhGb3JjZSwgbWF4Rm9yY2UpOwogICAgICB0aGlzLmF4aXNBID0gb3B0aW9ucy5heGlzQSA/IG9wdGlvbnMuYXhpc0EuY2xvbmUoKSA6IG5ldyBWZWMzKDEsIDAsIDApOwogICAgICB0aGlzLmF4aXNCID0gb3B0aW9ucy5heGlzQiA/IG9wdGlvbnMuYXhpc0IuY2xvbmUoKSA6IG5ldyBWZWMzKDAsIDEsIDApOwogICAgICB0aGlzLm1heEFuZ2xlID0gTWF0aC5QSSAvIDI7CiAgICB9CgogICAgY29tcHV0ZUIoaCkgewogICAgICBjb25zdCBhID0gdGhpcy5hOwogICAgICBjb25zdCBiID0gdGhpcy5iOwogICAgICBjb25zdCBuaSA9IHRoaXMuYXhpc0E7CiAgICAgIGNvbnN0IG5qID0gdGhpcy5heGlzQjsKICAgICAgY29uc3Qgbml4bmogPSB0bXBWZWMxJDE7CiAgICAgIGNvbnN0IG5qeG5pID0gdG1wVmVjMiQxOwogICAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTsKICAgICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7IC8vIENhbHVjbGF0ZSBjcm9zcyBwcm9kdWN0cwoKICAgICAgbmkuY3Jvc3MobmosIG5peG5qKTsKICAgICAgbmouY3Jvc3MobmksIG5qeG5pKTsgLy8gZyA9IG5pICogbmoKICAgICAgLy8gZ2RvdCA9IChuaiB4IG5pKSAqIHdpICsgKG5pIHggbmopICogd2oKICAgICAgLy8gRyA9IFswIG5qeG5pIDAgbml4bmpdCiAgICAgIC8vIFcgPSBbdmkgd2kgdmogd2pdCgogICAgICBHQS5yb3RhdGlvbmFsLmNvcHkobmp4bmkpOwogICAgICBHQi5yb3RhdGlvbmFsLmNvcHkobml4bmopOwogICAgICBjb25zdCBnID0gTWF0aC5jb3ModGhpcy5tYXhBbmdsZSkgLSBuaS5kb3QobmopOwogICAgICBjb25zdCBHVyA9IHRoaXMuY29tcHV0ZUdXKCk7CiAgICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7CiAgICAgIGNvbnN0IEIgPSAtZyAqIGEgLSBHVyAqIGIgLSBoICogR2lNZjsKICAgICAgcmV0dXJuIEI7CiAgICB9CgogIH0KCiAgY29uc3QgdG1wVmVjMSQxID0gbmV3IFZlYzMoKTsKICBjb25zdCB0bXBWZWMyJDEgPSBuZXcgVmVjMygpOwogIC8qKgogICAqIEBjbGFzcyBDb25lVHdpc3RDb25zdHJhaW50CiAgICogQGNvbnN0cnVjdG9yCiAgICogQGF1dGhvciBzY2h0ZXBwZQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUEKICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlCCiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQogICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucGl2b3RBXQogICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucGl2b3RCXQogICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0FdCiAgICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGlzQl0KICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4Rm9yY2U9MWU2XQogICAqIEBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQKICAgKi8KCiAgY2xhc3MgQ29uZVR3aXN0Q29uc3RyYWludCBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQgewogICAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHsKICAgICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2OyAvLyBTZXQgcGl2b3QgcG9pbnQgaW4gYmV0d2VlbgoKICAgICAgY29uc3QgcGl2b3RBID0gb3B0aW9ucy5waXZvdEEgPyBvcHRpb25zLnBpdm90QS5jbG9uZSgpIDogbmV3IFZlYzMoKTsKICAgICAgY29uc3QgcGl2b3RCID0gb3B0aW9ucy5waXZvdEIgPyBvcHRpb25zLnBpdm90Qi5jbG9uZSgpIDogbmV3IFZlYzMoKTsKICAgICAgc3VwZXIoYm9keUEsIHBpdm90QSwgYm9keUIsIHBpdm90QiwgbWF4Rm9yY2UpOwogICAgICB0aGlzLmF4aXNBID0gb3B0aW9ucy5heGlzQSA/IG9wdGlvbnMuYXhpc0EuY2xvbmUoKSA6IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMuYXhpc0IgPSBvcHRpb25zLmF4aXNCID8gb3B0aW9ucy5heGlzQi5jbG9uZSgpIDogbmV3IFZlYzMoKTsKICAgICAgdGhpcy5jb2xsaWRlQ29ubmVjdGVkID0gISFvcHRpb25zLmNvbGxpZGVDb25uZWN0ZWQ7CiAgICAgIHRoaXMuYW5nbGUgPSB0eXBlb2Ygb3B0aW9ucy5hbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmFuZ2xlIDogMDsKICAgICAgY29uc3QgYyA9IHRoaXMuY29uZUVxdWF0aW9uID0gbmV3IENvbmVFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpOwogICAgICBjb25zdCB0ID0gdGhpcy50d2lzdEVxdWF0aW9uID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpOwogICAgICB0aGlzLnR3aXN0QW5nbGUgPSB0eXBlb2Ygb3B0aW9ucy50d2lzdEFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMudHdpc3RBbmdsZSA6IDA7IC8vIE1ha2UgdGhlIGNvbmUgZXF1YXRpb24gcHVzaCB0aGUgYm9kaWVzIHRvd2FyZCB0aGUgY29uZSBheGlzLCBub3Qgb3V0d2FyZAoKICAgICAgYy5tYXhGb3JjZSA9IDA7CiAgICAgIGMubWluRm9yY2UgPSAtbWF4Rm9yY2U7IC8vIE1ha2UgdGhlIHR3aXN0IGVxdWF0aW9uIGFkZCB0b3JxdWUgdG93YXJkIHRoZSBpbml0aWFsIHBvc2l0aW9uCgogICAgICB0Lm1heEZvcmNlID0gMDsKICAgICAgdC5taW5Gb3JjZSA9IC1tYXhGb3JjZTsKICAgICAgdGhpcy5lcXVhdGlvbnMucHVzaChjLCB0KTsKICAgIH0KCiAgICB1cGRhdGUoKSB7CiAgICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTsKICAgICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCOwogICAgICBjb25zdCBjb25lID0gdGhpcy5jb25lRXF1YXRpb247CiAgICAgIGNvbnN0IHR3aXN0ID0gdGhpcy50d2lzdEVxdWF0aW9uOwogICAgICBzdXBlci51cGRhdGUoKTsgLy8gVXBkYXRlIHRoZSBheGVzIHRvIHRoZSBjb25lIGNvbnN0cmFpbnQKCiAgICAgIGJvZHlBLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLmF4aXNBLCBjb25lLmF4aXNBKTsKICAgICAgYm9keUIudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMuYXhpc0IsIGNvbmUuYXhpc0IpOyAvLyBVcGRhdGUgdGhlIHdvcmxkIGF4ZXMgaW4gdGhlIHR3aXN0IGNvbnN0cmFpbnQKCiAgICAgIHRoaXMuYXhpc0EudGFuZ2VudHModHdpc3QuYXhpc0EsIHR3aXN0LmF4aXNBKTsKICAgICAgYm9keUEudmVjdG9yVG9Xb3JsZEZyYW1lKHR3aXN0LmF4aXNBLCB0d2lzdC5heGlzQSk7CiAgICAgIHRoaXMuYXhpc0IudGFuZ2VudHModHdpc3QuYXhpc0IsIHR3aXN0LmF4aXNCKTsKICAgICAgYm9keUIudmVjdG9yVG9Xb3JsZEZyYW1lKHR3aXN0LmF4aXNCLCB0d2lzdC5heGlzQik7CiAgICAgIGNvbmUuYW5nbGUgPSB0aGlzLmFuZ2xlOwogICAgICB0d2lzdC5tYXhBbmdsZSA9IHRoaXMudHdpc3RBbmdsZTsKICAgIH0KCiAgfQogIC8qKgogICAqIENvbnN0cmFpbnMgdHdvIGJvZGllcyB0byBiZSBhdCBhIGNvbnN0YW50IGRpc3RhbmNlIGZyb20gZWFjaCBvdGhlcnMgY2VudGVyIG9mIG1hc3MuCiAgICogQGNsYXNzIERpc3RhbmNlQ29uc3RyYWludAogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBhdXRob3Igc2NodGVwcGUKICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlBCiAgICogQHBhcmFtIHtCb2R5fSBib2R5QgogICAqIEBwYXJhbSB7TnVtYmVyfSBbZGlzdGFuY2VdIFRoZSBkaXN0YW5jZSB0byBrZWVwLiBJZiB1bmRlZmluZWQsIGl0IHdpbGwgYmUgc2V0IHRvIHRoZSBjdXJyZW50IGRpc3RhbmNlIGJldHdlZW4gYm9keUEgYW5kIGJvZHlCCiAgICogQHBhcmFtIHtOdW1iZXJ9IFttYXhGb3JjZT0xZTZdCiAgICogQGV4dGVuZHMgQ29uc3RyYWludAogICAqLwoKCiAgY2xhc3MgRGlzdGFuY2VDb25zdHJhaW50IGV4dGVuZHMgQ29uc3RyYWludCB7CiAgICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIGRpc3RhbmNlLCBtYXhGb3JjZSA9IDFlNikgewogICAgICBzdXBlcihib2R5QSwgYm9keUIpOwoKICAgICAgaWYgKHR5cGVvZiBkaXN0YW5jZSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBkaXN0YW5jZSA9IGJvZHlBLnBvc2l0aW9uLmRpc3RhbmNlVG8oYm9keUIucG9zaXRpb24pOwogICAgICB9CgogICAgICB0aGlzLmRpc3RhbmNlID0gZGlzdGFuY2U7CiAgICAgIGNvbnN0IGVxID0gdGhpcy5kaXN0YW5jZUVxdWF0aW9uID0gbmV3IENvbnRhY3RFcXVhdGlvbihib2R5QSwgYm9keUIpOwogICAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKGVxKTsgLy8gTWFrZSBpdCBiaWRpcmVjdGlvbmFsCgogICAgICBlcS5taW5Gb3JjZSA9IC1tYXhGb3JjZTsKICAgICAgZXEubWF4Rm9yY2UgPSBtYXhGb3JjZTsKICAgIH0KCiAgICB1cGRhdGUoKSB7CiAgICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTsKICAgICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCOwogICAgICBjb25zdCBlcSA9IHRoaXMuZGlzdGFuY2VFcXVhdGlvbjsKICAgICAgY29uc3QgaGFsZkRpc3QgPSB0aGlzLmRpc3RhbmNlICogMC41OwogICAgICBjb25zdCBub3JtYWwgPSBlcS5uaTsKICAgICAgYm9keUIucG9zaXRpb24udnN1Yihib2R5QS5wb3NpdGlvbiwgbm9ybWFsKTsKICAgICAgbm9ybWFsLm5vcm1hbGl6ZSgpOwogICAgICBub3JtYWwuc2NhbGUoaGFsZkRpc3QsIGVxLnJpKTsKICAgICAgbm9ybWFsLnNjYWxlKC1oYWxmRGlzdCwgZXEucmopOwogICAgfQoKICB9CiAgLyoqCiAgICogTG9jayBjb25zdHJhaW50LiBXaWxsIHJlbW92ZSBhbGwgZGVncmVlcyBvZiBmcmVlZG9tIGJldHdlZW4gdGhlIGJvZGllcy4KICAgKiBAY2xhc3MgTG9ja0NvbnN0cmFpbnQKICAgKiBAY29uc3RydWN0b3IKICAgKiBAYXV0aG9yIHNjaHRlcHBlCiAgICogQHBhcmFtIHtCb2R5fSBib2R5QQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUIKICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdCiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heEZvcmNlPTFlNl0KICAgKiBAZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50CiAgICovCgoKICBjbGFzcyBMb2NrQ29uc3RyYWludCBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQgewogICAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHsKICAgICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2OyAvLyBTZXQgcGl2b3QgcG9pbnQgaW4gYmV0d2VlbgoKICAgICAgY29uc3QgcGl2b3RBID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgcGl2b3RCID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgaGFsZldheSA9IG5ldyBWZWMzKCk7CiAgICAgIGJvZHlBLnBvc2l0aW9uLnZhZGQoYm9keUIucG9zaXRpb24sIGhhbGZXYXkpOwogICAgICBoYWxmV2F5LnNjYWxlKDAuNSwgaGFsZldheSk7CiAgICAgIGJvZHlCLnBvaW50VG9Mb2NhbEZyYW1lKGhhbGZXYXksIHBpdm90Qik7CiAgICAgIGJvZHlBLnBvaW50VG9Mb2NhbEZyYW1lKGhhbGZXYXksIHBpdm90QSk7IC8vIFRoZSBwb2ludC10by1wb2ludCBjb25zdHJhaW50IHdpbGwga2VlcCBhIHBvaW50IHNoYXJlZCBiZXR3ZWVuIHRoZSBib2RpZXMKCiAgICAgIHN1cGVyKGJvZHlBLCBwaXZvdEEsIGJvZHlCLCBwaXZvdEIsIG1heEZvcmNlKTsgLy8gU3RvcmUgaW5pdGlhbCByb3RhdGlvbiBvZiB0aGUgYm9kaWVzIGFzIHVuaXQgdmVjdG9ycyBpbiB0aGUgbG9jYWwgYm9keSBzcGFjZXMKCiAgICAgIHRoaXMueEEgPSBib2R5QS52ZWN0b3JUb0xvY2FsRnJhbWUoVmVjMy5VTklUX1gpOwogICAgICB0aGlzLnhCID0gYm9keUIudmVjdG9yVG9Mb2NhbEZyYW1lKFZlYzMuVU5JVF9YKTsKICAgICAgdGhpcy55QSA9IGJvZHlBLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWSk7CiAgICAgIHRoaXMueUIgPSBib2R5Qi52ZWN0b3JUb0xvY2FsRnJhbWUoVmVjMy5VTklUX1kpOwogICAgICB0aGlzLnpBID0gYm9keUEudmVjdG9yVG9Mb2NhbEZyYW1lKFZlYzMuVU5JVF9aKTsKICAgICAgdGhpcy56QiA9IGJvZHlCLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWik7IC8vIC4uLmFuZCB0aGUgZm9sbG93aW5nIHJvdGF0aW9uYWwgZXF1YXRpb25zIHdpbGwga2VlcCBhbGwgcm90YXRpb25hbCBET0YncyBpbiBwbGFjZQoKICAgICAgY29uc3QgcjEgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjEgPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7CiAgICAgIGNvbnN0IHIyID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24yID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpOwogICAgICBjb25zdCByMyA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMyA9IG5ldyBSb3RhdGlvbmFsRXF1YXRpb24oYm9keUEsIGJvZHlCLCBvcHRpb25zKTsKICAgICAgdGhpcy5lcXVhdGlvbnMucHVzaChyMSwgcjIsIHIzKTsKICAgIH0KCiAgICB1cGRhdGUoKSB7CiAgICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTsKICAgICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCOwogICAgICB0aGlzLm1vdG9yRXF1YXRpb247CiAgICAgIGNvbnN0IHIxID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24xOwogICAgICBjb25zdCByMiA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMjsKICAgICAgY29uc3QgcjMgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjM7CiAgICAgIHN1cGVyLnVwZGF0ZSgpOyAvLyBUaGVzZSB2ZWN0b3IgcGFpcnMgbXVzdCBiZSBvcnRob2dvbmFsCgogICAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy54QSwgcjEuYXhpc0EpOwogICAgICBib2R5Qi52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy55QiwgcjEuYXhpc0IpOwogICAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy55QSwgcjIuYXhpc0EpOwogICAgICBib2R5Qi52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy56QiwgcjIuYXhpc0IpOwogICAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy56QSwgcjMuYXhpc0EpOwogICAgICBib2R5Qi52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy54QiwgcjMuYXhpc0IpOwogICAgfQoKICB9CiAgLyoqCiAgICogUm90YXRpb25hbCBtb3RvciBjb25zdHJhaW50LiBUcmllcyB0byBrZWVwIHRoZSByZWxhdGl2ZSBhbmd1bGFyIHZlbG9jaXR5IG9mIHRoZSBib2RpZXMgdG8gYSBnaXZlbiB2YWx1ZS4KICAgKiBAY2xhc3MgUm90YXRpb25hbE1vdG9yRXF1YXRpb24KICAgKiBAY29uc3RydWN0b3IKICAgKiBAYXV0aG9yIHNjaHRlcHBlCiAgICogQHBhcmFtIHtCb2R5fSBib2R5QQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUIKICAgKiBAcGFyYW0ge051bWJlcn0gbWF4Rm9yY2UKICAgKiBAZXh0ZW5kcyBFcXVhdGlvbgogICAqLwoKCiAgY2xhc3MgUm90YXRpb25hbE1vdG9yRXF1YXRpb24gZXh0ZW5kcyBFcXVhdGlvbiB7CiAgICAvLyBXb3JsZCBvcmllbnRlZCByb3RhdGlvbmFsIGF4aXMuCiAgICAvLyBXb3JsZCBvcmllbnRlZCByb3RhdGlvbmFsIGF4aXMuCiAgICAvLyBNb3RvciB2ZWxvY2l0eS4KICAgIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5QiwgbWF4Rm9yY2UgPSAxZTYpIHsKICAgICAgc3VwZXIoYm9keUEsIGJvZHlCLCAtbWF4Rm9yY2UsIG1heEZvcmNlKTsKICAgICAgdGhpcy5heGlzQSA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMuYXhpc0IgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLnRhcmdldFZlbG9jaXR5ID0gMDsKICAgIH0KCiAgICBjb21wdXRlQihoKSB7CiAgICAgIHRoaXMuYTsKICAgICAgY29uc3QgYiA9IHRoaXMuYjsKICAgICAgdGhpcy5iaTsKICAgICAgdGhpcy5iajsKICAgICAgY29uc3QgYXhpc0EgPSB0aGlzLmF4aXNBOwogICAgICBjb25zdCBheGlzQiA9IHRoaXMuYXhpc0I7CiAgICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsgLy8gZyA9IDAKICAgICAgLy8gZ2RvdCA9IGF4aXNBICogd2kgLSBheGlzQiAqIHdqCiAgICAgIC8vIGdkb3QgPSBHICogVyA9IEcgKiBbdmkgd2kgdmogd2pdCiAgICAgIC8vID0+CiAgICAgIC8vIEcgPSBbMCBheGlzQSAwIC1heGlzQl0KCiAgICAgIEdBLnJvdGF0aW9uYWwuY29weShheGlzQSk7CiAgICAgIGF4aXNCLm5lZ2F0ZShHQi5yb3RhdGlvbmFsKTsKICAgICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpIC0gdGhpcy50YXJnZXRWZWxvY2l0eTsKICAgICAgY29uc3QgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTsKICAgICAgY29uc3QgQiA9IC1HVyAqIGIgLSBoICogR2lNZjsKICAgICAgcmV0dXJuIEI7CiAgICB9CgogIH0KICAvKioKICAgKiBIaW5nZSBjb25zdHJhaW50LiBUaGluayBvZiBpdCBhcyBhIGRvb3IgaGluZ2UuIEl0IHRyaWVzIHRvIGtlZXAgdGhlIGRvb3IgaW4gdGhlIGNvcnJlY3QgcGxhY2UgYW5kIHdpdGggdGhlIGNvcnJlY3Qgb3JpZW50YXRpb24uCiAgICogQGNsYXNzIEhpbmdlQ29uc3RyYWludAogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBhdXRob3Igc2NodGVwcGUKICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlBCiAgICogQHBhcmFtIHtCb2R5fSBib2R5QgogICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10KICAgKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLnBpdm90QV0gQSBwb2ludCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUEuIFRoaXMgZGVmaW5lcyB0aGUgb2Zmc2V0IG9mIGF4aXNBLgogICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0FdIEFuIGF4aXMgdGhhdCBib2R5QSBjYW4gcm90YXRlIGFyb3VuZCwgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlBLgogICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMucGl2b3RCXQogICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuYXhpc0JdCiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heEZvcmNlPTFlNl0KICAgKiBAZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50CiAgICovCgoKICBjbGFzcyBIaW5nZUNvbnN0cmFpbnQgZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50IHsKICAgIC8vIFJvdGF0aW9uIGF4aXMsIGRlZmluZWQgbG9jYWxseSBpbiBib2R5QS4KICAgIC8vIFJvdGF0aW9uIGF4aXMsIGRlZmluZWQgbG9jYWxseSBpbiBib2R5Qi4KICAgIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyA9IHt9KSB7CiAgICAgIGNvbnN0IG1heEZvcmNlID0gdHlwZW9mIG9wdGlvbnMubWF4Rm9yY2UgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5tYXhGb3JjZSA6IDFlNjsKICAgICAgY29uc3QgcGl2b3RBID0gb3B0aW9ucy5waXZvdEEgPyBvcHRpb25zLnBpdm90QS5jbG9uZSgpIDogbmV3IFZlYzMoKTsKICAgICAgY29uc3QgcGl2b3RCID0gb3B0aW9ucy5waXZvdEIgPyBvcHRpb25zLnBpdm90Qi5jbG9uZSgpIDogbmV3IFZlYzMoKTsKICAgICAgc3VwZXIoYm9keUEsIHBpdm90QSwgYm9keUIsIHBpdm90QiwgbWF4Rm9yY2UpOwogICAgICBjb25zdCBheGlzQSA9IHRoaXMuYXhpc0EgPSBvcHRpb25zLmF4aXNBID8gb3B0aW9ucy5heGlzQS5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMCwgMCk7CiAgICAgIGF4aXNBLm5vcm1hbGl6ZSgpOwogICAgICBjb25zdCBheGlzQiA9IHRoaXMuYXhpc0IgPSBvcHRpb25zLmF4aXNCID8gb3B0aW9ucy5heGlzQi5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMCwgMCk7CiAgICAgIGF4aXNCLm5vcm1hbGl6ZSgpOwogICAgICB0aGlzLmNvbGxpZGVDb25uZWN0ZWQgPSAhIW9wdGlvbnMuY29sbGlkZUNvbm5lY3RlZDsKICAgICAgY29uc3Qgcm90YXRpb25hbDEgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjEgPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7CiAgICAgIGNvbnN0IHJvdGF0aW9uYWwyID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24yID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpOwogICAgICBjb25zdCBtb3RvciA9IHRoaXMubW90b3JFcXVhdGlvbiA9IG5ldyBSb3RhdGlvbmFsTW90b3JFcXVhdGlvbihib2R5QSwgYm9keUIsIG1heEZvcmNlKTsKICAgICAgbW90b3IuZW5hYmxlZCA9IGZhbHNlOyAvLyBOb3QgZW5hYmxlZCBieSBkZWZhdWx0CiAgICAgIC8vIEVxdWF0aW9ucyB0byBiZSBmZWQgdG8gdGhlIHNvbHZlcgoKICAgICAgdGhpcy5lcXVhdGlvbnMucHVzaChyb3RhdGlvbmFsMSwgcm90YXRpb25hbDIsIG1vdG9yKTsKICAgIH0KICAgIC8qKgogICAgICogQG1ldGhvZCBlbmFibGVNb3RvcgogICAgICovCgoKICAgIGVuYWJsZU1vdG9yKCkgewogICAgICB0aGlzLm1vdG9yRXF1YXRpb24uZW5hYmxlZCA9IHRydWU7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2QgZGlzYWJsZU1vdG9yCiAgICAgKi8KCgogICAgZGlzYWJsZU1vdG9yKCkgewogICAgICB0aGlzLm1vdG9yRXF1YXRpb24uZW5hYmxlZCA9IGZhbHNlOwogICAgfQogICAgLyoqCiAgICAgKiBAbWV0aG9kIHNldE1vdG9yU3BlZWQKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcGVlZAogICAgICovCgoKICAgIHNldE1vdG9yU3BlZWQoc3BlZWQpIHsKICAgICAgdGhpcy5tb3RvckVxdWF0aW9uLnRhcmdldFZlbG9jaXR5ID0gc3BlZWQ7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2Qgc2V0TW90b3JNYXhGb3JjZQogICAgICogQHBhcmFtIHtudW1iZXJ9IG1heEZvcmNlCiAgICAgKi8KCgogICAgc2V0TW90b3JNYXhGb3JjZShtYXhGb3JjZSkgewogICAgICB0aGlzLm1vdG9yRXF1YXRpb24ubWF4Rm9yY2UgPSBtYXhGb3JjZTsKICAgICAgdGhpcy5tb3RvckVxdWF0aW9uLm1pbkZvcmNlID0gLW1heEZvcmNlOwogICAgfQoKICAgIHVwZGF0ZSgpIHsKICAgICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBOwogICAgICBjb25zdCBib2R5QiA9IHRoaXMuYm9keUI7CiAgICAgIGNvbnN0IG1vdG9yID0gdGhpcy5tb3RvckVxdWF0aW9uOwogICAgICBjb25zdCByMSA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMTsKICAgICAgY29uc3QgcjIgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjI7CiAgICAgIGNvbnN0IHdvcmxkQXhpc0EgPSBIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzE7CiAgICAgIGNvbnN0IHdvcmxkQXhpc0IgPSBIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzI7CiAgICAgIGNvbnN0IGF4aXNBID0gdGhpcy5heGlzQTsKICAgICAgY29uc3QgYXhpc0IgPSB0aGlzLmF4aXNCOwogICAgICBzdXBlci51cGRhdGUoKTsgLy8gR2V0IHdvcmxkIGF4ZXMKCiAgICAgIGJvZHlBLnF1YXRlcm5pb24udm11bHQoYXhpc0EsIHdvcmxkQXhpc0EpOwogICAgICBib2R5Qi5xdWF0ZXJuaW9uLnZtdWx0KGF4aXNCLCB3b3JsZEF4aXNCKTsKICAgICAgd29ybGRBeGlzQS50YW5nZW50cyhyMS5heGlzQSwgcjIuYXhpc0EpOwogICAgICByMS5heGlzQi5jb3B5KHdvcmxkQXhpc0IpOwogICAgICByMi5heGlzQi5jb3B5KHdvcmxkQXhpc0IpOwoKICAgICAgaWYgKHRoaXMubW90b3JFcXVhdGlvbi5lbmFibGVkKSB7CiAgICAgICAgYm9keUEucXVhdGVybmlvbi52bXVsdCh0aGlzLmF4aXNBLCBtb3Rvci5heGlzQSk7CiAgICAgICAgYm9keUIucXVhdGVybmlvbi52bXVsdCh0aGlzLmF4aXNCLCBtb3Rvci5heGlzQik7CiAgICAgIH0KICAgIH0KCiAgfQoKICBjb25zdCBIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzEgPSBuZXcgVmVjMygpOwogIGNvbnN0IEhpbmdlQ29uc3RyYWludF91cGRhdGVfdG1wVmVjMiA9IG5ldyBWZWMzKCk7CiAgLyoqCiAgICogQ29uc3RyYWlucyB0aGUgc2xpcHBpbmcgaW4gYSBjb250YWN0IGFsb25nIGEgdGFuZ2VudAogICAqIEBjbGFzcyBGcmljdGlvbkVxdWF0aW9uCiAgICogQGNvbnN0cnVjdG9yCiAgICogQGF1dGhvciBzY2h0ZXBwZQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUEKICAgKiBAcGFyYW0ge0JvZHl9IGJvZHlCCiAgICogQHBhcmFtIHtOdW1iZXJ9IHNsaXBGb3JjZSBzaG91bGQgYmUgKy1GX2ZyaWN0aW9uID0gKy1tdSAqIEZfbm9ybWFsID0gKy1tdSAqIG0gKiBnCiAgICogQGV4dGVuZHMgRXF1YXRpb24KICAgKi8KCiAgY2xhc3MgRnJpY3Rpb25FcXVhdGlvbiBleHRlbmRzIEVxdWF0aW9uIHsKICAgIC8vIFRhbmdlbnQuCiAgICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIHNsaXBGb3JjZSkgewogICAgICBzdXBlcihib2R5QSwgYm9keUIsIC1zbGlwRm9yY2UsIHNsaXBGb3JjZSk7CiAgICAgIHRoaXMucmkgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLnJqID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy50ID0gbmV3IFZlYzMoKTsKICAgIH0KCiAgICBjb21wdXRlQihoKSB7CiAgICAgIHRoaXMuYTsKICAgICAgY29uc3QgYiA9IHRoaXMuYjsKICAgICAgdGhpcy5iaTsKICAgICAgdGhpcy5iajsKICAgICAgY29uc3QgcmkgPSB0aGlzLnJpOwogICAgICBjb25zdCByaiA9IHRoaXMucmo7CiAgICAgIGNvbnN0IHJpeHQgPSBGcmljdGlvbkVxdWF0aW9uX2NvbXB1dGVCX3RlbXAxOwogICAgICBjb25zdCByanh0ID0gRnJpY3Rpb25FcXVhdGlvbl9jb21wdXRlQl90ZW1wMjsKICAgICAgY29uc3QgdCA9IHRoaXMudDsgLy8gQ2FsdWNsYXRlIGNyb3NzIHByb2R1Y3RzCgogICAgICByaS5jcm9zcyh0LCByaXh0KTsKICAgICAgcmouY3Jvc3ModCwgcmp4dCk7IC8vIEcgPSBbLXQgLXJpeHQgdCByanh0XQogICAgICAvLyBBbmQgcmVtZW1iZXIsIHRoaXMgaXMgYSBwdXJlIHZlbG9jaXR5IGNvbnN0cmFpbnQsIGcgaXMgYWx3YXlzIHplcm8hCgogICAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTsKICAgICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7CiAgICAgIHQubmVnYXRlKEdBLnNwYXRpYWwpOwogICAgICByaXh0Lm5lZ2F0ZShHQS5yb3RhdGlvbmFsKTsKICAgICAgR0Iuc3BhdGlhbC5jb3B5KHQpOwogICAgICBHQi5yb3RhdGlvbmFsLmNvcHkocmp4dCk7CiAgICAgIGNvbnN0IEdXID0gdGhpcy5jb21wdXRlR1coKTsKICAgICAgY29uc3QgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTsKICAgICAgY29uc3QgQiA9IC1HVyAqIGIgLSBoICogR2lNZjsKICAgICAgcmV0dXJuIEI7CiAgICB9CgogIH0KCiAgY29uc3QgRnJpY3Rpb25FcXVhdGlvbl9jb21wdXRlQl90ZW1wMSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgRnJpY3Rpb25FcXVhdGlvbl9jb21wdXRlQl90ZW1wMiA9IG5ldyBWZWMzKCk7CiAgLyoqCiAgICogRGVmaW5lcyB3aGF0IGhhcHBlbnMgd2hlbiB0d28gbWF0ZXJpYWxzIG1lZXQuCiAgICogQGNsYXNzIENvbnRhY3RNYXRlcmlhbAogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBwYXJhbSB7TWF0ZXJpYWx9IG0xCiAgICogQHBhcmFtIHtNYXRlcmlhbH0gbTIKICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdCiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmZyaWN0aW9uPTAuM10KICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMucmVzdGl0dXRpb249MC4zXQogICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb250YWN0RXF1YXRpb25TdGlmZm5lc3M9MWU3XQogICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb250YWN0RXF1YXRpb25SZWxheGF0aW9uPTNdCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3M9MWU3XQogICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbj0zXQogICAqIEB0b2RvIFJlZmFjdG9yIG1hdGVyaWFscyB0byBtYXRlcmlhbEEgYW5kIG1hdGVyaWFsQgogICAqLwoKICBjbGFzcyBDb250YWN0TWF0ZXJpYWwgewogICAgLy8gSWRlbnRpZmllciBvZiB0aGlzIG1hdGVyaWFsLgogICAgLy8gUGFydGljaXBhdGluZyBtYXRlcmlhbHMuCiAgICAvLyBGcmljdGlvbiBjb2VmZmljaWVudC4KICAgIC8vIFJlc3RpdHV0aW9uIGNvZWZmaWNpZW50LgogICAgLy8gU3RpZmZuZXNzIG9mIHRoZSBwcm9kdWNlZCBjb250YWN0IGVxdWF0aW9ucy4KICAgIC8vIFJlbGF4YXRpb24gdGltZSBvZiB0aGUgcHJvZHVjZWQgY29udGFjdCBlcXVhdGlvbnMuCiAgICAvLyBTdGlmZm5lc3Mgb2YgdGhlIHByb2R1Y2VkIGZyaWN0aW9uIGVxdWF0aW9ucy4KICAgIC8vIFJlbGF4YXRpb24gdGltZSBvZiB0aGUgcHJvZHVjZWQgZnJpY3Rpb24gZXF1YXRpb25zCiAgICBjb25zdHJ1Y3RvcihtMSwgbTIsIG9wdGlvbnMpIHsKICAgICAgb3B0aW9ucyA9IFV0aWxzLmRlZmF1bHRzKG9wdGlvbnMsIHsKICAgICAgICBmcmljdGlvbjogMC4zLAogICAgICAgIHJlc3RpdHV0aW9uOiAwLjMsCiAgICAgICAgY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzOiAxZTcsCiAgICAgICAgY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbjogMywKICAgICAgICBmcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzOiAxZTcsCiAgICAgICAgZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb246IDMKICAgICAgfSk7CiAgICAgIHRoaXMuaWQgPSBDb250YWN0TWF0ZXJpYWwuaWRDb3VudGVyKys7CiAgICAgIHRoaXMubWF0ZXJpYWxzID0gW20xLCBtMl07CiAgICAgIHRoaXMuZnJpY3Rpb24gPSBvcHRpb25zLmZyaWN0aW9uOwogICAgICB0aGlzLnJlc3RpdHV0aW9uID0gb3B0aW9ucy5yZXN0aXR1dGlvbjsKICAgICAgdGhpcy5jb250YWN0RXF1YXRpb25TdGlmZm5lc3MgPSBvcHRpb25zLmNvbnRhY3RFcXVhdGlvblN0aWZmbmVzczsKICAgICAgdGhpcy5jb250YWN0RXF1YXRpb25SZWxheGF0aW9uID0gb3B0aW9ucy5jb250YWN0RXF1YXRpb25SZWxheGF0aW9uOwogICAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MgPSBvcHRpb25zLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3M7CiAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb24gPSBvcHRpb25zLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uOwogICAgfQoKICB9CgogIENvbnRhY3RNYXRlcmlhbC5pZENvdW50ZXIgPSAwOwogIC8qKgogICAqIERlZmluZXMgYSBwaHlzaWNzIG1hdGVyaWFsLgogICAqIEBjbGFzcyBNYXRlcmlhbAogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10KICAgKiBAYXV0aG9yIHNjaHRlcHBlCiAgICovCgogIGNsYXNzIE1hdGVyaWFsIHsKICAgIC8vIE1hdGVyaWFsIG5hbWUuCiAgICAvLyBNYXRlcmlhbCBpZC4KICAgIC8vIEZyaWN0aW9uIGZvciB0aGlzIG1hdGVyaWFsLiBJZiBub24tbmVnYXRpdmUsIGl0IHdpbGwgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSBmcmljdGlvbiBnaXZlbiBieSBDb250YWN0TWF0ZXJpYWxzLiBJZiB0aGVyZSdzIG5vIG1hdGNoaW5nIENvbnRhY3RNYXRlcmlhbCwgdGhlIHZhbHVlIGZyb20gLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwgaW4gdGhlIFdvcmxkIHdpbGwgYmUgdXNlZC4KICAgIC8vIFJlc3RpdHV0aW9uIGZvciB0aGlzIG1hdGVyaWFsLiBJZiBub24tbmVnYXRpdmUsIGl0IHdpbGwgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSByZXN0aXR1dGlvbiBnaXZlbiBieSBDb250YWN0TWF0ZXJpYWxzLiBJZiB0aGVyZSdzIG5vIG1hdGNoaW5nIENvbnRhY3RNYXRlcmlhbCwgdGhlIHZhbHVlIGZyb20gLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwgaW4gdGhlIFdvcmxkIHdpbGwgYmUgdXNlZC4KICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkgewogICAgICBsZXQgbmFtZSA9ICcnOyAvLyBCYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmaXgKCiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHsKICAgICAgICBuYW1lID0gb3B0aW9uczsKICAgICAgICBvcHRpb25zID0ge307CiAgICAgIH0KCiAgICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICAgIHRoaXMuaWQgPSBNYXRlcmlhbC5pZENvdW50ZXIrKzsKICAgICAgdGhpcy5mcmljdGlvbiA9IHR5cGVvZiBvcHRpb25zLmZyaWN0aW9uICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuZnJpY3Rpb24gOiAtMTsKICAgICAgdGhpcy5yZXN0aXR1dGlvbiA9IHR5cGVvZiBvcHRpb25zLnJlc3RpdHV0aW9uICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMucmVzdGl0dXRpb24gOiAtMTsKICAgIH0KCiAgfQoKICBNYXRlcmlhbC5pZENvdW50ZXIgPSAwOwogIC8qKgogICAqIEEgc3ByaW5nLCBjb25uZWN0aW5nIHR3byBib2RpZXMuCiAgICoKICAgKiBAY2xhc3MgU3ByaW5nCiAgICogQGNvbnN0cnVjdG9yCiAgICogQHBhcmFtIHtCb2R5fSBib2R5QQogICAqIEBwYXJhbSB7Qm9keX0gYm9keUIKICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc3RMZW5ndGhdICAgQSBudW1iZXIgPiAwLiBEZWZhdWx0OiAxCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN0aWZmbmVzc10gICAgQSBudW1iZXIgPj0gMC4gRGVmYXVsdDogMTAwCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmRhbXBpbmddICAgICAgQSBudW1iZXIgPj0gMC4gRGVmYXVsdDogMQogICAqIEBwYXJhbSB7VmVjM30gIFtvcHRpb25zLndvcmxkQW5jaG9yQV0gV2hlcmUgdG8gaG9vayB0aGUgc3ByaW5nIHRvIGJvZHkgQSwgaW4gd29ybGQgY29vcmRpbmF0ZXMuCiAgICogQHBhcmFtIHtWZWMzfSAgW29wdGlvbnMud29ybGRBbmNob3JCXQogICAqIEBwYXJhbSB7VmVjM30gIFtvcHRpb25zLmxvY2FsQW5jaG9yQV0gV2hlcmUgdG8gaG9vayB0aGUgc3ByaW5nIHRvIGJvZHkgQSwgaW4gbG9jYWwgYm9keSBjb29yZGluYXRlcy4KICAgKiBAcGFyYW0ge1ZlYzN9ICBbb3B0aW9ucy5sb2NhbEFuY2hvckJdCiAgICovCgogIGNsYXNzIFNwcmluZyB7CiAgICAvLyBSZXN0IGxlbmd0aCBvZiB0aGUgc3ByaW5nLgogICAgLy8gU3RpZmZuZXNzIG9mIHRoZSBzcHJpbmcuCiAgICAvLyBEYW1waW5nIG9mIHRoZSBzcHJpbmcuCiAgICAvLyBGaXJzdCBjb25uZWN0ZWQgYm9keS4KICAgIC8vIFNlY29uZCBjb25uZWN0ZWQgYm9keS4KICAgIC8vIEFuY2hvciBmb3IgYm9keUEgaW4gbG9jYWwgYm9keUEgY29vcmRpbmF0ZXMuCiAgICAvLyBBbmNob3IgZm9yIGJvZHlCIGluIGxvY2FsIGJvZHlCIGNvb3JkaW5hdGVzLgogICAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zID0ge30pIHsKICAgICAgdGhpcy5yZXN0TGVuZ3RoID0gdHlwZW9mIG9wdGlvbnMucmVzdExlbmd0aCA9PT0gJ251bWJlcicgPyBvcHRpb25zLnJlc3RMZW5ndGggOiAxOwogICAgICB0aGlzLnN0aWZmbmVzcyA9IG9wdGlvbnMuc3RpZmZuZXNzIHx8IDEwMDsKICAgICAgdGhpcy5kYW1waW5nID0gb3B0aW9ucy5kYW1waW5nIHx8IDE7CiAgICAgIHRoaXMuYm9keUEgPSBib2R5QTsKICAgICAgdGhpcy5ib2R5QiA9IGJvZHlCOwogICAgICB0aGlzLmxvY2FsQW5jaG9yQSA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMubG9jYWxBbmNob3JCID0gbmV3IFZlYzMoKTsKCiAgICAgIGlmIChvcHRpb25zLmxvY2FsQW5jaG9yQSkgewogICAgICAgIHRoaXMubG9jYWxBbmNob3JBLmNvcHkob3B0aW9ucy5sb2NhbEFuY2hvckEpOwogICAgICB9CgogICAgICBpZiAob3B0aW9ucy5sb2NhbEFuY2hvckIpIHsKICAgICAgICB0aGlzLmxvY2FsQW5jaG9yQi5jb3B5KG9wdGlvbnMubG9jYWxBbmNob3JCKTsKICAgICAgfQoKICAgICAgaWYgKG9wdGlvbnMud29ybGRBbmNob3JBKSB7CiAgICAgICAgdGhpcy5zZXRXb3JsZEFuY2hvckEob3B0aW9ucy53b3JsZEFuY2hvckEpOwogICAgICB9CgogICAgICBpZiAob3B0aW9ucy53b3JsZEFuY2hvckIpIHsKICAgICAgICB0aGlzLnNldFdvcmxkQW5jaG9yQihvcHRpb25zLndvcmxkQW5jaG9yQik7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogU2V0IHRoZSBhbmNob3IgcG9pbnQgb24gYm9keSBBLCB1c2luZyB3b3JsZCBjb29yZGluYXRlcy4KICAgICAqIEBtZXRob2Qgc2V0V29ybGRBbmNob3JBCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHdvcmxkQW5jaG9yQQogICAgICovCgoKICAgIHNldFdvcmxkQW5jaG9yQSh3b3JsZEFuY2hvckEpIHsKICAgICAgdGhpcy5ib2R5QS5wb2ludFRvTG9jYWxGcmFtZSh3b3JsZEFuY2hvckEsIHRoaXMubG9jYWxBbmNob3JBKTsKICAgIH0KICAgIC8qKgogICAgICogU2V0IHRoZSBhbmNob3IgcG9pbnQgb24gYm9keSBCLCB1c2luZyB3b3JsZCBjb29yZGluYXRlcy4KICAgICAqIEBtZXRob2Qgc2V0V29ybGRBbmNob3JCCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHdvcmxkQW5jaG9yQgogICAgICovCgoKICAgIHNldFdvcmxkQW5jaG9yQih3b3JsZEFuY2hvckIpIHsKICAgICAgdGhpcy5ib2R5Qi5wb2ludFRvTG9jYWxGcmFtZSh3b3JsZEFuY2hvckIsIHRoaXMubG9jYWxBbmNob3JCKTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IHRoZSBhbmNob3IgcG9pbnQgb24gYm9keSBBLCBpbiB3b3JsZCBjb29yZGluYXRlcy4KICAgICAqIEBtZXRob2QgZ2V0V29ybGRBbmNob3JBCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHJlc3VsdCBUaGUgdmVjdG9yIHRvIHN0b3JlIHRoZSByZXN1bHQgaW4uCiAgICAgKi8KCgogICAgZ2V0V29ybGRBbmNob3JBKHJlc3VsdCkgewogICAgICB0aGlzLmJvZHlBLnBvaW50VG9Xb3JsZEZyYW1lKHRoaXMubG9jYWxBbmNob3JBLCByZXN1bHQpOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIGFuY2hvciBwb2ludCBvbiBib2R5IEIsIGluIHdvcmxkIGNvb3JkaW5hdGVzLgogICAgICogQG1ldGhvZCBnZXRXb3JsZEFuY2hvckIKICAgICAqIEBwYXJhbSB7VmVjM30gcmVzdWx0IFRoZSB2ZWN0b3IgdG8gc3RvcmUgdGhlIHJlc3VsdCBpbi4KICAgICAqLwoKCiAgICBnZXRXb3JsZEFuY2hvckIocmVzdWx0KSB7CiAgICAgIHRoaXMuYm9keUIucG9pbnRUb1dvcmxkRnJhbWUodGhpcy5sb2NhbEFuY2hvckIsIHJlc3VsdCk7CiAgICB9CiAgICAvKioKICAgICAqIEFwcGx5IHRoZSBzcHJpbmcgZm9yY2UgdG8gdGhlIGNvbm5lY3RlZCBib2RpZXMuCiAgICAgKiBAbWV0aG9kIGFwcGx5Rm9yY2UKICAgICAqLwoKCiAgICBhcHBseUZvcmNlKCkgewogICAgICBjb25zdCBrID0gdGhpcy5zdGlmZm5lc3M7CiAgICAgIGNvbnN0IGQgPSB0aGlzLmRhbXBpbmc7CiAgICAgIGNvbnN0IGwgPSB0aGlzLnJlc3RMZW5ndGg7CiAgICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTsKICAgICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCOwogICAgICBjb25zdCByID0gYXBwbHlGb3JjZV9yOwogICAgICBjb25zdCByX3VuaXQgPSBhcHBseUZvcmNlX3JfdW5pdDsKICAgICAgY29uc3QgdSA9IGFwcGx5Rm9yY2VfdTsKICAgICAgY29uc3QgZiA9IGFwcGx5Rm9yY2VfZjsKICAgICAgY29uc3QgdG1wID0gYXBwbHlGb3JjZV90bXA7CiAgICAgIGNvbnN0IHdvcmxkQW5jaG9yQSA9IGFwcGx5Rm9yY2Vfd29ybGRBbmNob3JBOwogICAgICBjb25zdCB3b3JsZEFuY2hvckIgPSBhcHBseUZvcmNlX3dvcmxkQW5jaG9yQjsKICAgICAgY29uc3QgcmkgPSBhcHBseUZvcmNlX3JpOwogICAgICBjb25zdCByaiA9IGFwcGx5Rm9yY2Vfcmo7CiAgICAgIGNvbnN0IHJpX3hfZiA9IGFwcGx5Rm9yY2VfcmlfeF9mOwogICAgICBjb25zdCByal94X2YgPSBhcHBseUZvcmNlX3JqX3hfZjsgLy8gR2V0IHdvcmxkIGFuY2hvcnMKCiAgICAgIHRoaXMuZ2V0V29ybGRBbmNob3JBKHdvcmxkQW5jaG9yQSk7CiAgICAgIHRoaXMuZ2V0V29ybGRBbmNob3JCKHdvcmxkQW5jaG9yQik7IC8vIEdldCBvZmZzZXQgcG9pbnRzCgogICAgICB3b3JsZEFuY2hvckEudnN1Yihib2R5QS5wb3NpdGlvbiwgcmkpOwogICAgICB3b3JsZEFuY2hvckIudnN1Yihib2R5Qi5wb3NpdGlvbiwgcmopOyAvLyBDb21wdXRlIGRpc3RhbmNlIHZlY3RvciBiZXR3ZWVuIHdvcmxkIGFuY2hvciBwb2ludHMKCiAgICAgIHdvcmxkQW5jaG9yQi52c3ViKHdvcmxkQW5jaG9yQSwgcik7CiAgICAgIGNvbnN0IHJsZW4gPSByLmxlbmd0aCgpOwogICAgICByX3VuaXQuY29weShyKTsKICAgICAgcl91bml0Lm5vcm1hbGl6ZSgpOyAvLyBDb21wdXRlIHJlbGF0aXZlIHZlbG9jaXR5IG9mIHRoZSBhbmNob3IgcG9pbnRzLCB1CgogICAgICBib2R5Qi52ZWxvY2l0eS52c3ViKGJvZHlBLnZlbG9jaXR5LCB1KTsgLy8gQWRkIHJvdGF0aW9uYWwgdmVsb2NpdHkKCiAgICAgIGJvZHlCLmFuZ3VsYXJWZWxvY2l0eS5jcm9zcyhyaiwgdG1wKTsKICAgICAgdS52YWRkKHRtcCwgdSk7CiAgICAgIGJvZHlBLmFuZ3VsYXJWZWxvY2l0eS5jcm9zcyhyaSwgdG1wKTsKICAgICAgdS52c3ViKHRtcCwgdSk7IC8vIEYgPSAtIGsgKiAoIHggLSBMICkgLSBEICogKCB1ICkKCiAgICAgIHJfdW5pdC5zY2FsZSgtayAqIChybGVuIC0gbCkgLSBkICogdS5kb3Qocl91bml0KSwgZik7IC8vIEFkZCBmb3JjZXMgdG8gYm9kaWVzCgogICAgICBib2R5QS5mb3JjZS52c3ViKGYsIGJvZHlBLmZvcmNlKTsKICAgICAgYm9keUIuZm9yY2UudmFkZChmLCBib2R5Qi5mb3JjZSk7IC8vIEFuZ3VsYXIgZm9yY2UKCiAgICAgIHJpLmNyb3NzKGYsIHJpX3hfZik7CiAgICAgIHJqLmNyb3NzKGYsIHJqX3hfZik7CiAgICAgIGJvZHlBLnRvcnF1ZS52c3ViKHJpX3hfZiwgYm9keUEudG9ycXVlKTsKICAgICAgYm9keUIudG9ycXVlLnZhZGQocmpfeF9mLCBib2R5Qi50b3JxdWUpOwogICAgfQoKICB9CgogIGNvbnN0IGFwcGx5Rm9yY2VfciA9IG5ldyBWZWMzKCk7CiAgY29uc3QgYXBwbHlGb3JjZV9yX3VuaXQgPSBuZXcgVmVjMygpOwogIGNvbnN0IGFwcGx5Rm9yY2VfdSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgYXBwbHlGb3JjZV9mID0gbmV3IFZlYzMoKTsKICBjb25zdCBhcHBseUZvcmNlX3dvcmxkQW5jaG9yQSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgYXBwbHlGb3JjZV93b3JsZEFuY2hvckIgPSBuZXcgVmVjMygpOwogIGNvbnN0IGFwcGx5Rm9yY2VfcmkgPSBuZXcgVmVjMygpOwogIGNvbnN0IGFwcGx5Rm9yY2VfcmogPSBuZXcgVmVjMygpOwogIGNvbnN0IGFwcGx5Rm9yY2VfcmlfeF9mID0gbmV3IFZlYzMoKTsKICBjb25zdCBhcHBseUZvcmNlX3JqX3hfZiA9IG5ldyBWZWMzKCk7CiAgY29uc3QgYXBwbHlGb3JjZV90bXAgPSBuZXcgVmVjMygpOwogIC8qKgogICAqIEBjbGFzcyBXaGVlbEluZm8KICAgKiBAY29uc3RydWN0b3IKICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdCiAgICoKICAgKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbF0KICAgKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZF0KICAgKiBAcGFyYW0ge1ZlYzN9IFtvcHRpb25zLmRpcmVjdGlvbkxvY2FsXQogICAqIEBwYXJhbSB7VmVjM30gW29wdGlvbnMuZGlyZWN0aW9uV29ybGRdCiAgICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGxlTG9jYWxdCiAgICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5heGxlV29ybGRdCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25SZXN0TGVuZ3RoPTFdCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25NYXhMZW5ndGg9Ml0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmFkaXVzPTFdCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25TdGlmZm5lc3M9MTAwXQogICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5kYW1waW5nQ29tcHJlc3Npb249MTBdCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmRhbXBpbmdSZWxheGF0aW9uPTEwXQogICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5mcmljdGlvblNsaXA9MTAuNV0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3RlZXJpbmc9MF0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucm90YXRpb249MF0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZGVsdGFSb3RhdGlvbj0wXQogICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yb2xsSW5mbHVlbmNlPTAuMDFdCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFN1c3BlbnNpb25Gb3JjZV0KICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmlzRnJvbnRXaGVlbD10cnVlXQogICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb249MV0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHk9MF0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3VzcGVuc2lvbkZvcmNlPTBdCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNraWRJbmZvPTBdCiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN1c3BlbnNpb25MZW5ndGg9MF0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4U3VzcGVuc2lvblRyYXZlbD0xXQogICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudXNlQ3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZD1mYWxzZV0KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZD0tMC4xXQogICAqLwoKICBjbGFzcyBXaGVlbEluZm8gewogICAgLy8gTWF4IHRyYXZlbCBkaXN0YW5jZSBvZiB0aGUgc3VzcGVuc2lvbiwgaW4gbWV0ZXJzLgogICAgLy8gU3BlZWQgdG8gYXBwbHkgdG8gdGhlIHdoZWVsIHJvdGF0aW9uIHdoZW4gdGhlIHdoZWVsIGlzIHNsaWRpbmcuCiAgICAvLyBJZiB0aGUgY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZCBzaG91bGQgYmUgdXNlZC4KICAgIC8vIENvbm5lY3Rpb24gcG9pbnQsIGRlZmluZWQgbG9jYWxseSBpbiB0aGUgY2hhc3NpcyBib2R5IGZyYW1lLgogICAgLy8gUm90YXRpb24gdmFsdWUsIGluIHJhZGlhbnMuCiAgICAvLyBUaGUgcmVzdWx0IGZyb20gcmF5Y2FzdGluZy4KICAgIC8vIFdoZWVsIHdvcmxkIHRyYW5zZm9ybS4KICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkgewogICAgICBvcHRpb25zID0gVXRpbHMuZGVmYXVsdHMob3B0aW9ucywgewogICAgICAgIGNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbDogbmV3IFZlYzMoKSwKICAgICAgICBjaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGQ6IG5ldyBWZWMzKCksCiAgICAgICAgZGlyZWN0aW9uTG9jYWw6IG5ldyBWZWMzKCksCiAgICAgICAgZGlyZWN0aW9uV29ybGQ6IG5ldyBWZWMzKCksCiAgICAgICAgYXhsZUxvY2FsOiBuZXcgVmVjMygpLAogICAgICAgIGF4bGVXb3JsZDogbmV3IFZlYzMoKSwKICAgICAgICBzdXNwZW5zaW9uUmVzdExlbmd0aDogMSwKICAgICAgICBzdXNwZW5zaW9uTWF4TGVuZ3RoOiAyLAogICAgICAgIHJhZGl1czogMSwKICAgICAgICBzdXNwZW5zaW9uU3RpZmZuZXNzOiAxMDAsCiAgICAgICAgZGFtcGluZ0NvbXByZXNzaW9uOiAxMCwKICAgICAgICBkYW1waW5nUmVsYXhhdGlvbjogMTAsCiAgICAgICAgZnJpY3Rpb25TbGlwOiAxMC41LAogICAgICAgIGZvcndhcmRBY2NlbGVyYXRpb246IDEsCiAgICAgICAgc2lkZUFjY2VsZXJhdGlvbjogMSwKICAgICAgICBzdGVlcmluZzogMCwKICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICBkZWx0YVJvdGF0aW9uOiAwLAogICAgICAgIHJvbGxJbmZsdWVuY2U6IDAuMDEsCiAgICAgICAgbWF4U3VzcGVuc2lvbkZvcmNlOiBOdW1iZXIuTUFYX1ZBTFVFLAogICAgICAgIGlzRnJvbnRXaGVlbDogdHJ1ZSwKICAgICAgICBjbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb246IDEsCiAgICAgICAgc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHk6IDAsCiAgICAgICAgc3VzcGVuc2lvbkZvcmNlOiAwLAogICAgICAgIHNsaXBJbmZvOiAwLAogICAgICAgIHNraWRJbmZvOiAwLAogICAgICAgIHN1c3BlbnNpb25MZW5ndGg6IDAsCiAgICAgICAgbWF4U3VzcGVuc2lvblRyYXZlbDogMSwKICAgICAgICB1c2VDdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkOiBmYWxzZSwKICAgICAgICBjdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkOiAtMC4xCiAgICAgIH0pOwogICAgICB0aGlzLm1heFN1c3BlbnNpb25UcmF2ZWwgPSBvcHRpb25zLm1heFN1c3BlbnNpb25UcmF2ZWw7CiAgICAgIHRoaXMuY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZCA9IG9wdGlvbnMuY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZDsKICAgICAgdGhpcy51c2VDdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkID0gb3B0aW9ucy51c2VDdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkOwogICAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5jaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWwgPSBvcHRpb25zLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbC5jbG9uZSgpOwogICAgICB0aGlzLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZCA9IG9wdGlvbnMuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkLmNsb25lKCk7CiAgICAgIHRoaXMuZGlyZWN0aW9uTG9jYWwgPSBvcHRpb25zLmRpcmVjdGlvbkxvY2FsLmNsb25lKCk7CiAgICAgIHRoaXMuZGlyZWN0aW9uV29ybGQgPSBvcHRpb25zLmRpcmVjdGlvbldvcmxkLmNsb25lKCk7CiAgICAgIHRoaXMuYXhsZUxvY2FsID0gb3B0aW9ucy5heGxlTG9jYWwuY2xvbmUoKTsKICAgICAgdGhpcy5heGxlV29ybGQgPSBvcHRpb25zLmF4bGVXb3JsZC5jbG9uZSgpOwogICAgICB0aGlzLnN1c3BlbnNpb25SZXN0TGVuZ3RoID0gb3B0aW9ucy5zdXNwZW5zaW9uUmVzdExlbmd0aDsKICAgICAgdGhpcy5zdXNwZW5zaW9uTWF4TGVuZ3RoID0gb3B0aW9ucy5zdXNwZW5zaW9uTWF4TGVuZ3RoOwogICAgICB0aGlzLnJhZGl1cyA9IG9wdGlvbnMucmFkaXVzOwogICAgICB0aGlzLnN1c3BlbnNpb25TdGlmZm5lc3MgPSBvcHRpb25zLnN1c3BlbnNpb25TdGlmZm5lc3M7CiAgICAgIHRoaXMuZGFtcGluZ0NvbXByZXNzaW9uID0gb3B0aW9ucy5kYW1waW5nQ29tcHJlc3Npb247CiAgICAgIHRoaXMuZGFtcGluZ1JlbGF4YXRpb24gPSBvcHRpb25zLmRhbXBpbmdSZWxheGF0aW9uOwogICAgICB0aGlzLmZyaWN0aW9uU2xpcCA9IG9wdGlvbnMuZnJpY3Rpb25TbGlwOwogICAgICB0aGlzLmZvcndhcmRBY2NlbGVyYXRpb24gPSBvcHRpb25zLmZvcndhcmRBY2NlbGVyYXRpb247CiAgICAgIHRoaXMuc2lkZUFjY2VsZXJhdGlvbiA9IG9wdGlvbnMuc2lkZUFjY2VsZXJhdGlvbjsKICAgICAgdGhpcy5zdGVlcmluZyA9IDA7CiAgICAgIHRoaXMucm90YXRpb24gPSAwOwogICAgICB0aGlzLmRlbHRhUm90YXRpb24gPSAwOwogICAgICB0aGlzLnJvbGxJbmZsdWVuY2UgPSBvcHRpb25zLnJvbGxJbmZsdWVuY2U7CiAgICAgIHRoaXMubWF4U3VzcGVuc2lvbkZvcmNlID0gb3B0aW9ucy5tYXhTdXNwZW5zaW9uRm9yY2U7CiAgICAgIHRoaXMuZW5naW5lRm9yY2UgPSAwOwogICAgICB0aGlzLmJyYWtlID0gMDsKICAgICAgdGhpcy5pc0Zyb250V2hlZWwgPSBvcHRpb25zLmlzRnJvbnRXaGVlbDsKICAgICAgdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxOwogICAgICB0aGlzLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5ID0gMDsKICAgICAgdGhpcy5zdXNwZW5zaW9uRm9yY2UgPSAwOwogICAgICB0aGlzLnNsaXBJbmZvID0gMDsKICAgICAgdGhpcy5za2lkSW5mbyA9IDA7CiAgICAgIHRoaXMuc3VzcGVuc2lvbkxlbmd0aCA9IDA7CiAgICAgIHRoaXMuc2lkZUltcHVsc2UgPSAwOwogICAgICB0aGlzLmZvcndhcmRJbXB1bHNlID0gMDsKICAgICAgdGhpcy5yYXljYXN0UmVzdWx0ID0gbmV3IFJheWNhc3RSZXN1bHQoKTsKICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTsKICAgICAgdGhpcy5pc0luQ29udGFjdCA9IGZhbHNlOwogICAgfQoKICAgIHVwZGF0ZVdoZWVsKGNoYXNzaXMpIHsKICAgICAgY29uc3QgcmF5Y2FzdFJlc3VsdCA9IHRoaXMucmF5Y2FzdFJlc3VsdDsKCiAgICAgIGlmICh0aGlzLmlzSW5Db250YWN0KSB7CiAgICAgICAgY29uc3QgcHJvamVjdCA9IHJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuZG90KHJheWNhc3RSZXN1bHQuZGlyZWN0aW9uV29ybGQpOwogICAgICAgIHJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZC52c3ViKGNoYXNzaXMucG9zaXRpb24sIHJlbHBvcyk7CiAgICAgICAgY2hhc3Npcy5nZXRWZWxvY2l0eUF0V29ybGRQb2ludChyZWxwb3MsIGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50KTsKICAgICAgICBjb25zdCBwcm9qVmVsID0gcmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZC5kb3QoY2hhc3Npc192ZWxvY2l0eV9hdF9jb250YWN0UG9pbnQpOwoKICAgICAgICBpZiAocHJvamVjdCA+PSAtMC4xKSB7CiAgICAgICAgICB0aGlzLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5ID0gMC4wOwogICAgICAgICAgdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxLjAgLyAwLjE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnN0IGludiA9IC0xIC8gcHJvamVjdDsKICAgICAgICAgIHRoaXMuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSBwcm9qVmVsICogaW52OwogICAgICAgICAgdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSBpbnY7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIE5vdCBpbiBjb250YWN0IDogcG9zaXRpb24gd2hlZWwgaW4gYSBuaWNlIChyZXN0IGxlbmd0aCkgcG9zaXRpb24KICAgICAgICByYXljYXN0UmVzdWx0LnN1c3BlbnNpb25MZW5ndGggPSB0aGlzLnN1c3BlbnNpb25SZXN0TGVuZ3RoOwogICAgICAgIHRoaXMuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSAwLjA7CiAgICAgICAgcmF5Y2FzdFJlc3VsdC5kaXJlY3Rpb25Xb3JsZC5zY2FsZSgtMSwgcmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZCk7CiAgICAgICAgdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxLjA7CiAgICAgIH0KICAgIH0KCiAgfQoKICBjb25zdCBjaGFzc2lzX3ZlbG9jaXR5X2F0X2NvbnRhY3RQb2ludCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgcmVscG9zID0gbmV3IFZlYzMoKTsKICAvKioKICAgKiBWZWhpY2xlIGhlbHBlciBjbGFzcyB0aGF0IGNhc3RzIHJheXMgZnJvbSB0aGUgd2hlZWwgcG9zaXRpb25zIHRvd2FyZHMgdGhlIGdyb3VuZCBhbmQgYXBwbGllcyBmb3JjZXMuCiAgICogQGNsYXNzIFJheWNhc3RWZWhpY2xlCiAgICogQGNvbnN0cnVjdG9yCiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXQogICAqIEBwYXJhbSB7Qm9keX0gW29wdGlvbnMuY2hhc3Npc0JvZHldIFRoZSBjYXIgY2hhc3NpcyBib2R5LgogICAqIEBwYXJhbSB7aW50ZWdlcn0gW29wdGlvbnMuaW5kZXhSaWdodEF4aXNdIEF4aXMgdG8gdXNlIGZvciByaWdodC4geD0wLCB5PTEsIHo9MgogICAqIEBwYXJhbSB7aW50ZWdlcn0gW29wdGlvbnMuaW5kZXhMZWZ0QXhpc10KICAgKiBAcGFyYW0ge2ludGVnZXJ9IFtvcHRpb25zLmluZGV4VXBBeGlzXQogICAqLwoKICBjbGFzcyBSYXljYXN0VmVoaWNsZSB7CiAgICAvLyBXaWxsIGJlIHNldCB0byB0cnVlIGlmIHRoZSBjYXIgaXMgc2xpZGluZy4KICAgIC8vIEluZGV4IG9mIHRoZSByaWdodCBheGlzLCAwPXgsIDE9eSwgMj16CiAgICAvLyBJbmRleCBvZiB0aGUgZm9yd2FyZCBheGlzLCAwPXgsIDE9eSwgMj16CiAgICAvLyBJbmRleCBvZiB0aGUgdXAgYXhpcywgMD14LCAxPXksIDI9egogICAgY29uc3RydWN0b3Iob3B0aW9ucykgewogICAgICB0aGlzLmNoYXNzaXNCb2R5ID0gb3B0aW9ucy5jaGFzc2lzQm9keTsKICAgICAgdGhpcy53aGVlbEluZm9zID0gW107CiAgICAgIHRoaXMuc2xpZGluZyA9IGZhbHNlOwogICAgICB0aGlzLndvcmxkID0gbnVsbDsKICAgICAgdGhpcy5pbmRleFJpZ2h0QXhpcyA9IHR5cGVvZiBvcHRpb25zLmluZGV4UmlnaHRBeGlzICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuaW5kZXhSaWdodEF4aXMgOiAyOwogICAgICB0aGlzLmluZGV4Rm9yd2FyZEF4aXMgPSB0eXBlb2Ygb3B0aW9ucy5pbmRleEZvcndhcmRBeGlzICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuaW5kZXhGb3J3YXJkQXhpcyA6IDA7CiAgICAgIHRoaXMuaW5kZXhVcEF4aXMgPSB0eXBlb2Ygb3B0aW9ucy5pbmRleFVwQXhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmluZGV4VXBBeGlzIDogMTsKICAgICAgdGhpcy5jb25zdHJhaW50cyA9IFtdOwoKICAgICAgdGhpcy5wcmVTdGVwQ2FsbGJhY2sgPSAoKSA9PiB7fTsKCiAgICAgIHRoaXMuY3VycmVudFZlaGljbGVTcGVlZEttSG91ciA9IDA7CiAgICB9CiAgICAvKioKICAgICAqIEFkZCBhIHdoZWVsLiBGb3IgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9wdGlvbnMsIHNlZSBXaGVlbEluZm8uCiAgICAgKiBAbWV0aG9kIGFkZFdoZWVsCiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdCiAgICAgKi8KCgogICAgYWRkV2hlZWwob3B0aW9ucyA9IHt9KSB7CiAgICAgIGNvbnN0IGluZm8gPSBuZXcgV2hlZWxJbmZvKG9wdGlvbnMpOwogICAgICBjb25zdCBpbmRleCA9IHRoaXMud2hlZWxJbmZvcy5sZW5ndGg7CiAgICAgIHRoaXMud2hlZWxJbmZvcy5wdXNoKGluZm8pOwogICAgICByZXR1cm4gaW5kZXg7CiAgICB9CiAgICAvKioKICAgICAqIFNldCB0aGUgc3RlZXJpbmcgdmFsdWUgb2YgYSB3aGVlbC4KICAgICAqIEBtZXRob2Qgc2V0U3RlZXJpbmdWYWx1ZQogICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAgICAgKiBAcGFyYW0ge2ludGVnZXJ9IHdoZWVsSW5kZXgKICAgICAqLwoKCiAgICBzZXRTdGVlcmluZ1ZhbHVlKHZhbHVlLCB3aGVlbEluZGV4KSB7CiAgICAgIGNvbnN0IHdoZWVsID0gdGhpcy53aGVlbEluZm9zW3doZWVsSW5kZXhdOwogICAgICB3aGVlbC5zdGVlcmluZyA9IHZhbHVlOwogICAgfQogICAgLyoqCiAgICAgKiBTZXQgdGhlIHdoZWVsIGZvcmNlIHRvIGFwcGx5IG9uIG9uZSBvZiB0aGUgd2hlZWxzIGVhY2ggdGltZSBzdGVwCiAgICAgKiBAbWV0aG9kIGFwcGx5RW5naW5lRm9yY2UKICAgICAqIEBwYXJhbSAge251bWJlcn0gdmFsdWUKICAgICAqIEBwYXJhbSAge2ludGVnZXJ9IHdoZWVsSW5kZXgKICAgICAqLwoKCiAgICBhcHBseUVuZ2luZUZvcmNlKHZhbHVlLCB3aGVlbEluZGV4KSB7CiAgICAgIHRoaXMud2hlZWxJbmZvc1t3aGVlbEluZGV4XS5lbmdpbmVGb3JjZSA9IHZhbHVlOwogICAgfQogICAgLyoqCiAgICAgKiBTZXQgdGhlIGJyYWtpbmcgZm9yY2Ugb2YgYSB3aGVlbAogICAgICogQG1ldGhvZCBzZXRCcmFrZQogICAgICogQHBhcmFtIHtudW1iZXJ9IGJyYWtlCiAgICAgKiBAcGFyYW0ge2ludGVnZXJ9IHdoZWVsSW5kZXgKICAgICAqLwoKCiAgICBzZXRCcmFrZShicmFrZSwgd2hlZWxJbmRleCkgewogICAgICB0aGlzLndoZWVsSW5mb3Nbd2hlZWxJbmRleF0uYnJha2UgPSBicmFrZTsKICAgIH0KICAgIC8qKgogICAgICogQWRkIHRoZSB2ZWhpY2xlIGluY2x1ZGluZyBpdHMgY29uc3RyYWludHMgdG8gdGhlIHdvcmxkLgogICAgICogQG1ldGhvZCBhZGRUb1dvcmxkCiAgICAgKiBAcGFyYW0ge1dvcmxkfSB3b3JsZAogICAgICovCgoKICAgIGFkZFRvV29ybGQod29ybGQpIHsKICAgICAgdGhpcy5jb25zdHJhaW50czsKICAgICAgd29ybGQuYWRkQm9keSh0aGlzLmNoYXNzaXNCb2R5KTsKICAgICAgY29uc3QgdGhhdCA9IHRoaXM7CgogICAgICB0aGlzLnByZVN0ZXBDYWxsYmFjayA9ICgpID0+IHsKICAgICAgICB0aGF0LnVwZGF0ZVZlaGljbGUod29ybGQuZHQpOwogICAgICB9OwoKICAgICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHRoaXMucHJlU3RlcENhbGxiYWNrKTsKICAgICAgdGhpcy53b3JsZCA9IHdvcmxkOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgb25lIG9mIHRoZSB3aGVlbCBheGxlcywgd29ybGQtb3JpZW50ZWQuCiAgICAgKiBAcHJpdmF0ZQogICAgICogQG1ldGhvZCBnZXRWZWhpY2xlQXhpc1dvcmxkCiAgICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBheGlzSW5kZXgKICAgICAqIEBwYXJhbSAge1ZlYzN9IHJlc3VsdAogICAgICovCgoKICAgIGdldFZlaGljbGVBeGlzV29ybGQoYXhpc0luZGV4LCByZXN1bHQpIHsKICAgICAgcmVzdWx0LnNldChheGlzSW5kZXggPT09IDAgPyAxIDogMCwgYXhpc0luZGV4ID09PSAxID8gMSA6IDAsIGF4aXNJbmRleCA9PT0gMiA/IDEgOiAwKTsKICAgICAgdGhpcy5jaGFzc2lzQm9keS52ZWN0b3JUb1dvcmxkRnJhbWUocmVzdWx0LCByZXN1bHQpOwogICAgfQoKICAgIHVwZGF0ZVZlaGljbGUodGltZVN0ZXApIHsKICAgICAgY29uc3Qgd2hlZWxJbmZvcyA9IHRoaXMud2hlZWxJbmZvczsKICAgICAgY29uc3QgbnVtV2hlZWxzID0gd2hlZWxJbmZvcy5sZW5ndGg7CiAgICAgIGNvbnN0IGNoYXNzaXNCb2R5ID0gdGhpcy5jaGFzc2lzQm9keTsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHsKICAgICAgICB0aGlzLnVwZGF0ZVdoZWVsVHJhbnNmb3JtKGkpOwogICAgICB9CgogICAgICB0aGlzLmN1cnJlbnRWZWhpY2xlU3BlZWRLbUhvdXIgPSAzLjYgKiBjaGFzc2lzQm9keS52ZWxvY2l0eS5sZW5ndGgoKTsKICAgICAgY29uc3QgZm9yd2FyZFdvcmxkID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy5nZXRWZWhpY2xlQXhpc1dvcmxkKHRoaXMuaW5kZXhGb3J3YXJkQXhpcywgZm9yd2FyZFdvcmxkKTsKCiAgICAgIGlmIChmb3J3YXJkV29ybGQuZG90KGNoYXNzaXNCb2R5LnZlbG9jaXR5KSA8IDApIHsKICAgICAgICB0aGlzLmN1cnJlbnRWZWhpY2xlU3BlZWRLbUhvdXIgKj0gLTE7CiAgICAgIH0gLy8gc2ltdWxhdGUgc3VzcGVuc2lvbgoKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHsKICAgICAgICB0aGlzLmNhc3RSYXkod2hlZWxJbmZvc1tpXSk7CiAgICAgIH0KCiAgICAgIHRoaXMudXBkYXRlU3VzcGVuc2lvbih0aW1lU3RlcCk7CiAgICAgIGNvbnN0IGltcHVsc2UgPSBuZXcgVmVjMygpOwogICAgICBjb25zdCByZWxwb3MgPSBuZXcgVmVjMygpOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykgewogICAgICAgIC8vYXBwbHkgc3VzcGVuc2lvbiBmb3JjZQogICAgICAgIGNvbnN0IHdoZWVsID0gd2hlZWxJbmZvc1tpXTsKICAgICAgICBsZXQgc3VzcGVuc2lvbkZvcmNlID0gd2hlZWwuc3VzcGVuc2lvbkZvcmNlOwoKICAgICAgICBpZiAoc3VzcGVuc2lvbkZvcmNlID4gd2hlZWwubWF4U3VzcGVuc2lvbkZvcmNlKSB7CiAgICAgICAgICBzdXNwZW5zaW9uRm9yY2UgPSB3aGVlbC5tYXhTdXNwZW5zaW9uRm9yY2U7CiAgICAgICAgfQoKICAgICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkLnNjYWxlKHN1c3BlbnNpb25Gb3JjZSAqIHRpbWVTdGVwLCBpbXB1bHNlKTsKICAgICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQudnN1YihjaGFzc2lzQm9keS5wb3NpdGlvbiwgcmVscG9zKTsKICAgICAgICBjaGFzc2lzQm9keS5hcHBseUltcHVsc2UoaW1wdWxzZSwgcmVscG9zKTsKICAgICAgfQoKICAgICAgdGhpcy51cGRhdGVGcmljdGlvbih0aW1lU3RlcCk7CiAgICAgIGNvbnN0IGhpdE5vcm1hbFdvcmxkU2NhbGVkV2l0aFByb2ogPSBuZXcgVmVjMygpOwogICAgICBjb25zdCBmd2QgPSBuZXcgVmVjMygpOwogICAgICBjb25zdCB2ZWwgPSBuZXcgVmVjMygpOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykgewogICAgICAgIGNvbnN0IHdoZWVsID0gd2hlZWxJbmZvc1tpXTsgLy9jb25zdCByZWxwb3MgPSBuZXcgVmVjMygpOwogICAgICAgIC8vd2hlZWwuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkLnZzdWIoY2hhc3Npc0JvZHkucG9zaXRpb24sIHJlbHBvcyk7CgogICAgICAgIGNoYXNzaXNCb2R5LmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHdoZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZCwgdmVsKTsgLy8gSGFjayB0byBnZXQgdGhlIHJvdGF0aW9uIGluIHRoZSBjb3JyZWN0IGRpcmVjdGlvbgoKICAgICAgICBsZXQgbSA9IDE7CgogICAgICAgIHN3aXRjaCAodGhpcy5pbmRleFVwQXhpcykgewogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBtID0gLTE7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgaWYgKHdoZWVsLmlzSW5Db250YWN0KSB7CiAgICAgICAgICB0aGlzLmdldFZlaGljbGVBeGlzV29ybGQodGhpcy5pbmRleEZvcndhcmRBeGlzLCBmd2QpOwogICAgICAgICAgY29uc3QgcHJvaiA9IGZ3ZC5kb3Qod2hlZWwucmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZCk7CiAgICAgICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkLnNjYWxlKHByb2osIGhpdE5vcm1hbFdvcmxkU2NhbGVkV2l0aFByb2opOwogICAgICAgICAgZndkLnZzdWIoaGl0Tm9ybWFsV29ybGRTY2FsZWRXaXRoUHJvaiwgZndkKTsKICAgICAgICAgIGNvbnN0IHByb2oyID0gZndkLmRvdCh2ZWwpOwogICAgICAgICAgd2hlZWwuZGVsdGFSb3RhdGlvbiA9IG0gKiBwcm9qMiAqIHRpbWVTdGVwIC8gd2hlZWwucmFkaXVzOwogICAgICAgIH0KCiAgICAgICAgaWYgKCh3aGVlbC5zbGlkaW5nIHx8ICF3aGVlbC5pc0luQ29udGFjdCkgJiYgd2hlZWwuZW5naW5lRm9yY2UgIT09IDAgJiYgd2hlZWwudXNlQ3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZCkgewogICAgICAgICAgLy8gQXBwbHkgY3VzdG9tIHJvdGF0aW9uIHdoZW4gYWNjZWxlcmF0aW5nIGFuZCBzbGlkaW5nCiAgICAgICAgICB3aGVlbC5kZWx0YVJvdGF0aW9uID0gKHdoZWVsLmVuZ2luZUZvcmNlID4gMCA/IDEgOiAtMSkgKiB3aGVlbC5jdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkICogdGltZVN0ZXA7CiAgICAgICAgfSAvLyBMb2NrIHdoZWVscwoKCiAgICAgICAgaWYgKE1hdGguYWJzKHdoZWVsLmJyYWtlKSA+IE1hdGguYWJzKHdoZWVsLmVuZ2luZUZvcmNlKSkgewogICAgICAgICAgd2hlZWwuZGVsdGFSb3RhdGlvbiA9IDA7CiAgICAgICAgfQoKICAgICAgICB3aGVlbC5yb3RhdGlvbiArPSB3aGVlbC5kZWx0YVJvdGF0aW9uOyAvLyBVc2UgdGhlIG9sZCB2YWx1ZQoKICAgICAgICB3aGVlbC5kZWx0YVJvdGF0aW9uICo9IDAuOTk7IC8vIGRhbXBpbmcgb2Ygcm90YXRpb24gd2hlbiBub3QgaW4gY29udGFjdAogICAgICB9CiAgICB9CgogICAgdXBkYXRlU3VzcGVuc2lvbihkZWx0YVRpbWUpIHsKICAgICAgY29uc3QgY2hhc3Npc0JvZHkgPSB0aGlzLmNoYXNzaXNCb2R5OwogICAgICBjb25zdCBjaGFzc2lzTWFzcyA9IGNoYXNzaXNCb2R5Lm1hc3M7CiAgICAgIGNvbnN0IHdoZWVsSW5mb3MgPSB0aGlzLndoZWVsSW5mb3M7CiAgICAgIGNvbnN0IG51bVdoZWVscyA9IHdoZWVsSW5mb3MubGVuZ3RoOwoKICAgICAgZm9yIChsZXQgd19pdCA9IDA7IHdfaXQgPCBudW1XaGVlbHM7IHdfaXQrKykgewogICAgICAgIGNvbnN0IHdoZWVsID0gd2hlZWxJbmZvc1t3X2l0XTsKCiAgICAgICAgaWYgKHdoZWVsLmlzSW5Db250YWN0KSB7CiAgICAgICAgICBsZXQgZm9yY2U7IC8vIFNwcmluZwoKICAgICAgICAgIGNvbnN0IHN1c3BfbGVuZ3RoID0gd2hlZWwuc3VzcGVuc2lvblJlc3RMZW5ndGg7CiAgICAgICAgICBjb25zdCBjdXJyZW50X2xlbmd0aCA9IHdoZWVsLnN1c3BlbnNpb25MZW5ndGg7CiAgICAgICAgICBjb25zdCBsZW5ndGhfZGlmZiA9IHN1c3BfbGVuZ3RoIC0gY3VycmVudF9sZW5ndGg7CiAgICAgICAgICBmb3JjZSA9IHdoZWVsLnN1c3BlbnNpb25TdGlmZm5lc3MgKiBsZW5ndGhfZGlmZiAqIHdoZWVsLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbjsgLy8gRGFtcGVyCgogICAgICAgICAgY29uc3QgcHJvamVjdGVkX3JlbF92ZWwgPSB3aGVlbC5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eTsKICAgICAgICAgIGxldCBzdXNwX2RhbXBpbmc7CgogICAgICAgICAgaWYgKHByb2plY3RlZF9yZWxfdmVsIDwgMCkgewogICAgICAgICAgICBzdXNwX2RhbXBpbmcgPSB3aGVlbC5kYW1waW5nQ29tcHJlc3Npb247CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzdXNwX2RhbXBpbmcgPSB3aGVlbC5kYW1waW5nUmVsYXhhdGlvbjsKICAgICAgICAgIH0KCiAgICAgICAgICBmb3JjZSAtPSBzdXNwX2RhbXBpbmcgKiBwcm9qZWN0ZWRfcmVsX3ZlbDsKICAgICAgICAgIHdoZWVsLnN1c3BlbnNpb25Gb3JjZSA9IGZvcmNlICogY2hhc3Npc01hc3M7CgogICAgICAgICAgaWYgKHdoZWVsLnN1c3BlbnNpb25Gb3JjZSA8IDApIHsKICAgICAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkZvcmNlID0gMDsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkZvcmNlID0gMDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogUmVtb3ZlIHRoZSB2ZWhpY2xlIGluY2x1ZGluZyBpdHMgY29uc3RyYWludHMgZnJvbSB0aGUgd29ybGQuCiAgICAgKiBAbWV0aG9kIHJlbW92ZUZyb21Xb3JsZAogICAgICogQHBhcmFtIHtXb3JsZH0gd29ybGQKICAgICAqLwoKCiAgICByZW1vdmVGcm9tV29ybGQod29ybGQpIHsKICAgICAgdGhpcy5jb25zdHJhaW50czsKICAgICAgd29ybGQucmVtb3ZlQm9keSh0aGlzLmNoYXNzaXNCb2R5KTsKICAgICAgd29ybGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHRoaXMucHJlU3RlcENhbGxiYWNrKTsKICAgICAgdGhpcy53b3JsZCA9IG51bGw7CiAgICB9CgogICAgY2FzdFJheSh3aGVlbCkgewogICAgICBjb25zdCByYXl2ZWN0b3IgPSBjYXN0UmF5X3JheXZlY3RvcjsKICAgICAgY29uc3QgdGFyZ2V0ID0gY2FzdFJheV90YXJnZXQ7CiAgICAgIHRoaXMudXBkYXRlV2hlZWxUcmFuc2Zvcm1Xb3JsZCh3aGVlbCk7CiAgICAgIGNvbnN0IGNoYXNzaXNCb2R5ID0gdGhpcy5jaGFzc2lzQm9keTsKICAgICAgbGV0IGRlcHRoID0gLTE7CiAgICAgIGNvbnN0IHJheWxlbiA9IHdoZWVsLnN1c3BlbnNpb25SZXN0TGVuZ3RoICsgd2hlZWwucmFkaXVzOwogICAgICB3aGVlbC5kaXJlY3Rpb25Xb3JsZC5zY2FsZShyYXlsZW4sIHJheXZlY3Rvcik7CiAgICAgIGNvbnN0IHNvdXJjZSA9IHdoZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZDsKICAgICAgc291cmNlLnZhZGQocmF5dmVjdG9yLCB0YXJnZXQpOwogICAgICBjb25zdCByYXljYXN0UmVzdWx0ID0gd2hlZWwucmF5Y2FzdFJlc3VsdDsKICAgICAgcmF5Y2FzdFJlc3VsdC5yZXNldCgpOyAvLyBUdXJuIG9mZiByYXkgY29sbGlzaW9uIHdpdGggdGhlIGNoYXNzaXMgdGVtcG9yYXJpbHkKCiAgICAgIGNvbnN0IG9sZFN0YXRlID0gY2hhc3Npc0JvZHkuY29sbGlzaW9uUmVzcG9uc2U7CiAgICAgIGNoYXNzaXNCb2R5LmNvbGxpc2lvblJlc3BvbnNlID0gZmFsc2U7IC8vIENhc3QgcmF5IGFnYWluc3Qgd29ybGQKCiAgICAgIHRoaXMud29ybGQucmF5VGVzdChzb3VyY2UsIHRhcmdldCwgcmF5Y2FzdFJlc3VsdCk7CiAgICAgIGNoYXNzaXNCb2R5LmNvbGxpc2lvblJlc3BvbnNlID0gb2xkU3RhdGU7CiAgICAgIGNvbnN0IG9iamVjdCA9IHJheWNhc3RSZXN1bHQuYm9keTsKICAgICAgd2hlZWwucmF5Y2FzdFJlc3VsdC5ncm91bmRPYmplY3QgPSAwOwoKICAgICAgaWYgKG9iamVjdCkgewogICAgICAgIGRlcHRoID0gcmF5Y2FzdFJlc3VsdC5kaXN0YW5jZTsKICAgICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkID0gcmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZDsKICAgICAgICB3aGVlbC5pc0luQ29udGFjdCA9IHRydWU7CiAgICAgICAgY29uc3QgaGl0RGlzdGFuY2UgPSByYXljYXN0UmVzdWx0LmRpc3RhbmNlOwogICAgICAgIHdoZWVsLnN1c3BlbnNpb25MZW5ndGggPSBoaXREaXN0YW5jZSAtIHdoZWVsLnJhZGl1czsgLy8gY2xhbXAgb24gbWF4IHN1c3BlbnNpb24gdHJhdmVsCgogICAgICAgIGNvbnN0IG1pblN1c3BlbnNpb25MZW5ndGggPSB3aGVlbC5zdXNwZW5zaW9uUmVzdExlbmd0aCAtIHdoZWVsLm1heFN1c3BlbnNpb25UcmF2ZWw7CiAgICAgICAgY29uc3QgbWF4U3VzcGVuc2lvbkxlbmd0aCA9IHdoZWVsLnN1c3BlbnNpb25SZXN0TGVuZ3RoICsgd2hlZWwubWF4U3VzcGVuc2lvblRyYXZlbDsKCiAgICAgICAgaWYgKHdoZWVsLnN1c3BlbnNpb25MZW5ndGggPCBtaW5TdXNwZW5zaW9uTGVuZ3RoKSB7CiAgICAgICAgICB3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoID0gbWluU3VzcGVuc2lvbkxlbmd0aDsKICAgICAgICB9CgogICAgICAgIGlmICh3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoID4gbWF4U3VzcGVuc2lvbkxlbmd0aCkgewogICAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkxlbmd0aCA9IG1heFN1c3BlbnNpb25MZW5ndGg7CiAgICAgICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LnJlc2V0KCk7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBkZW5vbWluYXRvciA9IHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuZG90KHdoZWVsLmRpcmVjdGlvbldvcmxkKTsKICAgICAgICBjb25zdCBjaGFzc2lzX3ZlbG9jaXR5X2F0X2NvbnRhY3RQb2ludCA9IG5ldyBWZWMzKCk7CiAgICAgICAgY2hhc3Npc0JvZHkuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQod2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLCBjaGFzc2lzX3ZlbG9jaXR5X2F0X2NvbnRhY3RQb2ludCk7CiAgICAgICAgY29uc3QgcHJvalZlbCA9IHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuZG90KGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50KTsKCiAgICAgICAgaWYgKGRlbm9taW5hdG9yID49IC0wLjEpIHsKICAgICAgICAgIHdoZWVsLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5ID0gMDsKICAgICAgICAgIHdoZWVsLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiA9IDEgLyAwLjE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnN0IGludiA9IC0xIC8gZGVub21pbmF0b3I7CiAgICAgICAgICB3aGVlbC5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IHByb2pWZWwgKiBpbnY7CiAgICAgICAgICB3aGVlbC5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSBpbnY7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vcHV0IHdoZWVsIGluZm8gYXMgaW4gcmVzdCBwb3NpdGlvbgogICAgICAgIHdoZWVsLnN1c3BlbnNpb25MZW5ndGggPSB3aGVlbC5zdXNwZW5zaW9uUmVzdExlbmd0aCArIDAgKiB3aGVlbC5tYXhTdXNwZW5zaW9uVHJhdmVsOwogICAgICAgIHdoZWVsLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5ID0gMC4wOwogICAgICAgIHdoZWVsLmRpcmVjdGlvbldvcmxkLnNjYWxlKC0xLCB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkKTsKICAgICAgICB3aGVlbC5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxLjA7CiAgICAgIH0KCiAgICAgIHJldHVybiBkZXB0aDsKICAgIH0KCiAgICB1cGRhdGVXaGVlbFRyYW5zZm9ybVdvcmxkKHdoZWVsKSB7CiAgICAgIHdoZWVsLmlzSW5Db250YWN0ID0gZmFsc2U7CiAgICAgIGNvbnN0IGNoYXNzaXNCb2R5ID0gdGhpcy5jaGFzc2lzQm9keTsKICAgICAgY2hhc3Npc0JvZHkucG9pbnRUb1dvcmxkRnJhbWUod2hlZWwuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludExvY2FsLCB3aGVlbC5jaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGQpOwogICAgICBjaGFzc2lzQm9keS52ZWN0b3JUb1dvcmxkRnJhbWUod2hlZWwuZGlyZWN0aW9uTG9jYWwsIHdoZWVsLmRpcmVjdGlvbldvcmxkKTsKICAgICAgY2hhc3Npc0JvZHkudmVjdG9yVG9Xb3JsZEZyYW1lKHdoZWVsLmF4bGVMb2NhbCwgd2hlZWwuYXhsZVdvcmxkKTsKICAgIH0KICAgIC8qKgogICAgICogVXBkYXRlIG9uZSBvZiB0aGUgd2hlZWwgdHJhbnNmb3JtLgogICAgICogTm90ZSB3aGVuIHJlbmRlcmluZyB3aGVlbHM6IGR1cmluZyBlYWNoIHN0ZXAsIHdoZWVsIHRyYW5zZm9ybXMgYXJlIHVwZGF0ZWQgQkVGT1JFIHRoZSBjaGFzc2lzOyBpZS4gdGhlaXIgcG9zaXRpb24gYmVjb21lcyBpbnZhbGlkIGFmdGVyIHRoZSBzdGVwLiBUaHVzIHdoZW4geW91IHJlbmRlciB3aGVlbHMsIHlvdSBtdXN0IHVwZGF0ZSB3aGVlbCB0cmFuc2Zvcm1zIGJlZm9yZSByZW5kZXJpbmcgdGhlbS4gU2VlIHJheWNhc3RWZWhpY2xlIGRlbW8gZm9yIGFuIGV4YW1wbGUuCiAgICAgKiBAbWV0aG9kIHVwZGF0ZVdoZWVsVHJhbnNmb3JtCiAgICAgKiBAcGFyYW0ge2ludGVnZXJ9IHdoZWVsSW5kZXggVGhlIHdoZWVsIGluZGV4IHRvIHVwZGF0ZS4KICAgICAqLwoKCiAgICB1cGRhdGVXaGVlbFRyYW5zZm9ybSh3aGVlbEluZGV4KSB7CiAgICAgIGNvbnN0IHVwID0gdG1wVmVjNDsKICAgICAgY29uc3QgcmlnaHQgPSB0bXBWZWM1OwogICAgICBjb25zdCBmd2QgPSB0bXBWZWM2OwogICAgICBjb25zdCB3aGVlbCA9IHRoaXMud2hlZWxJbmZvc1t3aGVlbEluZGV4XTsKICAgICAgdGhpcy51cGRhdGVXaGVlbFRyYW5zZm9ybVdvcmxkKHdoZWVsKTsKICAgICAgd2hlZWwuZGlyZWN0aW9uTG9jYWwuc2NhbGUoLTEsIHVwKTsKICAgICAgcmlnaHQuY29weSh3aGVlbC5heGxlTG9jYWwpOwogICAgICB1cC5jcm9zcyhyaWdodCwgZndkKTsKICAgICAgZndkLm5vcm1hbGl6ZSgpOwogICAgICByaWdodC5ub3JtYWxpemUoKTsgLy8gUm90YXRlIGFyb3VuZCBzdGVlcmluZyBvdmVyIHRoZSB3aGVlbEF4bGUKCiAgICAgIGNvbnN0IHN0ZWVyaW5nID0gd2hlZWwuc3RlZXJpbmc7CiAgICAgIGNvbnN0IHN0ZWVyaW5nT3JuID0gbmV3IFF1YXRlcm5pb24oKTsKICAgICAgc3RlZXJpbmdPcm4uc2V0RnJvbUF4aXNBbmdsZSh1cCwgc3RlZXJpbmcpOwogICAgICBjb25zdCByb3RhdGluZ09ybiA9IG5ldyBRdWF0ZXJuaW9uKCk7CiAgICAgIHJvdGF0aW5nT3JuLnNldEZyb21BeGlzQW5nbGUocmlnaHQsIHdoZWVsLnJvdGF0aW9uKTsgLy8gV29ybGQgcm90YXRpb24gb2YgdGhlIHdoZWVsCgogICAgICBjb25zdCBxID0gd2hlZWwud29ybGRUcmFuc2Zvcm0ucXVhdGVybmlvbjsKICAgICAgdGhpcy5jaGFzc2lzQm9keS5xdWF0ZXJuaW9uLm11bHQoc3RlZXJpbmdPcm4sIHEpOwogICAgICBxLm11bHQocm90YXRpbmdPcm4sIHEpOwogICAgICBxLm5vcm1hbGl6ZSgpOyAvLyB3b3JsZCBwb3NpdGlvbiBvZiB0aGUgd2hlZWwKCiAgICAgIGNvbnN0IHAgPSB3aGVlbC53b3JsZFRyYW5zZm9ybS5wb3NpdGlvbjsKICAgICAgcC5jb3B5KHdoZWVsLmRpcmVjdGlvbldvcmxkKTsKICAgICAgcC5zY2FsZSh3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoLCBwKTsKICAgICAgcC52YWRkKHdoZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZCwgcCk7CiAgICB9CiAgICAvKioKICAgICAqIEdldCB0aGUgd29ybGQgdHJhbnNmb3JtIG9mIG9uZSBvZiB0aGUgd2hlZWxzCiAgICAgKiBAbWV0aG9kIGdldFdoZWVsVHJhbnNmb3JtV29ybGQKICAgICAqIEBwYXJhbSAge2ludGVnZXJ9IHdoZWVsSW5kZXgKICAgICAqIEByZXR1cm4ge1RyYW5zZm9ybX0KICAgICAqLwoKCiAgICBnZXRXaGVlbFRyYW5zZm9ybVdvcmxkKHdoZWVsSW5kZXgpIHsKICAgICAgcmV0dXJuIHRoaXMud2hlZWxJbmZvc1t3aGVlbEluZGV4XS53b3JsZFRyYW5zZm9ybTsKICAgIH0KCiAgICB1cGRhdGVGcmljdGlvbih0aW1lU3RlcCkgewogICAgICBjb25zdCBzdXJmTm9ybWFsV1Nfc2NhbGVkX3Byb2ogPSB1cGRhdGVGcmljdGlvbl9zdXJmTm9ybWFsV1Nfc2NhbGVkX3Byb2o7IC8vY2FsY3VsYXRlIHRoZSBpbXB1bHNlLCBzbyB0aGF0IHRoZSB3aGVlbHMgZG9uJ3QgbW92ZSBzaWRld2FyZHMKCiAgICAgIGNvbnN0IHdoZWVsSW5mb3MgPSB0aGlzLndoZWVsSW5mb3M7CiAgICAgIGNvbnN0IG51bVdoZWVscyA9IHdoZWVsSW5mb3MubGVuZ3RoOwogICAgICBjb25zdCBjaGFzc2lzQm9keSA9IHRoaXMuY2hhc3Npc0JvZHk7CiAgICAgIGNvbnN0IGZvcndhcmRXUyA9IHVwZGF0ZUZyaWN0aW9uX2ZvcndhcmRXUzsKICAgICAgY29uc3QgYXhsZSA9IHVwZGF0ZUZyaWN0aW9uX2F4bGU7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7CiAgICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldOwogICAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuYm9keTsKICAgICAgICB3aGVlbC5zaWRlSW1wdWxzZSA9IDA7CiAgICAgICAgd2hlZWwuZm9yd2FyZEltcHVsc2UgPSAwOwoKICAgICAgICBpZiAoIWZvcndhcmRXU1tpXSkgewogICAgICAgICAgZm9yd2FyZFdTW2ldID0gbmV3IFZlYzMoKTsKICAgICAgICB9CgogICAgICAgIGlmICghYXhsZVtpXSkgewogICAgICAgICAgYXhsZVtpXSA9IG5ldyBWZWMzKCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7CiAgICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldOwogICAgICAgIGNvbnN0IGdyb3VuZE9iamVjdCA9IHdoZWVsLnJheWNhc3RSZXN1bHQuYm9keTsKCiAgICAgICAgaWYgKGdyb3VuZE9iamVjdCkgewogICAgICAgICAgY29uc3QgYXhsZWkgPSBheGxlW2ldOwogICAgICAgICAgY29uc3Qgd2hlZWxUcmFucyA9IHRoaXMuZ2V0V2hlZWxUcmFuc2Zvcm1Xb3JsZChpKTsgLy8gR2V0IHdvcmxkIGF4bGUKCiAgICAgICAgICB3aGVlbFRyYW5zLnZlY3RvclRvV29ybGRGcmFtZShkaXJlY3Rpb25zW3RoaXMuaW5kZXhSaWdodEF4aXNdLCBheGxlaSk7CiAgICAgICAgICBjb25zdCBzdXJmTm9ybWFsV1MgPSB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkOwogICAgICAgICAgY29uc3QgcHJvaiA9IGF4bGVpLmRvdChzdXJmTm9ybWFsV1MpOwogICAgICAgICAgc3VyZk5vcm1hbFdTLnNjYWxlKHByb2osIHN1cmZOb3JtYWxXU19zY2FsZWRfcHJvaik7CiAgICAgICAgICBheGxlaS52c3ViKHN1cmZOb3JtYWxXU19zY2FsZWRfcHJvaiwgYXhsZWkpOwogICAgICAgICAgYXhsZWkubm9ybWFsaXplKCk7CiAgICAgICAgICBzdXJmTm9ybWFsV1MuY3Jvc3MoYXhsZWksIGZvcndhcmRXU1tpXSk7CiAgICAgICAgICBmb3J3YXJkV1NbaV0ubm9ybWFsaXplKCk7CiAgICAgICAgICB3aGVlbC5zaWRlSW1wdWxzZSA9IHJlc29sdmVTaW5nbGVCaWxhdGVyYWwoY2hhc3Npc0JvZHksIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZCwgZ3JvdW5kT2JqZWN0LCB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQsIGF4bGVpKTsKICAgICAgICAgIHdoZWVsLnNpZGVJbXB1bHNlICo9IHNpZGVGcmljdGlvblN0aWZmbmVzczI7CiAgICAgICAgfQogICAgICB9CgogICAgICBjb25zdCBzaWRlRmFjdG9yID0gMTsKICAgICAgY29uc3QgZndkRmFjdG9yID0gMC41OwogICAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZTsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHsKICAgICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3NbaV07CiAgICAgICAgY29uc3QgZ3JvdW5kT2JqZWN0ID0gd2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5OwogICAgICAgIGxldCByb2xsaW5nRnJpY3Rpb24gPSAwOwogICAgICAgIHdoZWVsLnNsaXBJbmZvID0gMTsKCiAgICAgICAgaWYgKGdyb3VuZE9iamVjdCkgewogICAgICAgICAgY29uc3QgZGVmYXVsdFJvbGxpbmdGcmljdGlvbkltcHVsc2UgPSAwOwogICAgICAgICAgY29uc3QgbWF4SW1wdWxzZSA9IHdoZWVsLmJyYWtlID8gd2hlZWwuYnJha2UgOiBkZWZhdWx0Um9sbGluZ0ZyaWN0aW9uSW1wdWxzZTsgLy8gYnRXaGVlbENvbnRhY3RQb2ludCBjb250YWN0UHQoY2hhc3Npc0JvZHksZ3JvdW5kT2JqZWN0LHdoZWVsSW5mcmF5Y2FzdEluZm8uaGl0UG9pbnRXb3JsZCxmb3J3YXJkV1Nbd2hlZWxdLG1heEltcHVsc2UpOwogICAgICAgICAgLy8gcm9sbGluZ0ZyaWN0aW9uID0gY2FsY1JvbGxpbmdGcmljdGlvbihjb250YWN0UHQpOwoKICAgICAgICAgIHJvbGxpbmdGcmljdGlvbiA9IGNhbGNSb2xsaW5nRnJpY3Rpb24oY2hhc3Npc0JvZHksIGdyb3VuZE9iamVjdCwgd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLCBmb3J3YXJkV1NbaV0sIG1heEltcHVsc2UpOwogICAgICAgICAgcm9sbGluZ0ZyaWN0aW9uICs9IHdoZWVsLmVuZ2luZUZvcmNlICogdGltZVN0ZXA7IC8vIHJvbGxpbmdGcmljdGlvbiA9IDA7CgogICAgICAgICAgY29uc3QgZmFjdG9yID0gbWF4SW1wdWxzZSAvIHJvbGxpbmdGcmljdGlvbjsKICAgICAgICAgIHdoZWVsLnNsaXBJbmZvICo9IGZhY3RvcjsKICAgICAgICB9IC8vc3dpdGNoIGJldHdlZW4gYWN0aXZlIHJvbGxpbmcgKHRocm90dGxlKSwgYnJha2luZyBhbmQgbm9uLWFjdGl2ZSByb2xsaW5nIGZyaWN0aW9uIChudGhyb3R0bGUvYnJlYWspCgoKICAgICAgICB3aGVlbC5mb3J3YXJkSW1wdWxzZSA9IDA7CiAgICAgICAgd2hlZWwuc2tpZEluZm8gPSAxOwoKICAgICAgICBpZiAoZ3JvdW5kT2JqZWN0KSB7CiAgICAgICAgICB3aGVlbC5za2lkSW5mbyA9IDE7CiAgICAgICAgICBjb25zdCBtYXhpbXAgPSB3aGVlbC5zdXNwZW5zaW9uRm9yY2UgKiB0aW1lU3RlcCAqIHdoZWVsLmZyaWN0aW9uU2xpcDsKICAgICAgICAgIGNvbnN0IG1heGltcFNpZGUgPSBtYXhpbXA7CiAgICAgICAgICBjb25zdCBtYXhpbXBTcXVhcmVkID0gbWF4aW1wICogbWF4aW1wU2lkZTsKICAgICAgICAgIHdoZWVsLmZvcndhcmRJbXB1bHNlID0gcm9sbGluZ0ZyaWN0aW9uOyAvL3doZWVsSW5mby5lbmdpbmVGb3JjZSogdGltZVN0ZXA7CgogICAgICAgICAgY29uc3QgeCA9IHdoZWVsLmZvcndhcmRJbXB1bHNlICogZndkRmFjdG9yIC8gd2hlZWwuZm9yd2FyZEFjY2VsZXJhdGlvbjsKICAgICAgICAgIGNvbnN0IHkgPSB3aGVlbC5zaWRlSW1wdWxzZSAqIHNpZGVGYWN0b3IgLyB3aGVlbC5zaWRlQWNjZWxlcmF0aW9uOwogICAgICAgICAgY29uc3QgaW1wdWxzZVNxdWFyZWQgPSB4ICogeCArIHkgKiB5OwogICAgICAgICAgd2hlZWwuc2xpZGluZyA9IGZhbHNlOwoKICAgICAgICAgIGlmIChpbXB1bHNlU3F1YXJlZCA+IG1heGltcFNxdWFyZWQpIHsKICAgICAgICAgICAgdGhpcy5zbGlkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgd2hlZWwuc2xpZGluZyA9IHRydWU7CiAgICAgICAgICAgIGNvbnN0IGZhY3RvciA9IG1heGltcCAvIE1hdGguc3FydChpbXB1bHNlU3F1YXJlZCk7CiAgICAgICAgICAgIHdoZWVsLnNraWRJbmZvICo9IGZhY3RvcjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnNsaWRpbmcpIHsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7CiAgICAgICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3NbaV07CgogICAgICAgICAgaWYgKHdoZWVsLnNpZGVJbXB1bHNlICE9PSAwKSB7CiAgICAgICAgICAgIGlmICh3aGVlbC5za2lkSW5mbyA8IDEpIHsKICAgICAgICAgICAgICB3aGVlbC5mb3J3YXJkSW1wdWxzZSAqPSB3aGVlbC5za2lkSW5mbzsKICAgICAgICAgICAgICB3aGVlbC5zaWRlSW1wdWxzZSAqPSB3aGVlbC5za2lkSW5mbzsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSAvLyBhcHBseSB0aGUgaW1wdWxzZXMKCgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7CiAgICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldOwogICAgICAgIGNvbnN0IHJlbF9wb3MgPSBuZXcgVmVjMygpOwogICAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZC52c3ViKGNoYXNzaXNCb2R5LnBvc2l0aW9uLCByZWxfcG9zKTsgLy8gY2Fubm9ucyBhcHBseWltcHVsc2UgaXMgdXNpbmcgd29ybGQgY29vcmQgZm9yIHRoZSBwb3NpdGlvbgogICAgICAgIC8vcmVsX3Bvcy5jb3B5KHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZCk7CgogICAgICAgIGlmICh3aGVlbC5mb3J3YXJkSW1wdWxzZSAhPT0gMCkgewogICAgICAgICAgY29uc3QgaW1wdWxzZSA9IG5ldyBWZWMzKCk7CiAgICAgICAgICBmb3J3YXJkV1NbaV0uc2NhbGUod2hlZWwuZm9yd2FyZEltcHVsc2UsIGltcHVsc2UpOwogICAgICAgICAgY2hhc3Npc0JvZHkuYXBwbHlJbXB1bHNlKGltcHVsc2UsIHJlbF9wb3MpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHdoZWVsLnNpZGVJbXB1bHNlICE9PSAwKSB7CiAgICAgICAgICBjb25zdCBncm91bmRPYmplY3QgPSB3aGVlbC5yYXljYXN0UmVzdWx0LmJvZHk7CiAgICAgICAgICBjb25zdCByZWxfcG9zMiA9IG5ldyBWZWMzKCk7CiAgICAgICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQudnN1Yihncm91bmRPYmplY3QucG9zaXRpb24sIHJlbF9wb3MyKTsgLy9yZWxfcG9zMi5jb3B5KHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZCk7CgogICAgICAgICAgY29uc3Qgc2lkZUltcCA9IG5ldyBWZWMzKCk7CiAgICAgICAgICBheGxlW2ldLnNjYWxlKHdoZWVsLnNpZGVJbXB1bHNlLCBzaWRlSW1wKTsgLy8gU2NhbGUgdGhlIHJlbGF0aXZlIHBvc2l0aW9uIGluIHRoZSB1cCBkaXJlY3Rpb24gd2l0aCByb2xsSW5mbHVlbmNlLgogICAgICAgICAgLy8gSWYgcm9sbEluZmx1ZW5jZSBpcyAxLCB0aGUgaW1wdWxzZSB3aWxsIGJlIGFwcGxpZWQgb24gdGhlIGhpdFBvaW50IChlYXN5IHRvIHJvbGwgb3ZlciksIGlmIGl0IGlzIHplcm8gaXQgd2lsbCBiZSBhcHBsaWVkIGluIHRoZSBzYW1lIHBsYW5lIGFzIHRoZSBjZW50ZXIgb2YgbWFzcyAobm90IGVhc3kgdG8gcm9sbCBvdmVyKS4KCiAgICAgICAgICBjaGFzc2lzQm9keS52ZWN0b3JUb0xvY2FsRnJhbWUocmVsX3BvcywgcmVsX3Bvcyk7CiAgICAgICAgICByZWxfcG9zWyd4eXonW3RoaXMuaW5kZXhVcEF4aXNdXSAqPSB3aGVlbC5yb2xsSW5mbHVlbmNlOwogICAgICAgICAgY2hhc3Npc0JvZHkudmVjdG9yVG9Xb3JsZEZyYW1lKHJlbF9wb3MsIHJlbF9wb3MpOwogICAgICAgICAgY2hhc3Npc0JvZHkuYXBwbHlJbXB1bHNlKHNpZGVJbXAsIHJlbF9wb3MpOyAvL2FwcGx5IGZyaWN0aW9uIGltcHVsc2Ugb24gdGhlIGdyb3VuZAoKICAgICAgICAgIHNpZGVJbXAuc2NhbGUoLTEsIHNpZGVJbXApOwogICAgICAgICAgZ3JvdW5kT2JqZWN0LmFwcGx5SW1wdWxzZShzaWRlSW1wLCByZWxfcG9zMik7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogIH0KCiAgY29uc3QgdG1wVmVjNCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgdG1wVmVjNSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgdG1wVmVjNiA9IG5ldyBWZWMzKCk7CiAgbmV3IFJheSgpOwogIGNvbnN0IGNhc3RSYXlfcmF5dmVjdG9yID0gbmV3IFZlYzMoKTsKICBjb25zdCBjYXN0UmF5X3RhcmdldCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgZGlyZWN0aW9ucyA9IFtuZXcgVmVjMygxLCAwLCAwKSwgbmV3IFZlYzMoMCwgMSwgMCksIG5ldyBWZWMzKDAsIDAsIDEpXTsKICBjb25zdCB1cGRhdGVGcmljdGlvbl9zdXJmTm9ybWFsV1Nfc2NhbGVkX3Byb2ogPSBuZXcgVmVjMygpOwogIGNvbnN0IHVwZGF0ZUZyaWN0aW9uX2F4bGUgPSBbXTsKICBjb25zdCB1cGRhdGVGcmljdGlvbl9mb3J3YXJkV1MgPSBbXTsKICBjb25zdCBzaWRlRnJpY3Rpb25TdGlmZm5lc3MyID0gMTsKICBjb25zdCBjYWxjUm9sbGluZ0ZyaWN0aW9uX3ZlbDEgPSBuZXcgVmVjMygpOwogIGNvbnN0IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsMiA9IG5ldyBWZWMzKCk7CiAgY29uc3QgY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwgPSBuZXcgVmVjMygpOwoKICBmdW5jdGlvbiBjYWxjUm9sbGluZ0ZyaWN0aW9uKGJvZHkwLCBib2R5MSwgZnJpY3Rpb25Qb3NXb3JsZCwgZnJpY3Rpb25EaXJlY3Rpb25Xb3JsZCwgbWF4SW1wdWxzZSkgewogICAgbGV0IGoxID0gMDsKICAgIGNvbnN0IGNvbnRhY3RQb3NXb3JsZCA9IGZyaWN0aW9uUG9zV29ybGQ7IC8vIGNvbnN0IHJlbF9wb3MxID0gbmV3IFZlYzMoKTsKICAgIC8vIGNvbnN0IHJlbF9wb3MyID0gbmV3IFZlYzMoKTsKCiAgICBjb25zdCB2ZWwxID0gY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwxOwogICAgY29uc3QgdmVsMiA9IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsMjsKICAgIGNvbnN0IHZlbCA9IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsOyAvLyBjb250YWN0UG9zV29ybGQudnN1Yihib2R5MC5wb3NpdGlvbiwgcmVsX3BvczEpOwogICAgLy8gY29udGFjdFBvc1dvcmxkLnZzdWIoYm9keTEucG9zaXRpb24sIHJlbF9wb3MyKTsKCiAgICBib2R5MC5nZXRWZWxvY2l0eUF0V29ybGRQb2ludChjb250YWN0UG9zV29ybGQsIHZlbDEpOwogICAgYm9keTEuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQoY29udGFjdFBvc1dvcmxkLCB2ZWwyKTsKICAgIHZlbDEudnN1Yih2ZWwyLCB2ZWwpOwogICAgY29uc3QgdnJlbCA9IGZyaWN0aW9uRGlyZWN0aW9uV29ybGQuZG90KHZlbCk7CiAgICBjb25zdCBkZW5vbTAgPSBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yKGJvZHkwLCBmcmljdGlvblBvc1dvcmxkLCBmcmljdGlvbkRpcmVjdGlvbldvcmxkKTsKICAgIGNvbnN0IGRlbm9tMSA9IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3IoYm9keTEsIGZyaWN0aW9uUG9zV29ybGQsIGZyaWN0aW9uRGlyZWN0aW9uV29ybGQpOwogICAgY29uc3QgcmVsYXhhdGlvbiA9IDE7CiAgICBjb25zdCBqYWNEaWFnQUJJbnYgPSByZWxheGF0aW9uIC8gKGRlbm9tMCArIGRlbm9tMSk7IC8vIGNhbGN1bGF0ZSBqIHRoYXQgbW92ZXMgdXMgdG8gemVybyByZWxhdGl2ZSB2ZWxvY2l0eQoKICAgIGoxID0gLXZyZWwgKiBqYWNEaWFnQUJJbnY7CgogICAgaWYgKG1heEltcHVsc2UgPCBqMSkgewogICAgICBqMSA9IG1heEltcHVsc2U7CiAgICB9CgogICAgaWYgKGoxIDwgLW1heEltcHVsc2UpIHsKICAgICAgajEgPSAtbWF4SW1wdWxzZTsKICAgIH0KCiAgICByZXR1cm4gajE7CiAgfQoKICBjb25zdCBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX3IwID0gbmV3IFZlYzMoKTsKICBjb25zdCBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX2MwID0gbmV3IFZlYzMoKTsKICBjb25zdCBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX3ZlYyA9IG5ldyBWZWMzKCk7CiAgY29uc3QgY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9tID0gbmV3IFZlYzMoKTsKCiAgZnVuY3Rpb24gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcihib2R5LCBwb3MsIG5vcm1hbCkgewogICAgY29uc3QgcjAgPSBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX3IwOwogICAgY29uc3QgYzAgPSBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX2MwOwogICAgY29uc3QgdmVjID0gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl92ZWM7CiAgICBjb25zdCBtID0gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9tOwogICAgcG9zLnZzdWIoYm9keS5wb3NpdGlvbiwgcjApOwogICAgcjAuY3Jvc3Mobm9ybWFsLCBjMCk7CiAgICBib2R5LmludkluZXJ0aWFXb3JsZC52bXVsdChjMCwgbSk7CiAgICBtLmNyb3NzKHIwLCB2ZWMpOwogICAgcmV0dXJuIGJvZHkuaW52TWFzcyArIG5vcm1hbC5kb3QodmVjKTsKICB9CgogIGNvbnN0IHJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsMSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbF92ZWwyID0gbmV3IFZlYzMoKTsKICBjb25zdCByZXNvbHZlU2luZ2xlQmlsYXRlcmFsX3ZlbCA9IG5ldyBWZWMzKCk7IC8vYmlsYXRlcmFsIGNvbnN0cmFpbnQgYmV0d2VlbiB0d28gZHluYW1pYyBvYmplY3RzCgogIGZ1bmN0aW9uIHJlc29sdmVTaW5nbGVCaWxhdGVyYWwoYm9keTEsIHBvczEsIGJvZHkyLCBwb3MyLCBub3JtYWwpIHsKICAgIGNvbnN0IG5vcm1hbExlblNxciA9IG5vcm1hbC5sZW5ndGhTcXVhcmVkKCk7CgogICAgaWYgKG5vcm1hbExlblNxciA+IDEuMSkgewogICAgICByZXR1cm4gMDsgLy8gbm8gaW1wdWxzZQogICAgfSAvLyBjb25zdCByZWxfcG9zMSA9IG5ldyBWZWMzKCk7CiAgICAvLyBjb25zdCByZWxfcG9zMiA9IG5ldyBWZWMzKCk7CiAgICAvLyBwb3MxLnZzdWIoYm9keTEucG9zaXRpb24sIHJlbF9wb3MxKTsKICAgIC8vIHBvczIudnN1Yihib2R5Mi5wb3NpdGlvbiwgcmVsX3BvczIpOwoKCiAgICBjb25zdCB2ZWwxID0gcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbF92ZWwxOwogICAgY29uc3QgdmVsMiA9IHJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsMjsKICAgIGNvbnN0IHZlbCA9IHJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsOwogICAgYm9keTEuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQocG9zMSwgdmVsMSk7CiAgICBib2R5Mi5nZXRWZWxvY2l0eUF0V29ybGRQb2ludChwb3MyLCB2ZWwyKTsKICAgIHZlbDEudnN1Yih2ZWwyLCB2ZWwpOwogICAgY29uc3QgcmVsX3ZlbCA9IG5vcm1hbC5kb3QodmVsKTsKICAgIGNvbnN0IGNvbnRhY3REYW1waW5nID0gMC4yOwogICAgY29uc3QgbWFzc1Rlcm0gPSAxIC8gKGJvZHkxLmludk1hc3MgKyBib2R5Mi5pbnZNYXNzKTsKICAgIGNvbnN0IGltcHVsc2UgPSAtY29udGFjdERhbXBpbmcgKiByZWxfdmVsICogbWFzc1Rlcm07CiAgICByZXR1cm4gaW1wdWxzZTsKICB9CiAgLyoqCiAgICogU3BoZXJpY2FsIHNoYXBlCiAgICogQGNsYXNzIFNwaGVyZQogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBleHRlbmRzIFNoYXBlCiAgICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1cyBUaGUgcmFkaXVzIG9mIHRoZSBzcGhlcmUsIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4KICAgKiBAYXV0aG9yIHNjaHRlcHBlIC8gaHR0cDovL2dpdGh1Yi5jb20vc2NodGVwcGUKICAgKi8KCgogIGNsYXNzIFNwaGVyZSBleHRlbmRzIFNoYXBlIHsKICAgIGNvbnN0cnVjdG9yKHJhZGl1cykgewogICAgICBzdXBlcih7CiAgICAgICAgdHlwZTogU2hhcGUudHlwZXMuU1BIRVJFCiAgICAgIH0pOwogICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cyAhPT0gdW5kZWZpbmVkID8gcmFkaXVzIDogMS4wOwoKICAgICAgaWYgKHRoaXMucmFkaXVzIDwgMCkgewogICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHNwaGVyZSByYWRpdXMgY2Fubm90IGJlIG5lZ2F0aXZlLicpOwogICAgICB9CgogICAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7CiAgICB9CgogICAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCA9IG5ldyBWZWMzKCkpIHsKICAgICAgY29uc3QgSSA9IDIuMCAqIG1hc3MgKiB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzIC8gNS4wOwogICAgICB0YXJnZXQueCA9IEk7CiAgICAgIHRhcmdldC55ID0gSTsKICAgICAgdGFyZ2V0LnogPSBJOwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQoKICAgIHZvbHVtZSgpIHsKICAgICAgcmV0dXJuIDQuMCAqIE1hdGguUEkgKiBNYXRoLnBvdyh0aGlzLnJhZGl1cywgMykgLyAzLjA7CiAgICB9CgogICAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSB0aGlzLnJhZGl1czsKICAgIH0KCiAgICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkgewogICAgICBjb25zdCByID0gdGhpcy5yYWRpdXM7CiAgICAgIGNvbnN0IGF4ZXMgPSBbJ3gnLCAneScsICd6J107CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF4ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBheCA9IGF4ZXNbaV07CiAgICAgICAgbWluW2F4XSA9IHBvc1theF0gLSByOwogICAgICAgIG1heFtheF0gPSBwb3NbYXhdICsgcjsKICAgICAgfQogICAgfQoKICB9CiAgLyoqCiAgICogQGNsYXNzIEN5bGluZGVyCiAgICogQGNvbnN0cnVjdG9yCiAgICogQGV4dGVuZHMgQ29udmV4UG9seWhlZHJvbgogICAqIEBhdXRob3Igc2NodGVwcGUgLyBodHRwczovL2dpdGh1Yi5jb20vc2NodGVwcGUKICAgKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzVG9wCiAgICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1c0JvdHRvbQogICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHQKICAgKiBAcGFyYW0ge051bWJlcn0gbnVtU2VnbWVudHMgVGhlIG51bWJlciBvZiBzZWdtZW50cyB0byBidWlsZCB0aGUgY3lsaW5kZXIgb3V0IG9mCiAgICovCgogIGNsYXNzIEN5bGluZGVyIGV4dGVuZHMgQ29udmV4UG9seWhlZHJvbiB7CiAgICBjb25zdHJ1Y3RvcihyYWRpdXNUb3AgPSAxLCByYWRpdXNCb3R0b20gPSAxLCBoZWlnaHQgPSAxLCBudW1TZWdtZW50cyA9IDgpIHsKICAgICAgaWYgKHJhZGl1c1RvcCA8IDApIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBjeWxpbmRlciByYWRpdXNUb3AgY2Fubm90IGJlIG5lZ2F0aXZlLicpOwogICAgICB9CgogICAgICBpZiAocmFkaXVzQm90dG9tIDwgMCkgewogICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGN5bGluZGVyIHJhZGl1c0JvdHRvbSBjYW5ub3QgYmUgbmVnYXRpdmUuJyk7CiAgICAgIH0KCiAgICAgIGNvbnN0IE4gPSBudW1TZWdtZW50czsKICAgICAgY29uc3QgdmVydGljZXMgPSBbXTsKICAgICAgY29uc3QgYXhlcyA9IFtdOwogICAgICBjb25zdCBmYWNlcyA9IFtdOwogICAgICBjb25zdCBib3R0b21mYWNlID0gW107CiAgICAgIGNvbnN0IHRvcGZhY2UgPSBbXTsKICAgICAgY29uc3QgY29zID0gTWF0aC5jb3M7CiAgICAgIGNvbnN0IHNpbiA9IE1hdGguc2luOyAvLyBGaXJzdCBib3R0b20gcG9pbnQKCiAgICAgIHZlcnRpY2VzLnB1c2gobmV3IFZlYzMoLXJhZGl1c0JvdHRvbSAqIHNpbigwKSwgLWhlaWdodCAqIDAuNSwgcmFkaXVzQm90dG9tICogY29zKDApKSk7CiAgICAgIGJvdHRvbWZhY2UucHVzaCgwKTsgLy8gRmlyc3QgdG9wIHBvaW50CgogICAgICB2ZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKC1yYWRpdXNUb3AgKiBzaW4oMCksIGhlaWdodCAqIDAuNSwgcmFkaXVzVG9wICogY29zKDApKSk7CiAgICAgIHRvcGZhY2UucHVzaCgxKTsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgaSsrKSB7CiAgICAgICAgY29uc3QgdGhldGEgPSAyICogTWF0aC5QSSAvIE4gKiAoaSArIDEpOwogICAgICAgIGNvbnN0IHRoZXRhTiA9IDIgKiBNYXRoLlBJIC8gTiAqIChpICsgMC41KTsKCiAgICAgICAgaWYgKGkgPCBOIC0gMSkgewogICAgICAgICAgLy8gQm90dG9tCiAgICAgICAgICB2ZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKC1yYWRpdXNCb3R0b20gKiBzaW4odGhldGEpLCAtaGVpZ2h0ICogMC41LCByYWRpdXNCb3R0b20gKiBjb3ModGhldGEpKSk7CiAgICAgICAgICBib3R0b21mYWNlLnB1c2goMiAqIGkgKyAyKTsgLy8gVG9wCgogICAgICAgICAgdmVydGljZXMucHVzaChuZXcgVmVjMygtcmFkaXVzVG9wICogc2luKHRoZXRhKSwgaGVpZ2h0ICogMC41LCByYWRpdXNUb3AgKiBjb3ModGhldGEpKSk7CiAgICAgICAgICB0b3BmYWNlLnB1c2goMiAqIGkgKyAzKTsgLy8gRmFjZQoKICAgICAgICAgIGZhY2VzLnB1c2goWzIgKiBpLCAyICogaSArIDEsIDIgKiBpICsgMywgMiAqIGkgKyAyXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZhY2VzLnB1c2goWzIgKiBpLCAyICogaSArIDEsIDEsIDBdKTsgLy8gQ29ubmVjdAogICAgICAgIH0gLy8gQXhpczogd2UgY2FuIGN1dCBvZmYgaGFsZiBvZiB0aGVtIGlmIHdlIGhhdmUgZXZlbiBudW1iZXIgb2Ygc2VnbWVudHMKCgogICAgICAgIGlmIChOICUgMiA9PT0gMSB8fCBpIDwgTiAvIDIpIHsKICAgICAgICAgIGF4ZXMucHVzaChuZXcgVmVjMygtc2luKHRoZXRhTiksIDAsIGNvcyh0aGV0YU4pKSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBmYWNlcy5wdXNoKGJvdHRvbWZhY2UpOwogICAgICBheGVzLnB1c2gobmV3IFZlYzMoMCwgMSwgMCkpOyAvLyBSZW9yZGVyIHRvcCBmYWNlCgogICAgICBjb25zdCB0ZW1wID0gW107CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvcGZhY2UubGVuZ3RoOyBpKyspIHsKICAgICAgICB0ZW1wLnB1c2godG9wZmFjZVt0b3BmYWNlLmxlbmd0aCAtIGkgLSAxXSk7CiAgICAgIH0KCiAgICAgIGZhY2VzLnB1c2godGVtcCk7CiAgICAgIHN1cGVyKHsKICAgICAgICB2ZXJ0aWNlcywKICAgICAgICBmYWNlcywKICAgICAgICBheGVzCiAgICAgIH0pOwogICAgICB0aGlzLnR5cGUgPSBTaGFwZS50eXBlcy5DWUxJTkRFUjsKICAgICAgdGhpcy5yYWRpdXNUb3AgPSByYWRpdXNUb3A7CiAgICAgIHRoaXMucmFkaXVzQm90dG9tID0gcmFkaXVzQm90dG9tOwogICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDsKICAgICAgdGhpcy5udW1TZWdtZW50cyA9IG51bVNlZ21lbnRzOwogICAgfQoKICB9CiAgLyoqCiAgICogUGFydGljbGUgc2hhcGUuCiAgICogQGNsYXNzIFBhcnRpY2xlCiAgICogQGNvbnN0cnVjdG9yCiAgICogQGF1dGhvciBzY2h0ZXBwZQogICAqIEBleHRlbmRzIFNoYXBlCiAgICovCgoKICBjbGFzcyBQYXJ0aWNsZSBleHRlbmRzIFNoYXBlIHsKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICBzdXBlcih7CiAgICAgICAgdHlwZTogU2hhcGUudHlwZXMuUEFSVElDTEUKICAgICAgfSk7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2QgY2FsY3VsYXRlTG9jYWxJbmVydGlhCiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1hc3MKICAgICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldAogICAgICogQHJldHVybiB7VmVjM30KICAgICAqLwoKCiAgICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgICB0YXJnZXQuc2V0KDAsIDAsIDApOwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQoKICAgIHZvbHVtZSgpIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSAwOwogICAgfQoKICAgIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7CiAgICAgIC8vIEdldCBlYWNoIGF4aXMgbWF4CiAgICAgIG1pbi5jb3B5KHBvcyk7CiAgICAgIG1heC5jb3B5KHBvcyk7CiAgICB9CgogIH0KICAvKioKICAgKiBBIHBsYW5lLCBmYWNpbmcgaW4gdGhlIFogZGlyZWN0aW9uLiBUaGUgcGxhbmUgaGFzIGl0cyBzdXJmYWNlIGF0IHo9MCBhbmQgZXZlcnl0aGluZyBiZWxvdyB6PTAgaXMgYXNzdW1lZCB0byBiZSBzb2xpZCBwbGFuZS4gVG8gbWFrZSB0aGUgcGxhbmUgZmFjZSBpbiBzb21lIG90aGVyIGRpcmVjdGlvbiB0aGFuIHosIHlvdSBtdXN0IHB1dCBpdCBpbnNpZGUgYSBCb2R5IGFuZCByb3RhdGUgdGhhdCBib2R5LiBTZWUgdGhlIGRlbW9zLgogICAqIEBjbGFzcyBQbGFuZQogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBleHRlbmRzIFNoYXBlCiAgICogQGF1dGhvciBzY2h0ZXBwZQogICAqLwoKCiAgY2xhc3MgUGxhbmUgZXh0ZW5kcyBTaGFwZSB7CiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgc3VwZXIoewogICAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLlBMQU5FCiAgICAgIH0pOyAvLyBXb3JsZCBvcmllbnRlZCBub3JtYWwKCiAgICAgIHRoaXMud29ybGROb3JtYWwgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLndvcmxkTm9ybWFsTmVlZHNVcGRhdGUgPSB0cnVlOwogICAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gTnVtYmVyLk1BWF9WQUxVRTsKICAgIH0KCiAgICBjb21wdXRlV29ybGROb3JtYWwocXVhdCkgewogICAgICBjb25zdCBuID0gdGhpcy53b3JsZE5vcm1hbDsKICAgICAgbi5zZXQoMCwgMCwgMSk7CiAgICAgIHF1YXQudm11bHQobiwgbik7CiAgICAgIHRoaXMud29ybGROb3JtYWxOZWVkc1VwZGF0ZSA9IGZhbHNlOwogICAgfQoKICAgIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQgPSBuZXcgVmVjMygpKSB7CiAgICAgIHJldHVybiB0YXJnZXQ7CiAgICB9CgogICAgdm9sdW1lKCkgewogICAgICByZXR1cm4gKC8vIFRoZSBwbGFuZSBpcyBpbmZpbml0ZS4uLgogICAgICAgIE51bWJlci5NQVhfVkFMVUUKICAgICAgKTsKICAgIH0KCiAgICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkgewogICAgICAvLyBUaGUgcGxhbmUgQUFCQiBpcyBpbmZpbml0ZSwgZXhjZXB0IGlmIHRoZSBub3JtYWwgaXMgcG9pbnRpbmcgYWxvbmcgYW55IGF4aXMKICAgICAgdGVtcE5vcm1hbC5zZXQoMCwgMCwgMSk7IC8vIERlZmF1bHQgcGxhbmUgbm9ybWFsIGlzIHoKCiAgICAgIHF1YXQudm11bHQodGVtcE5vcm1hbCwgdGVtcE5vcm1hbCk7CiAgICAgIGNvbnN0IG1heFZhbCA9IE51bWJlci5NQVhfVkFMVUU7CiAgICAgIG1pbi5zZXQoLW1heFZhbCwgLW1heFZhbCwgLW1heFZhbCk7CiAgICAgIG1heC5zZXQobWF4VmFsLCBtYXhWYWwsIG1heFZhbCk7CgogICAgICBpZiAodGVtcE5vcm1hbC54ID09PSAxKSB7CiAgICAgICAgbWF4LnggPSBwb3MueDsKICAgICAgfSBlbHNlIGlmICh0ZW1wTm9ybWFsLnggPT09IC0xKSB7CiAgICAgICAgbWluLnggPSBwb3MueDsKICAgICAgfQoKICAgICAgaWYgKHRlbXBOb3JtYWwueSA9PT0gMSkgewogICAgICAgIG1heC55ID0gcG9zLnk7CiAgICAgIH0gZWxzZSBpZiAodGVtcE5vcm1hbC55ID09PSAtMSkgewogICAgICAgIG1pbi55ID0gcG9zLnk7CiAgICAgIH0KCiAgICAgIGlmICh0ZW1wTm9ybWFsLnogPT09IDEpIHsKICAgICAgICBtYXgueiA9IHBvcy56OwogICAgICB9IGVsc2UgaWYgKHRlbXBOb3JtYWwueiA9PT0gLTEpIHsKICAgICAgICBtaW4ueiA9IHBvcy56OwogICAgICB9CiAgICB9CgogICAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSBOdW1iZXIuTUFYX1ZBTFVFOwogICAgfQoKICB9CgogIGNvbnN0IHRlbXBOb3JtYWwgPSBuZXcgVmVjMygpOwogIC8qKgogICAqIEhlaWdodGZpZWxkIHNoYXBlIGNsYXNzLiBIZWlnaHQgZGF0YSBpcyBnaXZlbiBhcyBhbiBhcnJheS4gVGhlc2UgZGF0YSBwb2ludHMgYXJlIHNwcmVhZCBvdXQgZXZlbmx5IHdpdGggYSBnaXZlbiBkaXN0YW5jZS4KICAgKiBAY2xhc3MgSGVpZ2h0ZmllbGQKICAgKiBAZXh0ZW5kcyBTaGFwZQogICAqIEBjb25zdHJ1Y3RvcgogICAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgQW4gYXJyYXkgb2YgWSB2YWx1ZXMgdGhhdCB3aWxsIGJlIHVzZWQgdG8gY29uc3RydWN0IHRoZSB0ZXJyYWluLgogICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zCiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1pblZhbHVlXSBNaW5pbXVtIHZhbHVlIG9mIHRoZSBkYXRhIHBvaW50cyBpbiB0aGUgZGF0YSBhcnJheS4gV2lsbCBiZSBjb21wdXRlZCBhdXRvbWF0aWNhbGx5IGlmIG5vdCBnaXZlbi4KICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4VmFsdWVdIE1heGltdW0gdmFsdWUuCiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmVsZW1lbnRTaXplPTAuMV0gV29ybGQgc3BhY2luZyBiZXR3ZWVuIHRoZSBkYXRhIHBvaW50cyBpbiBYIGRpcmVjdGlvbi4KICAgKiBAdG9kbyBTaG91bGQgYmUgcG9zc2libGUgdG8gdXNlIGFsb25nIGFsbCBheGVzLCBub3QganVzdCB5CiAgICogQHRvZG8gc2hvdWxkIGJlIHBvc3NpYmxlIHRvIHNjYWxlIGFsb25nIGFsbCBheGVzCiAgICogQHRvZG8gUmVmYWN0b3IgZWxlbWVudFNpemUgdG8gZWxlbWVudFNpemVYIGFuZCBlbGVtZW50U2l6ZVkKICAgKgogICAqIEBleGFtcGxlCiAgICogICAgIC8vIEdlbmVyYXRlIHNvbWUgaGVpZ2h0IGRhdGEgKHktdmFsdWVzKS4KICAgKiAgICAgY29uc3QgZGF0YSA9IFtdOwogICAqICAgICBmb3IobGV0IGkgPSAwOyBpIDwgMTAwMDsgaSsrKXsKICAgKiAgICAgICAgIGNvbnN0IHkgPSAwLjUgKiBNYXRoLmNvcygwLjIgKiBpKTsKICAgKiAgICAgICAgIGRhdGEucHVzaCh5KTsKICAgKiAgICAgfQogICAqCiAgICogICAgIC8vIENyZWF0ZSB0aGUgaGVpZ2h0ZmllbGQgc2hhcGUKICAgKiAgICAgY29uc3QgaGVpZ2h0ZmllbGRTaGFwZSA9IG5ldyBIZWlnaHRmaWVsZChkYXRhLCB7CiAgICogICAgICAgICBlbGVtZW50U2l6ZTogMSAvLyBEaXN0YW5jZSBiZXR3ZWVuIHRoZSBkYXRhIHBvaW50cyBpbiBYIGFuZCBZIGRpcmVjdGlvbnMKICAgKiAgICAgfSk7CiAgICogICAgIGNvbnN0IGhlaWdodGZpZWxkQm9keSA9IG5ldyBCb2R5KCk7CiAgICogICAgIGhlaWdodGZpZWxkQm9keS5hZGRTaGFwZShoZWlnaHRmaWVsZFNoYXBlKTsKICAgKiAgICAgd29ybGQuYWRkQm9keShoZWlnaHRmaWVsZEJvZHkpOwogICAqLwoKICBjbGFzcyBIZWlnaHRmaWVsZCBleHRlbmRzIFNoYXBlIHsKICAgIC8vIEFuIGFycmF5IG9mIG51bWJlcnMsIG9yIGhlaWdodCB2YWx1ZXMsIHRoYXQgYXJlIHNwcmVhZCBvdXQgYWxvbmcgdGhlIHggYXhpcy4KICAgIC8vIE1heCB2YWx1ZSBvZiB0aGUgZGF0YS4KICAgIC8vIE1heCB2YWx1ZSBvZiB0aGUgZGF0YS4KICAgIC8vIFRoZSB3aWR0aCBvZiBlYWNoIGVsZW1lbnQuIFRvIGRvOiBlbGVtZW50U2l6ZVggYW5kIFkKICAgIGNvbnN0cnVjdG9yKGRhdGEsIG9wdGlvbnMgPSB7fSkgewogICAgICBvcHRpb25zID0gVXRpbHMuZGVmYXVsdHMob3B0aW9ucywgewogICAgICAgIG1heFZhbHVlOiBudWxsLAogICAgICAgIG1pblZhbHVlOiBudWxsLAogICAgICAgIGVsZW1lbnRTaXplOiAxCiAgICAgIH0pOwogICAgICBzdXBlcih7CiAgICAgICAgdHlwZTogU2hhcGUudHlwZXMuSEVJR0hURklFTEQKICAgICAgfSk7CiAgICAgIHRoaXMuZGF0YSA9IGRhdGE7CiAgICAgIHRoaXMubWF4VmFsdWUgPSBvcHRpb25zLm1heFZhbHVlOwogICAgICB0aGlzLm1pblZhbHVlID0gb3B0aW9ucy5taW5WYWx1ZTsKICAgICAgdGhpcy5lbGVtZW50U2l6ZSA9IG9wdGlvbnMuZWxlbWVudFNpemU7CgogICAgICBpZiAob3B0aW9ucy5taW5WYWx1ZSA9PT0gbnVsbCkgewogICAgICAgIHRoaXMudXBkYXRlTWluVmFsdWUoKTsKICAgICAgfQoKICAgICAgaWYgKG9wdGlvbnMubWF4VmFsdWUgPT09IG51bGwpIHsKICAgICAgICB0aGlzLnVwZGF0ZU1heFZhbHVlKCk7CiAgICAgIH0KCiAgICAgIHRoaXMuY2FjaGVFbmFibGVkID0gdHJ1ZTsKICAgICAgdGhpcy5waWxsYXJDb252ZXggPSBuZXcgQ29udmV4UG9seWhlZHJvbigpOwogICAgICB0aGlzLnBpbGxhck9mZnNldCA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTsgLy8gImlfal9pc1VwcGVyIiA9PiB7IGNvbnZleDogLi4uLCBvZmZzZXQ6IC4uLiB9CiAgICAgIC8vIGZvciBleGFtcGxlOgogICAgICAvLyBfY2FjaGVkUGlsbGFyc1siMF8yXzEiXQoKICAgICAgdGhpcy5fY2FjaGVkUGlsbGFycyA9IHt9OwogICAgfQogICAgLyoqCiAgICAgKiBDYWxsIHdoZW5ldmVyIHlvdSBjaGFuZ2UgdGhlIGRhdGEgYXJyYXkuCiAgICAgKiBAbWV0aG9kIHVwZGF0ZQogICAgICovCgoKICAgIHVwZGF0ZSgpIHsKICAgICAgdGhpcy5fY2FjaGVkUGlsbGFycyA9IHt9OwogICAgfQogICAgLyoqCiAgICAgKiBVcGRhdGUgdGhlIC5taW5WYWx1ZSBwcm9wZXJ0eQogICAgICogQG1ldGhvZCB1cGRhdGVNaW5WYWx1ZQogICAgICovCgoKICAgIHVwZGF0ZU1pblZhbHVlKCkgewogICAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhOwogICAgICBsZXQgbWluVmFsdWUgPSBkYXRhWzBdWzBdOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gZGF0YVtpXS5sZW5ndGg7IGorKykgewogICAgICAgICAgY29uc3QgdiA9IGRhdGFbaV1bal07CgogICAgICAgICAgaWYgKHYgPCBtaW5WYWx1ZSkgewogICAgICAgICAgICBtaW5WYWx1ZSA9IHY7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLm1pblZhbHVlID0gbWluVmFsdWU7CiAgICB9CiAgICAvKioKICAgICAqIFVwZGF0ZSB0aGUgLm1heFZhbHVlIHByb3BlcnR5CiAgICAgKiBAbWV0aG9kIHVwZGF0ZU1heFZhbHVlCiAgICAgKi8KCgogICAgdXBkYXRlTWF4VmFsdWUoKSB7CiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICAgIGxldCBtYXhWYWx1ZSA9IGRhdGFbMF1bMF07CgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBkYXRhW2ldLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBjb25zdCB2ID0gZGF0YVtpXVtqXTsKCiAgICAgICAgICBpZiAodiA+IG1heFZhbHVlKSB7CiAgICAgICAgICAgIG1heFZhbHVlID0gdjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMubWF4VmFsdWUgPSBtYXhWYWx1ZTsKICAgIH0KICAgIC8qKgogICAgICogU2V0IHRoZSBoZWlnaHQgdmFsdWUgYXQgYW4gaW5kZXguIERvbid0IGZvcmdldCB0byB1cGRhdGUgbWF4VmFsdWUgYW5kIG1pblZhbHVlIGFmdGVyIHlvdSdyZSBkb25lLgogICAgICogQG1ldGhvZCBzZXRIZWlnaHRWYWx1ZUF0SW5kZXgKICAgICAqIEBwYXJhbSB7aW50ZWdlcn0geGkKICAgICAqIEBwYXJhbSB7aW50ZWdlcn0geWkKICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogICAgICovCgoKICAgIHNldEhlaWdodFZhbHVlQXRJbmRleCh4aSwgeWksIHZhbHVlKSB7CiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICAgIGRhdGFbeGldW3lpXSA9IHZhbHVlOyAvLyBJbnZhbGlkYXRlIGNhY2hlCgogICAgICB0aGlzLmNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpLCBmYWxzZSk7CgogICAgICBpZiAoeGkgPiAwKSB7CiAgICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpIC0gMSwgeWksIHRydWUpOwogICAgICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSAtIDEsIHlpLCBmYWxzZSk7CiAgICAgIH0KCiAgICAgIGlmICh5aSA+IDApIHsKICAgICAgICB0aGlzLmNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpIC0gMSwgdHJ1ZSk7CiAgICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSAtIDEsIGZhbHNlKTsKICAgICAgfQoKICAgICAgaWYgKHlpID4gMCAmJiB4aSA+IDApIHsKICAgICAgICB0aGlzLmNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGkgLSAxLCB5aSAtIDEsIHRydWUpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIEdldCBtYXgvbWluIGluIGEgcmVjdGFuZ2xlIGluIHRoZSBtYXRyaXggZGF0YQogICAgICogQG1ldGhvZCBnZXRSZWN0TWluTWF4CiAgICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBpTWluWAogICAgICogQHBhcmFtICB7aW50ZWdlcn0gaU1pblkKICAgICAqIEBwYXJhbSAge2ludGVnZXJ9IGlNYXhYCiAgICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBpTWF4WQogICAgICogQHBhcmFtICB7YXJyYXl9IFtyZXN1bHRdIEFuIGFycmF5IHRvIHN0b3JlIHRoZSByZXN1bHRzIGluLgogICAgICogQHJldHVybiB7YXJyYXl9IFRoZSByZXN1bHQgYXJyYXksIGlmIGl0IHdhcyBwYXNzZWQgaW4uIE1pbmltdW0gd2lsbCBiZSBhdCBwb3NpdGlvbiAwIGFuZCBtYXggYXQgMS4KICAgICAqLwoKCiAgICBnZXRSZWN0TWluTWF4KGlNaW5YLCBpTWluWSwgaU1heFgsIGlNYXhZLCByZXN1bHQgPSBbXSkgewogICAgICAvLyBHZXQgbWF4IGFuZCBtaW4gb2YgdGhlIGRhdGEKICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsgLy8gU2V0IGZpcnN0IHZhbHVlCgogICAgICBsZXQgbWF4ID0gdGhpcy5taW5WYWx1ZTsKCiAgICAgIGZvciAobGV0IGkgPSBpTWluWDsgaSA8PSBpTWF4WDsgaSsrKSB7CiAgICAgICAgZm9yIChsZXQgaiA9IGlNaW5ZOyBqIDw9IGlNYXhZOyBqKyspIHsKICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGRhdGFbaV1bal07CgogICAgICAgICAgaWYgKGhlaWdodCA+IG1heCkgewogICAgICAgICAgICBtYXggPSBoZWlnaHQ7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXN1bHRbMF0gPSB0aGlzLm1pblZhbHVlOwogICAgICByZXN1bHRbMV0gPSBtYXg7CiAgICB9CiAgICAvKioKICAgICAqIEdldCB0aGUgaW5kZXggb2YgYSBsb2NhbCBwb3NpdGlvbiBvbiB0aGUgaGVpZ2h0ZmllbGQuIFRoZSBpbmRleGVzIGluZGljYXRlIHRoZSByZWN0YW5nbGVzLCBzbyBpZiB5b3VyIHRlcnJhaW4gaXMgbWFkZSBvZiBOIHggTiBoZWlnaHQgZGF0YSBwb2ludHMsIHlvdSB3aWxsIGhhdmUgcmVjdGFuZ2xlIGluZGV4ZXMgcmFuZ2luZyBmcm9tIDAgdG8gTi0xLgogICAgICogQG1ldGhvZCBnZXRJbmRleE9mUG9zaXRpb24KICAgICAqIEBwYXJhbSAge251bWJlcn0geAogICAgICogQHBhcmFtICB7bnVtYmVyfSB5CiAgICAgKiBAcGFyYW0gIHthcnJheX0gcmVzdWx0IFR3by1lbGVtZW50IGFycmF5CiAgICAgKiBAcGFyYW0gIHtib29sZWFufSBjbGFtcCBJZiB0aGUgcG9zaXRpb24gc2hvdWxkIGJlIGNsYW1wZWQgdG8gdGhlIGhlaWdodGZpZWxkIGVkZ2UuCiAgICAgKiBAcmV0dXJuIHtib29sZWFufQogICAgICovCgoKICAgIGdldEluZGV4T2ZQb3NpdGlvbih4LCB5LCByZXN1bHQsIGNsYW1wKSB7CiAgICAgIC8vIEdldCB0aGUgaW5kZXggb2YgdGhlIGRhdGEgcG9pbnRzIHRvIHRlc3QgYWdhaW5zdAogICAgICBjb25zdCB3ID0gdGhpcy5lbGVtZW50U2l6ZTsKICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKICAgICAgbGV0IHhpID0gTWF0aC5mbG9vcih4IC8gdyk7CiAgICAgIGxldCB5aSA9IE1hdGguZmxvb3IoeSAvIHcpOwogICAgICByZXN1bHRbMF0gPSB4aTsKICAgICAgcmVzdWx0WzFdID0geWk7CgogICAgICBpZiAoY2xhbXApIHsKICAgICAgICAvLyBDbGFtcCBpbmRleCB0byBlZGdlcwogICAgICAgIGlmICh4aSA8IDApIHsKICAgICAgICAgIHhpID0gMDsKICAgICAgICB9CgogICAgICAgIGlmICh5aSA8IDApIHsKICAgICAgICAgIHlpID0gMDsKICAgICAgICB9CgogICAgICAgIGlmICh4aSA+PSBkYXRhLmxlbmd0aCAtIDEpIHsKICAgICAgICAgIHhpID0gZGF0YS5sZW5ndGggLSAxOwogICAgICAgIH0KCiAgICAgICAgaWYgKHlpID49IGRhdGFbMF0ubGVuZ3RoIC0gMSkgewogICAgICAgICAgeWkgPSBkYXRhWzBdLmxlbmd0aCAtIDE7CiAgICAgICAgfQogICAgICB9IC8vIEJhaWwgb3V0IGlmIHdlIGFyZSBvdXQgb2YgdGhlIHRlcnJhaW4KCgogICAgICBpZiAoeGkgPCAwIHx8IHlpIDwgMCB8fCB4aSA+PSBkYXRhLmxlbmd0aCAtIDEgfHwgeWkgPj0gZGF0YVswXS5sZW5ndGggLSAxKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICBnZXRUcmlhbmdsZUF0KHgsIHksIGVkZ2VDbGFtcCwgYSwgYiwgYykgewogICAgICBjb25zdCBpZHggPSBnZXRIZWlnaHRBdF9pZHg7CiAgICAgIHRoaXMuZ2V0SW5kZXhPZlBvc2l0aW9uKHgsIHksIGlkeCwgZWRnZUNsYW1wKTsKICAgICAgbGV0IHhpID0gaWR4WzBdOwogICAgICBsZXQgeWkgPSBpZHhbMV07CiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CgogICAgICBpZiAoZWRnZUNsYW1wKSB7CiAgICAgICAgeGkgPSBNYXRoLm1pbihkYXRhLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHhpKSk7CiAgICAgICAgeWkgPSBNYXRoLm1pbihkYXRhWzBdLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHlpKSk7CiAgICAgIH0KCiAgICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5lbGVtZW50U2l6ZTsKICAgICAgY29uc3QgbG93ZXJEaXN0MiA9ICh4IC8gZWxlbWVudFNpemUgLSB4aSkgKiogMiArICh5IC8gZWxlbWVudFNpemUgLSB5aSkgKiogMjsKICAgICAgY29uc3QgdXBwZXJEaXN0MiA9ICh4IC8gZWxlbWVudFNpemUgLSAoeGkgKyAxKSkgKiogMiArICh5IC8gZWxlbWVudFNpemUgLSAoeWkgKyAxKSkgKiogMjsKICAgICAgY29uc3QgdXBwZXIgPSBsb3dlckRpc3QyID4gdXBwZXJEaXN0MjsKICAgICAgdGhpcy5nZXRUcmlhbmdsZSh4aSwgeWksIHVwcGVyLCBhLCBiLCBjKTsKICAgICAgcmV0dXJuIHVwcGVyOwogICAgfQoKICAgIGdldE5vcm1hbEF0KHgsIHksIGVkZ2VDbGFtcCwgcmVzdWx0KSB7CiAgICAgIGNvbnN0IGEgPSBnZXROb3JtYWxBdF9hOwogICAgICBjb25zdCBiID0gZ2V0Tm9ybWFsQXRfYjsKICAgICAgY29uc3QgYyA9IGdldE5vcm1hbEF0X2M7CiAgICAgIGNvbnN0IGUwID0gZ2V0Tm9ybWFsQXRfZTA7CiAgICAgIGNvbnN0IGUxID0gZ2V0Tm9ybWFsQXRfZTE7CiAgICAgIHRoaXMuZ2V0VHJpYW5nbGVBdCh4LCB5LCBlZGdlQ2xhbXAsIGEsIGIsIGMpOwogICAgICBiLnZzdWIoYSwgZTApOwogICAgICBjLnZzdWIoYSwgZTEpOwogICAgICBlMC5jcm9zcyhlMSwgcmVzdWx0KTsKICAgICAgcmVzdWx0Lm5vcm1hbGl6ZSgpOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgYW4gQUFCQiBvZiBhIHNxdWFyZSBpbiB0aGUgaGVpZ2h0ZmllbGQKICAgICAqIEBwYXJhbSAge251bWJlcn0geGkKICAgICAqIEBwYXJhbSAge251bWJlcn0geWkKICAgICAqIEBwYXJhbSAge0FBQkJ9IHJlc3VsdAogICAgICovCgoKICAgIGdldEFhYmJBdEluZGV4KHhpLCB5aSwgewogICAgICBsb3dlckJvdW5kLAogICAgICB1cHBlckJvdW5kCiAgICB9KSB7CiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5lbGVtZW50U2l6ZTsKICAgICAgbG93ZXJCb3VuZC5zZXQoeGkgKiBlbGVtZW50U2l6ZSwgeWkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWldKTsKICAgICAgdXBwZXJCb3VuZC5zZXQoKHhpICsgMSkgKiBlbGVtZW50U2l6ZSwgKHlpICsgMSkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpICsgMV0pOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIGhlaWdodCBpbiB0aGUgaGVpZ2h0ZmllbGQgYXQgYSBnaXZlbiBwb3NpdGlvbgogICAgICogQHBhcmFtICB7bnVtYmVyfSB4CiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHkKICAgICAqIEBwYXJhbSAge2Jvb2xlYW59IGVkZ2VDbGFtcAogICAgICogQHJldHVybiB7bnVtYmVyfQogICAgICovCgoKICAgIGdldEhlaWdodEF0KHgsIHksIGVkZ2VDbGFtcCkgewogICAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhOwogICAgICBjb25zdCBhID0gZ2V0SGVpZ2h0QXRfYTsKICAgICAgY29uc3QgYiA9IGdldEhlaWdodEF0X2I7CiAgICAgIGNvbnN0IGMgPSBnZXRIZWlnaHRBdF9jOwogICAgICBjb25zdCBpZHggPSBnZXRIZWlnaHRBdF9pZHg7CiAgICAgIHRoaXMuZ2V0SW5kZXhPZlBvc2l0aW9uKHgsIHksIGlkeCwgZWRnZUNsYW1wKTsKICAgICAgbGV0IHhpID0gaWR4WzBdOwogICAgICBsZXQgeWkgPSBpZHhbMV07CgogICAgICBpZiAoZWRnZUNsYW1wKSB7CiAgICAgICAgeGkgPSBNYXRoLm1pbihkYXRhLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHhpKSk7CiAgICAgICAgeWkgPSBNYXRoLm1pbihkYXRhWzBdLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHlpKSk7CiAgICAgIH0KCiAgICAgIGNvbnN0IHVwcGVyID0gdGhpcy5nZXRUcmlhbmdsZUF0KHgsIHksIGVkZ2VDbGFtcCwgYSwgYiwgYyk7CiAgICAgIGJhcnljZW50cmljV2VpZ2h0cyh4LCB5LCBhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBnZXRIZWlnaHRBdF93ZWlnaHRzKTsKICAgICAgY29uc3QgdyA9IGdldEhlaWdodEF0X3dlaWdodHM7CgogICAgICBpZiAodXBwZXIpIHsKICAgICAgICAvLyBUb3AgdHJpYW5nbGUgdmVydHMKICAgICAgICByZXR1cm4gZGF0YVt4aSArIDFdW3lpICsgMV0gKiB3LnggKyBkYXRhW3hpXVt5aSArIDFdICogdy55ICsgZGF0YVt4aSArIDFdW3lpXSAqIHcuejsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBUb3AgdHJpYW5nbGUgdmVydHMKICAgICAgICByZXR1cm4gZGF0YVt4aV1beWldICogdy54ICsgZGF0YVt4aSArIDFdW3lpXSAqIHcueSArIGRhdGFbeGldW3lpICsgMV0gKiB3Lno7CiAgICAgIH0KICAgIH0KCiAgICBnZXRDYWNoZUNvbnZleFRyaWFuZ2xlUGlsbGFyS2V5KHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSkgewogICAgICByZXR1cm4geGkgKyAiXyIgKyB5aSArICJfIiArIChnZXRVcHBlclRyaWFuZ2xlID8gMSA6IDApOwogICAgfQoKICAgIGdldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSkgewogICAgICByZXR1cm4gdGhpcy5fY2FjaGVkUGlsbGFyc1t0aGlzLmdldENhY2hlQ29udmV4VHJpYW5nbGVQaWxsYXJLZXkoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKV07CiAgICB9CgogICAgc2V0Q2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlLCBjb252ZXgsIG9mZnNldCkgewogICAgICB0aGlzLl9jYWNoZWRQaWxsYXJzW3RoaXMuZ2V0Q2FjaGVDb252ZXhUcmlhbmdsZVBpbGxhcktleSh4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpXSA9IHsKICAgICAgICBjb252ZXgsCiAgICAgICAgb2Zmc2V0CiAgICAgIH07CiAgICB9CgogICAgY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpIHsKICAgICAgZGVsZXRlIHRoaXMuX2NhY2hlZFBpbGxhcnNbdGhpcy5nZXRDYWNoZUNvbnZleFRyaWFuZ2xlUGlsbGFyS2V5KHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSldOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgYSB0cmlhbmdsZSBmcm9tIHRoZSBoZWlnaHRmaWVsZAogICAgICogQHBhcmFtICB7bnVtYmVyfSB4aQogICAgICogQHBhcmFtICB7bnVtYmVyfSB5aQogICAgICogQHBhcmFtICB7Ym9vbGVhbn0gdXBwZXIKICAgICAqIEBwYXJhbSAge1ZlYzN9IGEKICAgICAqIEBwYXJhbSAge1ZlYzN9IGIKICAgICAqIEBwYXJhbSAge1ZlYzN9IGMKICAgICAqLwoKCiAgICBnZXRUcmlhbmdsZSh4aSwgeWksIHVwcGVyLCBhLCBiLCBjKSB7CiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5lbGVtZW50U2l6ZTsKCiAgICAgIGlmICh1cHBlcikgewogICAgICAgIC8vIFRvcCB0cmlhbmdsZSB2ZXJ0cwogICAgICAgIGEuc2V0KCh4aSArIDEpICogZWxlbWVudFNpemUsICh5aSArIDEpICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aSArIDFdKTsKICAgICAgICBiLnNldCh4aSAqIGVsZW1lbnRTaXplLCAoeWkgKyAxKSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aSArIDFdKTsKICAgICAgICBjLnNldCgoeGkgKyAxKSAqIGVsZW1lbnRTaXplLCB5aSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWldKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBUb3AgdHJpYW5nbGUgdmVydHMKICAgICAgICBhLnNldCh4aSAqIGVsZW1lbnRTaXplLCB5aSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aV0pOwogICAgICAgIGIuc2V0KCh4aSArIDEpICogZWxlbWVudFNpemUsIHlpICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aV0pOwogICAgICAgIGMuc2V0KHhpICogZWxlbWVudFNpemUsICh5aSArIDEpICogZWxlbWVudFNpemUsIGRhdGFbeGldW3lpICsgMV0pOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIEdldCBhIHRyaWFuZ2xlIGluIHRoZSB0ZXJyYWluIGluIHRoZSBmb3JtIG9mIGEgdHJpYW5ndWxhciBjb252ZXggc2hhcGUuCiAgICAgKiBAbWV0aG9kIGdldENvbnZleFRyaWFuZ2xlUGlsbGFyCiAgICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBpCiAgICAgKiBAcGFyYW0gIHtpbnRlZ2VyfSBqCiAgICAgKiBAcGFyYW0gIHtib29sZWFufSBnZXRVcHBlclRyaWFuZ2xlCiAgICAgKi8KCgogICAgZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKSB7CiAgICAgIGxldCByZXN1bHQgPSB0aGlzLnBpbGxhckNvbnZleDsKICAgICAgbGV0IG9mZnNldFJlc3VsdCA9IHRoaXMucGlsbGFyT2Zmc2V0OwoKICAgICAgaWYgKHRoaXMuY2FjaGVFbmFibGVkKSB7CiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZ2V0Q2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKTsKCiAgICAgICAgaWYgKGRhdGEpIHsKICAgICAgICAgIHRoaXMucGlsbGFyQ29udmV4ID0gZGF0YS5jb252ZXg7CiAgICAgICAgICB0aGlzLnBpbGxhck9mZnNldCA9IGRhdGEub2Zmc2V0OwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgcmVzdWx0ID0gbmV3IENvbnZleFBvbHloZWRyb24oKTsKICAgICAgICBvZmZzZXRSZXN1bHQgPSBuZXcgVmVjMygpOwogICAgICAgIHRoaXMucGlsbGFyQ29udmV4ID0gcmVzdWx0OwogICAgICAgIHRoaXMucGlsbGFyT2Zmc2V0ID0gb2Zmc2V0UmVzdWx0OwogICAgICB9CgogICAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhOwogICAgICBjb25zdCBlbGVtZW50U2l6ZSA9IHRoaXMuZWxlbWVudFNpemU7CiAgICAgIGNvbnN0IGZhY2VzID0gcmVzdWx0LmZhY2VzOyAvLyBSZXVzZSB2ZXJ0cyBpZiBwb3NzaWJsZQoKICAgICAgcmVzdWx0LnZlcnRpY2VzLmxlbmd0aCA9IDY7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykgewogICAgICAgIGlmICghcmVzdWx0LnZlcnRpY2VzW2ldKSB7CiAgICAgICAgICByZXN1bHQudmVydGljZXNbaV0gPSBuZXcgVmVjMygpOwogICAgICAgIH0KICAgICAgfSAvLyBSZXVzZSBmYWNlcyBpZiBwb3NzaWJsZQoKCiAgICAgIGZhY2VzLmxlbmd0aCA9IDU7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykgewogICAgICAgIGlmICghZmFjZXNbaV0pIHsKICAgICAgICAgIGZhY2VzW2ldID0gW107CiAgICAgICAgfQogICAgICB9CgogICAgICBjb25zdCB2ZXJ0cyA9IHJlc3VsdC52ZXJ0aWNlczsKICAgICAgY29uc3QgaCA9IChNYXRoLm1pbihkYXRhW3hpXVt5aV0sIGRhdGFbeGkgKyAxXVt5aV0sIGRhdGFbeGldW3lpICsgMV0sIGRhdGFbeGkgKyAxXVt5aSArIDFdKSAtIHRoaXMubWluVmFsdWUpIC8gMiArIHRoaXMubWluVmFsdWU7CgogICAgICBpZiAoIWdldFVwcGVyVHJpYW5nbGUpIHsKICAgICAgICAvLyBDZW50ZXIgb2YgdGhlIHRyaWFuZ2xlIHBpbGxhciAtIGFsbCBwb2x5Z29ucyBhcmUgZ2l2ZW4gcmVsYXRpdmUgdG8gdGhpcyBvbmUKICAgICAgICBvZmZzZXRSZXN1bHQuc2V0KCh4aSArIDAuMjUpICogZWxlbWVudFNpemUsIC8vIHNvcnQgb2YgY2VudGVyIG9mIGEgdHJpYW5nbGUKICAgICAgICAoeWkgKyAwLjI1KSAqIGVsZW1lbnRTaXplLCBoIC8vIHZlcnRpY2FsIGNlbnRlcgogICAgICAgICk7IC8vIFRvcCB0cmlhbmdsZSB2ZXJ0cwoKICAgICAgICB2ZXJ0c1swXS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuMjUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWldIC0gaCk7CiAgICAgICAgdmVydHNbMV0uc2V0KDAuNzUgKiBlbGVtZW50U2l6ZSwgLTAuMjUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpXSAtIGgpOwogICAgICAgIHZlcnRzWzJdLnNldCgtMC4yNSAqIGVsZW1lbnRTaXplLCAwLjc1ICogZWxlbWVudFNpemUsIGRhdGFbeGldW3lpICsgMV0gLSBoKTsgLy8gYm90dG9tIHRyaWFuZ2xlIHZlcnRzCgogICAgICAgIHZlcnRzWzNdLnNldCgtMC4yNSAqIGVsZW1lbnRTaXplLCAtMC4yNSAqIGVsZW1lbnRTaXplLCAtTWF0aC5hYnMoaCkgLSAxKTsKICAgICAgICB2ZXJ0c1s0XS5zZXQoMC43NSAqIGVsZW1lbnRTaXplLCAtMC4yNSAqIGVsZW1lbnRTaXplLCAtTWF0aC5hYnMoaCkgLSAxKTsKICAgICAgICB2ZXJ0c1s1XS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgMC43NSAqIGVsZW1lbnRTaXplLCAtTWF0aC5hYnMoaCkgLSAxKTsgLy8gdG9wIHRyaWFuZ2xlCgogICAgICAgIGZhY2VzWzBdWzBdID0gMDsKICAgICAgICBmYWNlc1swXVsxXSA9IDE7CiAgICAgICAgZmFjZXNbMF1bMl0gPSAyOyAvLyBib3R0b20gdHJpYW5nbGUKCiAgICAgICAgZmFjZXNbMV1bMF0gPSA1OwogICAgICAgIGZhY2VzWzFdWzFdID0gNDsKICAgICAgICBmYWNlc1sxXVsyXSA9IDM7IC8vIC14IGZhY2luZyBxdWFkCgogICAgICAgIGZhY2VzWzJdWzBdID0gMDsKICAgICAgICBmYWNlc1syXVsxXSA9IDI7CiAgICAgICAgZmFjZXNbMl1bMl0gPSA1OwogICAgICAgIGZhY2VzWzJdWzNdID0gMzsgLy8gLXkgZmFjaW5nIHF1YWQKCiAgICAgICAgZmFjZXNbM11bMF0gPSAxOwogICAgICAgIGZhY2VzWzNdWzFdID0gMDsKICAgICAgICBmYWNlc1szXVsyXSA9IDM7CiAgICAgICAgZmFjZXNbM11bM10gPSA0OyAvLyAreHkgZmFjaW5nIHF1YWQKCiAgICAgICAgZmFjZXNbNF1bMF0gPSA0OwogICAgICAgIGZhY2VzWzRdWzFdID0gNTsKICAgICAgICBmYWNlc1s0XVsyXSA9IDI7CiAgICAgICAgZmFjZXNbNF1bM10gPSAxOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIENlbnRlciBvZiB0aGUgdHJpYW5nbGUgcGlsbGFyIC0gYWxsIHBvbHlnb25zIGFyZSBnaXZlbiByZWxhdGl2ZSB0byB0aGlzIG9uZQogICAgICAgIG9mZnNldFJlc3VsdC5zZXQoKHhpICsgMC43NSkgKiBlbGVtZW50U2l6ZSwgLy8gc29ydCBvZiBjZW50ZXIgb2YgYSB0cmlhbmdsZQogICAgICAgICh5aSArIDAuNzUpICogZWxlbWVudFNpemUsIGggLy8gdmVydGljYWwgY2VudGVyCiAgICAgICAgKTsgLy8gVG9wIHRyaWFuZ2xlIHZlcnRzCgogICAgICAgIHZlcnRzWzBdLnNldCgwLjI1ICogZWxlbWVudFNpemUsIDAuMjUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpICsgMV0gLSBoKTsKICAgICAgICB2ZXJ0c1sxXS5zZXQoLTAuNzUgKiBlbGVtZW50U2l6ZSwgMC4yNSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aSArIDFdIC0gaCk7CiAgICAgICAgdmVydHNbMl0uc2V0KDAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuNzUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpXSAtIGgpOyAvLyBib3R0b20gdHJpYW5nbGUgdmVydHMKCiAgICAgICAgdmVydHNbM10uc2V0KDAuMjUgKiBlbGVtZW50U2l6ZSwgMC4yNSAqIGVsZW1lbnRTaXplLCAtTWF0aC5hYnMoaCkgLSAxKTsKICAgICAgICB2ZXJ0c1s0XS5zZXQoLTAuNzUgKiBlbGVtZW50U2l6ZSwgMC4yNSAqIGVsZW1lbnRTaXplLCAtTWF0aC5hYnMoaCkgLSAxKTsKICAgICAgICB2ZXJ0c1s1XS5zZXQoMC4yNSAqIGVsZW1lbnRTaXplLCAtMC43NSAqIGVsZW1lbnRTaXplLCAtTWF0aC5hYnMoaCkgLSAxKTsgLy8gVG9wIHRyaWFuZ2xlCgogICAgICAgIGZhY2VzWzBdWzBdID0gMDsKICAgICAgICBmYWNlc1swXVsxXSA9IDE7CiAgICAgICAgZmFjZXNbMF1bMl0gPSAyOyAvLyBib3R0b20gdHJpYW5nbGUKCiAgICAgICAgZmFjZXNbMV1bMF0gPSA1OwogICAgICAgIGZhY2VzWzFdWzFdID0gNDsKICAgICAgICBmYWNlc1sxXVsyXSA9IDM7IC8vICt4IGZhY2luZyBxdWFkCgogICAgICAgIGZhY2VzWzJdWzBdID0gMjsKICAgICAgICBmYWNlc1syXVsxXSA9IDU7CiAgICAgICAgZmFjZXNbMl1bMl0gPSAzOwogICAgICAgIGZhY2VzWzJdWzNdID0gMDsgLy8gK3kgZmFjaW5nIHF1YWQKCiAgICAgICAgZmFjZXNbM11bMF0gPSAzOwogICAgICAgIGZhY2VzWzNdWzFdID0gNDsKICAgICAgICBmYWNlc1szXVsyXSA9IDE7CiAgICAgICAgZmFjZXNbM11bM10gPSAwOyAvLyAteHkgZmFjaW5nIHF1YWQKCiAgICAgICAgZmFjZXNbNF1bMF0gPSAxOwogICAgICAgIGZhY2VzWzRdWzFdID0gNDsKICAgICAgICBmYWNlc1s0XVsyXSA9IDU7CiAgICAgICAgZmFjZXNbNF1bM10gPSAyOwogICAgICB9CgogICAgICByZXN1bHQuY29tcHV0ZU5vcm1hbHMoKTsKICAgICAgcmVzdWx0LmNvbXB1dGVFZGdlcygpOwogICAgICByZXN1bHQudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTsKICAgICAgdGhpcy5zZXRDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUsIHJlc3VsdCwgb2Zmc2V0UmVzdWx0KTsKICAgIH0KCiAgICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0ID0gbmV3IFZlYzMoKSkgewogICAgICB0YXJnZXQuc2V0KDAsIDAsIDApOwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQoKICAgIHZvbHVtZSgpIHsKICAgICAgcmV0dXJuICgvLyBUaGUgdGVycmFpbiBpcyBpbmZpbml0ZQogICAgICAgIE51bWJlci5NQVhfVkFMVUUKICAgICAgKTsKICAgIH0KCiAgICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkgewogICAgICAvLyBUT0RPOiBkbyBpdCBwcm9wZXJseQogICAgICBtaW4uc2V0KC1OdW1iZXIuTUFYX1ZBTFVFLCAtTnVtYmVyLk1BWF9WQUxVRSwgLU51bWJlci5NQVhfVkFMVUUpOwogICAgICBtYXguc2V0KE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUpOwogICAgfQoKICAgIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkgewogICAgICAvLyBVc2UgdGhlIGJvdW5kaW5nIGJveCBvZiB0aGUgbWluL21heCB2YWx1ZXMKICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKICAgICAgY29uc3QgcyA9IHRoaXMuZWxlbWVudFNpemU7CiAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSBuZXcgVmVjMyhkYXRhLmxlbmd0aCAqIHMsIGRhdGFbMF0ubGVuZ3RoICogcywgTWF0aC5tYXgoTWF0aC5hYnModGhpcy5tYXhWYWx1ZSksIE1hdGguYWJzKHRoaXMubWluVmFsdWUpKSkubGVuZ3RoKCk7CiAgICB9CiAgICAvKioKICAgICAqIFNldHMgdGhlIGhlaWdodCB2YWx1ZXMgZnJvbSBhbiBpbWFnZS4gQ3VycmVudGx5IG9ubHkgc3VwcG9ydGVkIGluIGJyb3dzZXIuCiAgICAgKiBAbWV0aG9kIHNldEhlaWdodHNGcm9tSW1hZ2UKICAgICAqIEBwYXJhbSB7SW1hZ2V9IGltYWdlCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHNjYWxlCiAgICAgKi8KCgogICAgc2V0SGVpZ2h0c0Zyb21JbWFnZShpbWFnZSwgc2NhbGUpIHsKICAgICAgY29uc3QgewogICAgICAgIHgsCiAgICAgICAgeiwKICAgICAgICB5CiAgICAgIH0gPSBzY2FsZTsKICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgIGNhbnZhcy53aWR0aCA9IGltYWdlLndpZHRoOwogICAgICBjYW52YXMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0OwogICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCAwLCAwKTsKICAgICAgY29uc3QgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCk7CiAgICAgIGNvbnN0IG1hdHJpeCA9IHRoaXMuZGF0YTsKICAgICAgbWF0cml4Lmxlbmd0aCA9IDA7CiAgICAgIHRoaXMuZWxlbWVudFNpemUgPSBNYXRoLmFicyh4KSAvIGltYWdlRGF0YS53aWR0aDsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW1hZ2VEYXRhLmhlaWdodDsgaSsrKSB7CiAgICAgICAgY29uc3Qgcm93ID0gW107CgogICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaW1hZ2VEYXRhLndpZHRoOyBqKyspIHsKICAgICAgICAgIGNvbnN0IGEgPSBpbWFnZURhdGEuZGF0YVsoaSAqIGltYWdlRGF0YS5oZWlnaHQgKyBqKSAqIDRdOwogICAgICAgICAgY29uc3QgYiA9IGltYWdlRGF0YS5kYXRhWyhpICogaW1hZ2VEYXRhLmhlaWdodCArIGopICogNCArIDFdOwogICAgICAgICAgY29uc3QgYyA9IGltYWdlRGF0YS5kYXRhWyhpICogaW1hZ2VEYXRhLmhlaWdodCArIGopICogNCArIDJdOwogICAgICAgICAgY29uc3QgaGVpZ2h0ID0gKGEgKyBiICsgYykgLyA0IC8gMjU1ICogejsKCiAgICAgICAgICBpZiAoeCA8IDApIHsKICAgICAgICAgICAgcm93LnB1c2goaGVpZ2h0KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJvdy51bnNoaWZ0KGhlaWdodCk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoeSA8IDApIHsKICAgICAgICAgIG1hdHJpeC51bnNoaWZ0KHJvdyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1hdHJpeC5wdXNoKHJvdyk7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLnVwZGF0ZU1heFZhbHVlKCk7CiAgICAgIHRoaXMudXBkYXRlTWluVmFsdWUoKTsKICAgICAgdGhpcy51cGRhdGUoKTsKICAgIH0KCiAgfQoKICBjb25zdCBnZXRIZWlnaHRBdF9pZHggPSBbXTsKICBjb25zdCBnZXRIZWlnaHRBdF93ZWlnaHRzID0gbmV3IFZlYzMoKTsKICBjb25zdCBnZXRIZWlnaHRBdF9hID0gbmV3IFZlYzMoKTsKICBjb25zdCBnZXRIZWlnaHRBdF9iID0gbmV3IFZlYzMoKTsKICBjb25zdCBnZXRIZWlnaHRBdF9jID0gbmV3IFZlYzMoKTsKICBjb25zdCBnZXROb3JtYWxBdF9hID0gbmV3IFZlYzMoKTsKICBjb25zdCBnZXROb3JtYWxBdF9iID0gbmV3IFZlYzMoKTsKICBjb25zdCBnZXROb3JtYWxBdF9jID0gbmV3IFZlYzMoKTsKICBjb25zdCBnZXROb3JtYWxBdF9lMCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgZ2V0Tm9ybWFsQXRfZTEgPSBuZXcgVmVjMygpOyAvLyBmcm9tIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0JhcnljZW50cmljX2Nvb3JkaW5hdGVfc3lzdGVtCgogIGZ1bmN0aW9uIGJhcnljZW50cmljV2VpZ2h0cyh4LCB5LCBheCwgYXksIGJ4LCBieSwgY3gsIGN5LCByZXN1bHQpIHsKICAgIHJlc3VsdC54ID0gKChieSAtIGN5KSAqICh4IC0gY3gpICsgKGN4IC0gYngpICogKHkgLSBjeSkpIC8gKChieSAtIGN5KSAqIChheCAtIGN4KSArIChjeCAtIGJ4KSAqIChheSAtIGN5KSk7CiAgICByZXN1bHQueSA9ICgoY3kgLSBheSkgKiAoeCAtIGN4KSArIChheCAtIGN4KSAqICh5IC0gY3kpKSAvICgoYnkgLSBjeSkgKiAoYXggLSBjeCkgKyAoY3ggLSBieCkgKiAoYXkgLSBjeSkpOwogICAgcmVzdWx0LnogPSAxIC0gcmVzdWx0LnggLSByZXN1bHQueTsKICB9CiAgLyoqCiAgICogQGNsYXNzIE9jdHJlZU5vZGUKICAgKiBAY29uc3RydWN0b3IKICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdCiAgICogQHBhcmFtIHtPY3RyZWV9IFtvcHRpb25zLnJvb3RdCiAgICogQHBhcmFtIHtBQUJCfSBbb3B0aW9ucy5hYWJiXQogICAqLwoKCiAgY2xhc3MgT2N0cmVlTm9kZSB7CiAgICAvLyBUaGUgcm9vdCBub2RlCiAgICAvLyBCb3VuZGFyeSBvZiB0aGlzIG5vZGUKICAgIC8vIENvbnRhaW5lZCBkYXRhIGF0IHRoZSBjdXJyZW50IG5vZGUgbGV2ZWwKICAgIC8vIENoaWxkcmVuIHRvIHRoaXMgbm9kZQogICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7CiAgICAgIHRoaXMucm9vdCA9IG9wdGlvbnMucm9vdCB8fCBudWxsOwogICAgICB0aGlzLmFhYmIgPSBvcHRpb25zLmFhYmIgPyBvcHRpb25zLmFhYmIuY2xvbmUoKSA6IG5ldyBBQUJCKCk7CiAgICAgIHRoaXMuZGF0YSA9IFtdOwogICAgICB0aGlzLmNoaWxkcmVuID0gW107CiAgICB9CgogICAgcmVzZXQoKSB7CiAgICAgIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID0gdGhpcy5kYXRhLmxlbmd0aCA9IDA7CiAgICB9CiAgICAvKioKICAgICAqIEluc2VydCBkYXRhIGludG8gdGhpcyBub2RlCiAgICAgKiBAbWV0aG9kIGluc2VydAogICAgICogQHBhcmFtICB7QUFCQn0gYWFiYgogICAgICogQHBhcmFtICB7b2JqZWN0fSBlbGVtZW50RGF0YQogICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBzdWNjZXNzZnVsLCBvdGhlcndpc2UgZmFsc2UKICAgICAqLwoKCiAgICBpbnNlcnQoYWFiYiwgZWxlbWVudERhdGEsIGxldmVsID0gMCkgewogICAgICBjb25zdCBub2RlRGF0YSA9IHRoaXMuZGF0YTsgLy8gSWdub3JlIG9iamVjdHMgdGhhdCBkbyBub3QgYmVsb25nIGluIHRoaXMgbm9kZQoKICAgICAgaWYgKCF0aGlzLmFhYmIuY29udGFpbnMoYWFiYikpIHsKICAgICAgICByZXR1cm4gZmFsc2U7IC8vIG9iamVjdCBjYW5ub3QgYmUgYWRkZWQKICAgICAgfQoKICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuOwogICAgICBjb25zdCBtYXhEZXB0aCA9IHRoaXMubWF4RGVwdGggfHwgdGhpcy5yb290Lm1heERlcHRoOwoKICAgICAgaWYgKGxldmVsIDwgbWF4RGVwdGgpIHsKICAgICAgICAvLyBTdWJkaXZpZGUgaWYgdGhlcmUgYXJlIG5vIGNoaWxkcmVuIHlldAogICAgICAgIGxldCBzdWJkaXZpZGVkID0gZmFsc2U7CgogICAgICAgIGlmICghY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLnN1YmRpdmlkZSgpOwogICAgICAgICAgc3ViZGl2aWRlZCA9IHRydWU7CiAgICAgICAgfSAvLyBhZGQgdG8gd2hpY2hldmVyIG5vZGUgd2lsbCBhY2NlcHQgaXQKCgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSA4OyBpKyspIHsKICAgICAgICAgIGlmIChjaGlsZHJlbltpXS5pbnNlcnQoYWFiYiwgZWxlbWVudERhdGEsIGxldmVsICsgMSkpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoc3ViZGl2aWRlZCkgewogICAgICAgICAgLy8gTm8gY2hpbGRyZW4gYWNjZXB0ZWQhIE1pZ2h0IGFzIHdlbGwganVzdCByZW1vdmUgZW0gc2luY2UgdGhleSBjb250YWluIG5vbmUKICAgICAgICAgIGNoaWxkcmVuLmxlbmd0aCA9IDA7CiAgICAgICAgfQogICAgICB9IC8vIFRvbyBkZWVwLCBvciBjaGlsZHJlbiBkaWRudCB3YW50IGl0LiBhZGQgaXQgaW4gY3VycmVudCBub2RlCgoKICAgICAgbm9kZURhdGEucHVzaChlbGVtZW50RGF0YSk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgLyoqCiAgICAgKiBDcmVhdGUgOCBlcXVhbGx5IHNpemVkIGNoaWxkcmVuIG5vZGVzIGFuZCBwdXQgdGhlbSBpbiB0aGUgLmNoaWxkcmVuIGFycmF5LgogICAgICogQG1ldGhvZCBzdWJkaXZpZGUKICAgICAqLwoKCiAgICBzdWJkaXZpZGUoKSB7CiAgICAgIGNvbnN0IGFhYmIgPSB0aGlzLmFhYmI7CiAgICAgIGNvbnN0IGwgPSBhYWJiLmxvd2VyQm91bmQ7CiAgICAgIGNvbnN0IHUgPSBhYWJiLnVwcGVyQm91bmQ7CiAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjsKICAgICAgY2hpbGRyZW4ucHVzaChuZXcgT2N0cmVlTm9kZSh7CiAgICAgICAgYWFiYjogbmV3IEFBQkIoewogICAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMCwgMCwgMCkKICAgICAgICB9KQogICAgICB9KSwgbmV3IE9jdHJlZU5vZGUoewogICAgICAgIGFhYmI6IG5ldyBBQUJCKHsKICAgICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDEsIDAsIDApCiAgICAgICAgfSkKICAgICAgfSksIG5ldyBPY3RyZWVOb2RlKHsKICAgICAgICBhYWJiOiBuZXcgQUFCQih7CiAgICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygxLCAxLCAwKQogICAgICAgIH0pCiAgICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7CiAgICAgICAgYWFiYjogbmV3IEFBQkIoewogICAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMSwgMSwgMSkKICAgICAgICB9KQogICAgICB9KSwgbmV3IE9jdHJlZU5vZGUoewogICAgICAgIGFhYmI6IG5ldyBBQUJCKHsKICAgICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDAsIDEsIDEpCiAgICAgICAgfSkKICAgICAgfSksIG5ldyBPY3RyZWVOb2RlKHsKICAgICAgICBhYWJiOiBuZXcgQUFCQih7CiAgICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygwLCAwLCAxKQogICAgICAgIH0pCiAgICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7CiAgICAgICAgYWFiYjogbmV3IEFBQkIoewogICAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMSwgMCwgMSkKICAgICAgICB9KQogICAgICB9KSwgbmV3IE9jdHJlZU5vZGUoewogICAgICAgIGFhYmI6IG5ldyBBQUJCKHsKICAgICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDAsIDEsIDApCiAgICAgICAgfSkKICAgICAgfSkpOwogICAgICB1LnZzdWIobCwgaGFsZkRpYWdvbmFsKTsKICAgICAgaGFsZkRpYWdvbmFsLnNjYWxlKDAuNSwgaGFsZkRpYWdvbmFsKTsKICAgICAgY29uc3Qgcm9vdCA9IHRoaXMucm9vdCB8fCB0aGlzOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDg7IGkrKykgewogICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07IC8vIFNldCBjdXJyZW50IG5vZGUgYXMgcm9vdAoKICAgICAgICBjaGlsZC5yb290ID0gcm9vdDsgLy8gQ29tcHV0ZSBib3VuZHMKCiAgICAgICAgY29uc3QgbG93ZXJCb3VuZCA9IGNoaWxkLmFhYmIubG93ZXJCb3VuZDsKICAgICAgICBsb3dlckJvdW5kLnggKj0gaGFsZkRpYWdvbmFsLng7CiAgICAgICAgbG93ZXJCb3VuZC55ICo9IGhhbGZEaWFnb25hbC55OwogICAgICAgIGxvd2VyQm91bmQueiAqPSBoYWxmRGlhZ29uYWwuejsKICAgICAgICBsb3dlckJvdW5kLnZhZGQobCwgbG93ZXJCb3VuZCk7IC8vIFVwcGVyIGJvdW5kIGlzIGFsd2F5cyBsb3dlciBib3VuZCArIGhhbGZEaWFnb25hbAoKICAgICAgICBsb3dlckJvdW5kLnZhZGQoaGFsZkRpYWdvbmFsLCBjaGlsZC5hYWJiLnVwcGVyQm91bmQpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIEdldCBhbGwgZGF0YSwgcG90ZW50aWFsbHkgd2l0aGluIGFuIEFBQkIKICAgICAqIEBtZXRob2QgYWFiYlF1ZXJ5CiAgICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiCiAgICAgKiBAcGFyYW0gIHthcnJheX0gcmVzdWx0CiAgICAgKiBAcmV0dXJuIHthcnJheX0gVGhlICJyZXN1bHQiIG9iamVjdAogICAgICovCgoKICAgIGFhYmJRdWVyeShhYWJiLCByZXN1bHQpIHsKICAgICAgdGhpcy5kYXRhOyAvLyBhYm9ydCBpZiB0aGUgcmFuZ2UgZG9lcyBub3QgaW50ZXJzZWN0IHRoaXMgbm9kZQogICAgICAvLyBpZiAoIXRoaXMuYWFiYi5vdmVybGFwcyhhYWJiKSl7CiAgICAgIC8vICAgICByZXR1cm4gcmVzdWx0OwogICAgICAvLyB9CiAgICAgIC8vIEFkZCBvYmplY3RzIGF0IHRoaXMgbGV2ZWwKICAgICAgLy8gQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkocmVzdWx0LCBub2RlRGF0YSk7CiAgICAgIC8vIEFkZCBjaGlsZCBkYXRhCiAgICAgIC8vIEB0b2RvIHVud3JhcCByZWN1cnNpb24gaW50byBhIHF1ZXVlIC8gbG9vcCwgdGhhdCdzIGZhc3RlciBpbiBKUwoKICAgICAgdGhpcy5jaGlsZHJlbjsgLy8gZm9yIChsZXQgaSA9IDAsIE4gPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIC8vICAgICBjaGlsZHJlbltpXS5hYWJiUXVlcnkoYWFiYiwgcmVzdWx0KTsKICAgICAgLy8gfQoKICAgICAgY29uc3QgcXVldWUgPSBbdGhpc107CgogICAgICB3aGlsZSAocXVldWUubGVuZ3RoKSB7CiAgICAgICAgY29uc3Qgbm9kZSA9IHF1ZXVlLnBvcCgpOwoKICAgICAgICBpZiAobm9kZS5hYWJiLm92ZXJsYXBzKGFhYmIpKSB7CiAgICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShyZXN1bHQsIG5vZGUuZGF0YSk7CiAgICAgICAgfQoKICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShxdWV1ZSwgbm9kZS5jaGlsZHJlbik7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICAvKioKICAgICAqIEdldCBhbGwgZGF0YSwgcG90ZW50aWFsbHkgaW50ZXJzZWN0ZWQgYnkgYSByYXkuCiAgICAgKiBAbWV0aG9kIHJheVF1ZXJ5CiAgICAgKiBAcGFyYW0gIHtSYXl9IHJheQogICAgICogQHBhcmFtICB7VHJhbnNmb3JtfSB0cmVlVHJhbnNmb3JtCiAgICAgKiBAcGFyYW0gIHthcnJheX0gcmVzdWx0CiAgICAgKiBAcmV0dXJuIHthcnJheX0gVGhlICJyZXN1bHQiIG9iamVjdAogICAgICovCgoKICAgIHJheVF1ZXJ5KHJheSwgdHJlZVRyYW5zZm9ybSwgcmVzdWx0KSB7CiAgICAgIC8vIFVzZSBhYWJiIHF1ZXJ5IGZvciBub3cuCiAgICAgIC8vIEB0b2RvIGltcGxlbWVudCByZWFsIHJheSBxdWVyeSB3aGljaCBuZWVkcyBsZXNzIGxvb2t1cHMKICAgICAgcmF5LmdldEFBQkIodG1wQUFCQiQxKTsKICAgICAgdG1wQUFCQiQxLnRvTG9jYWxGcmFtZSh0cmVlVHJhbnNmb3JtLCB0bXBBQUJCJDEpOwogICAgICB0aGlzLmFhYmJRdWVyeSh0bXBBQUJCJDEsIHJlc3VsdCk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2QgcmVtb3ZlRW1wdHlOb2RlcwogICAgICovCgoKICAgIHJlbW92ZUVtcHR5Tm9kZXMoKSB7CiAgICAgIGZvciAobGV0IGkgPSB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW1vdmVFbXB0eU5vZGVzKCk7CgogICAgICAgIGlmICghdGhpcy5jaGlsZHJlbltpXS5jaGlsZHJlbi5sZW5ndGggJiYgIXRoaXMuY2hpbGRyZW5baV0uZGF0YS5sZW5ndGgpIHsKICAgICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGksIDEpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICB9CiAgLyoqCiAgICogQGNsYXNzIE9jdHJlZQogICAqIEBwYXJhbSB7QUFCQn0gYWFiYiBUaGUgdG90YWwgQUFCQiBvZiB0aGUgdHJlZQogICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10KICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4RGVwdGg9OF0gTWF4aW11bSBzdWJkaXZpc2lvbiBkZXB0aAogICAqIEBleHRlbmRzIE9jdHJlZU5vZGUKICAgKi8KCgogIGNsYXNzIE9jdHJlZSBleHRlbmRzIE9jdHJlZU5vZGUgewogICAgLy8gTWF4aW11bSBzdWJkaXZpc2lvbiBkZXB0aAogICAgY29uc3RydWN0b3IoYWFiYiwgb3B0aW9ucyA9IHt9KSB7CiAgICAgIHN1cGVyKHsKICAgICAgICByb290OiBudWxsLAogICAgICAgIGFhYmIKICAgICAgfSk7CiAgICAgIHRoaXMubWF4RGVwdGggPSB0eXBlb2Ygb3B0aW9ucy5tYXhEZXB0aCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heERlcHRoIDogODsKICAgIH0KCiAgfQoKICBjb25zdCBoYWxmRGlhZ29uYWwgPSBuZXcgVmVjMygpOwogIGNvbnN0IHRtcEFBQkIkMSA9IG5ldyBBQUJCKCk7CiAgLyoqCiAgICogQGNsYXNzIFRyaW1lc2gKICAgKiBAY29uc3RydWN0b3IKICAgKiBAcGFyYW0ge2FycmF5fSB2ZXJ0aWNlcwogICAqIEBwYXJhbSB7YXJyYXl9IGluZGljZXMKICAgKiBAZXh0ZW5kcyBTaGFwZQogICAqIEBleGFtcGxlCiAgICogICAgIC8vIEhvdyB0byBtYWtlIGEgbWVzaCB3aXRoIGEgc2luZ2xlIHRyaWFuZ2xlCiAgICogICAgIGNvbnN0IHZlcnRpY2VzID0gWwogICAqICAgICAgICAgMCwgMCwgMCwgLy8gdmVydGV4IDAKICAgKiAgICAgICAgIDEsIDAsIDAsIC8vIHZlcnRleCAxCiAgICogICAgICAgICAwLCAxLCAwICAvLyB2ZXJ0ZXggMgogICAqICAgICBdOwogICAqICAgICBjb25zdCBpbmRpY2VzID0gWwogICAqICAgICAgICAgMCwgMSwgMiAgLy8gdHJpYW5nbGUgMAogICAqICAgICBdOwogICAqICAgICBjb25zdCB0cmltZXNoU2hhcGUgPSBuZXcgVHJpbWVzaCh2ZXJ0aWNlcywgaW5kaWNlcyk7CiAgICovCgogIGNsYXNzIFRyaW1lc2ggZXh0ZW5kcyBTaGFwZSB7CiAgICAvLyBBcnJheSBvZiBpbnRlZ2VycywgaW5kaWNhdGluZyB3aGljaCB2ZXJ0aWNlcyBlYWNoIHRyaWFuZ2xlIGNvbnNpc3RzIG9mLiBUaGUgbGVuZ3RoIG9mIHRoaXMgYXJyYXkgaXMgdGh1cyAzIHRpbWVzIHRoZSBudW1iZXIgb2YgdHJpYW5nbGVzLgogICAgLy8gVGhlIG5vcm1hbHMgZGF0YS4KICAgIC8vIFRoZSBsb2NhbCBBQUJCIG9mIHRoZSBtZXNoLgogICAgLy8gUmVmZXJlbmNlcyB0byB2ZXJ0ZXggcGFpcnMsIG1ha2luZyB1cCBhbGwgdW5pcXVlIGVkZ2VzIGluIHRoZSB0cmltZXNoLgogICAgLy8gTG9jYWwgc2NhbGluZyBvZiB0aGUgbWVzaC4gVXNlIC5zZXRTY2FsZSgpIHRvIHNldCBpdC4KICAgIC8vIFRoZSBpbmRleGVkIHRyaWFuZ2xlcy4gVXNlIC51cGRhdGVUcmVlKCkgdG8gdXBkYXRlIGl0LgogICAgY29uc3RydWN0b3IodmVydGljZXMsIGluZGljZXMpIHsKICAgICAgc3VwZXIoewogICAgICAgIHR5cGU6IFNoYXBlLnR5cGVzLlRSSU1FU0gKICAgICAgfSk7CiAgICAgIHRoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRpY2VzKTsKICAgICAgdGhpcy5pbmRpY2VzID0gbmV3IEludDE2QXJyYXkoaW5kaWNlcyk7CiAgICAgIHRoaXMubm9ybWFscyA9IG5ldyBGbG9hdDMyQXJyYXkoaW5kaWNlcy5sZW5ndGgpOwogICAgICB0aGlzLmFhYmIgPSBuZXcgQUFCQigpOwogICAgICB0aGlzLmVkZ2VzID0gbnVsbDsKICAgICAgdGhpcy5zY2FsZSA9IG5ldyBWZWMzKDEsIDEsIDEpOwogICAgICB0aGlzLnRyZWUgPSBuZXcgT2N0cmVlKCk7CiAgICAgIHRoaXMudXBkYXRlRWRnZXMoKTsKICAgICAgdGhpcy51cGRhdGVOb3JtYWxzKCk7CiAgICAgIHRoaXMudXBkYXRlQUFCQigpOwogICAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7CiAgICAgIHRoaXMudXBkYXRlVHJlZSgpOwogICAgfQogICAgLyoqCiAgICAgKiBAbWV0aG9kIHVwZGF0ZVRyZWUKICAgICAqLwoKCiAgICB1cGRhdGVUcmVlKCkgewogICAgICBjb25zdCB0cmVlID0gdGhpcy50cmVlOwogICAgICB0cmVlLnJlc2V0KCk7CiAgICAgIHRyZWUuYWFiYi5jb3B5KHRoaXMuYWFiYik7CiAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5zY2FsZTsgLy8gVGhlIGxvY2FsIG1lc2ggQUFCQiBpcyBzY2FsZWQsIGJ1dCB0aGUgb2N0cmVlIEFBQkIgc2hvdWxkIGJlIHVuc2NhbGVkCgogICAgICB0cmVlLmFhYmIubG93ZXJCb3VuZC54ICo9IDEgLyBzY2FsZS54OwogICAgICB0cmVlLmFhYmIubG93ZXJCb3VuZC55ICo9IDEgLyBzY2FsZS55OwogICAgICB0cmVlLmFhYmIubG93ZXJCb3VuZC56ICo9IDEgLyBzY2FsZS56OwogICAgICB0cmVlLmFhYmIudXBwZXJCb3VuZC54ICo9IDEgLyBzY2FsZS54OwogICAgICB0cmVlLmFhYmIudXBwZXJCb3VuZC55ICo9IDEgLyBzY2FsZS55OwogICAgICB0cmVlLmFhYmIudXBwZXJCb3VuZC56ICo9IDEgLyBzY2FsZS56OyAvLyBJbnNlcnQgYWxsIHRyaWFuZ2xlcwoKICAgICAgY29uc3QgdHJpYW5nbGVBQUJCID0gbmV3IEFBQkIoKTsKICAgICAgY29uc3QgYSA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IGIgPSBuZXcgVmVjMygpOwogICAgICBjb25zdCBjID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgcG9pbnRzID0gW2EsIGIsIGNdOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluZGljZXMubGVuZ3RoIC8gMzsgaSsrKSB7CiAgICAgICAgLy90aGlzLmdldFRyaWFuZ2xlVmVydGljZXMoaSwgYSwgYiwgYyk7CiAgICAgICAgLy8gR2V0IHVuc2NhbGVkIHRyaWFuZ2xlIHZlcnRzCiAgICAgICAgY29uc3QgaTMgPSBpICogMzsKCiAgICAgICAgdGhpcy5fZ2V0VW5zY2FsZWRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzXSwgYSk7CgogICAgICAgIHRoaXMuX2dldFVuc2NhbGVkVmVydGV4KHRoaXMuaW5kaWNlc1tpMyArIDFdLCBiKTsKCiAgICAgICAgdGhpcy5fZ2V0VW5zY2FsZWRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzICsgMl0sIGMpOwoKICAgICAgICB0cmlhbmdsZUFBQkIuc2V0RnJvbVBvaW50cyhwb2ludHMpOwogICAgICAgIHRyZWUuaW5zZXJ0KHRyaWFuZ2xlQUFCQiwgaSk7CiAgICAgIH0KCiAgICAgIHRyZWUucmVtb3ZlRW1wdHlOb2RlcygpOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdHJpYW5nbGVzIGluIGEgbG9jYWwgQUFCQiBmcm9tIHRoZSB0cmltZXNoLgogICAgICogQG1ldGhvZCBnZXRUcmlhbmdsZXNJbkFBQkIKICAgICAqIEBwYXJhbSAge0FBQkJ9IGFhYmIKICAgICAqIEBwYXJhbSAge2FycmF5fSByZXN1bHQgQW4gYXJyYXkgb2YgaW50ZWdlcnMsIHJlZmVyZW5jaW5nIHRoZSBxdWVyaWVkIHRyaWFuZ2xlcy4KICAgICAqLwoKCiAgICBnZXRUcmlhbmdsZXNJbkFBQkIoYWFiYiwgcmVzdWx0KSB7CiAgICAgIHVuc2NhbGVkQUFCQi5jb3B5KGFhYmIpOyAvLyBTY2FsZSBpdCB0byBsb2NhbAoKICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLnNjYWxlOwogICAgICBjb25zdCBpc3ggPSBzY2FsZS54OwogICAgICBjb25zdCBpc3kgPSBzY2FsZS55OwogICAgICBjb25zdCBpc3ogPSBzY2FsZS56OwogICAgICBjb25zdCBsID0gdW5zY2FsZWRBQUJCLmxvd2VyQm91bmQ7CiAgICAgIGNvbnN0IHUgPSB1bnNjYWxlZEFBQkIudXBwZXJCb3VuZDsKICAgICAgbC54IC89IGlzeDsKICAgICAgbC55IC89IGlzeTsKICAgICAgbC56IC89IGlzejsKICAgICAgdS54IC89IGlzeDsKICAgICAgdS55IC89IGlzeTsKICAgICAgdS56IC89IGlzejsKICAgICAgcmV0dXJuIHRoaXMudHJlZS5hYWJiUXVlcnkodW5zY2FsZWRBQUJCLCByZXN1bHQpOwogICAgfQogICAgLyoqCiAgICAgKiBAbWV0aG9kIHNldFNjYWxlCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHNjYWxlCiAgICAgKi8KCgogICAgc2V0U2NhbGUoc2NhbGUpIHsKICAgICAgY29uc3Qgd2FzVW5pZm9ybSA9IHRoaXMuc2NhbGUueCA9PT0gdGhpcy5zY2FsZS55ICYmIHRoaXMuc2NhbGUueSA9PT0gdGhpcy5zY2FsZS56OwogICAgICBjb25zdCBpc1VuaWZvcm0gPSBzY2FsZS54ID09PSBzY2FsZS55ICYmIHNjYWxlLnkgPT09IHNjYWxlLno7CgogICAgICBpZiAoISh3YXNVbmlmb3JtICYmIGlzVW5pZm9ybSkpIHsKICAgICAgICAvLyBOb24tdW5pZm9ybSBzY2FsaW5nLiBOZWVkIHRvIHVwZGF0ZSBub3JtYWxzLgogICAgICAgIHRoaXMudXBkYXRlTm9ybWFscygpOwogICAgICB9CgogICAgICB0aGlzLnNjYWxlLmNvcHkoc2NhbGUpOwogICAgICB0aGlzLnVwZGF0ZUFBQkIoKTsKICAgICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOwogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlIHRoZSBub3JtYWxzIG9mIHRoZSBmYWNlcy4gV2lsbCBzYXZlIGluIHRoZSAubm9ybWFscyBhcnJheS4KICAgICAqIEBtZXRob2QgdXBkYXRlTm9ybWFscwogICAgICovCgoKICAgIHVwZGF0ZU5vcm1hbHMoKSB7CiAgICAgIGNvbnN0IG4gPSBjb21wdXRlTm9ybWFsc19uOyAvLyBHZW5lcmF0ZSBub3JtYWxzCgogICAgICBjb25zdCBub3JtYWxzID0gdGhpcy5ub3JtYWxzOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluZGljZXMubGVuZ3RoIC8gMzsgaSsrKSB7CiAgICAgICAgY29uc3QgaTMgPSBpICogMzsKICAgICAgICBjb25zdCBhID0gdGhpcy5pbmRpY2VzW2kzXTsKICAgICAgICBjb25zdCBiID0gdGhpcy5pbmRpY2VzW2kzICsgMV07CiAgICAgICAgY29uc3QgYyA9IHRoaXMuaW5kaWNlc1tpMyArIDJdOwogICAgICAgIHRoaXMuZ2V0VmVydGV4KGEsIHZhKTsKICAgICAgICB0aGlzLmdldFZlcnRleChiLCB2Yik7CiAgICAgICAgdGhpcy5nZXRWZXJ0ZXgoYywgdmMpOwogICAgICAgIFRyaW1lc2guY29tcHV0ZU5vcm1hbCh2YiwgdmEsIHZjLCBuKTsKICAgICAgICBub3JtYWxzW2kzXSA9IG4ueDsKICAgICAgICBub3JtYWxzW2kzICsgMV0gPSBuLnk7CiAgICAgICAgbm9ybWFsc1tpMyArIDJdID0gbi56OwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFVwZGF0ZSB0aGUgLmVkZ2VzIHByb3BlcnR5CiAgICAgKiBAbWV0aG9kIHVwZGF0ZUVkZ2VzCiAgICAgKi8KCgogICAgdXBkYXRlRWRnZXMoKSB7CiAgICAgIGNvbnN0IGVkZ2VzID0ge307CgogICAgICBjb25zdCBhZGQgPSAoYSwgYikgPT4gewogICAgICAgIGNvbnN0IGtleSA9IGEgPCBiID8gYSArICJfIiArIGIgOiBiICsgIl8iICsgYTsKICAgICAgICBlZGdlc1trZXldID0gdHJ1ZTsKICAgICAgfTsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbmRpY2VzLmxlbmd0aCAvIDM7IGkrKykgewogICAgICAgIGNvbnN0IGkzID0gaSAqIDM7CiAgICAgICAgY29uc3QgYSA9IHRoaXMuaW5kaWNlc1tpM107CiAgICAgICAgY29uc3QgYiA9IHRoaXMuaW5kaWNlc1tpMyArIDFdOwogICAgICAgIGNvbnN0IGMgPSB0aGlzLmluZGljZXNbaTMgKyAyXTsKICAgICAgICBhZGQoYSwgYik7CiAgICAgICAgYWRkKGIsIGMpOwogICAgICAgIGFkZChjLCBhKTsKICAgICAgfQoKICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGVkZ2VzKTsKICAgICAgdGhpcy5lZGdlcyA9IG5ldyBJbnQxNkFycmF5KGtleXMubGVuZ3RoICogMik7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBpbmRpY2VzID0ga2V5c1tpXS5zcGxpdCgnXycpOwogICAgICAgIHRoaXMuZWRnZXNbMiAqIGldID0gcGFyc2VJbnQoaW5kaWNlc1swXSwgMTApOwogICAgICAgIHRoaXMuZWRnZXNbMiAqIGkgKyAxXSA9IHBhcnNlSW50KGluZGljZXNbMV0sIDEwKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBHZXQgYW4gZWRnZSB2ZXJ0ZXgKICAgICAqIEBtZXRob2QgZ2V0RWRnZVZlcnRleAogICAgICogQHBhcmFtICB7bnVtYmVyfSBlZGdlSW5kZXgKICAgICAqIEBwYXJhbSAge251bWJlcn0gZmlyc3RPclNlY29uZCAwIG9yIDEsIGRlcGVuZGluZyBvbiB3aGljaCBvbmUgb2YgdGhlIHZlcnRpY2VzIHlvdSBuZWVkLgogICAgICogQHBhcmFtICB7VmVjM30gdmVydGV4U3RvcmUgV2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdAogICAgICovCgoKICAgIGdldEVkZ2VWZXJ0ZXgoZWRnZUluZGV4LCBmaXJzdE9yU2Vjb25kLCB2ZXJ0ZXhTdG9yZSkgewogICAgICBjb25zdCB2ZXJ0ZXhJbmRleCA9IHRoaXMuZWRnZXNbZWRnZUluZGV4ICogMiArIChmaXJzdE9yU2Vjb25kID8gMSA6IDApXTsKICAgICAgdGhpcy5nZXRWZXJ0ZXgodmVydGV4SW5kZXgsIHZlcnRleFN0b3JlKTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IGEgdmVjdG9yIGFsb25nIGFuIGVkZ2UuCiAgICAgKiBAbWV0aG9kIGdldEVkZ2VWZWN0b3IKICAgICAqIEBwYXJhbSAge251bWJlcn0gZWRnZUluZGV4CiAgICAgKiBAcGFyYW0gIHtWZWMzfSB2ZWN0b3JTdG9yZQogICAgICovCgoKICAgIGdldEVkZ2VWZWN0b3IoZWRnZUluZGV4LCB2ZWN0b3JTdG9yZSkgewogICAgICBjb25zdCB2YSA9IGdldEVkZ2VWZWN0b3JfdmE7CiAgICAgIGNvbnN0IHZiID0gZ2V0RWRnZVZlY3Rvcl92YjsKICAgICAgdGhpcy5nZXRFZGdlVmVydGV4KGVkZ2VJbmRleCwgMCwgdmEpOwogICAgICB0aGlzLmdldEVkZ2VWZXJ0ZXgoZWRnZUluZGV4LCAxLCB2Yik7CiAgICAgIHZiLnZzdWIodmEsIHZlY3RvclN0b3JlKTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IGZhY2Ugbm9ybWFsIGdpdmVuIDMgdmVydGljZXMKICAgICAqIEBzdGF0aWMKICAgICAqIEBtZXRob2QgY29tcHV0ZU5vcm1hbAogICAgICogQHBhcmFtIHtWZWMzfSB2YQogICAgICogQHBhcmFtIHtWZWMzfSB2YgogICAgICogQHBhcmFtIHtWZWMzfSB2YwogICAgICogQHBhcmFtIHtWZWMzfSB0YXJnZXQKICAgICAqLwoKCiAgICBzdGF0aWMgY29tcHV0ZU5vcm1hbCh2YSwgdmIsIHZjLCB0YXJnZXQpIHsKICAgICAgdmIudnN1Yih2YSwgYWIpOwogICAgICB2Yy52c3ViKHZiLCBjYik7CiAgICAgIGNiLmNyb3NzKGFiLCB0YXJnZXQpOwoKICAgICAgaWYgKCF0YXJnZXQuaXNaZXJvKCkpIHsKICAgICAgICB0YXJnZXQubm9ybWFsaXplKCk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogR2V0IHZlcnRleCBpLgogICAgICogQG1ldGhvZCBnZXRWZXJ0ZXgKICAgICAqIEBwYXJhbSAge251bWJlcn0gaQogICAgICogQHBhcmFtICB7VmVjM30gb3V0CiAgICAgKiBAcmV0dXJuIHtWZWMzfSBUaGUgIm91dCIgdmVjdG9yIG9iamVjdAogICAgICovCgoKICAgIGdldFZlcnRleChpLCBvdXQpIHsKICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLnNjYWxlOwoKICAgICAgdGhpcy5fZ2V0VW5zY2FsZWRWZXJ0ZXgoaSwgb3V0KTsKCiAgICAgIG91dC54ICo9IHNjYWxlLng7CiAgICAgIG91dC55ICo9IHNjYWxlLnk7CiAgICAgIG91dC56ICo9IHNjYWxlLno7CiAgICAgIHJldHVybiBvdXQ7CiAgICB9CiAgICAvKioKICAgICAqIEdldCByYXcgdmVydGV4IGkKICAgICAqIEBwcml2YXRlCiAgICAgKiBAbWV0aG9kIF9nZXRVbnNjYWxlZFZlcnRleAogICAgICogQHBhcmFtICB7bnVtYmVyfSBpCiAgICAgKiBAcGFyYW0gIHtWZWMzfSBvdXQKICAgICAqIEByZXR1cm4ge1ZlYzN9IFRoZSAib3V0IiB2ZWN0b3Igb2JqZWN0CiAgICAgKi8KCgogICAgX2dldFVuc2NhbGVkVmVydGV4KGksIG91dCkgewogICAgICBjb25zdCBpMyA9IGkgKiAzOwogICAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7CiAgICAgIHJldHVybiBvdXQuc2V0KHZlcnRpY2VzW2kzXSwgdmVydGljZXNbaTMgKyAxXSwgdmVydGljZXNbaTMgKyAyXSk7CiAgICB9CiAgICAvKioKICAgICAqIEdldCBhIHZlcnRleCBmcm9tIHRoZSB0cmltZXNoLHRyYW5zZm9ybWVkIGJ5IHRoZSBnaXZlbiBwb3NpdGlvbiBhbmQgcXVhdGVybmlvbi4KICAgICAqIEBtZXRob2QgZ2V0V29ybGRWZXJ0ZXgKICAgICAqIEBwYXJhbSAge251bWJlcn0gaQogICAgICogQHBhcmFtICB7VmVjM30gcG9zCiAgICAgKiBAcGFyYW0gIHtRdWF0ZXJuaW9ufSBxdWF0CiAgICAgKiBAcGFyYW0gIHtWZWMzfSBvdXQKICAgICAqIEByZXR1cm4ge1ZlYzN9IFRoZSAib3V0IiB2ZWN0b3Igb2JqZWN0CiAgICAgKi8KCgogICAgZ2V0V29ybGRWZXJ0ZXgoaSwgcG9zLCBxdWF0LCBvdXQpIHsKICAgICAgdGhpcy5nZXRWZXJ0ZXgoaSwgb3V0KTsKICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHBvcywgcXVhdCwgb3V0LCBvdXQpOwogICAgICByZXR1cm4gb3V0OwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIHRocmVlIHZlcnRpY2VzIGZvciB0cmlhbmdsZSBpLgogICAgICogQG1ldGhvZCBnZXRUcmlhbmdsZVZlcnRpY2VzCiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IGkKICAgICAqIEBwYXJhbSAge1ZlYzN9IGEKICAgICAqIEBwYXJhbSAge1ZlYzN9IGIKICAgICAqIEBwYXJhbSAge1ZlYzN9IGMKICAgICAqLwoKCiAgICBnZXRUcmlhbmdsZVZlcnRpY2VzKGksIGEsIGIsIGMpIHsKICAgICAgY29uc3QgaTMgPSBpICogMzsKICAgICAgdGhpcy5nZXRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzXSwgYSk7CiAgICAgIHRoaXMuZ2V0VmVydGV4KHRoaXMuaW5kaWNlc1tpMyArIDFdLCBiKTsKICAgICAgdGhpcy5nZXRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzICsgMl0sIGMpOwogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlIHRoZSBub3JtYWwgb2YgdHJpYW5nbGUgaS4KICAgICAqIEBtZXRob2QgZ2V0Tm9ybWFsCiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGkKICAgICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldAogICAgICogQHJldHVybiB7VmVjM30gVGhlICJ0YXJnZXQiIHZlY3RvciBvYmplY3QKICAgICAqLwoKCiAgICBnZXROb3JtYWwoaSwgdGFyZ2V0KSB7CiAgICAgIGNvbnN0IGkzID0gaSAqIDM7CiAgICAgIHJldHVybiB0YXJnZXQuc2V0KHRoaXMubm9ybWFsc1tpM10sIHRoaXMubm9ybWFsc1tpMyArIDFdLCB0aGlzLm5vcm1hbHNbaTMgKyAyXSk7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2QgY2FsY3VsYXRlTG9jYWxJbmVydGlhCiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG1hc3MKICAgICAqIEBwYXJhbSAge1ZlYzN9IHRhcmdldAogICAgICogQHJldHVybiB7VmVjM30gVGhlICJ0YXJnZXQiIHZlY3RvciBvYmplY3QKICAgICAqLwoKCiAgICBjYWxjdWxhdGVMb2NhbEluZXJ0aWEobWFzcywgdGFyZ2V0KSB7CiAgICAgIC8vIEFwcHJveGltYXRlIHdpdGggYm94IGluZXJ0aWEKICAgICAgLy8gRXhhY3QgaW5lcnRpYSBjYWxjdWxhdGlvbiBpcyBvdmVya2lsbCwgYnV0IHNlZSBodHRwOi8vZ2VvbWV0cmljdG9vbHMuY29tL0RvY3VtZW50YXRpb24vUG9seWhlZHJhbE1hc3NQcm9wZXJ0aWVzLnBkZiBmb3IgdGhlIGNvcnJlY3Qgd2F5IHRvIGRvIGl0CiAgICAgIHRoaXMuY29tcHV0ZUxvY2FsQUFCQihjbGlfYWFiYik7CiAgICAgIGNvbnN0IHggPSBjbGlfYWFiYi51cHBlckJvdW5kLnggLSBjbGlfYWFiYi5sb3dlckJvdW5kLng7CiAgICAgIGNvbnN0IHkgPSBjbGlfYWFiYi51cHBlckJvdW5kLnkgLSBjbGlfYWFiYi5sb3dlckJvdW5kLnk7CiAgICAgIGNvbnN0IHogPSBjbGlfYWFiYi51cHBlckJvdW5kLnogLSBjbGlfYWFiYi5sb3dlckJvdW5kLno7CiAgICAgIHJldHVybiB0YXJnZXQuc2V0KDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB5ICogMiAqIHkgKyAyICogeiAqIDIgKiB6KSwgMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIHggKiAyICogeCArIDIgKiB6ICogMiAqIHopLCAxLjAgLyAxMi4wICogbWFzcyAqICgyICogeSAqIDIgKiB5ICsgMiAqIHggKiAyICogeCkpOwogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlIHRoZSBsb2NhbCBBQUJCIGZvciB0aGUgdHJpbWVzaAogICAgICogQG1ldGhvZCBjb21wdXRlTG9jYWxBQUJCCiAgICAgKiBAcGFyYW0gIHtBQUJCfSBhYWJiCiAgICAgKi8KCgogICAgY29tcHV0ZUxvY2FsQUFCQihhYWJiKSB7CiAgICAgIGNvbnN0IGwgPSBhYWJiLmxvd2VyQm91bmQ7CiAgICAgIGNvbnN0IHUgPSBhYWJiLnVwcGVyQm91bmQ7CiAgICAgIGNvbnN0IG4gPSB0aGlzLnZlcnRpY2VzLmxlbmd0aDsKICAgICAgdGhpcy52ZXJ0aWNlczsKICAgICAgY29uc3QgdiA9IGNvbXB1dGVMb2NhbEFBQkJfd29ybGRWZXJ0OwogICAgICB0aGlzLmdldFZlcnRleCgwLCB2KTsKICAgICAgbC5jb3B5KHYpOwogICAgICB1LmNvcHkodik7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gbjsgaSsrKSB7CiAgICAgICAgdGhpcy5nZXRWZXJ0ZXgoaSwgdik7CgogICAgICAgIGlmICh2LnggPCBsLngpIHsKICAgICAgICAgIGwueCA9IHYueDsKICAgICAgICB9IGVsc2UgaWYgKHYueCA+IHUueCkgewogICAgICAgICAgdS54ID0gdi54OwogICAgICAgIH0KCiAgICAgICAgaWYgKHYueSA8IGwueSkgewogICAgICAgICAgbC55ID0gdi55OwogICAgICAgIH0gZWxzZSBpZiAodi55ID4gdS55KSB7CiAgICAgICAgICB1LnkgPSB2Lnk7CiAgICAgICAgfQoKICAgICAgICBpZiAodi56IDwgbC56KSB7CiAgICAgICAgICBsLnogPSB2Lno7CiAgICAgICAgfSBlbHNlIGlmICh2LnogPiB1LnopIHsKICAgICAgICAgIHUueiA9IHYuejsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogVXBkYXRlIHRoZSAuYWFiYiBwcm9wZXJ0eQogICAgICogQG1ldGhvZCB1cGRhdGVBQUJCCiAgICAgKi8KCgogICAgdXBkYXRlQUFCQigpIHsKICAgICAgdGhpcy5jb21wdXRlTG9jYWxBQUJCKHRoaXMuYWFiYik7CiAgICB9CiAgICAvKioKICAgICAqIFdpbGwgdXBkYXRlIHRoZSAuYm91bmRpbmdTcGhlcmVSYWRpdXMgcHJvcGVydHkKICAgICAqIEBtZXRob2QgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMKICAgICAqLwoKCiAgICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHsKICAgICAgLy8gQXNzdW1lIHBvaW50cyBhcmUgZGlzdHJpYnV0ZWQgd2l0aCBsb2NhbCAoMCwwLDApIGFzIGNlbnRlcgogICAgICBsZXQgbWF4MiA9IDA7CiAgICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlczsKICAgICAgY29uc3QgdiA9IG5ldyBWZWMzKCk7CgogICAgICBmb3IgKGxldCBpID0gMCwgTiA9IHZlcnRpY2VzLmxlbmd0aCAvIDM7IGkgIT09IE47IGkrKykgewogICAgICAgIHRoaXMuZ2V0VmVydGV4KGksIHYpOwogICAgICAgIGNvbnN0IG5vcm0yID0gdi5sZW5ndGhTcXVhcmVkKCk7CgogICAgICAgIGlmIChub3JtMiA+IG1heDIpIHsKICAgICAgICAgIG1heDIgPSBub3JtMjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSBNYXRoLnNxcnQobWF4Mik7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2QgY2FsY3VsYXRlV29ybGRBQUJCCiAgICAgKiBAcGFyYW0ge1ZlYzN9ICAgICAgICBwb3MKICAgICAqIEBwYXJhbSB7UXVhdGVybmlvbn0gIHF1YXQKICAgICAqIEBwYXJhbSB7VmVjM30gICAgICAgIG1pbgogICAgICogQHBhcmFtIHtWZWMzfSAgICAgICAgbWF4CiAgICAgKi8KCgogICAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHsKICAgICAgLyoKICAgICAgICAgIGNvbnN0IG4gPSB0aGlzLnZlcnRpY2VzLmxlbmd0aCAvIDMsCiAgICAgICAgICAgICAgdmVydHMgPSB0aGlzLnZlcnRpY2VzOwogICAgICAgICAgY29uc3QgbWlueCxtaW55LG1pbnosbWF4eCxtYXh5LG1heHo7CiAgICAgICAgICAgY29uc3QgdiA9IHRlbXBXb3JsZFZlcnRleDsKICAgICAgICAgIGZvcihsZXQgaT0wOyBpPG47IGkrKyl7CiAgICAgICAgICAgICAgdGhpcy5nZXRWZXJ0ZXgoaSwgdik7CiAgICAgICAgICAgICAgcXVhdC52bXVsdCh2LCB2KTsKICAgICAgICAgICAgICBwb3MudmFkZCh2LCB2KTsKICAgICAgICAgICAgICBpZiAodi54IDwgbWlueCB8fCBtaW54PT09dW5kZWZpbmVkKXsKICAgICAgICAgICAgICAgICAgbWlueCA9IHYueDsKICAgICAgICAgICAgICB9IGVsc2UgaWYodi54ID4gbWF4eCB8fCBtYXh4PT09dW5kZWZpbmVkKXsKICAgICAgICAgICAgICAgICAgbWF4eCA9IHYueDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgIGlmICh2LnkgPCBtaW55IHx8IG1pbnk9PT11bmRlZmluZWQpewogICAgICAgICAgICAgICAgICBtaW55ID0gdi55OwogICAgICAgICAgICAgIH0gZWxzZSBpZih2LnkgPiBtYXh5IHx8IG1heHk9PT11bmRlZmluZWQpewogICAgICAgICAgICAgICAgICBtYXh5ID0gdi55OwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgaWYgKHYueiA8IG1pbnogfHwgbWluej09PXVuZGVmaW5lZCl7CiAgICAgICAgICAgICAgICAgIG1pbnogPSB2Lno7CiAgICAgICAgICAgICAgfSBlbHNlIGlmKHYueiA+IG1heHogfHwgbWF4ej09PXVuZGVmaW5lZCl7CiAgICAgICAgICAgICAgICAgIG1heHogPSB2Lno7CiAgICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgbWluLnNldChtaW54LG1pbnksbWlueik7CiAgICAgICAgICBtYXguc2V0KG1heHgsbWF4eSxtYXh6KTsKICAgICAgICAgICovCiAgICAgIC8vIEZhc3RlciBhcHByb3hpbWF0aW9uIHVzaW5nIGxvY2FsIEFBQkIKICAgICAgY29uc3QgZnJhbWUgPSBjYWxjdWxhdGVXb3JsZEFBQkJfZnJhbWU7CiAgICAgIGNvbnN0IHJlc3VsdCA9IGNhbGN1bGF0ZVdvcmxkQUFCQl9hYWJiOwogICAgICBmcmFtZS5wb3NpdGlvbiA9IHBvczsKICAgICAgZnJhbWUucXVhdGVybmlvbiA9IHF1YXQ7CiAgICAgIHRoaXMuYWFiYi50b1dvcmxkRnJhbWUoZnJhbWUsIHJlc3VsdCk7CiAgICAgIG1pbi5jb3B5KHJlc3VsdC5sb3dlckJvdW5kKTsKICAgICAgbWF4LmNvcHkocmVzdWx0LnVwcGVyQm91bmQpOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgYXBwcm94aW1hdGUgdm9sdW1lCiAgICAgKiBAbWV0aG9kIHZvbHVtZQogICAgICogQHJldHVybiB7TnVtYmVyfQogICAgICovCgoKICAgIHZvbHVtZSgpIHsKICAgICAgcmV0dXJuIDQuMCAqIE1hdGguUEkgKiB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzIC8gMy4wOwogICAgfQogICAgLyoqCiAgICAgKiBDcmVhdGUgYSBUcmltZXNoIGluc3RhbmNlLCBzaGFwZWQgYXMgYSB0b3J1cy4KICAgICAqIEBzdGF0aWMKICAgICAqIEBtZXRob2QgY3JlYXRlVG9ydXMKICAgICAqIEBwYXJhbSAge251bWJlcn0gW3JhZGl1cz0xXQogICAgICogQHBhcmFtICB7bnVtYmVyfSBbdHViZT0wLjVdCiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtyYWRpYWxTZWdtZW50cz04XQogICAgICogQHBhcmFtICB7bnVtYmVyfSBbdHVidWxhclNlZ21lbnRzPTZdCiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IFthcmM9Ni4yODMxODUzMDcxNzk1ODZdCiAgICAgKiBAcmV0dXJuIHtUcmltZXNofSBBIHRvcnVzCiAgICAgKi8KCgogICAgc3RhdGljIGNyZWF0ZVRvcnVzKHJhZGl1cyA9IDEsIHR1YmUgPSAwLjUsIHJhZGlhbFNlZ21lbnRzID0gOCwgdHVidWxhclNlZ21lbnRzID0gNiwgYXJjID0gTWF0aC5QSSAqIDIpIHsKICAgICAgY29uc3QgdmVydGljZXMgPSBbXTsKICAgICAgY29uc3QgaW5kaWNlcyA9IFtdOwoKICAgICAgZm9yIChsZXQgaiA9IDA7IGogPD0gcmFkaWFsU2VnbWVudHM7IGorKykgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHR1YnVsYXJTZWdtZW50czsgaSsrKSB7CiAgICAgICAgICBjb25zdCB1ID0gaSAvIHR1YnVsYXJTZWdtZW50cyAqIGFyYzsKICAgICAgICAgIGNvbnN0IHYgPSBqIC8gcmFkaWFsU2VnbWVudHMgKiBNYXRoLlBJICogMjsKICAgICAgICAgIGNvbnN0IHggPSAocmFkaXVzICsgdHViZSAqIE1hdGguY29zKHYpKSAqIE1hdGguY29zKHUpOwogICAgICAgICAgY29uc3QgeSA9IChyYWRpdXMgKyB0dWJlICogTWF0aC5jb3ModikpICogTWF0aC5zaW4odSk7CiAgICAgICAgICBjb25zdCB6ID0gdHViZSAqIE1hdGguc2luKHYpOwogICAgICAgICAgdmVydGljZXMucHVzaCh4LCB5LCB6KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZvciAobGV0IGogPSAxOyBqIDw9IHJhZGlhbFNlZ21lbnRzOyBqKyspIHsKICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSB0dWJ1bGFyU2VnbWVudHM7IGkrKykgewogICAgICAgICAgY29uc3QgYSA9ICh0dWJ1bGFyU2VnbWVudHMgKyAxKSAqIGogKyBpIC0gMTsKICAgICAgICAgIGNvbnN0IGIgPSAodHVidWxhclNlZ21lbnRzICsgMSkgKiAoaiAtIDEpICsgaSAtIDE7CiAgICAgICAgICBjb25zdCBjID0gKHR1YnVsYXJTZWdtZW50cyArIDEpICogKGogLSAxKSArIGk7CiAgICAgICAgICBjb25zdCBkID0gKHR1YnVsYXJTZWdtZW50cyArIDEpICogaiArIGk7CiAgICAgICAgICBpbmRpY2VzLnB1c2goYSwgYiwgZCk7CiAgICAgICAgICBpbmRpY2VzLnB1c2goYiwgYywgZCk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gbmV3IFRyaW1lc2godmVydGljZXMsIGluZGljZXMpOwogICAgfQoKICB9CgogIGNvbnN0IGNvbXB1dGVOb3JtYWxzX24gPSBuZXcgVmVjMygpOwogIGNvbnN0IHVuc2NhbGVkQUFCQiA9IG5ldyBBQUJCKCk7CiAgY29uc3QgZ2V0RWRnZVZlY3Rvcl92YSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgZ2V0RWRnZVZlY3Rvcl92YiA9IG5ldyBWZWMzKCk7CiAgY29uc3QgY2IgPSBuZXcgVmVjMygpOwogIGNvbnN0IGFiID0gbmV3IFZlYzMoKTsKICBjb25zdCB2YSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgdmIgPSBuZXcgVmVjMygpOwogIGNvbnN0IHZjID0gbmV3IFZlYzMoKTsKICBjb25zdCBjbGlfYWFiYiA9IG5ldyBBQUJCKCk7CiAgY29uc3QgY29tcHV0ZUxvY2FsQUFCQl93b3JsZFZlcnQgPSBuZXcgVmVjMygpOwogIGNvbnN0IGNhbGN1bGF0ZVdvcmxkQUFCQl9mcmFtZSA9IG5ldyBUcmFuc2Zvcm0oKTsKICBjb25zdCBjYWxjdWxhdGVXb3JsZEFBQkJfYWFiYiA9IG5ldyBBQUJCKCk7CiAgLyoqCiAgICogQ29uc3RyYWludCBlcXVhdGlvbiBzb2x2ZXIgYmFzZSBjbGFzcy4KICAgKiBAY2xhc3MgU29sdmVyCiAgICogQGNvbnN0cnVjdG9yCiAgICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZQogICAqLwoKICBjbGFzcyBTb2x2ZXIgewogICAgLy8gQWxsIGVxdWF0aW9ucyB0byBiZSBzb2x2ZWQKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICB0aGlzLmVxdWF0aW9ucyA9IFtdOwogICAgfQogICAgLyoqCiAgICAgKiBTaG91bGQgYmUgaW1wbGVtZW50ZWQgaW4gc3ViY2xhc3NlcyEKICAgICAqIEBtZXRob2Qgc29sdmUKICAgICAqIEBwYXJhbSAge051bWJlcn0gZHQKICAgICAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZAogICAgICogQHJldHVybiB7TnVtYmVyfSBudW1iZXIgb2YgaXRlcmF0aW9ucyBwZXJmb3JtZWQKICAgICAqLwoKCiAgICBzb2x2ZShkdCwgd29ybGQpIHsKICAgICAgcmV0dXJuICgvLyBTaG91bGQgcmV0dXJuIHRoZSBudW1iZXIgb2YgaXRlcmF0aW9ucyBkb25lIQogICAgICAgIDAKICAgICAgKTsKICAgIH0KICAgIC8qKgogICAgICogQWRkIGFuIGVxdWF0aW9uCiAgICAgKiBAbWV0aG9kIGFkZEVxdWF0aW9uCiAgICAgKiBAcGFyYW0ge0VxdWF0aW9ufSBlcQogICAgICovCgoKICAgIGFkZEVxdWF0aW9uKGVxKSB7CiAgICAgIGlmIChlcS5lbmFibGVkKSB7CiAgICAgICAgdGhpcy5lcXVhdGlvbnMucHVzaChlcSk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogUmVtb3ZlIGFuIGVxdWF0aW9uCiAgICAgKiBAbWV0aG9kIHJlbW92ZUVxdWF0aW9uCiAgICAgKiBAcGFyYW0ge0VxdWF0aW9ufSBlcQogICAgICovCgoKICAgIHJlbW92ZUVxdWF0aW9uKGVxKSB7CiAgICAgIGNvbnN0IGVxcyA9IHRoaXMuZXF1YXRpb25zOwogICAgICBjb25zdCBpID0gZXFzLmluZGV4T2YoZXEpOwoKICAgICAgaWYgKGkgIT09IC0xKSB7CiAgICAgICAgZXFzLnNwbGljZShpLCAxKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBBZGQgYWxsIGVxdWF0aW9ucwogICAgICogQG1ldGhvZCByZW1vdmVBbGxFcXVhdGlvbnMKICAgICAqLwoKCiAgICByZW1vdmVBbGxFcXVhdGlvbnMoKSB7CiAgICAgIHRoaXMuZXF1YXRpb25zLmxlbmd0aCA9IDA7CiAgICB9CgogIH0KICAvKioKICAgKiBDb25zdHJhaW50IGVxdWF0aW9uIEdhdXNzLVNlaWRlbCBzb2x2ZXIuCiAgICogQGNsYXNzIEdTU29sdmVyCiAgICogQGNvbnN0cnVjdG9yCiAgICogQHRvZG8gVGhlIHNwb29rIHBhcmFtZXRlcnMgc2hvdWxkIGJlIHNwZWNpZmllZCBmb3IgZWFjaCBjb25zdHJhaW50LCBub3QgZ2xvYmFsbHkuCiAgICogQGF1dGhvciBzY2h0ZXBwZSAvIGh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZQogICAqIEBzZWUgaHR0cHM6Ly93d3c4LmNzLnVtdS5zZS9rdXJzZXIvNURWMDU4L1ZUMDkvbGVjdHVyZXMvc3Bvb2tub3Rlcy5wZGYKICAgKiBAZXh0ZW5kcyBTb2x2ZXIKICAgKi8KCgogIGNsYXNzIEdTU29sdmVyIGV4dGVuZHMgU29sdmVyIHsKICAgIC8vIFRoZSBudW1iZXIgb2Ygc29sdmVyIGl0ZXJhdGlvbnMgZGV0ZXJtaW5lcyBxdWFsaXR5IG9mIHRoZSBjb25zdHJhaW50cyBpbiB0aGUgd29ybGQuIFRoZSBtb3JlIGl0ZXJhdGlvbnMsIHRoZSBtb3JlIGNvcnJlY3Qgc2ltdWxhdGlvbi4gTW9yZSBpdGVyYXRpb25zIG5lZWQgbW9yZSBjb21wdXRhdGlvbnMgdGhvdWdoLiBJZiB5b3UgaGF2ZSBhIGxhcmdlIGdyYXZpdHkgZm9yY2UgaW4geW91ciB3b3JsZCwgeW91IHdpbGwgbmVlZCBtb3JlIGl0ZXJhdGlvbnMuCiAgICAvLyBXaGVuIHRvbGVyYW5jZSBpcyByZWFjaGVkLCB0aGUgc3lzdGVtIGlzIGFzc3VtZWQgdG8gYmUgY29udmVyZ2VkLgogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMuaXRlcmF0aW9ucyA9IDEwOwogICAgICB0aGlzLnRvbGVyYW5jZSA9IDFlLTc7CiAgICB9CiAgICAvKioKICAgICAqIFNvbHZlCiAgICAgKiBAbWV0aG9kIHNvbHZlCiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGR0CiAgICAgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGQKICAgICAqIEByZXR1cm4ge051bWJlcn0gbnVtYmVyIG9mIGl0ZXJhdGlvbnMgcGVyZm9ybWVkCiAgICAgKi8KCgogICAgc29sdmUoZHQsIHdvcmxkKSB7CiAgICAgIGxldCBpdGVyID0gMDsKICAgICAgY29uc3QgbWF4SXRlciA9IHRoaXMuaXRlcmF0aW9uczsKICAgICAgY29uc3QgdG9sU3F1YXJlZCA9IHRoaXMudG9sZXJhbmNlICogdGhpcy50b2xlcmFuY2U7CiAgICAgIGNvbnN0IGVxdWF0aW9ucyA9IHRoaXMuZXF1YXRpb25zOwogICAgICBjb25zdCBOZXEgPSBlcXVhdGlvbnMubGVuZ3RoOwogICAgICBjb25zdCBib2RpZXMgPSB3b3JsZC5ib2RpZXM7CiAgICAgIGNvbnN0IE5ib2RpZXMgPSBib2RpZXMubGVuZ3RoOwogICAgICBjb25zdCBoID0gZHQ7CiAgICAgIGxldCBCOwogICAgICBsZXQgaW52QzsKICAgICAgbGV0IGRlbHRhbGFtYmRhOwogICAgICBsZXQgZGVsdGFsYW1iZGFUb3Q7CiAgICAgIGxldCBHV2xhbWJkYTsKICAgICAgbGV0IGxhbWJkYWo7IC8vIFVwZGF0ZSBzb2x2ZSBtYXNzCgogICAgICBpZiAoTmVxICE9PSAwKSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5ib2RpZXM7IGkrKykgewogICAgICAgICAgYm9kaWVzW2ldLnVwZGF0ZVNvbHZlTWFzc1Byb3BlcnRpZXMoKTsKICAgICAgICB9CiAgICAgIH0gLy8gVGhpbmdzIHRoYXQgZG9lcyBub3QgY2hhbmdlIGR1cmluZyBpdGVyYXRpb24gY2FuIGJlIGNvbXB1dGVkIG9uY2UKCgogICAgICBjb25zdCBpbnZDcyA9IEdTU29sdmVyX3NvbHZlX2ludkNzOwogICAgICBjb25zdCBCcyA9IEdTU29sdmVyX3NvbHZlX0JzOwogICAgICBjb25zdCBsYW1iZGEgPSBHU1NvbHZlcl9zb2x2ZV9sYW1iZGE7CiAgICAgIGludkNzLmxlbmd0aCA9IE5lcTsKICAgICAgQnMubGVuZ3RoID0gTmVxOwogICAgICBsYW1iZGEubGVuZ3RoID0gTmVxOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5lcTsgaSsrKSB7CiAgICAgICAgY29uc3QgYyA9IGVxdWF0aW9uc1tpXTsKICAgICAgICBsYW1iZGFbaV0gPSAwLjA7CiAgICAgICAgQnNbaV0gPSBjLmNvbXB1dGVCKGgpOwogICAgICAgIGludkNzW2ldID0gMS4wIC8gYy5jb21wdXRlQygpOwogICAgICB9CgogICAgICBpZiAoTmVxICE9PSAwKSB7CiAgICAgICAgLy8gUmVzZXQgdmxhbWJkYQogICAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOYm9kaWVzOyBpKyspIHsKICAgICAgICAgIGNvbnN0IGIgPSBib2RpZXNbaV07CiAgICAgICAgICBjb25zdCB2bGFtYmRhID0gYi52bGFtYmRhOwogICAgICAgICAgY29uc3Qgd2xhbWJkYSA9IGIud2xhbWJkYTsKICAgICAgICAgIHZsYW1iZGEuc2V0KDAsIDAsIDApOwogICAgICAgICAgd2xhbWJkYS5zZXQoMCwgMCwgMCk7CiAgICAgICAgfSAvLyBJdGVyYXRlIG92ZXIgZXF1YXRpb25zCgoKICAgICAgICBmb3IgKGl0ZXIgPSAwOyBpdGVyICE9PSBtYXhJdGVyOyBpdGVyKyspIHsKICAgICAgICAgIC8vIEFjY3VtdWxhdGUgdGhlIHRvdGFsIGVycm9yIGZvciBlYWNoIGl0ZXJhdGlvbi4KICAgICAgICAgIGRlbHRhbGFtYmRhVG90ID0gMC4wOwoKICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBOZXE7IGorKykgewogICAgICAgICAgICBjb25zdCBjID0gZXF1YXRpb25zW2pdOyAvLyBDb21wdXRlIGl0ZXJhdGlvbgoKICAgICAgICAgICAgQiA9IEJzW2pdOwogICAgICAgICAgICBpbnZDID0gaW52Q3Nbal07CiAgICAgICAgICAgIGxhbWJkYWogPSBsYW1iZGFbal07CiAgICAgICAgICAgIEdXbGFtYmRhID0gYy5jb21wdXRlR1dsYW1iZGEoKTsKICAgICAgICAgICAgZGVsdGFsYW1iZGEgPSBpbnZDICogKEIgLSBHV2xhbWJkYSAtIGMuZXBzICogbGFtYmRhaik7IC8vIENsYW1wIGlmIHdlIGFyZSBub3Qgd2l0aGluIHRoZSBtaW4vbWF4IGludGVydmFsCgogICAgICAgICAgICBpZiAobGFtYmRhaiArIGRlbHRhbGFtYmRhIDwgYy5taW5Gb3JjZSkgewogICAgICAgICAgICAgIGRlbHRhbGFtYmRhID0gYy5taW5Gb3JjZSAtIGxhbWJkYWo7CiAgICAgICAgICAgIH0gZWxzZSBpZiAobGFtYmRhaiArIGRlbHRhbGFtYmRhID4gYy5tYXhGb3JjZSkgewogICAgICAgICAgICAgIGRlbHRhbGFtYmRhID0gYy5tYXhGb3JjZSAtIGxhbWJkYWo7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGxhbWJkYVtqXSArPSBkZWx0YWxhbWJkYTsKICAgICAgICAgICAgZGVsdGFsYW1iZGFUb3QgKz0gZGVsdGFsYW1iZGEgPiAwLjAgPyBkZWx0YWxhbWJkYSA6IC1kZWx0YWxhbWJkYTsgLy8gYWJzKGRlbHRhbGFtYmRhKQoKICAgICAgICAgICAgYy5hZGRUb1dsYW1iZGEoZGVsdGFsYW1iZGEpOwogICAgICAgICAgfSAvLyBJZiB0aGUgdG90YWwgZXJyb3IgaXMgc21hbGwgZW5vdWdoIC0gc3RvcCBpdGVyYXRlCgoKICAgICAgICAgIGlmIChkZWx0YWxhbWJkYVRvdCAqIGRlbHRhbGFtYmRhVG90IDwgdG9sU3F1YXJlZCkgewogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9IC8vIEFkZCByZXN1bHQgdG8gdmVsb2NpdHkKCgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOYm9kaWVzOyBpKyspIHsKICAgICAgICAgIGNvbnN0IGIgPSBib2RpZXNbaV07CiAgICAgICAgICBjb25zdCB2ID0gYi52ZWxvY2l0eTsKICAgICAgICAgIGNvbnN0IHcgPSBiLmFuZ3VsYXJWZWxvY2l0eTsKICAgICAgICAgIGIudmxhbWJkYS52bXVsKGIubGluZWFyRmFjdG9yLCBiLnZsYW1iZGEpOwogICAgICAgICAgdi52YWRkKGIudmxhbWJkYSwgdik7CiAgICAgICAgICBiLndsYW1iZGEudm11bChiLmFuZ3VsYXJGYWN0b3IsIGIud2xhbWJkYSk7CiAgICAgICAgICB3LnZhZGQoYi53bGFtYmRhLCB3KTsKICAgICAgICB9IC8vIFNldCB0aGUgLm11bHRpcGxpZXIgcHJvcGVydHkgb2YgZWFjaCBlcXVhdGlvbgoKCiAgICAgICAgbGV0IGwgPSBlcXVhdGlvbnMubGVuZ3RoOwogICAgICAgIGNvbnN0IGludkR0ID0gMSAvIGg7CgogICAgICAgIHdoaWxlIChsLS0pIHsKICAgICAgICAgIGVxdWF0aW9uc1tsXS5tdWx0aXBsaWVyID0gbGFtYmRhW2xdICogaW52RHQ7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gaXRlcjsKICAgIH0KCiAgfQoKICBjb25zdCBHU1NvbHZlcl9zb2x2ZV9sYW1iZGEgPSBbXTsgLy8gSnVzdCB0ZW1wb3JhcnkgbnVtYmVyIGhvbGRlcnMgdGhhdCB3ZSB3YW50IHRvIHJldXNlIGVhY2ggc29sdmUuCgogIGNvbnN0IEdTU29sdmVyX3NvbHZlX2ludkNzID0gW107CiAgY29uc3QgR1NTb2x2ZXJfc29sdmVfQnMgPSBbXTsKICAvKioKICAgKiBGb3IgcG9vbGluZyBvYmplY3RzIHRoYXQgY2FuIGJlIHJldXNlZC4KICAgKiBAY2xhc3MgUG9vbAogICAqIEBjb25zdHJ1Y3RvcgogICAqLwoKCiAgY2xhc3MgUG9vbCB7CiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgdGhpcy5vYmplY3RzID0gW107CiAgICAgIHRoaXMudHlwZSA9IE9iamVjdDsKICAgIH0KICAgIC8qKgogICAgICogUmVsZWFzZSBhbiBvYmplY3QgYWZ0ZXIgdXNlCiAgICAgKiBAbWV0aG9kIHJlbGVhc2UKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmoKICAgICAqLwoKCiAgICByZWxlYXNlKC4uLmFyZ3MpIHsKICAgICAgY29uc3QgTmFyZ3MgPSBhcmdzLmxlbmd0aDsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOYXJnczsgaSsrKSB7CiAgICAgICAgdGhpcy5vYmplY3RzLnB1c2goYXJnc1tpXSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgYW4gb2JqZWN0CiAgICAgKiBAbWV0aG9kIGdldAogICAgICogQHJldHVybiB7bWl4ZWR9CiAgICAgKi8KCgogICAgZ2V0KCkgewogICAgICBpZiAodGhpcy5vYmplY3RzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdE9iamVjdCgpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0aGlzLm9iamVjdHMucG9wKCk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogQ29uc3RydWN0IGFuIG9iamVjdC4gU2hvdWxkIGJlIGltcGxlbWVudGVkIGluIGVhY2ggc3ViY2xhc3MuCiAgICAgKiBAbWV0aG9kIGNvbnN0cnVjdE9iamVjdAogICAgICogQHJldHVybiB7bWl4ZWR9CiAgICAgKi8KCgogICAgY29uc3RydWN0T2JqZWN0KCkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbnN0cnVjdE9iamVjdCgpIG5vdCBpbXBsZW1lbnRlZCBpbiB0aGlzIFBvb2wgc3ViY2xhc3MgeWV0IScpOwogICAgfQogICAgLyoqCiAgICAgKiBAbWV0aG9kIHJlc2l6ZQogICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUKICAgICAqIEByZXR1cm4ge1Bvb2x9IFNlbGYsIGZvciBjaGFpbmluZwogICAgICovCgoKICAgIHJlc2l6ZShzaXplKSB7CiAgICAgIGNvbnN0IG9iamVjdHMgPSB0aGlzLm9iamVjdHM7CgogICAgICB3aGlsZSAob2JqZWN0cy5sZW5ndGggPiBzaXplKSB7CiAgICAgICAgb2JqZWN0cy5wb3AoKTsKICAgICAgfQoKICAgICAgd2hpbGUgKG9iamVjdHMubGVuZ3RoIDwgc2l6ZSkgewogICAgICAgIG9iamVjdHMucHVzaCh0aGlzLmNvbnN0cnVjdE9iamVjdCgpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogIH0KICAvKioKICAgKiBAY2xhc3MgVmVjM1Bvb2wKICAgKiBAY29uc3RydWN0b3IKICAgKiBAZXh0ZW5kcyBQb29sCiAgICovCgoKICBjbGFzcyBWZWMzUG9vbCBleHRlbmRzIFBvb2wgewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMudHlwZSA9IFZlYzM7CiAgICB9CiAgICAvKioKICAgICAqIENvbnN0cnVjdCBhIHZlY3RvcgogICAgICogQG1ldGhvZCBjb25zdHJ1Y3RPYmplY3QKICAgICAqIEByZXR1cm4ge1ZlYzN9CiAgICAgKi8KCgogICAgY29uc3RydWN0T2JqZWN0KCkgewogICAgICByZXR1cm4gbmV3IFZlYzMoKTsKICAgIH0KCiAgfSAvLyBOYW1pbmcgcnVsZTogYmFzZWQgb2YgdGhlIG9yZGVyIGluIFNIQVBFX1RZUEVTLAogIC8vIHRoZSBmaXJzdCBwYXJ0IG9mIHRoZSBtZXRob2QgaXMgZm9ybWVkIGJ5IHRoZQogIC8vIHNoYXBlIHR5cGUgdGhhdCBjb21lcyBiZWZvcmUsIGluIHRoZSBzZWNvbmQgcGFydAogIC8vIHRoZXJlIGlzIHRoZSBzaGFwZSB0eXBlIHRoYXQgY29tZXMgYWZ0ZXIgaW4gdGhlIFNIQVBFX1RZUEVTIGxpc3QKCgogIGNvbnN0IENPTExJU0lPTl9UWVBFUyA9IHsKICAgIHNwaGVyZVNwaGVyZTogU2hhcGUudHlwZXMuU1BIRVJFLAogICAgc3BoZXJlUGxhbmU6IFNoYXBlLnR5cGVzLlNQSEVSRSB8IFNoYXBlLnR5cGVzLlBMQU5FLAogICAgYm94Qm94OiBTaGFwZS50eXBlcy5CT1ggfCBTaGFwZS50eXBlcy5CT1gsCiAgICBzcGhlcmVCb3g6IFNoYXBlLnR5cGVzLlNQSEVSRSB8IFNoYXBlLnR5cGVzLkJPWCwKICAgIHBsYW5lQm94OiBTaGFwZS50eXBlcy5QTEFORSB8IFNoYXBlLnR5cGVzLkJPWCwKICAgIGNvbnZleENvbnZleDogU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiwKICAgIHNwaGVyZUNvbnZleDogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiwKICAgIHBsYW5lQ29udmV4OiBTaGFwZS50eXBlcy5QTEFORSB8IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04sCiAgICBib3hDb252ZXg6IFNoYXBlLnR5cGVzLkJPWCB8IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04sCiAgICBzcGhlcmVIZWlnaHRmaWVsZDogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuSEVJR0hURklFTEQsCiAgICBib3hIZWlnaHRmaWVsZDogU2hhcGUudHlwZXMuQk9YIHwgU2hhcGUudHlwZXMuSEVJR0hURklFTEQsCiAgICBjb252ZXhIZWlnaHRmaWVsZDogU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiB8IFNoYXBlLnR5cGVzLkhFSUdIVEZJRUxELAogICAgc3BoZXJlUGFydGljbGU6IFNoYXBlLnR5cGVzLlBBUlRJQ0xFIHwgU2hhcGUudHlwZXMuU1BIRVJFLAogICAgcGxhbmVQYXJ0aWNsZTogU2hhcGUudHlwZXMuUExBTkUgfCBTaGFwZS50eXBlcy5QQVJUSUNMRSwKICAgIGJveFBhcnRpY2xlOiBTaGFwZS50eXBlcy5CT1ggfCBTaGFwZS50eXBlcy5QQVJUSUNMRSwKICAgIGNvbnZleFBhcnRpY2xlOiBTaGFwZS50eXBlcy5QQVJUSUNMRSB8IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04sCiAgICBjeWxpbmRlckN5bGluZGVyOiBTaGFwZS50eXBlcy5DWUxJTkRFUiwKICAgIHNwaGVyZUN5bGluZGVyOiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5DWUxJTkRFUiwKICAgIHBsYW5lQ3lsaW5kZXI6IFNoYXBlLnR5cGVzLlBMQU5FIHwgU2hhcGUudHlwZXMuQ1lMSU5ERVIsCiAgICBib3hDeWxpbmRlcjogU2hhcGUudHlwZXMuQk9YIHwgU2hhcGUudHlwZXMuQ1lMSU5ERVIsCiAgICBjb252ZXhDeWxpbmRlcjogU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiB8IFNoYXBlLnR5cGVzLkNZTElOREVSLAogICAgaGVpZ2h0ZmllbGRDeWxpbmRlcjogU2hhcGUudHlwZXMuSEVJR0hURklFTEQgfCBTaGFwZS50eXBlcy5DWUxJTkRFUiwKICAgIHBhcnRpY2xlQ3lsaW5kZXI6IFNoYXBlLnR5cGVzLlBBUlRJQ0xFIHwgU2hhcGUudHlwZXMuQ1lMSU5ERVIsCiAgICBzcGhlcmVUcmltZXNoOiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5UUklNRVNILAogICAgcGxhbmVUcmltZXNoOiBTaGFwZS50eXBlcy5QTEFORSB8IFNoYXBlLnR5cGVzLlRSSU1FU0gKICB9OwogIC8qKgogICAqIEhlbHBlciBjbGFzcyBmb3IgdGhlIFdvcmxkLiBHZW5lcmF0ZXMgQ29udGFjdEVxdWF0aW9ucy4KICAgKiBAY2xhc3MgTmFycm93cGhhc2UKICAgKiBAY29uc3RydWN0b3IKICAgKiBAdG9kbyBTcGhlcmUtQ29udmV4UG9seWhlZHJvbiBjb250YWN0cwogICAqIEB0b2RvIENvbnRhY3QgcmVkdWN0aW9uCiAgICogQHRvZG8gc2hvdWxkIG1vdmUgbWV0aG9kcyB0byBwcm90b3R5cGUKICAgKi8KCiAgY2xhc3MgTmFycm93cGhhc2UgewogICAgLy8gSW50ZXJuYWwgc3RvcmFnZSBvZiBwb29sZWQgY29udGFjdCBwb2ludHMuCiAgICAvLyBQb29sZWQgdmVjdG9ycy4KICAgIGNvbnN0cnVjdG9yKHdvcmxkKSB7CiAgICAgIHRoaXMuY29udGFjdFBvaW50UG9vbCA9IFtdOwogICAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25Qb29sID0gW107CiAgICAgIHRoaXMucmVzdWx0ID0gW107CiAgICAgIHRoaXMuZnJpY3Rpb25SZXN1bHQgPSBbXTsKICAgICAgdGhpcy52M3Bvb2wgPSBuZXcgVmVjM1Bvb2woKTsKICAgICAgdGhpcy53b3JsZCA9IHdvcmxkOwogICAgICB0aGlzLmN1cnJlbnRDb250YWN0TWF0ZXJpYWwgPSB3b3JsZC5kZWZhdWx0Q29udGFjdE1hdGVyaWFsOwogICAgICB0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uID0gZmFsc2U7CiAgICB9CiAgICAvKioKICAgICAqIE1ha2UgYSBjb250YWN0IG9iamVjdCwgYnkgdXNpbmcgdGhlIGludGVybmFsIHBvb2wgb3IgY3JlYXRpbmcgYSBuZXcgb25lLgogICAgICogQG1ldGhvZCBjcmVhdGVDb250YWN0RXF1YXRpb24KICAgICAqIEBwYXJhbSB7Qm9keX0gYmkKICAgICAqIEBwYXJhbSB7Qm9keX0gYmoKICAgICAqIEBwYXJhbSB7U2hhcGV9IHNpCiAgICAgKiBAcGFyYW0ge1NoYXBlfSBzagogICAgICogQHBhcmFtIHtTaGFwZX0gb3ZlcnJpZGVTaGFwZUEKICAgICAqIEBwYXJhbSB7U2hhcGV9IG92ZXJyaWRlU2hhcGVCCiAgICAgKiBAcmV0dXJuIHtDb250YWN0RXF1YXRpb259CiAgICAgKi8KCgogICAgY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCBvdmVycmlkZVNoYXBlQSwgb3ZlcnJpZGVTaGFwZUIpIHsKICAgICAgbGV0IGM7CgogICAgICBpZiAodGhpcy5jb250YWN0UG9pbnRQb29sLmxlbmd0aCkgewogICAgICAgIGMgPSB0aGlzLmNvbnRhY3RQb2ludFBvb2wucG9wKCk7CiAgICAgICAgYy5iaSA9IGJpOwogICAgICAgIGMuYmogPSBiajsKICAgICAgfSBlbHNlIHsKICAgICAgICBjID0gbmV3IENvbnRhY3RFcXVhdGlvbihiaSwgYmopOwogICAgICB9CgogICAgICBjLmVuYWJsZWQgPSBiaS5jb2xsaXNpb25SZXNwb25zZSAmJiBiai5jb2xsaXNpb25SZXNwb25zZSAmJiBzaS5jb2xsaXNpb25SZXNwb25zZSAmJiBzai5jb2xsaXNpb25SZXNwb25zZTsKICAgICAgY29uc3QgY20gPSB0aGlzLmN1cnJlbnRDb250YWN0TWF0ZXJpYWw7CiAgICAgIGMucmVzdGl0dXRpb24gPSBjbS5yZXN0aXR1dGlvbjsKICAgICAgYy5zZXRTcG9va1BhcmFtcyhjbS5jb250YWN0RXF1YXRpb25TdGlmZm5lc3MsIGNtLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb24sIHRoaXMud29ybGQuZHQpOwogICAgICBjb25zdCBtYXRBID0gc2kubWF0ZXJpYWwgfHwgYmkubWF0ZXJpYWw7CiAgICAgIGNvbnN0IG1hdEIgPSBzai5tYXRlcmlhbCB8fCBiai5tYXRlcmlhbDsKCiAgICAgIGlmIChtYXRBICYmIG1hdEIgJiYgbWF0QS5yZXN0aXR1dGlvbiA+PSAwICYmIG1hdEIucmVzdGl0dXRpb24gPj0gMCkgewogICAgICAgIGMucmVzdGl0dXRpb24gPSBtYXRBLnJlc3RpdHV0aW9uICogbWF0Qi5yZXN0aXR1dGlvbjsKICAgICAgfQoKICAgICAgYy5zaSA9IG92ZXJyaWRlU2hhcGVBIHx8IHNpOwogICAgICBjLnNqID0gb3ZlcnJpZGVTaGFwZUIgfHwgc2o7CiAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QoY29udGFjdEVxdWF0aW9uLCBvdXRBcnJheSkgewogICAgICBjb25zdCBib2R5QSA9IGNvbnRhY3RFcXVhdGlvbi5iaTsKICAgICAgY29uc3QgYm9keUIgPSBjb250YWN0RXF1YXRpb24uYmo7CiAgICAgIGNvbnN0IHNoYXBlQSA9IGNvbnRhY3RFcXVhdGlvbi5zaTsKICAgICAgY29uc3Qgc2hhcGVCID0gY29udGFjdEVxdWF0aW9uLnNqOwogICAgICBjb25zdCB3b3JsZCA9IHRoaXMud29ybGQ7CiAgICAgIGNvbnN0IGNtID0gdGhpcy5jdXJyZW50Q29udGFjdE1hdGVyaWFsOyAvLyBJZiBmcmljdGlvbiBvciByZXN0aXR1dGlvbiB3ZXJlIHNwZWNpZmllZCBpbiB0aGUgbWF0ZXJpYWwsIHVzZSB0aGVtCgogICAgICBsZXQgZnJpY3Rpb24gPSBjbS5mcmljdGlvbjsKICAgICAgY29uc3QgbWF0QSA9IHNoYXBlQS5tYXRlcmlhbCB8fCBib2R5QS5tYXRlcmlhbDsKICAgICAgY29uc3QgbWF0QiA9IHNoYXBlQi5tYXRlcmlhbCB8fCBib2R5Qi5tYXRlcmlhbDsKCiAgICAgIGlmIChtYXRBICYmIG1hdEIgJiYgbWF0QS5mcmljdGlvbiA+PSAwICYmIG1hdEIuZnJpY3Rpb24gPj0gMCkgewogICAgICAgIGZyaWN0aW9uID0gbWF0QS5mcmljdGlvbiAqIG1hdEIuZnJpY3Rpb247CiAgICAgIH0KCiAgICAgIGlmIChmcmljdGlvbiA+IDApIHsKICAgICAgICAvLyBDcmVhdGUgMiB0YW5nZW50IGVxdWF0aW9ucwogICAgICAgIGNvbnN0IG11ZyA9IGZyaWN0aW9uICogd29ybGQuZ3Jhdml0eS5sZW5ndGgoKTsKICAgICAgICBsZXQgcmVkdWNlZE1hc3MgPSBib2R5QS5pbnZNYXNzICsgYm9keUIuaW52TWFzczsKCiAgICAgICAgaWYgKHJlZHVjZWRNYXNzID4gMCkgewogICAgICAgICAgcmVkdWNlZE1hc3MgPSAxIC8gcmVkdWNlZE1hc3M7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBwb29sID0gdGhpcy5mcmljdGlvbkVxdWF0aW9uUG9vbDsKICAgICAgICBjb25zdCBjMSA9IHBvb2wubGVuZ3RoID8gcG9vbC5wb3AoKSA6IG5ldyBGcmljdGlvbkVxdWF0aW9uKGJvZHlBLCBib2R5QiwgbXVnICogcmVkdWNlZE1hc3MpOwogICAgICAgIGNvbnN0IGMyID0gcG9vbC5sZW5ndGggPyBwb29sLnBvcCgpIDogbmV3IEZyaWN0aW9uRXF1YXRpb24oYm9keUEsIGJvZHlCLCBtdWcgKiByZWR1Y2VkTWFzcyk7CiAgICAgICAgYzEuYmkgPSBjMi5iaSA9IGJvZHlBOwogICAgICAgIGMxLmJqID0gYzIuYmogPSBib2R5QjsKICAgICAgICBjMS5taW5Gb3JjZSA9IGMyLm1pbkZvcmNlID0gLW11ZyAqIHJlZHVjZWRNYXNzOwogICAgICAgIGMxLm1heEZvcmNlID0gYzIubWF4Rm9yY2UgPSBtdWcgKiByZWR1Y2VkTWFzczsgLy8gQ29weSBvdmVyIHRoZSByZWxhdGl2ZSB2ZWN0b3JzCgogICAgICAgIGMxLnJpLmNvcHkoY29udGFjdEVxdWF0aW9uLnJpKTsKICAgICAgICBjMS5yai5jb3B5KGNvbnRhY3RFcXVhdGlvbi5yaik7CiAgICAgICAgYzIucmkuY29weShjb250YWN0RXF1YXRpb24ucmkpOwogICAgICAgIGMyLnJqLmNvcHkoY29udGFjdEVxdWF0aW9uLnJqKTsgLy8gQ29uc3RydWN0IHRhbmdlbnRzCgogICAgICAgIGNvbnRhY3RFcXVhdGlvbi5uaS50YW5nZW50cyhjMS50LCBjMi50KTsgLy8gU2V0IHNwb29rIHBhcmFtcwoKICAgICAgICBjMS5zZXRTcG9va1BhcmFtcyhjbS5mcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzLCBjbS5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbiwgd29ybGQuZHQpOwogICAgICAgIGMyLnNldFNwb29rUGFyYW1zKGNtLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsIGNtLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLCB3b3JsZC5kdCk7CiAgICAgICAgYzEuZW5hYmxlZCA9IGMyLmVuYWJsZWQgPSBjb250YWN0RXF1YXRpb24uZW5hYmxlZDsKICAgICAgICBvdXRBcnJheS5wdXNoKGMxLCBjMik7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0gLy8gVGFrZSB0aGUgYXZlcmFnZSBOIGxhdGVzdCBjb250YWN0IHBvaW50IG9uIHRoZSBwbGFuZS4KCgogICAgY3JlYXRlRnJpY3Rpb25Gcm9tQXZlcmFnZShudW1Db250YWN0cykgewogICAgICAvLyBUaGUgbGFzdCBjb250YWN0RXF1YXRpb24KICAgICAgbGV0IGMgPSB0aGlzLnJlc3VsdFt0aGlzLnJlc3VsdC5sZW5ndGggLSAxXTsgLy8gQ3JlYXRlIHRoZSByZXN1bHQ6IHR3byAiYXZlcmFnZSIgZnJpY3Rpb24gZXF1YXRpb25zCgogICAgICBpZiAoIXRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChjLCB0aGlzLmZyaWN0aW9uUmVzdWx0KSB8fCBudW1Db250YWN0cyA9PT0gMSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc3QgZjEgPSB0aGlzLmZyaWN0aW9uUmVzdWx0W3RoaXMuZnJpY3Rpb25SZXN1bHQubGVuZ3RoIC0gMl07CiAgICAgIGNvbnN0IGYyID0gdGhpcy5mcmljdGlvblJlc3VsdFt0aGlzLmZyaWN0aW9uUmVzdWx0Lmxlbmd0aCAtIDFdOwogICAgICBhdmVyYWdlTm9ybWFsLnNldFplcm8oKTsKICAgICAgYXZlcmFnZUNvbnRhY3RQb2ludEEuc2V0WmVybygpOwogICAgICBhdmVyYWdlQ29udGFjdFBvaW50Qi5zZXRaZXJvKCk7CiAgICAgIGNvbnN0IGJvZHlBID0gYy5iaTsKICAgICAgYy5iajsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBudW1Db250YWN0czsgaSsrKSB7CiAgICAgICAgYyA9IHRoaXMucmVzdWx0W3RoaXMucmVzdWx0Lmxlbmd0aCAtIDEgLSBpXTsKCiAgICAgICAgaWYgKGMuYmkgIT09IGJvZHlBKSB7CiAgICAgICAgICBhdmVyYWdlTm9ybWFsLnZhZGQoYy5uaSwgYXZlcmFnZU5vcm1hbCk7CiAgICAgICAgICBhdmVyYWdlQ29udGFjdFBvaW50QS52YWRkKGMucmksIGF2ZXJhZ2VDb250YWN0UG9pbnRBKTsKICAgICAgICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRCLnZhZGQoYy5yaiwgYXZlcmFnZUNvbnRhY3RQb2ludEIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhdmVyYWdlTm9ybWFsLnZzdWIoYy5uaSwgYXZlcmFnZU5vcm1hbCk7CiAgICAgICAgICBhdmVyYWdlQ29udGFjdFBvaW50QS52YWRkKGMucmosIGF2ZXJhZ2VDb250YWN0UG9pbnRBKTsKICAgICAgICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRCLnZhZGQoYy5yaSwgYXZlcmFnZUNvbnRhY3RQb2ludEIpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgY29uc3QgaW52TnVtQ29udGFjdHMgPSAxIC8gbnVtQ29udGFjdHM7CiAgICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRBLnNjYWxlKGludk51bUNvbnRhY3RzLCBmMS5yaSk7CiAgICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRCLnNjYWxlKGludk51bUNvbnRhY3RzLCBmMS5yaik7CiAgICAgIGYyLnJpLmNvcHkoZjEucmkpOyAvLyBTaG91bGQgYmUgdGhlIHNhbWUKCiAgICAgIGYyLnJqLmNvcHkoZjEucmopOwogICAgICBhdmVyYWdlTm9ybWFsLm5vcm1hbGl6ZSgpOwogICAgICBhdmVyYWdlTm9ybWFsLnRhbmdlbnRzKGYxLnQsIGYyLnQpOyAvLyByZXR1cm4gZXE7CiAgICB9CiAgICAvKioKICAgICAqIEdlbmVyYXRlIGFsbCBjb250YWN0cyBiZXR3ZWVuIGEgbGlzdCBvZiBib2R5IHBhaXJzCiAgICAgKiBAbWV0aG9kIGdldENvbnRhY3RzCiAgICAgKiBAcGFyYW0ge2FycmF5fSBwMSBBcnJheSBvZiBib2R5IGluZGljZXMKICAgICAqIEBwYXJhbSB7YXJyYXl9IHAyIEFycmF5IG9mIGJvZHkgaW5kaWNlcwogICAgICogQHBhcmFtIHtXb3JsZH0gd29ybGQKICAgICAqIEBwYXJhbSB7YXJyYXl9IHJlc3VsdCBBcnJheSB0byBzdG9yZSBnZW5lcmF0ZWQgY29udGFjdHMKICAgICAqIEBwYXJhbSB7YXJyYXl9IG9sZGNvbnRhY3RzIE9wdGlvbmFsLiBBcnJheSBvZiByZXVzYWJsZSBjb250YWN0IG9iamVjdHMKICAgICAqLwoKCiAgICBnZXRDb250YWN0cyhwMSwgcDIsIHdvcmxkLCByZXN1bHQsIG9sZGNvbnRhY3RzLCBmcmljdGlvblJlc3VsdCwgZnJpY3Rpb25Qb29sKSB7CiAgICAgIC8vIFNhdmUgb2xkIGNvbnRhY3Qgb2JqZWN0cwogICAgICB0aGlzLmNvbnRhY3RQb2ludFBvb2wgPSBvbGRjb250YWN0czsKICAgICAgdGhpcy5mcmljdGlvbkVxdWF0aW9uUG9vbCA9IGZyaWN0aW9uUG9vbDsKICAgICAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7CiAgICAgIHRoaXMuZnJpY3Rpb25SZXN1bHQgPSBmcmljdGlvblJlc3VsdDsKICAgICAgY29uc3QgcWkgPSB0bXBRdWF0MTsKICAgICAgY29uc3QgcWogPSB0bXBRdWF0MjsKICAgICAgY29uc3QgeGkgPSB0bXBWZWMxJDI7CiAgICAgIGNvbnN0IHhqID0gdG1wVmVjMiQyOwoKICAgICAgZm9yIChsZXQgayA9IDAsIE4gPSBwMS5sZW5ndGg7IGsgIT09IE47IGsrKykgewogICAgICAgIC8vIEdldCBjdXJyZW50IGNvbGxpc2lvbiBib2RpZXMKICAgICAgICBjb25zdCBiaSA9IHAxW2tdOwogICAgICAgIGNvbnN0IGJqID0gcDJba107IC8vIEdldCBjb250YWN0IG1hdGVyaWFsCgogICAgICAgIGxldCBib2R5Q29udGFjdE1hdGVyaWFsID0gbnVsbDsKCiAgICAgICAgaWYgKGJpLm1hdGVyaWFsICYmIGJqLm1hdGVyaWFsKSB7CiAgICAgICAgICBib2R5Q29udGFjdE1hdGVyaWFsID0gd29ybGQuZ2V0Q29udGFjdE1hdGVyaWFsKGJpLm1hdGVyaWFsLCBiai5tYXRlcmlhbCkgfHwgbnVsbDsKICAgICAgICB9CgogICAgICAgIGNvbnN0IGp1c3RUZXN0ID0gYmkudHlwZSAmIEJvZHkuS0lORU1BVElDICYmIGJqLnR5cGUgJiBCb2R5LlNUQVRJQyB8fCBiaS50eXBlICYgQm9keS5TVEFUSUMgJiYgYmoudHlwZSAmIEJvZHkuS0lORU1BVElDIHx8IGJpLnR5cGUgJiBCb2R5LktJTkVNQVRJQyAmJiBiai50eXBlICYgQm9keS5LSU5FTUFUSUM7CgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmkuc2hhcGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBiaS5xdWF0ZXJuaW9uLm11bHQoYmkuc2hhcGVPcmllbnRhdGlvbnNbaV0sIHFpKTsKICAgICAgICAgIGJpLnF1YXRlcm5pb24udm11bHQoYmkuc2hhcGVPZmZzZXRzW2ldLCB4aSk7CiAgICAgICAgICB4aS52YWRkKGJpLnBvc2l0aW9uLCB4aSk7CiAgICAgICAgICBjb25zdCBzaSA9IGJpLnNoYXBlc1tpXTsKCiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJqLnNoYXBlcy5sZW5ndGg7IGorKykgewogICAgICAgICAgICAvLyBDb21wdXRlIHdvcmxkIHRyYW5zZm9ybSBvZiBzaGFwZXMKICAgICAgICAgICAgYmoucXVhdGVybmlvbi5tdWx0KGJqLnNoYXBlT3JpZW50YXRpb25zW2pdLCBxaik7CiAgICAgICAgICAgIGJqLnF1YXRlcm5pb24udm11bHQoYmouc2hhcGVPZmZzZXRzW2pdLCB4aik7CiAgICAgICAgICAgIHhqLnZhZGQoYmoucG9zaXRpb24sIHhqKTsKICAgICAgICAgICAgY29uc3Qgc2ogPSBiai5zaGFwZXNbal07CgogICAgICAgICAgICBpZiAoIShzaS5jb2xsaXNpb25GaWx0ZXJNYXNrICYgc2ouY29sbGlzaW9uRmlsdGVyR3JvdXAgJiYgc2ouY29sbGlzaW9uRmlsdGVyTWFzayAmIHNpLmNvbGxpc2lvbkZpbHRlckdyb3VwKSkgewogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoeGkuZGlzdGFuY2VUbyh4aikgPiBzaS5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNqLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7CiAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0gLy8gR2V0IGNvbGxpc2lvbiBtYXRlcmlhbAoKCiAgICAgICAgICAgIGxldCBzaGFwZUNvbnRhY3RNYXRlcmlhbCA9IG51bGw7CgogICAgICAgICAgICBpZiAoc2kubWF0ZXJpYWwgJiYgc2oubWF0ZXJpYWwpIHsKICAgICAgICAgICAgICBzaGFwZUNvbnRhY3RNYXRlcmlhbCA9IHdvcmxkLmdldENvbnRhY3RNYXRlcmlhbChzaS5tYXRlcmlhbCwgc2oubWF0ZXJpYWwpIHx8IG51bGw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMuY3VycmVudENvbnRhY3RNYXRlcmlhbCA9IHNoYXBlQ29udGFjdE1hdGVyaWFsIHx8IGJvZHlDb250YWN0TWF0ZXJpYWwgfHwgd29ybGQuZGVmYXVsdENvbnRhY3RNYXRlcmlhbDsgLy8gR2V0IGNvbnRhY3RzCgogICAgICAgICAgICBjb25zdCByZXNvbHZlckluZGV4ID0gc2kudHlwZSB8IHNqLnR5cGU7CiAgICAgICAgICAgIGNvbnN0IHJlc29sdmVyID0gdGhpc1tyZXNvbHZlckluZGV4XTsKCiAgICAgICAgICAgIGlmIChyZXNvbHZlcikgewogICAgICAgICAgICAgIGxldCByZXR2YWwgPSBmYWxzZTsgLy8gVE8gRE86IGludmVzdGlnYXRlIHdoeSBzcGhlcmVQYXJ0aWNsZSBhbmQgY29udmV4UGFydGljbGUKICAgICAgICAgICAgICAvLyByZXNvbHZlcnMgZXhwZWN0IHNpIGFuZCBzaiBzaGFwZXMgdG8gYmUgaW4gcmV2ZXJzZSBvcmRlcgogICAgICAgICAgICAgIC8vIChpLmUuIGxhcmdlciBpbnRlZ2VyIHZhbHVlIHR5cGUgZmlyc3QgaW5zdGVhZCBvZiBzbWFsbGVyIGZpcnN0KQoKICAgICAgICAgICAgICBpZiAoc2kudHlwZSA8IHNqLnR5cGUpIHsKICAgICAgICAgICAgICAgIHJldHZhbCA9IHJlc29sdmVyLmNhbGwodGhpcywgc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dmFsID0gcmVzb2x2ZXIuY2FsbCh0aGlzLCBzaiwgc2ksIHhqLCB4aSwgcWosIHFpLCBiaiwgYmksIHNpLCBzaiwganVzdFRlc3QpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKHJldHZhbCAmJiBqdXN0VGVzdCkgewogICAgICAgICAgICAgICAgLy8gUmVnaXN0ZXIgb3ZlcmxhcAogICAgICAgICAgICAgICAgd29ybGQuc2hhcGVPdmVybGFwS2VlcGVyLnNldChzaS5pZCwgc2ouaWQpOwogICAgICAgICAgICAgICAgd29ybGQuYm9keU92ZXJsYXBLZWVwZXIuc2V0KGJpLmlkLCBiai5pZCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgc3BoZXJlU3BoZXJlKHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgIHJldHVybiB4aS5kaXN0YW5jZVNxdWFyZWQoeGopIDwgKHNpLnJhZGl1cyArIHNqLnJhZGl1cykgKiogMjsKICAgICAgfSAvLyBXZSB3aWxsIGhhdmUgb25seSBvbmUgY29udGFjdCBpbiB0aGlzIGNhc2UKCgogICAgICBjb25zdCBjb250YWN0RXEgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOyAvLyBDb250YWN0IG5vcm1hbAoKICAgICAgeGoudnN1Yih4aSwgY29udGFjdEVxLm5pKTsKICAgICAgY29udGFjdEVxLm5pLm5vcm1hbGl6ZSgpOyAvLyBDb250YWN0IHBvaW50IGxvY2F0aW9ucwoKICAgICAgY29udGFjdEVxLnJpLmNvcHkoY29udGFjdEVxLm5pKTsKICAgICAgY29udGFjdEVxLnJqLmNvcHkoY29udGFjdEVxLm5pKTsKICAgICAgY29udGFjdEVxLnJpLnNjYWxlKHNpLnJhZGl1cywgY29udGFjdEVxLnJpKTsKICAgICAgY29udGFjdEVxLnJqLnNjYWxlKC1zai5yYWRpdXMsIGNvbnRhY3RFcS5yaik7CiAgICAgIGNvbnRhY3RFcS5yaS52YWRkKHhpLCBjb250YWN0RXEucmkpOwogICAgICBjb250YWN0RXEucmkudnN1YihiaS5wb3NpdGlvbiwgY29udGFjdEVxLnJpKTsKICAgICAgY29udGFjdEVxLnJqLnZhZGQoeGosIGNvbnRhY3RFcS5yaik7CiAgICAgIGNvbnRhY3RFcS5yai52c3ViKGJqLnBvc2l0aW9uLCBjb250YWN0RXEucmopOwogICAgICB0aGlzLnJlc3VsdC5wdXNoKGNvbnRhY3RFcSk7CiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChjb250YWN0RXEsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgfQoKICAgIHNwaGVyZVBsYW5lKHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAgIC8vIFdlIHdpbGwgaGF2ZSBvbmUgY29udGFjdCBpbiB0aGlzIGNhc2UKICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7IC8vIENvbnRhY3Qgbm9ybWFsCgogICAgICByLm5pLnNldCgwLCAwLCAxKTsKICAgICAgcWoudm11bHQoci5uaSwgci5uaSk7CiAgICAgIHIubmkubmVnYXRlKHIubmkpOyAvLyBib2R5IGkgaXMgdGhlIHNwaGVyZSwgZmxpcCBub3JtYWwKCiAgICAgIHIubmkubm9ybWFsaXplKCk7IC8vIE5lZWRlZD8KICAgICAgLy8gVmVjdG9yIGZyb20gc3BoZXJlIGNlbnRlciB0byBjb250YWN0IHBvaW50CgogICAgICByLm5pLnNjYWxlKHNpLnJhZGl1cywgci5yaSk7IC8vIFByb2plY3QgZG93biBzcGhlcmUgb24gcGxhbmUKCiAgICAgIHhpLnZzdWIoeGosIHBvaW50X29uX3BsYW5lX3RvX3NwaGVyZSk7CiAgICAgIHIubmkuc2NhbGUoci5uaS5kb3QocG9pbnRfb25fcGxhbmVfdG9fc3BoZXJlKSwgcGxhbmVfdG9fc3BoZXJlX29ydGhvKTsKICAgICAgcG9pbnRfb25fcGxhbmVfdG9fc3BoZXJlLnZzdWIocGxhbmVfdG9fc3BoZXJlX29ydGhvLCByLnJqKTsgLy8gVGhlIHNwaGVyZSBwb3NpdGlvbiBwcm9qZWN0ZWQgdG8gcGxhbmUKCiAgICAgIGlmICgtcG9pbnRfb25fcGxhbmVfdG9fc3BoZXJlLmRvdChyLm5pKSA8PSBzaS5yYWRpdXMpIHsKICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gLy8gTWFrZSBpdCByZWxhdGl2ZSB0byB0aGUgYm9keQoKCiAgICAgICAgY29uc3QgcmkgPSByLnJpOwogICAgICAgIGNvbnN0IHJqID0gci5yajsKICAgICAgICByaS52YWRkKHhpLCByaSk7CiAgICAgICAgcmkudnN1YihiaS5wb3NpdGlvbiwgcmkpOwogICAgICAgIHJqLnZhZGQoeGosIHJqKTsKICAgICAgICByai52c3ViKGJqLnBvc2l0aW9uLCByaik7CiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgIH0KICAgIH0KCiAgICBib3hCb3goc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsID0gc2kubWF0ZXJpYWw7CiAgICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNqLm1hdGVyaWFsOwogICAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uY29sbGlzaW9uUmVzcG9uc2UgPSBzaS5jb2xsaXNpb25SZXNwb25zZTsKICAgICAgc2ouY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2ouY29sbGlzaW9uUmVzcG9uc2U7CiAgICAgIHJldHVybiB0aGlzLmNvbnZleENvbnZleChzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgc2ksIHNqLCBqdXN0VGVzdCk7CiAgICB9CgogICAgc3BoZXJlQm94KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAgIGNvbnN0IHYzcG9vbCA9IHRoaXMudjNwb29sOyAvLyB3ZSByZWZlciB0byB0aGUgYm94IGFzIGJvZHkgagoKICAgICAgY29uc3Qgc2lkZXMgPSBzcGhlcmVCb3hfc2lkZXM7CiAgICAgIHhpLnZzdWIoeGosIGJveF90b19zcGhlcmUpOwogICAgICBzai5nZXRTaWRlTm9ybWFscyhzaWRlcywgcWopOwogICAgICBjb25zdCBSID0gc2kucmFkaXVzOwogICAgICBsZXQgZm91bmQgPSBmYWxzZTsgLy8gU3RvcmUgdGhlIHJlc3VsdGluZyBzaWRlIHBlbmV0cmF0aW9uIGluZm8KCiAgICAgIGNvbnN0IHNpZGVfbnMgPSBzcGhlcmVCb3hfc2lkZV9uczsKICAgICAgY29uc3Qgc2lkZV9uczEgPSBzcGhlcmVCb3hfc2lkZV9uczE7CiAgICAgIGNvbnN0IHNpZGVfbnMyID0gc3BoZXJlQm94X3NpZGVfbnMyOwogICAgICBsZXQgc2lkZV9oID0gbnVsbDsKICAgICAgbGV0IHNpZGVfcGVuZXRyYXRpb25zID0gMDsKICAgICAgbGV0IHNpZGVfZG90MSA9IDA7CiAgICAgIGxldCBzaWRlX2RvdDIgPSAwOwogICAgICBsZXQgc2lkZV9kaXN0YW5jZSA9IG51bGw7CgogICAgICBmb3IgKGxldCBpZHggPSAwLCBuc2lkZXMgPSBzaWRlcy5sZW5ndGg7IGlkeCAhPT0gbnNpZGVzICYmIGZvdW5kID09PSBmYWxzZTsgaWR4KyspIHsKICAgICAgICAvLyBHZXQgdGhlIHBsYW5lIHNpZGUgbm9ybWFsIChucykKICAgICAgICBjb25zdCBucyA9IHNwaGVyZUJveF9uczsKICAgICAgICBucy5jb3B5KHNpZGVzW2lkeF0pOwogICAgICAgIGNvbnN0IGggPSBucy5sZW5ndGgoKTsKICAgICAgICBucy5ub3JtYWxpemUoKTsgLy8gVGhlIG5vcm1hbC9kaXN0YW5jZSBkb3QgcHJvZHVjdCB0ZWxscyB3aGljaCBzaWRlIG9mIHRoZSBwbGFuZSB3ZSBhcmUKCiAgICAgICAgY29uc3QgZG90ID0gYm94X3RvX3NwaGVyZS5kb3QobnMpOwoKICAgICAgICBpZiAoZG90IDwgaCArIFIgJiYgZG90ID4gMCkgewogICAgICAgICAgLy8gSW50ZXJzZWN0cyBwbGFuZS4gTm93IGNoZWNrIHRoZSBvdGhlciB0d28gZGltZW5zaW9ucwogICAgICAgICAgY29uc3QgbnMxID0gc3BoZXJlQm94X25zMTsKICAgICAgICAgIGNvbnN0IG5zMiA9IHNwaGVyZUJveF9uczI7CiAgICAgICAgICBuczEuY29weShzaWRlc1soaWR4ICsgMSkgJSAzXSk7CiAgICAgICAgICBuczIuY29weShzaWRlc1soaWR4ICsgMikgJSAzXSk7CiAgICAgICAgICBjb25zdCBoMSA9IG5zMS5sZW5ndGgoKTsKICAgICAgICAgIGNvbnN0IGgyID0gbnMyLmxlbmd0aCgpOwogICAgICAgICAgbnMxLm5vcm1hbGl6ZSgpOwogICAgICAgICAgbnMyLm5vcm1hbGl6ZSgpOwogICAgICAgICAgY29uc3QgZG90MSA9IGJveF90b19zcGhlcmUuZG90KG5zMSk7CiAgICAgICAgICBjb25zdCBkb3QyID0gYm94X3RvX3NwaGVyZS5kb3QobnMyKTsKCiAgICAgICAgICBpZiAoZG90MSA8IGgxICYmIGRvdDEgPiAtaDEgJiYgZG90MiA8IGgyICYmIGRvdDIgPiAtaDIpIHsKICAgICAgICAgICAgY29uc3QgZGlzdCA9IE1hdGguYWJzKGRvdCAtIGggLSBSKTsKCiAgICAgICAgICAgIGlmIChzaWRlX2Rpc3RhbmNlID09PSBudWxsIHx8IGRpc3QgPCBzaWRlX2Rpc3RhbmNlKSB7CiAgICAgICAgICAgICAgc2lkZV9kaXN0YW5jZSA9IGRpc3Q7CiAgICAgICAgICAgICAgc2lkZV9kb3QxID0gZG90MTsKICAgICAgICAgICAgICBzaWRlX2RvdDIgPSBkb3QyOwogICAgICAgICAgICAgIHNpZGVfaCA9IGg7CiAgICAgICAgICAgICAgc2lkZV9ucy5jb3B5KG5zKTsKICAgICAgICAgICAgICBzaWRlX25zMS5jb3B5KG5zMSk7CiAgICAgICAgICAgICAgc2lkZV9uczIuY29weShuczIpOwogICAgICAgICAgICAgIHNpZGVfcGVuZXRyYXRpb25zKys7CgogICAgICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoc2lkZV9wZW5ldHJhdGlvbnMpIHsKICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7CiAgICAgICAgc2lkZV9ucy5zY2FsZSgtUiwgci5yaSk7IC8vIFNwaGVyZSByCgogICAgICAgIHIubmkuY29weShzaWRlX25zKTsKICAgICAgICByLm5pLm5lZ2F0ZShyLm5pKTsgLy8gTm9ybWFsIHNob3VsZCBiZSBvdXQgb2Ygc3BoZXJlCgogICAgICAgIHNpZGVfbnMuc2NhbGUoc2lkZV9oLCBzaWRlX25zKTsKICAgICAgICBzaWRlX25zMS5zY2FsZShzaWRlX2RvdDEsIHNpZGVfbnMxKTsKICAgICAgICBzaWRlX25zLnZhZGQoc2lkZV9uczEsIHNpZGVfbnMpOwogICAgICAgIHNpZGVfbnMyLnNjYWxlKHNpZGVfZG90Miwgc2lkZV9uczIpOwogICAgICAgIHNpZGVfbnMudmFkZChzaWRlX25zMiwgci5yaik7IC8vIE1ha2UgcmVsYXRpdmUgdG8gYm9kaWVzCgogICAgICAgIHIucmkudmFkZCh4aSwgci5yaSk7CiAgICAgICAgci5yaS52c3ViKGJpLnBvc2l0aW9uLCByLnJpKTsKICAgICAgICByLnJqLnZhZGQoeGosIHIucmopOwogICAgICAgIHIucmoudnN1Yihiai5wb3NpdGlvbiwgci5yaik7CiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgIH0gLy8gQ2hlY2sgY29ybmVycwoKCiAgICAgIGxldCByaiA9IHYzcG9vbC5nZXQoKTsKICAgICAgY29uc3Qgc3BoZXJlX3RvX2Nvcm5lciA9IHNwaGVyZUJveF9zcGhlcmVfdG9fY29ybmVyOwoKICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IDIgJiYgIWZvdW5kOyBqKyspIHsKICAgICAgICBmb3IgKGxldCBrID0gMDsgayAhPT0gMiAmJiAhZm91bmQ7IGsrKykgewogICAgICAgICAgZm9yIChsZXQgbCA9IDA7IGwgIT09IDIgJiYgIWZvdW5kOyBsKyspIHsKICAgICAgICAgICAgcmouc2V0KDAsIDAsIDApOwoKICAgICAgICAgICAgaWYgKGopIHsKICAgICAgICAgICAgICByai52YWRkKHNpZGVzWzBdLCByaik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmoudnN1YihzaWRlc1swXSwgcmopOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoaykgewogICAgICAgICAgICAgIHJqLnZhZGQoc2lkZXNbMV0sIHJqKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByai52c3ViKHNpZGVzWzFdLCByaik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChsKSB7CiAgICAgICAgICAgICAgcmoudmFkZChzaWRlc1syXSwgcmopOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJqLnZzdWIoc2lkZXNbMl0sIHJqKTsKICAgICAgICAgICAgfSAvLyBXb3JsZCBwb3NpdGlvbiBvZiBjb3JuZXIKCgogICAgICAgICAgICB4ai52YWRkKHJqLCBzcGhlcmVfdG9fY29ybmVyKTsKICAgICAgICAgICAgc3BoZXJlX3RvX2Nvcm5lci52c3ViKHhpLCBzcGhlcmVfdG9fY29ybmVyKTsKCiAgICAgICAgICAgIGlmIChzcGhlcmVfdG9fY29ybmVyLmxlbmd0aFNxdWFyZWQoKSA8IFIgKiBSKSB7CiAgICAgICAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsKICAgICAgICAgICAgICByLnJpLmNvcHkoc3BoZXJlX3RvX2Nvcm5lcik7CiAgICAgICAgICAgICAgci5yaS5ub3JtYWxpemUoKTsKICAgICAgICAgICAgICByLm5pLmNvcHkoci5yaSk7CiAgICAgICAgICAgICAgci5yaS5zY2FsZShSLCByLnJpKTsKICAgICAgICAgICAgICByLnJqLmNvcHkocmopOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllcwoKICAgICAgICAgICAgICByLnJpLnZhZGQoeGksIHIucmkpOwogICAgICAgICAgICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7CiAgICAgICAgICAgICAgci5yai52YWRkKHhqLCByLnJqKTsKICAgICAgICAgICAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopOwogICAgICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICB2M3Bvb2wucmVsZWFzZShyaik7CiAgICAgIHJqID0gbnVsbDsgLy8gQ2hlY2sgZWRnZXMKCiAgICAgIGNvbnN0IGVkZ2VUYW5nZW50ID0gdjNwb29sLmdldCgpOwogICAgICBjb25zdCBlZGdlQ2VudGVyID0gdjNwb29sLmdldCgpOwogICAgICBjb25zdCByID0gdjNwb29sLmdldCgpOyAvLyByID0gZWRnZSBjZW50ZXIgdG8gc3BoZXJlIGNlbnRlcgoKICAgICAgY29uc3Qgb3J0aG9nb25hbCA9IHYzcG9vbC5nZXQoKTsKICAgICAgY29uc3QgZGlzdCA9IHYzcG9vbC5nZXQoKTsKICAgICAgY29uc3QgTnNpZGVzID0gc2lkZXMubGVuZ3RoOwoKICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IE5zaWRlcyAmJiAhZm91bmQ7IGorKykgewogICAgICAgIGZvciAobGV0IGsgPSAwOyBrICE9PSBOc2lkZXMgJiYgIWZvdW5kOyBrKyspIHsKICAgICAgICAgIGlmIChqICUgMyAhPT0gayAlIDMpIHsKICAgICAgICAgICAgLy8gR2V0IGVkZ2UgdGFuZ2VudAogICAgICAgICAgICBzaWRlc1trXS5jcm9zcyhzaWRlc1tqXSwgZWRnZVRhbmdlbnQpOwogICAgICAgICAgICBlZGdlVGFuZ2VudC5ub3JtYWxpemUoKTsKICAgICAgICAgICAgc2lkZXNbal0udmFkZChzaWRlc1trXSwgZWRnZUNlbnRlcik7CiAgICAgICAgICAgIHIuY29weSh4aSk7CiAgICAgICAgICAgIHIudnN1YihlZGdlQ2VudGVyLCByKTsKICAgICAgICAgICAgci52c3ViKHhqLCByKTsKICAgICAgICAgICAgY29uc3Qgb3J0aG9ub3JtID0gci5kb3QoZWRnZVRhbmdlbnQpOyAvLyBkaXN0YW5jZSBmcm9tIGVkZ2UgY2VudGVyIHRvIHNwaGVyZSBjZW50ZXIgaW4gdGhlIHRhbmdlbnQgZGlyZWN0aW9uCgogICAgICAgICAgICBlZGdlVGFuZ2VudC5zY2FsZShvcnRob25vcm0sIG9ydGhvZ29uYWwpOyAvLyBWZWN0b3IgZnJvbSBlZGdlIGNlbnRlciB0byBzcGhlcmUgY2VudGVyIGluIHRoZSB0YW5nZW50IGRpcmVjdGlvbgogICAgICAgICAgICAvLyBGaW5kIHRoZSB0aGlyZCBzaWRlIG9ydGhvZ29uYWwgdG8gdGhpcyBvbmUKCiAgICAgICAgICAgIGxldCBsID0gMDsKCiAgICAgICAgICAgIHdoaWxlIChsID09PSBqICUgMyB8fCBsID09PSBrICUgMykgewogICAgICAgICAgICAgIGwrKzsKICAgICAgICAgICAgfSAvLyB2ZWMgZnJvbSBlZGdlIGNlbnRlciB0byBzcGhlcmUgcHJvamVjdGVkIHRvIHRoZSBwbGFuZSBvcnRob2dvbmFsIHRvIHRoZSBlZGdlIHRhbmdlbnQKCgogICAgICAgICAgICBkaXN0LmNvcHkoeGkpOwogICAgICAgICAgICBkaXN0LnZzdWIob3J0aG9nb25hbCwgZGlzdCk7CiAgICAgICAgICAgIGRpc3QudnN1YihlZGdlQ2VudGVyLCBkaXN0KTsKICAgICAgICAgICAgZGlzdC52c3ViKHhqLCBkaXN0KTsgLy8gRGlzdGFuY2VzIGluIHRhbmdlbnQgZGlyZWN0aW9uIGFuZCBkaXN0YW5jZSBpbiB0aGUgcGxhbmUgb3J0aG9nb25hbCB0byBpdAoKICAgICAgICAgICAgY29uc3QgdGRpc3QgPSBNYXRoLmFicyhvcnRob25vcm0pOwogICAgICAgICAgICBjb25zdCBuZGlzdCA9IGRpc3QubGVuZ3RoKCk7CgogICAgICAgICAgICBpZiAodGRpc3QgPCBzaWRlc1tsXS5sZW5ndGgoKSAmJiBuZGlzdCA8IFIpIHsKICAgICAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgICAgICAgIGNvbnN0IHJlcyA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7CiAgICAgICAgICAgICAgZWRnZUNlbnRlci52YWRkKG9ydGhvZ29uYWwsIHJlcy5yaik7IC8vIGJveCByagoKICAgICAgICAgICAgICByZXMucmouY29weShyZXMucmopOwogICAgICAgICAgICAgIGRpc3QubmVnYXRlKHJlcy5uaSk7CiAgICAgICAgICAgICAgcmVzLm5pLm5vcm1hbGl6ZSgpOwogICAgICAgICAgICAgIHJlcy5yaS5jb3B5KHJlcy5yaik7CiAgICAgICAgICAgICAgcmVzLnJpLnZhZGQoeGosIHJlcy5yaSk7CiAgICAgICAgICAgICAgcmVzLnJpLnZzdWIoeGksIHJlcy5yaSk7CiAgICAgICAgICAgICAgcmVzLnJpLm5vcm1hbGl6ZSgpOwogICAgICAgICAgICAgIHJlcy5yaS5zY2FsZShSLCByZXMucmkpOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllcwoKICAgICAgICAgICAgICByZXMucmkudmFkZCh4aSwgcmVzLnJpKTsKICAgICAgICAgICAgICByZXMucmkudnN1YihiaS5wb3NpdGlvbiwgcmVzLnJpKTsKICAgICAgICAgICAgICByZXMucmoudmFkZCh4aiwgcmVzLnJqKTsKICAgICAgICAgICAgICByZXMucmoudnN1Yihiai5wb3NpdGlvbiwgcmVzLnJqKTsKICAgICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHJlcyk7CiAgICAgICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHJlcywgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHYzcG9vbC5yZWxlYXNlKGVkZ2VUYW5nZW50LCBlZGdlQ2VudGVyLCByLCBvcnRob2dvbmFsLCBkaXN0KTsKICAgIH0KCiAgICBwbGFuZUJveChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgICBzai5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24ubWF0ZXJpYWwgPSBzai5tYXRlcmlhbDsKICAgICAgc2ouY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2ouY29sbGlzaW9uUmVzcG9uc2U7CiAgICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5pZCA9IHNqLmlkOwogICAgICByZXR1cm4gdGhpcy5wbGFuZUNvbnZleChzaSwgc2ouY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTsKICAgIH0KCiAgICBjb252ZXhDb252ZXgoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QsIGZhY2VMaXN0QSwgZmFjZUxpc3RCKSB7CiAgICAgIGNvbnN0IHNlcEF4aXMgPSBjb252ZXhDb252ZXhfc2VwQXhpczsKCiAgICAgIGlmICh4aS5kaXN0YW5jZVRvKHhqKSA+IHNpLmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc2ouYm91bmRpbmdTcGhlcmVSYWRpdXMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChzaS5maW5kU2VwYXJhdGluZ0F4aXMoc2osIHhpLCBxaSwgeGosIHFqLCBzZXBBeGlzLCBmYWNlTGlzdEEsIGZhY2VMaXN0QikpIHsKICAgICAgICBjb25zdCByZXMgPSBbXTsKICAgICAgICBjb25zdCBxID0gY29udmV4Q29udmV4X3E7CiAgICAgICAgc2kuY2xpcEFnYWluc3RIdWxsKHhpLCBxaSwgc2osIHhqLCBxaiwgc2VwQXhpcywgLTEwMCwgMTAwLCByZXMpOwogICAgICAgIGxldCBudW1Db250YWN0cyA9IDA7CgogICAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSByZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsKICAgICAgICAgIGNvbnN0IHJpID0gci5yaTsKICAgICAgICAgIGNvbnN0IHJqID0gci5yajsKICAgICAgICAgIHNlcEF4aXMubmVnYXRlKHIubmkpOwogICAgICAgICAgcmVzW2pdLm5vcm1hbC5uZWdhdGUocSk7CiAgICAgICAgICBxLnNjYWxlKHJlc1tqXS5kZXB0aCwgcSk7CiAgICAgICAgICByZXNbal0ucG9pbnQudmFkZChxLCByaSk7CiAgICAgICAgICByai5jb3B5KHJlc1tqXS5wb2ludCk7IC8vIENvbnRhY3QgcG9pbnRzIGFyZSBpbiB3b3JsZCBjb29yZGluYXRlcy4gVHJhbnNmb3JtIGJhY2sgdG8gcmVsYXRpdmUKCiAgICAgICAgICByaS52c3ViKHhpLCByaSk7CiAgICAgICAgICByai52c3ViKHhqLCByaik7IC8vIE1ha2UgcmVsYXRpdmUgdG8gYm9kaWVzCgogICAgICAgICAgcmkudmFkZCh4aSwgcmkpOwogICAgICAgICAgcmkudnN1YihiaS5wb3NpdGlvbiwgcmkpOwogICAgICAgICAgcmoudmFkZCh4aiwgcmopOwogICAgICAgICAgcmoudnN1Yihiai5wb3NpdGlvbiwgcmopOwogICAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICAgIG51bUNvbnRhY3RzKys7CgogICAgICAgICAgaWYgKCF0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uKSB7CiAgICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uICYmIG51bUNvbnRhY3RzKSB7CiAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUF2ZXJhZ2UobnVtQ29udGFjdHMpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHNwaGVyZUNvbnZleChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgICBjb25zdCB2M3Bvb2wgPSB0aGlzLnYzcG9vbDsKICAgICAgeGkudnN1Yih4aiwgY29udmV4X3RvX3NwaGVyZSk7CiAgICAgIGNvbnN0IG5vcm1hbHMgPSBzai5mYWNlTm9ybWFsczsKICAgICAgY29uc3QgZmFjZXMgPSBzai5mYWNlczsKICAgICAgY29uc3QgdmVydHMgPSBzai52ZXJ0aWNlczsKICAgICAgY29uc3QgUiA9IHNpLnJhZGl1czsgLy8gICAgIHJldHVybjsKICAgICAgLy8gfQoKICAgICAgbGV0IGZvdW5kID0gZmFsc2U7IC8vIENoZWNrIGNvcm5lcnMKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSB2ZXJ0cy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IHYgPSB2ZXJ0c1tpXTsgLy8gV29ybGQgcG9zaXRpb24gb2YgY29ybmVyCgogICAgICAgIGNvbnN0IHdvcmxkQ29ybmVyID0gc3BoZXJlQ29udmV4X3dvcmxkQ29ybmVyOwogICAgICAgIHFqLnZtdWx0KHYsIHdvcmxkQ29ybmVyKTsKICAgICAgICB4ai52YWRkKHdvcmxkQ29ybmVyLCB3b3JsZENvcm5lcik7CiAgICAgICAgY29uc3Qgc3BoZXJlX3RvX2Nvcm5lciA9IHNwaGVyZUNvbnZleF9zcGhlcmVUb0Nvcm5lcjsKICAgICAgICB3b3JsZENvcm5lci52c3ViKHhpLCBzcGhlcmVfdG9fY29ybmVyKTsKCiAgICAgICAgaWYgKHNwaGVyZV90b19jb3JuZXIubGVuZ3RoU3F1YXJlZCgpIDwgUiAqIFIpIHsKICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsKICAgICAgICAgIHIucmkuY29weShzcGhlcmVfdG9fY29ybmVyKTsKICAgICAgICAgIHIucmkubm9ybWFsaXplKCk7CiAgICAgICAgICByLm5pLmNvcHkoci5yaSk7CiAgICAgICAgICByLnJpLnNjYWxlKFIsIHIucmkpOwogICAgICAgICAgd29ybGRDb3JuZXIudnN1Yih4aiwgci5yaik7IC8vIFNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYm9keS4KCiAgICAgICAgICByLnJpLnZhZGQoeGksIHIucmkpOwogICAgICAgICAgci5yaS52c3ViKGJpLnBvc2l0aW9uLCByLnJpKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LgoKICAgICAgICAgIHIucmoudmFkZCh4aiwgci5yaik7CiAgICAgICAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopOwogICAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0gLy8gQ2hlY2sgc2lkZSAocGxhbmUpIGludGVyc2VjdGlvbnMKCgogICAgICBmb3IgKGxldCBpID0gMCwgbmZhY2VzID0gZmFjZXMubGVuZ3RoOyBpICE9PSBuZmFjZXMgJiYgZm91bmQgPT09IGZhbHNlOyBpKyspIHsKICAgICAgICBjb25zdCBub3JtYWwgPSBub3JtYWxzW2ldOwogICAgICAgIGNvbnN0IGZhY2UgPSBmYWNlc1tpXTsgLy8gR2V0IHdvcmxkLXRyYW5zZm9ybWVkIG5vcm1hbCBvZiB0aGUgZmFjZQoKICAgICAgICBjb25zdCB3b3JsZE5vcm1hbCA9IHNwaGVyZUNvbnZleF93b3JsZE5vcm1hbDsKICAgICAgICBxai52bXVsdChub3JtYWwsIHdvcmxkTm9ybWFsKTsgLy8gR2V0IGEgd29ybGQgdmVydGV4IGZyb20gdGhlIGZhY2UKCiAgICAgICAgY29uc3Qgd29ybGRQb2ludCA9IHNwaGVyZUNvbnZleF93b3JsZFBvaW50OwogICAgICAgIHFqLnZtdWx0KHZlcnRzW2ZhY2VbMF1dLCB3b3JsZFBvaW50KTsKICAgICAgICB3b3JsZFBvaW50LnZhZGQoeGosIHdvcmxkUG9pbnQpOyAvLyBHZXQgYSBwb2ludCBvbiB0aGUgc3BoZXJlLCBjbG9zZXN0IHRvIHRoZSBmYWNlIG5vcm1hbAoKICAgICAgICBjb25zdCB3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUgPSBzcGhlcmVDb252ZXhfd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lOwogICAgICAgIHdvcmxkTm9ybWFsLnNjYWxlKC1SLCB3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUpOwogICAgICAgIHhpLnZhZGQod29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lLCB3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUpOyAvLyBWZWN0b3IgZnJvbSBhIGZhY2UgcG9pbnQgdG8gdGhlIGNsb3Nlc3QgcG9pbnQgb24gdGhlIHNwaGVyZQoKICAgICAgICBjb25zdCBwZW5ldHJhdGlvblZlYyA9IHNwaGVyZUNvbnZleF9wZW5ldHJhdGlvblZlYzsKICAgICAgICB3b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUudnN1Yih3b3JsZFBvaW50LCBwZW5ldHJhdGlvblZlYyk7IC8vIFRoZSBwZW5ldHJhdGlvbi4gTmVnYXRpdmUgdmFsdWUgbWVhbnMgb3ZlcmxhcC4KCiAgICAgICAgY29uc3QgcGVuZXRyYXRpb24gPSBwZW5ldHJhdGlvblZlYy5kb3Qod29ybGROb3JtYWwpOwogICAgICAgIGNvbnN0IHdvcmxkUG9pbnRUb1NwaGVyZSA9IHNwaGVyZUNvbnZleF9zcGhlcmVUb1dvcmxkUG9pbnQ7CiAgICAgICAgeGkudnN1Yih3b3JsZFBvaW50LCB3b3JsZFBvaW50VG9TcGhlcmUpOwoKICAgICAgICBpZiAocGVuZXRyYXRpb24gPCAwICYmIHdvcmxkUG9pbnRUb1NwaGVyZS5kb3Qod29ybGROb3JtYWwpID4gMCkgewogICAgICAgICAgLy8gSW50ZXJzZWN0cyBwbGFuZS4gTm93IGNoZWNrIGlmIHRoZSBzcGhlcmUgaXMgaW5zaWRlIHRoZSBmYWNlIHBvbHlnb24KICAgICAgICAgIGNvbnN0IGZhY2VWZXJ0cyA9IFtdOyAvLyBGYWNlIHZlcnRpY2VzLCBpbiB3b3JsZCBjb29yZHMKCiAgICAgICAgICBmb3IgKGxldCBqID0gMCwgTnZlcnRzID0gZmFjZS5sZW5ndGg7IGogIT09IE52ZXJ0czsgaisrKSB7CiAgICAgICAgICAgIGNvbnN0IHdvcmxkVmVydGV4ID0gdjNwb29sLmdldCgpOwogICAgICAgICAgICBxai52bXVsdCh2ZXJ0c1tmYWNlW2pdXSwgd29ybGRWZXJ0ZXgpOwogICAgICAgICAgICB4ai52YWRkKHdvcmxkVmVydGV4LCB3b3JsZFZlcnRleCk7CiAgICAgICAgICAgIGZhY2VWZXJ0cy5wdXNoKHdvcmxkVmVydGV4KTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAocG9pbnRJblBvbHlnb24oZmFjZVZlcnRzLCB3b3JsZE5vcm1hbCwgeGkpKSB7CiAgICAgICAgICAgIC8vIElzIHRoZSBzcGhlcmUgY2VudGVyIGluIHRoZSBmYWNlIHBvbHlnb24/CiAgICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSgtUiwgci5yaSk7IC8vIENvbnRhY3Qgb2Zmc2V0LCBmcm9tIHNwaGVyZSBjZW50ZXIgdG8gY29udGFjdAoKICAgICAgICAgICAgd29ybGROb3JtYWwubmVnYXRlKHIubmkpOyAvLyBOb3JtYWwgcG9pbnRpbmcgb3V0IG9mIHNwaGVyZQoKICAgICAgICAgICAgY29uc3QgcGVuZXRyYXRpb25WZWMyID0gdjNwb29sLmdldCgpOwogICAgICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSgtcGVuZXRyYXRpb24sIHBlbmV0cmF0aW9uVmVjMik7CiAgICAgICAgICAgIGNvbnN0IHBlbmV0cmF0aW9uU3BoZXJlUG9pbnQgPSB2M3Bvb2wuZ2V0KCk7CiAgICAgICAgICAgIHdvcmxkTm9ybWFsLnNjYWxlKC1SLCBwZW5ldHJhdGlvblNwaGVyZVBvaW50KTsgLy94aS52c3ViKHhqKS52YWRkKHBlbmV0cmF0aW9uU3BoZXJlUG9pbnQpLnZhZGQocGVuZXRyYXRpb25WZWMyICwgci5yaik7CgogICAgICAgICAgICB4aS52c3ViKHhqLCByLnJqKTsKICAgICAgICAgICAgci5yai52YWRkKHBlbmV0cmF0aW9uU3BoZXJlUG9pbnQsIHIucmopOwogICAgICAgICAgICByLnJqLnZhZGQocGVuZXRyYXRpb25WZWMyLCByLnJqKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LgoKICAgICAgICAgICAgci5yai52YWRkKHhqLCByLnJqKTsKICAgICAgICAgICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LgoKICAgICAgICAgICAgci5yaS52YWRkKHhpLCByLnJpKTsKICAgICAgICAgICAgci5yaS52c3ViKGJpLnBvc2l0aW9uLCByLnJpKTsKICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UocGVuZXRyYXRpb25WZWMyKTsKICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UocGVuZXRyYXRpb25TcGhlcmVQb2ludCk7CiAgICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsgLy8gUmVsZWFzZSB3b3JsZCB2ZXJ0aWNlcwoKICAgICAgICAgICAgZm9yIChsZXQgaiA9IDAsIE5mYWNldmVydHMgPSBmYWNlVmVydHMubGVuZ3RoOyBqICE9PSBOZmFjZXZlcnRzOyBqKyspIHsKICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZShmYWNlVmVydHNbal0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm47IC8vIFdlIG9ubHkgZXhwZWN0ICpvbmUqIGZhY2UgY29udGFjdAogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gRWRnZT8KICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IGZhY2UubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAvLyBHZXQgdHdvIHdvcmxkIHRyYW5zZm9ybWVkIHZlcnRpY2VzCiAgICAgICAgICAgICAgY29uc3QgdjEgPSB2M3Bvb2wuZ2V0KCk7CiAgICAgICAgICAgICAgY29uc3QgdjIgPSB2M3Bvb2wuZ2V0KCk7CiAgICAgICAgICAgICAgcWoudm11bHQodmVydHNbZmFjZVsoaiArIDEpICUgZmFjZS5sZW5ndGhdXSwgdjEpOwogICAgICAgICAgICAgIHFqLnZtdWx0KHZlcnRzW2ZhY2VbKGogKyAyKSAlIGZhY2UubGVuZ3RoXV0sIHYyKTsKICAgICAgICAgICAgICB4ai52YWRkKHYxLCB2MSk7CiAgICAgICAgICAgICAgeGoudmFkZCh2MiwgdjIpOyAvLyBDb25zdHJ1Y3QgZWRnZSB2ZWN0b3IKCiAgICAgICAgICAgICAgY29uc3QgZWRnZSA9IHNwaGVyZUNvbnZleF9lZGdlOwogICAgICAgICAgICAgIHYyLnZzdWIodjEsIGVkZ2UpOyAvLyBDb25zdHJ1Y3QgdGhlIHNhbWUgdmVjdG9yLCBidXQgbm9ybWFsaXplZAoKICAgICAgICAgICAgICBjb25zdCBlZGdlVW5pdCA9IHNwaGVyZUNvbnZleF9lZGdlVW5pdDsKICAgICAgICAgICAgICBlZGdlLnVuaXQoZWRnZVVuaXQpOyAvLyBwIGlzIHhpIHByb2plY3RlZCBvbnRvIHRoZSBlZGdlCgogICAgICAgICAgICAgIGNvbnN0IHAgPSB2M3Bvb2wuZ2V0KCk7CiAgICAgICAgICAgICAgY29uc3QgdjFfdG9feGkgPSB2M3Bvb2wuZ2V0KCk7CiAgICAgICAgICAgICAgeGkudnN1Yih2MSwgdjFfdG9feGkpOwogICAgICAgICAgICAgIGNvbnN0IGRvdCA9IHYxX3RvX3hpLmRvdChlZGdlVW5pdCk7CiAgICAgICAgICAgICAgZWRnZVVuaXQuc2NhbGUoZG90LCBwKTsKICAgICAgICAgICAgICBwLnZhZGQodjEsIHApOyAvLyBDb21wdXRlIGEgdmVjdG9yIGZyb20gcCB0byB0aGUgY2VudGVyIG9mIHRoZSBzcGhlcmUKCiAgICAgICAgICAgICAgY29uc3QgeGlfdG9fcCA9IHYzcG9vbC5nZXQoKTsKICAgICAgICAgICAgICBwLnZzdWIoeGksIHhpX3RvX3ApOyAvLyBDb2xsaXNpb24gaWYgdGhlIGVkZ2Utc3BoZXJlIGRpc3RhbmNlIGlzIGxlc3MgdGhhbiB0aGUgcmFkaXVzCiAgICAgICAgICAgICAgLy8gQU5EIGlmIHAgaXMgaW4gYmV0d2VlbiB2MSBhbmQgdjIKCiAgICAgICAgICAgICAgaWYgKGRvdCA+IDAgJiYgZG90ICogZG90IDwgZWRnZS5sZW5ndGhTcXVhcmVkKCkgJiYgeGlfdG9fcC5sZW5ndGhTcXVhcmVkKCkgPCBSICogUikgewogICAgICAgICAgICAgICAgLy8gQ29sbGlzaW9uIGlmIHRoZSBlZGdlLXNwaGVyZSBkaXN0YW5jZSBpcyBsZXNzIHRoYW4gdGhlIHJhZGl1cwogICAgICAgICAgICAgICAgLy8gRWRnZSBjb250YWN0IQogICAgICAgICAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICAgICAgICAgICAgcC52c3ViKHhqLCByLnJqKTsKICAgICAgICAgICAgICAgIHAudnN1Yih4aSwgci5uaSk7CiAgICAgICAgICAgICAgICByLm5pLm5vcm1hbGl6ZSgpOwogICAgICAgICAgICAgICAgci5uaS5zY2FsZShSLCByLnJpKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LgoKICAgICAgICAgICAgICAgIHIucmoudmFkZCh4aiwgci5yaik7CiAgICAgICAgICAgICAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuCgogICAgICAgICAgICAgICAgci5yaS52YWRkKHhpLCByLnJpKTsKICAgICAgICAgICAgICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7CiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOyAvLyBSZWxlYXNlIHdvcmxkIHZlcnRpY2VzCgogICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDAsIE5mYWNldmVydHMgPSBmYWNlVmVydHMubGVuZ3RoOyBqICE9PSBOZmFjZXZlcnRzOyBqKyspIHsKICAgICAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoZmFjZVZlcnRzW2pdKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2MSk7CiAgICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2Mik7CiAgICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZShwKTsKICAgICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHhpX3RvX3ApOwogICAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjFfdG9feGkpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjEpOwogICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHYyKTsKICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZShwKTsKICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh4aV90b19wKTsKICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2MV90b194aSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gLy8gUmVsZWFzZSB3b3JsZCB2ZXJ0aWNlcwoKCiAgICAgICAgICBmb3IgKGxldCBqID0gMCwgTmZhY2V2ZXJ0cyA9IGZhY2VWZXJ0cy5sZW5ndGg7IGogIT09IE5mYWNldmVydHM7IGorKykgewogICAgICAgICAgICB2M3Bvb2wucmVsZWFzZShmYWNlVmVydHNbal0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHBsYW5lQ29udmV4KHBsYW5lU2hhcGUsIGNvbnZleFNoYXBlLCBwbGFuZVBvc2l0aW9uLCBjb252ZXhQb3NpdGlvbiwgcGxhbmVRdWF0LCBjb252ZXhRdWF0LCBwbGFuZUJvZHksIGNvbnZleEJvZHksIHNpLCBzaiwganVzdFRlc3QpIHsKICAgICAgLy8gU2ltcGx5IHJldHVybiB0aGUgcG9pbnRzIGJlaGluZCB0aGUgcGxhbmUuCiAgICAgIGNvbnN0IHdvcmxkVmVydGV4ID0gcGxhbmVDb252ZXhfdjsKICAgICAgY29uc3Qgd29ybGROb3JtYWwgPSBwbGFuZUNvbnZleF9ub3JtYWw7CiAgICAgIHdvcmxkTm9ybWFsLnNldCgwLCAwLCAxKTsKICAgICAgcGxhbmVRdWF0LnZtdWx0KHdvcmxkTm9ybWFsLCB3b3JsZE5vcm1hbCk7IC8vIFR1cm4gbm9ybWFsIGFjY29yZGluZyB0byBwbGFuZSBvcmllbnRhdGlvbgoKICAgICAgbGV0IG51bUNvbnRhY3RzID0gMDsKICAgICAgY29uc3QgcmVscG9zID0gcGxhbmVDb252ZXhfcmVscG9zOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IGNvbnZleFNoYXBlLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgLy8gR2V0IHdvcmxkIGNvbnZleCB2ZXJ0ZXgKICAgICAgICB3b3JsZFZlcnRleC5jb3B5KGNvbnZleFNoYXBlLnZlcnRpY2VzW2ldKTsKICAgICAgICBjb252ZXhRdWF0LnZtdWx0KHdvcmxkVmVydGV4LCB3b3JsZFZlcnRleCk7CiAgICAgICAgY29udmV4UG9zaXRpb24udmFkZCh3b3JsZFZlcnRleCwgd29ybGRWZXJ0ZXgpOwogICAgICAgIHdvcmxkVmVydGV4LnZzdWIocGxhbmVQb3NpdGlvbiwgcmVscG9zKTsKICAgICAgICBjb25zdCBkb3QgPSB3b3JsZE5vcm1hbC5kb3QocmVscG9zKTsKCiAgICAgICAgaWYgKGRvdCA8PSAwLjApIHsKICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24ocGxhbmVCb2R5LCBjb252ZXhCb2R5LCBwbGFuZVNoYXBlLCBjb252ZXhTaGFwZSwgc2ksIHNqKTsgLy8gR2V0IHZlcnRleCBwb3NpdGlvbiBwcm9qZWN0ZWQgb24gcGxhbmUKCiAgICAgICAgICBjb25zdCBwcm9qZWN0ZWQgPSBwbGFuZUNvbnZleF9wcm9qZWN0ZWQ7CiAgICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSh3b3JsZE5vcm1hbC5kb3QocmVscG9zKSwgcHJvamVjdGVkKTsKICAgICAgICAgIHdvcmxkVmVydGV4LnZzdWIocHJvamVjdGVkLCBwcm9qZWN0ZWQpOwogICAgICAgICAgcHJvamVjdGVkLnZzdWIocGxhbmVQb3NpdGlvbiwgci5yaSk7IC8vIEZyb20gcGxhbmUgdG8gdmVydGV4IHByb2plY3RlZCBvbiBwbGFuZQoKICAgICAgICAgIHIubmkuY29weSh3b3JsZE5vcm1hbCk7IC8vIENvbnRhY3Qgbm9ybWFsIGlzIHRoZSBwbGFuZSBub3JtYWwgb3V0IGZyb20gcGxhbmUKICAgICAgICAgIC8vIHJqIGlzIG5vdyBqdXN0IHRoZSB2ZWN0b3IgZnJvbSB0aGUgY29udmV4IGNlbnRlciB0byB0aGUgdmVydGV4CgogICAgICAgICAgd29ybGRWZXJ0ZXgudnN1Yihjb252ZXhQb3NpdGlvbiwgci5yaik7IC8vIE1ha2UgaXQgcmVsYXRpdmUgdG8gdGhlIGJvZHkKCiAgICAgICAgICByLnJpLnZhZGQocGxhbmVQb3NpdGlvbiwgci5yaSk7CiAgICAgICAgICByLnJpLnZzdWIocGxhbmVCb2R5LnBvc2l0aW9uLCByLnJpKTsKICAgICAgICAgIHIucmoudmFkZChjb252ZXhQb3NpdGlvbiwgci5yaik7CiAgICAgICAgICByLnJqLnZzdWIoY29udmV4Qm9keS5wb3NpdGlvbiwgci5yaik7CiAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgICAgbnVtQ29udGFjdHMrKzsKCiAgICAgICAgICBpZiAoIXRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24pIHsKICAgICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24gJiYgbnVtQ29udGFjdHMpIHsKICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUF2ZXJhZ2UobnVtQ29udGFjdHMpOwogICAgICB9CiAgICB9CgogICAgYm94Q29udmV4KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNpLm1hdGVyaWFsOwogICAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uY29sbGlzaW9uUmVzcG9uc2UgPSBzaS5jb2xsaXNpb25SZXNwb25zZTsKICAgICAgcmV0dXJuIHRoaXMuY29udmV4Q29udmV4KHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpOwogICAgfQoKICAgIHNwaGVyZUhlaWdodGZpZWxkKHNwaGVyZVNoYXBlLCBoZlNoYXBlLCBzcGhlcmVQb3MsIGhmUG9zLCBzcGhlcmVRdWF0LCBoZlF1YXQsIHNwaGVyZUJvZHksIGhmQm9keSwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAgIGNvbnN0IGRhdGEgPSBoZlNoYXBlLmRhdGE7CiAgICAgIGNvbnN0IHJhZGl1cyA9IHNwaGVyZVNoYXBlLnJhZGl1czsKICAgICAgY29uc3QgdyA9IGhmU2hhcGUuZWxlbWVudFNpemU7CiAgICAgIGNvbnN0IHdvcmxkUGlsbGFyT2Zmc2V0ID0gc3BoZXJlSGVpZ2h0ZmllbGRfdG1wMjsgLy8gR2V0IHNwaGVyZSBwb3NpdGlvbiB0byBoZWlnaHRmaWVsZCBsb2NhbCEKCiAgICAgIGNvbnN0IGxvY2FsU3BoZXJlUG9zID0gc3BoZXJlSGVpZ2h0ZmllbGRfdG1wMTsKICAgICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKGhmUG9zLCBoZlF1YXQsIHNwaGVyZVBvcywgbG9jYWxTcGhlcmVQb3MpOyAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkYXRhIHBvaW50cyB0byB0ZXN0IGFnYWluc3QKCiAgICAgIGxldCBpTWluWCA9IE1hdGguZmxvb3IoKGxvY2FsU3BoZXJlUG9zLnggLSByYWRpdXMpIC8gdykgLSAxOwogICAgICBsZXQgaU1heFggPSBNYXRoLmNlaWwoKGxvY2FsU3BoZXJlUG9zLnggKyByYWRpdXMpIC8gdykgKyAxOwogICAgICBsZXQgaU1pblkgPSBNYXRoLmZsb29yKChsb2NhbFNwaGVyZVBvcy55IC0gcmFkaXVzKSAvIHcpIC0gMTsKICAgICAgbGV0IGlNYXhZID0gTWF0aC5jZWlsKChsb2NhbFNwaGVyZVBvcy55ICsgcmFkaXVzKSAvIHcpICsgMTsgLy8gQmFpbCBvdXQgaWYgd2UgYXJlIG91dCBvZiB0aGUgdGVycmFpbgoKICAgICAgaWYgKGlNYXhYIDwgMCB8fCBpTWF4WSA8IDAgfHwgaU1pblggPiBkYXRhLmxlbmd0aCB8fCBpTWluWSA+IGRhdGFbMF0ubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIENsYW1wIGluZGV4IHRvIGVkZ2VzCgoKICAgICAgaWYgKGlNaW5YIDwgMCkgewogICAgICAgIGlNaW5YID0gMDsKICAgICAgfQoKICAgICAgaWYgKGlNYXhYIDwgMCkgewogICAgICAgIGlNYXhYID0gMDsKICAgICAgfQoKICAgICAgaWYgKGlNaW5ZIDwgMCkgewogICAgICAgIGlNaW5ZID0gMDsKICAgICAgfQoKICAgICAgaWYgKGlNYXhZIDwgMCkgewogICAgICAgIGlNYXhZID0gMDsKICAgICAgfQoKICAgICAgaWYgKGlNaW5YID49IGRhdGEubGVuZ3RoKSB7CiAgICAgICAgaU1pblggPSBkYXRhLmxlbmd0aCAtIDE7CiAgICAgIH0KCiAgICAgIGlmIChpTWF4WCA+PSBkYXRhLmxlbmd0aCkgewogICAgICAgIGlNYXhYID0gZGF0YS5sZW5ndGggLSAxOwogICAgICB9CgogICAgICBpZiAoaU1heFkgPj0gZGF0YVswXS5sZW5ndGgpIHsKICAgICAgICBpTWF4WSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTsKICAgICAgfQoKICAgICAgaWYgKGlNaW5ZID49IGRhdGFbMF0ubGVuZ3RoKSB7CiAgICAgICAgaU1pblkgPSBkYXRhWzBdLmxlbmd0aCAtIDE7CiAgICAgIH0KCiAgICAgIGNvbnN0IG1pbk1heCA9IFtdOwogICAgICBoZlNoYXBlLmdldFJlY3RNaW5NYXgoaU1pblgsIGlNaW5ZLCBpTWF4WCwgaU1heFksIG1pbk1heCk7CiAgICAgIGNvbnN0IG1pbiA9IG1pbk1heFswXTsKICAgICAgY29uc3QgbWF4ID0gbWluTWF4WzFdOyAvLyBCYWlsIG91dCBpZiB3ZSBjYW4ndCB0b3VjaCB0aGUgYm91bmRpbmcgaGVpZ2h0IGJveAoKICAgICAgaWYgKGxvY2FsU3BoZXJlUG9zLnogLSByYWRpdXMgPiBtYXggfHwgbG9jYWxTcGhlcmVQb3MueiArIHJhZGl1cyA8IG1pbikgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5yZXN1bHQ7CgogICAgICBmb3IgKGxldCBpID0gaU1pblg7IGkgPCBpTWF4WDsgaSsrKSB7CiAgICAgICAgZm9yIChsZXQgaiA9IGlNaW5ZOyBqIDwgaU1heFk7IGorKykgewogICAgICAgICAgY29uc3QgbnVtQ29udGFjdHNCZWZvcmUgPSByZXN1bHQubGVuZ3RoOwogICAgICAgICAgbGV0IGludGVyc2VjdGluZyA9IGZhbHNlOyAvLyBMb3dlciB0cmlhbmdsZQoKICAgICAgICAgIGhmU2hhcGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoaSwgaiwgZmFsc2UpOwogICAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKGhmUG9zLCBoZlF1YXQsIGhmU2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7CgogICAgICAgICAgaWYgKHNwaGVyZVBvcy5kaXN0YW5jZVRvKHdvcmxkUGlsbGFyT2Zmc2V0KSA8IGhmU2hhcGUucGlsbGFyQ29udmV4LmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc3BoZXJlU2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXMpIHsKICAgICAgICAgICAgaW50ZXJzZWN0aW5nID0gdGhpcy5zcGhlcmVDb252ZXgoc3BoZXJlU2hhcGUsIGhmU2hhcGUucGlsbGFyQ29udmV4LCBzcGhlcmVQb3MsIHdvcmxkUGlsbGFyT2Zmc2V0LCBzcGhlcmVRdWF0LCBoZlF1YXQsIHNwaGVyZUJvZHksIGhmQm9keSwgc3BoZXJlU2hhcGUsIGhmU2hhcGUsIGp1c3RUZXN0KTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoanVzdFRlc3QgJiYgaW50ZXJzZWN0aW5nKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfSAvLyBVcHBlciB0cmlhbmdsZQoKCiAgICAgICAgICBoZlNoYXBlLmdldENvbnZleFRyaWFuZ2xlUGlsbGFyKGksIGosIHRydWUpOwogICAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKGhmUG9zLCBoZlF1YXQsIGhmU2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7CgogICAgICAgICAgaWYgKHNwaGVyZVBvcy5kaXN0YW5jZVRvKHdvcmxkUGlsbGFyT2Zmc2V0KSA8IGhmU2hhcGUucGlsbGFyQ29udmV4LmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc3BoZXJlU2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXMpIHsKICAgICAgICAgICAgaW50ZXJzZWN0aW5nID0gdGhpcy5zcGhlcmVDb252ZXgoc3BoZXJlU2hhcGUsIGhmU2hhcGUucGlsbGFyQ29udmV4LCBzcGhlcmVQb3MsIHdvcmxkUGlsbGFyT2Zmc2V0LCBzcGhlcmVRdWF0LCBoZlF1YXQsIHNwaGVyZUJvZHksIGhmQm9keSwgc3BoZXJlU2hhcGUsIGhmU2hhcGUsIGp1c3RUZXN0KTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoanVzdFRlc3QgJiYgaW50ZXJzZWN0aW5nKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQoKICAgICAgICAgIGNvbnN0IG51bUNvbnRhY3RzID0gcmVzdWx0Lmxlbmd0aCAtIG51bUNvbnRhY3RzQmVmb3JlOwoKICAgICAgICAgIGlmIChudW1Db250YWN0cyA+IDIpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgLyoKICAgICAgICAgICAgLy8gU2tpcCBhbGwgYnV0IDEKICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBudW1Db250YWN0cyAtIDE7IGsrKykgewogICAgICAgICAgICAgICAgcmVzdWx0LnBvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICAqLwoKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBib3hIZWlnaHRmaWVsZChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24ubWF0ZXJpYWwgPSBzaS5tYXRlcmlhbDsKICAgICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2kuY29sbGlzaW9uUmVzcG9uc2U7CiAgICAgIHJldHVybiB0aGlzLmNvbnZleEhlaWdodGZpZWxkKHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpOwogICAgfQoKICAgIGNvbnZleEhlaWdodGZpZWxkKGNvbnZleFNoYXBlLCBoZlNoYXBlLCBjb252ZXhQb3MsIGhmUG9zLCBjb252ZXhRdWF0LCBoZlF1YXQsIGNvbnZleEJvZHksIGhmQm9keSwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAgIGNvbnN0IGRhdGEgPSBoZlNoYXBlLmRhdGE7CiAgICAgIGNvbnN0IHcgPSBoZlNoYXBlLmVsZW1lbnRTaXplOwogICAgICBjb25zdCByYWRpdXMgPSBjb252ZXhTaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1czsKICAgICAgY29uc3Qgd29ybGRQaWxsYXJPZmZzZXQgPSBjb252ZXhIZWlnaHRmaWVsZF90bXAyOwogICAgICBjb25zdCBmYWNlTGlzdCA9IGNvbnZleEhlaWdodGZpZWxkX2ZhY2VMaXN0OyAvLyBHZXQgc3BoZXJlIHBvc2l0aW9uIHRvIGhlaWdodGZpZWxkIGxvY2FsIQoKICAgICAgY29uc3QgbG9jYWxDb252ZXhQb3MgPSBjb252ZXhIZWlnaHRmaWVsZF90bXAxOwogICAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUoaGZQb3MsIGhmUXVhdCwgY29udmV4UG9zLCBsb2NhbENvbnZleFBvcyk7IC8vIEdldCB0aGUgaW5kZXggb2YgdGhlIGRhdGEgcG9pbnRzIHRvIHRlc3QgYWdhaW5zdAoKICAgICAgbGV0IGlNaW5YID0gTWF0aC5mbG9vcigobG9jYWxDb252ZXhQb3MueCAtIHJhZGl1cykgLyB3KSAtIDE7CiAgICAgIGxldCBpTWF4WCA9IE1hdGguY2VpbCgobG9jYWxDb252ZXhQb3MueCArIHJhZGl1cykgLyB3KSArIDE7CiAgICAgIGxldCBpTWluWSA9IE1hdGguZmxvb3IoKGxvY2FsQ29udmV4UG9zLnkgLSByYWRpdXMpIC8gdykgLSAxOwogICAgICBsZXQgaU1heFkgPSBNYXRoLmNlaWwoKGxvY2FsQ29udmV4UG9zLnkgKyByYWRpdXMpIC8gdykgKyAxOyAvLyBCYWlsIG91dCBpZiB3ZSBhcmUgb3V0IG9mIHRoZSB0ZXJyYWluCgogICAgICBpZiAoaU1heFggPCAwIHx8IGlNYXhZIDwgMCB8fCBpTWluWCA+IGRhdGEubGVuZ3RoIHx8IGlNaW5ZID4gZGF0YVswXS5sZW5ndGgpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gQ2xhbXAgaW5kZXggdG8gZWRnZXMKCgogICAgICBpZiAoaU1pblggPCAwKSB7CiAgICAgICAgaU1pblggPSAwOwogICAgICB9CgogICAgICBpZiAoaU1heFggPCAwKSB7CiAgICAgICAgaU1heFggPSAwOwogICAgICB9CgogICAgICBpZiAoaU1pblkgPCAwKSB7CiAgICAgICAgaU1pblkgPSAwOwogICAgICB9CgogICAgICBpZiAoaU1heFkgPCAwKSB7CiAgICAgICAgaU1heFkgPSAwOwogICAgICB9CgogICAgICBpZiAoaU1pblggPj0gZGF0YS5sZW5ndGgpIHsKICAgICAgICBpTWluWCA9IGRhdGEubGVuZ3RoIC0gMTsKICAgICAgfQoKICAgICAgaWYgKGlNYXhYID49IGRhdGEubGVuZ3RoKSB7CiAgICAgICAgaU1heFggPSBkYXRhLmxlbmd0aCAtIDE7CiAgICAgIH0KCiAgICAgIGlmIChpTWF4WSA+PSBkYXRhWzBdLmxlbmd0aCkgewogICAgICAgIGlNYXhZID0gZGF0YVswXS5sZW5ndGggLSAxOwogICAgICB9CgogICAgICBpZiAoaU1pblkgPj0gZGF0YVswXS5sZW5ndGgpIHsKICAgICAgICBpTWluWSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTsKICAgICAgfQoKICAgICAgY29uc3QgbWluTWF4ID0gW107CiAgICAgIGhmU2hhcGUuZ2V0UmVjdE1pbk1heChpTWluWCwgaU1pblksIGlNYXhYLCBpTWF4WSwgbWluTWF4KTsKICAgICAgY29uc3QgbWluID0gbWluTWF4WzBdOwogICAgICBjb25zdCBtYXggPSBtaW5NYXhbMV07IC8vIEJhaWwgb3V0IGlmIHdlJ3JlIGNhbnQgdG91Y2ggdGhlIGJvdW5kaW5nIGhlaWdodCBib3gKCiAgICAgIGlmIChsb2NhbENvbnZleFBvcy56IC0gcmFkaXVzID4gbWF4IHx8IGxvY2FsQ29udmV4UG9zLnogKyByYWRpdXMgPCBtaW4pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGZvciAobGV0IGkgPSBpTWluWDsgaSA8IGlNYXhYOyBpKyspIHsKICAgICAgICBmb3IgKGxldCBqID0gaU1pblk7IGogPCBpTWF4WTsgaisrKSB7CiAgICAgICAgICBsZXQgaW50ZXJzZWN0aW5nID0gZmFsc2U7IC8vIExvd2VyIHRyaWFuZ2xlCgogICAgICAgICAgaGZTaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCBmYWxzZSk7CiAgICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUoaGZQb3MsIGhmUXVhdCwgaGZTaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTsKCiAgICAgICAgICBpZiAoY29udmV4UG9zLmRpc3RhbmNlVG8od29ybGRQaWxsYXJPZmZzZXQpIDwgaGZTaGFwZS5waWxsYXJDb252ZXguYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBjb252ZXhTaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1cykgewogICAgICAgICAgICBpbnRlcnNlY3RpbmcgPSB0aGlzLmNvbnZleENvbnZleChjb252ZXhTaGFwZSwgaGZTaGFwZS5waWxsYXJDb252ZXgsIGNvbnZleFBvcywgd29ybGRQaWxsYXJPZmZzZXQsIGNvbnZleFF1YXQsIGhmUXVhdCwgY29udmV4Qm9keSwgaGZCb2R5LCBudWxsLCBudWxsLCBqdXN0VGVzdCwgZmFjZUxpc3QsIG51bGwpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChqdXN0VGVzdCAmJiBpbnRlcnNlY3RpbmcpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9IC8vIFVwcGVyIHRyaWFuZ2xlCgoKICAgICAgICAgIGhmU2hhcGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoaSwgaiwgdHJ1ZSk7CiAgICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUoaGZQb3MsIGhmUXVhdCwgaGZTaGFwZS5waWxsYXJPZmZzZXQsIHdvcmxkUGlsbGFyT2Zmc2V0KTsKCiAgICAgICAgICBpZiAoY29udmV4UG9zLmRpc3RhbmNlVG8od29ybGRQaWxsYXJPZmZzZXQpIDwgaGZTaGFwZS5waWxsYXJDb252ZXguYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBjb252ZXhTaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1cykgewogICAgICAgICAgICBpbnRlcnNlY3RpbmcgPSB0aGlzLmNvbnZleENvbnZleChjb252ZXhTaGFwZSwgaGZTaGFwZS5waWxsYXJDb252ZXgsIGNvbnZleFBvcywgd29ybGRQaWxsYXJPZmZzZXQsIGNvbnZleFF1YXQsIGhmUXVhdCwgY29udmV4Qm9keSwgaGZCb2R5LCBudWxsLCBudWxsLCBqdXN0VGVzdCwgZmFjZUxpc3QsIG51bGwpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChqdXN0VGVzdCAmJiBpbnRlcnNlY3RpbmcpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgc3BoZXJlUGFydGljbGUoc2osIHNpLCB4aiwgeGksIHFqLCBxaSwgYmosIGJpLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgICAgLy8gVGhlIG5vcm1hbCBpcyB0aGUgdW5pdCB2ZWN0b3IgZnJvbSBzcGhlcmUgY2VudGVyIHRvIHBhcnRpY2xlIGNlbnRlcgogICAgICBjb25zdCBub3JtYWwgPSBwYXJ0aWNsZVNwaGVyZV9ub3JtYWw7CiAgICAgIG5vcm1hbC5zZXQoMCwgMCwgMSk7CiAgICAgIHhpLnZzdWIoeGosIG5vcm1hbCk7CiAgICAgIGNvbnN0IGxlbmd0aFNxdWFyZWQgPSBub3JtYWwubGVuZ3RoU3F1YXJlZCgpOwoKICAgICAgaWYgKGxlbmd0aFNxdWFyZWQgPD0gc2oucmFkaXVzICogc2oucmFkaXVzKSB7CiAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICAgIG5vcm1hbC5ub3JtYWxpemUoKTsKICAgICAgICByLnJqLmNvcHkobm9ybWFsKTsKICAgICAgICByLnJqLnNjYWxlKHNqLnJhZGl1cywgci5yaik7CiAgICAgICAgci5uaS5jb3B5KG5vcm1hbCk7IC8vIENvbnRhY3Qgbm9ybWFsCgogICAgICAgIHIubmkubmVnYXRlKHIubmkpOwogICAgICAgIHIucmkuc2V0KDAsIDAsIDApOyAvLyBDZW50ZXIgb2YgcGFydGljbGUKCiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgIH0KICAgIH0KCiAgICBwbGFuZVBhcnRpY2xlKHNqLCBzaSwgeGosIHhpLCBxaiwgcWksIGJqLCBiaSwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAgIGNvbnN0IG5vcm1hbCA9IHBhcnRpY2xlUGxhbmVfbm9ybWFsOwogICAgICBub3JtYWwuc2V0KDAsIDAsIDEpOwogICAgICBiai5xdWF0ZXJuaW9uLnZtdWx0KG5vcm1hbCwgbm9ybWFsKTsgLy8gVHVybiBub3JtYWwgYWNjb3JkaW5nIHRvIHBsYW5lIG9yaWVudGF0aW9uCgogICAgICBjb25zdCByZWxwb3MgPSBwYXJ0aWNsZVBsYW5lX3JlbHBvczsKICAgICAgeGkudnN1Yihiai5wb3NpdGlvbiwgcmVscG9zKTsKICAgICAgY29uc3QgZG90ID0gbm9ybWFsLmRvdChyZWxwb3MpOwoKICAgICAgaWYgKGRvdCA8PSAwLjApIHsKICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7CiAgICAgICAgci5uaS5jb3B5KG5vcm1hbCk7IC8vIENvbnRhY3Qgbm9ybWFsIGlzIHRoZSBwbGFuZSBub3JtYWwKCiAgICAgICAgci5uaS5uZWdhdGUoci5uaSk7CiAgICAgICAgci5yaS5zZXQoMCwgMCwgMCk7IC8vIENlbnRlciBvZiBwYXJ0aWNsZQogICAgICAgIC8vIEdldCBwYXJ0aWNsZSBwb3NpdGlvbiBwcm9qZWN0ZWQgb24gcGxhbmUKCiAgICAgICAgY29uc3QgcHJvamVjdGVkID0gcGFydGljbGVQbGFuZV9wcm9qZWN0ZWQ7CiAgICAgICAgbm9ybWFsLnNjYWxlKG5vcm1hbC5kb3QoeGkpLCBwcm9qZWN0ZWQpOwogICAgICAgIHhpLnZzdWIocHJvamVjdGVkLCBwcm9qZWN0ZWQpOyAvL3Byb2plY3RlZC52YWRkKGJqLnBvc2l0aW9uLHByb2plY3RlZCk7CiAgICAgICAgLy8gcmogaXMgbm93IHRoZSBwcm9qZWN0ZWQgd29ybGQgcG9zaXRpb24gbWludXMgcGxhbmUgcG9zaXRpb24KCiAgICAgICAgci5yai5jb3B5KHByb2plY3RlZCk7CiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgIH0KICAgIH0KCiAgICBib3hQYXJ0aWNsZShzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24ubWF0ZXJpYWwgPSBzaS5tYXRlcmlhbDsKICAgICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2kuY29sbGlzaW9uUmVzcG9uc2U7CiAgICAgIHJldHVybiB0aGlzLmNvbnZleFBhcnRpY2xlKHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHNpLCBzaiwganVzdFRlc3QpOwogICAgfQoKICAgIGNvbnZleFBhcnRpY2xlKHNqLCBzaSwgeGosIHhpLCBxaiwgcWksIGJqLCBiaSwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAgIGxldCBwZW5ldHJhdGVkRmFjZUluZGV4ID0gLTE7CiAgICAgIGNvbnN0IHBlbmV0cmF0ZWRGYWNlTm9ybWFsID0gY29udmV4UGFydGljbGVfcGVuZXRyYXRlZEZhY2VOb3JtYWw7CiAgICAgIGNvbnN0IHdvcmxkUGVuZXRyYXRpb25WZWMgPSBjb252ZXhQYXJ0aWNsZV93b3JsZFBlbmV0cmF0aW9uVmVjOwogICAgICBsZXQgbWluUGVuZXRyYXRpb24gPSBudWxsOwogICAgICBjb25zdCBsb2NhbCA9IGNvbnZleFBhcnRpY2xlX2xvY2FsOwogICAgICBsb2NhbC5jb3B5KHhpKTsKICAgICAgbG9jYWwudnN1Yih4aiwgbG9jYWwpOyAvLyBDb252ZXJ0IHBvc2l0aW9uIHRvIHJlbGF0aXZlIHRoZSBjb252ZXggb3JpZ2luCgogICAgICBxai5jb25qdWdhdGUoY3FqKTsKICAgICAgY3FqLnZtdWx0KGxvY2FsLCBsb2NhbCk7CgogICAgICBpZiAoc2oucG9pbnRJc0luc2lkZShsb2NhbCkpIHsKICAgICAgICBpZiAoc2oud29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlKSB7CiAgICAgICAgICBzai5jb21wdXRlV29ybGRWZXJ0aWNlcyh4aiwgcWopOwogICAgICAgIH0KCiAgICAgICAgaWYgKHNqLndvcmxkRmFjZU5vcm1hbHNOZWVkc1VwZGF0ZSkgewogICAgICAgICAgc2ouY29tcHV0ZVdvcmxkRmFjZU5vcm1hbHMocWopOwogICAgICAgIH0gLy8gRm9yIGVhY2ggd29ybGQgcG9seWdvbiBpbiB0aGUgcG9seWhlZHJhCgoKICAgICAgICBmb3IgKGxldCBpID0gMCwgbmZhY2VzID0gc2ouZmFjZXMubGVuZ3RoOyBpICE9PSBuZmFjZXM7IGkrKykgewogICAgICAgICAgLy8gQ29uc3RydWN0IHdvcmxkIGZhY2UgdmVydGljZXMKICAgICAgICAgIGNvbnN0IHZlcnRzID0gW3NqLndvcmxkVmVydGljZXNbc2ouZmFjZXNbaV1bMF1dXTsKICAgICAgICAgIGNvbnN0IG5vcm1hbCA9IHNqLndvcmxkRmFjZU5vcm1hbHNbaV07IC8vIENoZWNrIGhvdyBtdWNoIHRoZSBwYXJ0aWNsZSBwZW5ldHJhdGVzIHRoZSBwb2x5Z29uIHBsYW5lLgoKICAgICAgICAgIHhpLnZzdWIodmVydHNbMF0sIGNvbnZleFBhcnRpY2xlX3ZlcnRleFRvUGFydGljbGUpOwogICAgICAgICAgY29uc3QgcGVuZXRyYXRpb24gPSAtbm9ybWFsLmRvdChjb252ZXhQYXJ0aWNsZV92ZXJ0ZXhUb1BhcnRpY2xlKTsKCiAgICAgICAgICBpZiAobWluUGVuZXRyYXRpb24gPT09IG51bGwgfHwgTWF0aC5hYnMocGVuZXRyYXRpb24pIDwgTWF0aC5hYnMobWluUGVuZXRyYXRpb24pKSB7CiAgICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBtaW5QZW5ldHJhdGlvbiA9IHBlbmV0cmF0aW9uOwogICAgICAgICAgICBwZW5ldHJhdGVkRmFjZUluZGV4ID0gaTsKICAgICAgICAgICAgcGVuZXRyYXRlZEZhY2VOb3JtYWwuY29weShub3JtYWwpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHBlbmV0cmF0ZWRGYWNlSW5kZXggIT09IC0xKSB7CiAgICAgICAgICAvLyBTZXR1cCBjb250YWN0CiAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsKICAgICAgICAgIHBlbmV0cmF0ZWRGYWNlTm9ybWFsLnNjYWxlKG1pblBlbmV0cmF0aW9uLCB3b3JsZFBlbmV0cmF0aW9uVmVjKTsgLy8gcmogaXMgdGhlIHBhcnRpY2xlIHBvc2l0aW9uIHByb2plY3RlZCB0byB0aGUgZmFjZQoKICAgICAgICAgIHdvcmxkUGVuZXRyYXRpb25WZWMudmFkZCh4aSwgd29ybGRQZW5ldHJhdGlvblZlYyk7CiAgICAgICAgICB3b3JsZFBlbmV0cmF0aW9uVmVjLnZzdWIoeGosIHdvcmxkUGVuZXRyYXRpb25WZWMpOwogICAgICAgICAgci5yai5jb3B5KHdvcmxkUGVuZXRyYXRpb25WZWMpOyAvL2NvbnN0IHByb2plY3RlZFRvRmFjZSA9IHhpLnZzdWIoeGopLnZhZGQod29ybGRQZW5ldHJhdGlvblZlYyk7CiAgICAgICAgICAvL3Byb2plY3RlZFRvRmFjZS5jb3B5KHIucmopOwogICAgICAgICAgLy9xai52bXVsdChyLnJqLHIucmopOwoKICAgICAgICAgIHBlbmV0cmF0ZWRGYWNlTm9ybWFsLm5lZ2F0ZShyLm5pKTsgLy8gQ29udGFjdCBub3JtYWwKCiAgICAgICAgICByLnJpLnNldCgwLCAwLCAwKTsgLy8gQ2VudGVyIG9mIHBhcnRpY2xlCgogICAgICAgICAgY29uc3QgcmkgPSByLnJpOwogICAgICAgICAgY29uc3QgcmogPSByLnJqOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllcwoKICAgICAgICAgIHJpLnZhZGQoeGksIHJpKTsKICAgICAgICAgIHJpLnZzdWIoYmkucG9zaXRpb24sIHJpKTsKICAgICAgICAgIHJqLnZhZGQoeGosIHJqKTsKICAgICAgICAgIHJqLnZzdWIoYmoucG9zaXRpb24sIHJqKTsKICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUud2FybignUG9pbnQgZm91bmQgaW5zaWRlIGNvbnZleCwgYnV0IGRpZCBub3QgZmluZCBwZW5ldHJhdGluZyBmYWNlIScpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGhlaWdodGZpZWxkQ3lsaW5kZXIoaGZTaGFwZSwgY29udmV4U2hhcGUsIGhmUG9zLCBjb252ZXhQb3MsIGhmUXVhdCwgY29udmV4UXVhdCwgaGZCb2R5LCBjb252ZXhCb2R5LCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgICAgcmV0dXJuIHRoaXMuY29udmV4SGVpZ2h0ZmllbGQoY29udmV4U2hhcGUsIGhmU2hhcGUsIGNvbnZleFBvcywgaGZQb3MsIGNvbnZleFF1YXQsIGhmUXVhdCwgY29udmV4Qm9keSwgaGZCb2R5LCByc2ksIHJzaiwganVzdFRlc3QpOwogICAgfQoKICAgIHBhcnRpY2xlQ3lsaW5kZXIoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgICAgcmV0dXJuIHRoaXMuY29udmV4UGFydGljbGUoc2osIHNpLCB4aiwgeGksIHFqLCBxaSwgYmosIGJpLCByc2ksIHJzaiwganVzdFRlc3QpOwogICAgfQoKICAgIHNwaGVyZVRyaW1lc2goc3BoZXJlU2hhcGUsIHRyaW1lc2hTaGFwZSwgc3BoZXJlUG9zLCB0cmltZXNoUG9zLCBzcGhlcmVRdWF0LCB0cmltZXNoUXVhdCwgc3BoZXJlQm9keSwgdHJpbWVzaEJvZHksIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgICBjb25zdCBlZGdlVmVydGV4QSA9IHNwaGVyZVRyaW1lc2hfZWRnZVZlcnRleEE7CiAgICAgIGNvbnN0IGVkZ2VWZXJ0ZXhCID0gc3BoZXJlVHJpbWVzaF9lZGdlVmVydGV4QjsKICAgICAgY29uc3QgZWRnZVZlY3RvciA9IHNwaGVyZVRyaW1lc2hfZWRnZVZlY3RvcjsKICAgICAgY29uc3QgZWRnZVZlY3RvclVuaXQgPSBzcGhlcmVUcmltZXNoX2VkZ2VWZWN0b3JVbml0OwogICAgICBjb25zdCBsb2NhbFNwaGVyZVBvcyA9IHNwaGVyZVRyaW1lc2hfbG9jYWxTcGhlcmVQb3M7CiAgICAgIGNvbnN0IHRtcCA9IHNwaGVyZVRyaW1lc2hfdG1wOwogICAgICBjb25zdCBsb2NhbFNwaGVyZUFBQkIgPSBzcGhlcmVUcmltZXNoX2xvY2FsU3BoZXJlQUFCQjsKICAgICAgY29uc3QgdjIgPSBzcGhlcmVUcmltZXNoX3YyOwogICAgICBjb25zdCByZWxwb3MgPSBzcGhlcmVUcmltZXNoX3JlbHBvczsKICAgICAgY29uc3QgdHJpYW5nbGVzID0gc3BoZXJlVHJpbWVzaF90cmlhbmdsZXM7IC8vIENvbnZlcnQgc3BoZXJlIHBvc2l0aW9uIHRvIGxvY2FsIGluIHRoZSB0cmltZXNoCgogICAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUodHJpbWVzaFBvcywgdHJpbWVzaFF1YXQsIHNwaGVyZVBvcywgbG9jYWxTcGhlcmVQb3MpOyAvLyBHZXQgdGhlIGFhYmIgb2YgdGhlIHNwaGVyZSBsb2NhbGx5IGluIHRoZSB0cmltZXNoCgogICAgICBjb25zdCBzcGhlcmVSYWRpdXMgPSBzcGhlcmVTaGFwZS5yYWRpdXM7CiAgICAgIGxvY2FsU3BoZXJlQUFCQi5sb3dlckJvdW5kLnNldChsb2NhbFNwaGVyZVBvcy54IC0gc3BoZXJlUmFkaXVzLCBsb2NhbFNwaGVyZVBvcy55IC0gc3BoZXJlUmFkaXVzLCBsb2NhbFNwaGVyZVBvcy56IC0gc3BoZXJlUmFkaXVzKTsKICAgICAgbG9jYWxTcGhlcmVBQUJCLnVwcGVyQm91bmQuc2V0KGxvY2FsU3BoZXJlUG9zLnggKyBzcGhlcmVSYWRpdXMsIGxvY2FsU3BoZXJlUG9zLnkgKyBzcGhlcmVSYWRpdXMsIGxvY2FsU3BoZXJlUG9zLnogKyBzcGhlcmVSYWRpdXMpOwogICAgICB0cmltZXNoU2hhcGUuZ2V0VHJpYW5nbGVzSW5BQUJCKGxvY2FsU3BoZXJlQUFCQiwgdHJpYW5nbGVzKTsgLy9mb3IgKGxldCBpID0gMDsgaSA8IHRyaW1lc2hTaGFwZS5pbmRpY2VzLmxlbmd0aCAvIDM7IGkrKykgdHJpYW5nbGVzLnB1c2goaSk7IC8vIEFsbAogICAgICAvLyBWZXJ0aWNlcwoKICAgICAgY29uc3QgdiA9IHNwaGVyZVRyaW1lc2hfdjsKICAgICAgY29uc3QgcmFkaXVzU3F1YXJlZCA9IHNwaGVyZVNoYXBlLnJhZGl1cyAqIHNwaGVyZVNoYXBlLnJhZGl1czsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAzOyBqKyspIHsKICAgICAgICAgIHRyaW1lc2hTaGFwZS5nZXRWZXJ0ZXgodHJpbWVzaFNoYXBlLmluZGljZXNbdHJpYW5nbGVzW2ldICogMyArIGpdLCB2KTsgLy8gQ2hlY2sgdmVydGV4IG92ZXJsYXAgaW4gc3BoZXJlCgogICAgICAgICAgdi52c3ViKGxvY2FsU3BoZXJlUG9zLCByZWxwb3MpOwoKICAgICAgICAgIGlmIChyZWxwb3MubGVuZ3RoU3F1YXJlZCgpIDw9IHJhZGl1c1NxdWFyZWQpIHsKICAgICAgICAgICAgLy8gU2FmZSB1cAogICAgICAgICAgICB2Mi5jb3B5KHYpOwogICAgICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodHJpbWVzaFBvcywgdHJpbWVzaFF1YXQsIHYyLCB2KTsKICAgICAgICAgICAgdi52c3ViKHNwaGVyZVBvcywgcmVscG9zKTsKCiAgICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBsZXQgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHNwaGVyZUJvZHksIHRyaW1lc2hCb2R5LCBzcGhlcmVTaGFwZSwgdHJpbWVzaFNoYXBlLCByc2ksIHJzaik7CiAgICAgICAgICAgIHIubmkuY29weShyZWxwb3MpOwogICAgICAgICAgICByLm5pLm5vcm1hbGl6ZSgpOyAvLyByaSBpcyB0aGUgdmVjdG9yIGZyb20gc3BoZXJlIGNlbnRlciB0byB0aGUgc3BoZXJlIHN1cmZhY2UKCiAgICAgICAgICAgIHIucmkuY29weShyLm5pKTsKICAgICAgICAgICAgci5yaS5zY2FsZShzcGhlcmVTaGFwZS5yYWRpdXMsIHIucmkpOwogICAgICAgICAgICByLnJpLnZhZGQoc3BoZXJlUG9zLCByLnJpKTsKICAgICAgICAgICAgci5yaS52c3ViKHNwaGVyZUJvZHkucG9zaXRpb24sIHIucmkpOwogICAgICAgICAgICByLnJqLmNvcHkodik7CiAgICAgICAgICAgIHIucmoudnN1Yih0cmltZXNoQm9keS5wb3NpdGlvbiwgci5yaik7IC8vIFN0b3JlIHJlc3VsdAoKICAgICAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSAvLyBDaGVjayBhbGwgZWRnZXMKCgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMzsgaisrKSB7CiAgICAgICAgICB0cmltZXNoU2hhcGUuZ2V0VmVydGV4KHRyaW1lc2hTaGFwZS5pbmRpY2VzW3RyaWFuZ2xlc1tpXSAqIDMgKyBqXSwgZWRnZVZlcnRleEEpOwogICAgICAgICAgdHJpbWVzaFNoYXBlLmdldFZlcnRleCh0cmltZXNoU2hhcGUuaW5kaWNlc1t0cmlhbmdsZXNbaV0gKiAzICsgKGogKyAxKSAlIDNdLCBlZGdlVmVydGV4Qik7CiAgICAgICAgICBlZGdlVmVydGV4Qi52c3ViKGVkZ2VWZXJ0ZXhBLCBlZGdlVmVjdG9yKTsgLy8gUHJvamVjdCBzcGhlcmUgcG9zaXRpb24gdG8gdGhlIGVkZ2UKCiAgICAgICAgICBsb2NhbFNwaGVyZVBvcy52c3ViKGVkZ2VWZXJ0ZXhCLCB0bXApOwogICAgICAgICAgY29uc3QgcG9zaXRpb25BbG9uZ0VkZ2VCID0gdG1wLmRvdChlZGdlVmVjdG9yKTsKICAgICAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIoZWRnZVZlcnRleEEsIHRtcCk7CiAgICAgICAgICBsZXQgcG9zaXRpb25BbG9uZ0VkZ2VBID0gdG1wLmRvdChlZGdlVmVjdG9yKTsKCiAgICAgICAgICBpZiAocG9zaXRpb25BbG9uZ0VkZ2VBID4gMCAmJiBwb3NpdGlvbkFsb25nRWRnZUIgPCAwKSB7CiAgICAgICAgICAgIC8vIE5vdyBjaGVjayB0aGUgb3J0aG9nb25hbCBkaXN0YW5jZSBmcm9tIGVkZ2UgdG8gc3BoZXJlIGNlbnRlcgogICAgICAgICAgICBsb2NhbFNwaGVyZVBvcy52c3ViKGVkZ2VWZXJ0ZXhBLCB0bXApOwogICAgICAgICAgICBlZGdlVmVjdG9yVW5pdC5jb3B5KGVkZ2VWZWN0b3IpOwogICAgICAgICAgICBlZGdlVmVjdG9yVW5pdC5ub3JtYWxpemUoKTsKICAgICAgICAgICAgcG9zaXRpb25BbG9uZ0VkZ2VBID0gdG1wLmRvdChlZGdlVmVjdG9yVW5pdCk7CiAgICAgICAgICAgIGVkZ2VWZWN0b3JVbml0LnNjYWxlKHBvc2l0aW9uQWxvbmdFZGdlQSwgdG1wKTsKICAgICAgICAgICAgdG1wLnZhZGQoZWRnZVZlcnRleEEsIHRtcCk7IC8vIHRtcCBpcyBub3cgdGhlIHNwaGVyZSBjZW50ZXIgcG9zaXRpb24gcHJvamVjdGVkIHRvIHRoZSBlZGdlLCBkZWZpbmVkIGxvY2FsbHkgaW4gdGhlIHRyaW1lc2ggZnJhbWUKCiAgICAgICAgICAgIGNvbnN0IGRpc3QgPSB0bXAuZGlzdGFuY2VUbyhsb2NhbFNwaGVyZVBvcyk7CgogICAgICAgICAgICBpZiAoZGlzdCA8IHNwaGVyZVNoYXBlLnJhZGl1cykgewogICAgICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oc3BoZXJlQm9keSwgdHJpbWVzaEJvZHksIHNwaGVyZVNoYXBlLCB0cmltZXNoU2hhcGUsIHJzaSwgcnNqKTsKICAgICAgICAgICAgICB0bXAudnN1Yihsb2NhbFNwaGVyZVBvcywgci5uaSk7CiAgICAgICAgICAgICAgci5uaS5ub3JtYWxpemUoKTsKICAgICAgICAgICAgICByLm5pLnNjYWxlKHNwaGVyZVNoYXBlLnJhZGl1cywgci5yaSk7CiAgICAgICAgICAgICAgci5yaS52YWRkKHNwaGVyZVBvcywgci5yaSk7CiAgICAgICAgICAgICAgci5yaS52c3ViKHNwaGVyZUJvZHkucG9zaXRpb24sIHIucmkpOwogICAgICAgICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZSh0cmltZXNoUG9zLCB0cmltZXNoUXVhdCwgdG1wLCB0bXApOwogICAgICAgICAgICAgIHRtcC52c3ViKHRyaW1lc2hCb2R5LnBvc2l0aW9uLCByLnJqKTsKICAgICAgICAgICAgICBUcmFuc2Zvcm0udmVjdG9yVG9Xb3JsZEZyYW1lKHRyaW1lc2hRdWF0LCByLm5pLCByLm5pKTsKICAgICAgICAgICAgICBUcmFuc2Zvcm0udmVjdG9yVG9Xb3JsZEZyYW1lKHRyaW1lc2hRdWF0LCByLnJpLCByLnJpKTsKICAgICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSAvLyBUcmlhbmdsZSBmYWNlcwoKCiAgICAgIGNvbnN0IHZhID0gc3BoZXJlVHJpbWVzaF92YTsKICAgICAgY29uc3QgdmIgPSBzcGhlcmVUcmltZXNoX3ZiOwogICAgICBjb25zdCB2YyA9IHNwaGVyZVRyaW1lc2hfdmM7CiAgICAgIGNvbnN0IG5vcm1hbCA9IHNwaGVyZVRyaW1lc2hfbm9ybWFsOwoKICAgICAgZm9yIChsZXQgaSA9IDAsIE4gPSB0cmlhbmdsZXMubGVuZ3RoOyBpICE9PSBOOyBpKyspIHsKICAgICAgICB0cmltZXNoU2hhcGUuZ2V0VHJpYW5nbGVWZXJ0aWNlcyh0cmlhbmdsZXNbaV0sIHZhLCB2YiwgdmMpOwogICAgICAgIHRyaW1lc2hTaGFwZS5nZXROb3JtYWwodHJpYW5nbGVzW2ldLCBub3JtYWwpOwogICAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIodmEsIHRtcCk7CiAgICAgICAgbGV0IGRpc3QgPSB0bXAuZG90KG5vcm1hbCk7CiAgICAgICAgbm9ybWFsLnNjYWxlKGRpc3QsIHRtcCk7CiAgICAgICAgbG9jYWxTcGhlcmVQb3MudnN1Yih0bXAsIHRtcCk7IC8vIHRtcCBpcyBub3cgdGhlIHNwaGVyZSBwb3NpdGlvbiBwcm9qZWN0ZWQgdG8gdGhlIHRyaWFuZ2xlIHBsYW5lCgogICAgICAgIGRpc3QgPSB0bXAuZGlzdGFuY2VUbyhsb2NhbFNwaGVyZVBvcyk7CgogICAgICAgIGlmIChSYXkucG9pbnRJblRyaWFuZ2xlKHRtcCwgdmEsIHZiLCB2YykgJiYgZGlzdCA8IHNwaGVyZVNoYXBlLnJhZGl1cykgewogICAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQoKICAgICAgICAgIGxldCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oc3BoZXJlQm9keSwgdHJpbWVzaEJvZHksIHNwaGVyZVNoYXBlLCB0cmltZXNoU2hhcGUsIHJzaSwgcnNqKTsKICAgICAgICAgIHRtcC52c3ViKGxvY2FsU3BoZXJlUG9zLCByLm5pKTsKICAgICAgICAgIHIubmkubm9ybWFsaXplKCk7CiAgICAgICAgICByLm5pLnNjYWxlKHNwaGVyZVNoYXBlLnJhZGl1cywgci5yaSk7CiAgICAgICAgICByLnJpLnZhZGQoc3BoZXJlUG9zLCByLnJpKTsKICAgICAgICAgIHIucmkudnN1YihzcGhlcmVCb2R5LnBvc2l0aW9uLCByLnJpKTsKICAgICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZSh0cmltZXNoUG9zLCB0cmltZXNoUXVhdCwgdG1wLCB0bXApOwogICAgICAgICAgdG1wLnZzdWIodHJpbWVzaEJvZHkucG9zaXRpb24sIHIucmopOwogICAgICAgICAgVHJhbnNmb3JtLnZlY3RvclRvV29ybGRGcmFtZSh0cmltZXNoUXVhdCwgci5uaSwgci5uaSk7CiAgICAgICAgICBUcmFuc2Zvcm0udmVjdG9yVG9Xb3JsZEZyYW1lKHRyaW1lc2hRdWF0LCByLnJpLCByLnJpKTsKICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgICAgfQogICAgICB9CgogICAgICB0cmlhbmdsZXMubGVuZ3RoID0gMDsKICAgIH0KCiAgICBwbGFuZVRyaW1lc2gocGxhbmVTaGFwZSwgdHJpbWVzaFNoYXBlLCBwbGFuZVBvcywgdHJpbWVzaFBvcywgcGxhbmVRdWF0LCB0cmltZXNoUXVhdCwgcGxhbmVCb2R5LCB0cmltZXNoQm9keSwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAgIC8vIE1ha2UgY29udGFjdHMhCiAgICAgIGNvbnN0IHYgPSBuZXcgVmVjMygpOwogICAgICBjb25zdCBub3JtYWwgPSBwbGFuZVRyaW1lc2hfbm9ybWFsOwogICAgICBub3JtYWwuc2V0KDAsIDAsIDEpOwogICAgICBwbGFuZVF1YXQudm11bHQobm9ybWFsLCBub3JtYWwpOyAvLyBUdXJuIG5vcm1hbCBhY2NvcmRpbmcgdG8gcGxhbmUKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpbWVzaFNoYXBlLnZlcnRpY2VzLmxlbmd0aCAvIDM7IGkrKykgewogICAgICAgIC8vIEdldCB3b3JsZCB2ZXJ0ZXggZnJvbSB0cmltZXNoCiAgICAgICAgdHJpbWVzaFNoYXBlLmdldFZlcnRleChpLCB2KTsgLy8gU2FmZSB1cAoKICAgICAgICBjb25zdCB2MiA9IG5ldyBWZWMzKCk7CiAgICAgICAgdjIuY29weSh2KTsKICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodHJpbWVzaFBvcywgdHJpbWVzaFF1YXQsIHYyLCB2KTsgLy8gQ2hlY2sgcGxhbmUgc2lkZQoKICAgICAgICBjb25zdCByZWxwb3MgPSBwbGFuZVRyaW1lc2hfcmVscG9zOwogICAgICAgIHYudnN1YihwbGFuZVBvcywgcmVscG9zKTsKICAgICAgICBjb25zdCBkb3QgPSBub3JtYWwuZG90KHJlbHBvcyk7CgogICAgICAgIGlmIChkb3QgPD0gMC4wKSB7CiAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHBsYW5lQm9keSwgdHJpbWVzaEJvZHksIHBsYW5lU2hhcGUsIHRyaW1lc2hTaGFwZSwgcnNpLCByc2opOwogICAgICAgICAgci5uaS5jb3B5KG5vcm1hbCk7IC8vIENvbnRhY3Qgbm9ybWFsIGlzIHRoZSBwbGFuZSBub3JtYWwKICAgICAgICAgIC8vIEdldCB2ZXJ0ZXggcG9zaXRpb24gcHJvamVjdGVkIG9uIHBsYW5lCgogICAgICAgICAgY29uc3QgcHJvamVjdGVkID0gcGxhbmVUcmltZXNoX3Byb2plY3RlZDsKICAgICAgICAgIG5vcm1hbC5zY2FsZShyZWxwb3MuZG90KG5vcm1hbCksIHByb2plY3RlZCk7CiAgICAgICAgICB2LnZzdWIocHJvamVjdGVkLCBwcm9qZWN0ZWQpOyAvLyByaSBpcyB0aGUgcHJvamVjdGVkIHdvcmxkIHBvc2l0aW9uIG1pbnVzIHBsYW5lIHBvc2l0aW9uCgogICAgICAgICAgci5yaS5jb3B5KHByb2plY3RlZCk7CiAgICAgICAgICByLnJpLnZzdWIocGxhbmVCb2R5LnBvc2l0aW9uLCByLnJpKTsKICAgICAgICAgIHIucmouY29weSh2KTsKICAgICAgICAgIHIucmoudnN1Yih0cmltZXNoQm9keS5wb3NpdGlvbiwgci5yaik7IC8vIFN0b3JlIHJlc3VsdAoKICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgICAgfQogICAgICB9CiAgICB9IC8vIGNvbnZleFRyaW1lc2goCiAgICAvLyAgIHNpOiBDb252ZXhQb2x5aGVkcm9uLCBzajogVHJpbWVzaCwgeGk6IFZlYzMsIHhqOiBWZWMzLCBxaTogUXVhdGVybmlvbiwgcWo6IFF1YXRlcm5pb24sCiAgICAvLyAgIGJpOiBCb2R5LCBiajogQm9keSwgcnNpPzogU2hhcGUgfCBudWxsLCByc2o/OiBTaGFwZSB8IG51bGwsCiAgICAvLyAgIGZhY2VMaXN0QT86IG51bWJlcltdIHwgbnVsbCwgZmFjZUxpc3RCPzogbnVtYmVyW10gfCBudWxsLAogICAgLy8gKSB7CiAgICAvLyAgIGNvbnN0IHNlcEF4aXMgPSBjb252ZXhDb252ZXhfc2VwQXhpczsKICAgIC8vICAgaWYoeGkuZGlzdGFuY2VUbyh4aikgPiBzaS5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNqLmJvdW5kaW5nU3BoZXJlUmFkaXVzKXsKICAgIC8vICAgICAgIHJldHVybjsKICAgIC8vICAgfQogICAgLy8gICAvLyBDb25zdHJ1Y3QgYSB0ZW1wIGh1bGwgZm9yIGVhY2ggdHJpYW5nbGUKICAgIC8vICAgY29uc3QgaHVsbEIgPSBuZXcgQ29udmV4UG9seWhlZHJvbigpOwogICAgLy8gICBodWxsQi5mYWNlcyA9IFtbMCwxLDJdXTsKICAgIC8vICAgY29uc3QgdmEgPSBuZXcgVmVjMygpOwogICAgLy8gICBjb25zdCB2YiA9IG5ldyBWZWMzKCk7CiAgICAvLyAgIGNvbnN0IHZjID0gbmV3IFZlYzMoKTsKICAgIC8vICAgaHVsbEIudmVydGljZXMgPSBbCiAgICAvLyAgICAgICB2YSwKICAgIC8vICAgICAgIHZiLAogICAgLy8gICAgICAgdmMKICAgIC8vICAgXTsKICAgIC8vICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzai5pbmRpY2VzLmxlbmd0aCAvIDM7IGkrKykgewogICAgLy8gICAgICAgY29uc3QgdHJpYW5nbGVOb3JtYWwgPSBuZXcgVmVjMygpOwogICAgLy8gICAgICAgc2ouZ2V0Tm9ybWFsKGksIHRyaWFuZ2xlTm9ybWFsKTsKICAgIC8vICAgICAgIGh1bGxCLmZhY2VOb3JtYWxzID0gW3RyaWFuZ2xlTm9ybWFsXTsKICAgIC8vICAgICAgIHNqLmdldFRyaWFuZ2xlVmVydGljZXMoaSwgdmEsIHZiLCB2Yyk7CiAgICAvLyAgICAgICBsZXQgZCA9IHNpLnRlc3RTZXBBeGlzKHRyaWFuZ2xlTm9ybWFsLCBodWxsQiwgeGksIHFpLCB4aiwgcWopOwogICAgLy8gICAgICAgaWYoIWQpewogICAgLy8gICAgICAgICAgIHRyaWFuZ2xlTm9ybWFsLnNjYWxlKC0xLCB0cmlhbmdsZU5vcm1hbCk7CiAgICAvLyAgICAgICAgICAgZCA9IHNpLnRlc3RTZXBBeGlzKHRyaWFuZ2xlTm9ybWFsLCBodWxsQiwgeGksIHFpLCB4aiwgcWopOwogICAgLy8gICAgICAgICAgIGlmKCFkKXsKICAgIC8vICAgICAgICAgICAgICAgY29udGludWU7CiAgICAvLyAgICAgICAgICAgfQogICAgLy8gICAgICAgfQogICAgLy8gICAgICAgY29uc3QgcmVzOiBDb252ZXhQb2x5aGVkcm9uQ29udGFjdFBvaW50W10gPSBbXTsKICAgIC8vICAgICAgIGNvbnN0IHEgPSBjb252ZXhDb252ZXhfcTsKICAgIC8vICAgICAgIHNpLmNsaXBBZ2FpbnN0SHVsbCh4aSxxaSxodWxsQix4aixxaix0cmlhbmdsZU5vcm1hbCwtMTAwLDEwMCxyZXMpOwogICAgLy8gICAgICAgZm9yKGxldCBqID0gMDsgaiAhPT0gcmVzLmxlbmd0aDsgaisrKXsKICAgIC8vICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksYmosc2ksc2oscnNpLHJzaiksCiAgICAvLyAgICAgICAgICAgICAgIHJpID0gci5yaSwKICAgIC8vICAgICAgICAgICAgICAgcmogPSByLnJqOwogICAgLy8gICAgICAgICAgIHIubmkuY29weSh0cmlhbmdsZU5vcm1hbCk7CiAgICAvLyAgICAgICAgICAgci5uaS5uZWdhdGUoci5uaSk7CiAgICAvLyAgICAgICAgICAgcmVzW2pdLm5vcm1hbC5uZWdhdGUocSk7CiAgICAvLyAgICAgICAgICAgcS5tdWx0KHJlc1tqXS5kZXB0aCwgcSk7CiAgICAvLyAgICAgICAgICAgcmVzW2pdLnBvaW50LnZhZGQocSwgcmkpOwogICAgLy8gICAgICAgICAgIHJqLmNvcHkocmVzW2pdLnBvaW50KTsKICAgIC8vICAgICAgICAgICAvLyBDb250YWN0IHBvaW50cyBhcmUgaW4gd29ybGQgY29vcmRpbmF0ZXMuIFRyYW5zZm9ybSBiYWNrIHRvIHJlbGF0aXZlCiAgICAvLyAgICAgICAgICAgcmkudnN1Yih4aSxyaSk7CiAgICAvLyAgICAgICAgICAgcmoudnN1Yih4aixyaik7CiAgICAvLyAgICAgICAgICAgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXMKICAgIC8vICAgICAgICAgICByaS52YWRkKHhpLCByaSk7CiAgICAvLyAgICAgICAgICAgcmkudnN1YihiaS5wb3NpdGlvbiwgcmkpOwogICAgLy8gICAgICAgICAgIHJqLnZhZGQoeGosIHJqKTsKICAgIC8vICAgICAgICAgICByai52c3ViKGJqLnBvc2l0aW9uLCByaik7CiAgICAvLyAgICAgICAgICAgcmVzdWx0LnB1c2gocik7CiAgICAvLyAgICAgICB9CiAgICAvLyAgIH0KICAgIC8vIH0KCgogIH0KCiAgY29uc3QgYXZlcmFnZU5vcm1hbCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgYXZlcmFnZUNvbnRhY3RQb2ludEEgPSBuZXcgVmVjMygpOwogIGNvbnN0IGF2ZXJhZ2VDb250YWN0UG9pbnRCID0gbmV3IFZlYzMoKTsKICBjb25zdCB0bXBWZWMxJDIgPSBuZXcgVmVjMygpOwogIGNvbnN0IHRtcFZlYzIkMiA9IG5ldyBWZWMzKCk7CiAgY29uc3QgdG1wUXVhdDEgPSBuZXcgUXVhdGVybmlvbigpOwogIGNvbnN0IHRtcFF1YXQyID0gbmV3IFF1YXRlcm5pb24oKTsKICBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmJveEJveF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuYm94Qm94OwogIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuYm94Q29udmV4XSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5ib3hDb252ZXg7CiAgTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5ib3hQYXJ0aWNsZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuYm94UGFydGljbGU7CiAgTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVTcGhlcmVdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZVNwaGVyZTsKICBjb25zdCBwbGFuZVRyaW1lc2hfbm9ybWFsID0gbmV3IFZlYzMoKTsKICBjb25zdCBwbGFuZVRyaW1lc2hfcmVscG9zID0gbmV3IFZlYzMoKTsKICBjb25zdCBwbGFuZVRyaW1lc2hfcHJvamVjdGVkID0gbmV3IFZlYzMoKTsKICBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnBsYW5lVHJpbWVzaF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUucGxhbmVUcmltZXNoOwogIGNvbnN0IHNwaGVyZVRyaW1lc2hfbm9ybWFsID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVUcmltZXNoX3JlbHBvcyA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlVHJpbWVzaF92ID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVUcmltZXNoX3YyID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVUcmltZXNoX2VkZ2VWZXJ0ZXhBID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVUcmltZXNoX2VkZ2VWZXJ0ZXhCID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVUcmltZXNoX2VkZ2VWZWN0b3IgPSBuZXcgVmVjMygpOwogIGNvbnN0IHNwaGVyZVRyaW1lc2hfZWRnZVZlY3RvclVuaXQgPSBuZXcgVmVjMygpOwogIGNvbnN0IHNwaGVyZVRyaW1lc2hfbG9jYWxTcGhlcmVQb3MgPSBuZXcgVmVjMygpOwogIGNvbnN0IHNwaGVyZVRyaW1lc2hfdG1wID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVUcmltZXNoX3ZhID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVUcmltZXNoX3ZiID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVUcmltZXNoX3ZjID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVUcmltZXNoX2xvY2FsU3BoZXJlQUFCQiA9IG5ldyBBQUJCKCk7CiAgY29uc3Qgc3BoZXJlVHJpbWVzaF90cmlhbmdsZXMgPSBbXTsKICBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnNwaGVyZVRyaW1lc2hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZVRyaW1lc2g7CiAgY29uc3QgcG9pbnRfb25fcGxhbmVfdG9fc3BoZXJlID0gbmV3IFZlYzMoKTsKICBjb25zdCBwbGFuZV90b19zcGhlcmVfb3J0aG8gPSBuZXcgVmVjMygpOwogIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlUGxhbmVdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZVBsYW5lOyAvLyBTZWUgaHR0cDovL2J1bGxldHBoeXNpY3MuY29tL0J1bGxldC9CdWxsZXRGdWxsL1NwaGVyZVRyaWFuZ2xlRGV0ZWN0b3JfOGNwcF9zb3VyY2UuaHRtbAoKICBjb25zdCBwb2ludEluUG9seWdvbl9lZGdlID0gbmV3IFZlYzMoKTsKICBjb25zdCBwb2ludEluUG9seWdvbl9lZGdlX3hfbm9ybWFsID0gbmV3IFZlYzMoKTsKICBjb25zdCBwb2ludEluUG9seWdvbl92dHAgPSBuZXcgVmVjMygpOwoKICBmdW5jdGlvbiBwb2ludEluUG9seWdvbih2ZXJ0cywgbm9ybWFsLCBwKSB7CiAgICBsZXQgcG9zaXRpdmVSZXN1bHQgPSBudWxsOwogICAgY29uc3QgTiA9IHZlcnRzLmxlbmd0aDsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIGNvbnN0IHYgPSB2ZXJ0c1tpXTsgLy8gR2V0IGVkZ2UgdG8gdGhlIG5leHQgdmVydGV4CgogICAgICBjb25zdCBlZGdlID0gcG9pbnRJblBvbHlnb25fZWRnZTsKICAgICAgdmVydHNbKGkgKyAxKSAlIE5dLnZzdWIodiwgZWRnZSk7IC8vIEdldCBjcm9zcyBwcm9kdWN0IGJldHdlZW4gcG9seWdvbiBub3JtYWwgYW5kIHRoZSBlZGdlCgogICAgICBjb25zdCBlZGdlX3hfbm9ybWFsID0gcG9pbnRJblBvbHlnb25fZWRnZV94X25vcm1hbDsgLy9jb25zdCBlZGdlX3hfbm9ybWFsID0gbmV3IFZlYzMoKTsKCiAgICAgIGVkZ2UuY3Jvc3Mobm9ybWFsLCBlZGdlX3hfbm9ybWFsKTsgLy8gR2V0IHZlY3RvciBiZXR3ZWVuIHBvaW50IGFuZCBjdXJyZW50IHZlcnRleAoKICAgICAgY29uc3QgdmVydGV4X3RvX3AgPSBwb2ludEluUG9seWdvbl92dHA7CiAgICAgIHAudnN1Yih2LCB2ZXJ0ZXhfdG9fcCk7IC8vIFRoaXMgZG90IHByb2R1Y3QgZGV0ZXJtaW5lcyB3aGljaCBzaWRlIG9mIHRoZSBlZGdlIHRoZSBwb2ludCBpcwoKICAgICAgY29uc3QgciA9IGVkZ2VfeF9ub3JtYWwuZG90KHZlcnRleF90b19wKTsgLy8gSWYgYWxsIHN1Y2ggZG90IHByb2R1Y3RzIGhhdmUgc2FtZSBzaWduLCB3ZSBhcmUgaW5zaWRlIHRoZSBwb2x5Z29uLgoKICAgICAgaWYgKHBvc2l0aXZlUmVzdWx0ID09PSBudWxsIHx8IHIgPiAwICYmIHBvc2l0aXZlUmVzdWx0ID09PSB0cnVlIHx8IHIgPD0gMCAmJiBwb3NpdGl2ZVJlc3VsdCA9PT0gZmFsc2UpIHsKICAgICAgICBpZiAocG9zaXRpdmVSZXN1bHQgPT09IG51bGwpIHsKICAgICAgICAgIHBvc2l0aXZlUmVzdWx0ID0gciA+IDA7CiAgICAgICAgfQoKICAgICAgICBjb250aW51ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7IC8vIEVuY291bnRlcmVkIHNvbWUgb3RoZXIgc2lnbi4gRXhpdC4KICAgICAgfQogICAgfSAvLyBJZiB3ZSBnb3QgaGVyZSwgYWxsIGRvdCBwcm9kdWN0cyB3ZXJlIG9mIHRoZSBzYW1lIHNpZ24uCgoKICAgIHJldHVybiB0cnVlOwogIH0KCiAgY29uc3QgYm94X3RvX3NwaGVyZSA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlQm94X25zID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVCb3hfbnMxID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVCb3hfbnMyID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVCb3hfc2lkZXMgPSBbbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKV07CiAgY29uc3Qgc3BoZXJlQm94X3NwaGVyZV90b19jb3JuZXIgPSBuZXcgVmVjMygpOwogIGNvbnN0IHNwaGVyZUJveF9zaWRlX25zID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVCb3hfc2lkZV9uczEgPSBuZXcgVmVjMygpOwogIGNvbnN0IHNwaGVyZUJveF9zaWRlX25zMiA9IG5ldyBWZWMzKCk7CiAgTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVCb3hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZUJveDsKICBjb25zdCBjb252ZXhfdG9fc3BoZXJlID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVDb252ZXhfZWRnZSA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlQ29udmV4X2VkZ2VVbml0ID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVDb252ZXhfc3BoZXJlVG9Db3JuZXIgPSBuZXcgVmVjMygpOwogIGNvbnN0IHNwaGVyZUNvbnZleF93b3JsZENvcm5lciA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlQ29udmV4X3dvcmxkTm9ybWFsID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVDb252ZXhfd29ybGRQb2ludCA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlQ29udmV4X3dvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZSA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlQ29udmV4X3BlbmV0cmF0aW9uVmVjID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVDb252ZXhfc3BoZXJlVG9Xb3JsZFBvaW50ID0gbmV3IFZlYzMoKTsKICBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnNwaGVyZUNvbnZleF0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuc3BoZXJlQ29udmV4OwogIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMucGxhbmVCb3hdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnBsYW5lQm94OwogIGNvbnN0IHBsYW5lQ29udmV4X3YgPSBuZXcgVmVjMygpOwogIGNvbnN0IHBsYW5lQ29udmV4X25vcm1hbCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgcGxhbmVDb252ZXhfcmVscG9zID0gbmV3IFZlYzMoKTsKICBjb25zdCBwbGFuZUNvbnZleF9wcm9qZWN0ZWQgPSBuZXcgVmVjMygpOwogIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMucGxhbmVDb252ZXhdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnBsYW5lQ29udmV4OwogIGNvbnN0IGNvbnZleENvbnZleF9zZXBBeGlzID0gbmV3IFZlYzMoKTsKICBjb25zdCBjb252ZXhDb252ZXhfcSA9IG5ldyBWZWMzKCk7CiAgTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5jb252ZXhDb252ZXhdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmNvbnZleENvbnZleDsgLy8gTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5jb252ZXhUcmltZXNoXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhUcmltZXNoCgogIGNvbnN0IHBhcnRpY2xlUGxhbmVfbm9ybWFsID0gbmV3IFZlYzMoKTsKICBjb25zdCBwYXJ0aWNsZVBsYW5lX3JlbHBvcyA9IG5ldyBWZWMzKCk7CiAgY29uc3QgcGFydGljbGVQbGFuZV9wcm9qZWN0ZWQgPSBuZXcgVmVjMygpOwogIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMucGxhbmVQYXJ0aWNsZV0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUucGxhbmVQYXJ0aWNsZTsKICBjb25zdCBwYXJ0aWNsZVNwaGVyZV9ub3JtYWwgPSBuZXcgVmVjMygpOwogIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlUGFydGljbGVdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZVBhcnRpY2xlOwogIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuY3lsaW5kZXJDeWxpbmRlcl0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUuY29udmV4Q29udmV4OwogIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuc3BoZXJlQ3lsaW5kZXJdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnNwaGVyZUNvbnZleDsKICBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnBsYW5lQ3lsaW5kZXJdID0gTmFycm93cGhhc2UucHJvdG90eXBlLnBsYW5lQ29udmV4OwogIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMuYm94Q3lsaW5kZXJdID0gTmFycm93cGhhc2UucHJvdG90eXBlLmJveENvbnZleDsKICBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmNvbnZleEN5bGluZGVyXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhDb252ZXg7CiAgTmFycm93cGhhc2UucHJvdG90eXBlW0NPTExJU0lPTl9UWVBFUy5oZWlnaHRmaWVsZEN5bGluZGVyXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5oZWlnaHRmaWVsZEN5bGluZGVyOwogIE5hcnJvd3BoYXNlLnByb3RvdHlwZVtDT0xMSVNJT05fVFlQRVMucGFydGljbGVDeWxpbmRlcl0gPSBOYXJyb3dwaGFzZS5wcm90b3R5cGUucGFydGljbGVDeWxpbmRlcjsgLy8gV0lQCgogIGNvbnN0IGNxaiA9IG5ldyBRdWF0ZXJuaW9uKCk7CiAgY29uc3QgY29udmV4UGFydGljbGVfbG9jYWwgPSBuZXcgVmVjMygpOwogIGNvbnN0IGNvbnZleFBhcnRpY2xlX3BlbmV0cmF0ZWRGYWNlTm9ybWFsID0gbmV3IFZlYzMoKTsKICBjb25zdCBjb252ZXhQYXJ0aWNsZV92ZXJ0ZXhUb1BhcnRpY2xlID0gbmV3IFZlYzMoKTsKICBjb25zdCBjb252ZXhQYXJ0aWNsZV93b3JsZFBlbmV0cmF0aW9uVmVjID0gbmV3IFZlYzMoKTsKICBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmNvbnZleFBhcnRpY2xlXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhQYXJ0aWNsZTsKICBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmJveEhlaWdodGZpZWxkXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5ib3hIZWlnaHRmaWVsZDsKICBjb25zdCBjb252ZXhIZWlnaHRmaWVsZF90bXAxID0gbmV3IFZlYzMoKTsKICBjb25zdCBjb252ZXhIZWlnaHRmaWVsZF90bXAyID0gbmV3IFZlYzMoKTsKICBjb25zdCBjb252ZXhIZWlnaHRmaWVsZF9mYWNlTGlzdCA9IFswXTsKICBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLmNvbnZleEhlaWdodGZpZWxkXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhIZWlnaHRmaWVsZDsKICBjb25zdCBzcGhlcmVIZWlnaHRmaWVsZF90bXAxID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVIZWlnaHRmaWVsZF90bXAyID0gbmV3IFZlYzMoKTsKICBOYXJyb3dwaGFzZS5wcm90b3R5cGVbQ09MTElTSU9OX1RZUEVTLnNwaGVyZUhlaWdodGZpZWxkXSA9IE5hcnJvd3BoYXNlLnByb3RvdHlwZS5zcGhlcmVIZWlnaHRmaWVsZDsKICAvKioKICAgKiBAY2xhc3MgT3ZlcmxhcEtlZXBlcgogICAqIEBjb25zdHJ1Y3RvcgogICAqLwoKICBjbGFzcyBPdmVybGFwS2VlcGVyIHsKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICB0aGlzLmN1cnJlbnQgPSBbXTsKICAgICAgdGhpcy5wcmV2aW91cyA9IFtdOwogICAgfQoKICAgIGdldEtleShpLCBqKSB7CiAgICAgIGlmIChqIDwgaSkgewogICAgICAgIGNvbnN0IHRlbXAgPSBqOwogICAgICAgIGogPSBpOwogICAgICAgIGkgPSB0ZW1wOwogICAgICB9CgogICAgICByZXR1cm4gaSA8PCAxNiB8IGo7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2Qgc2V0CiAgICAgKiBAcGFyYW0ge051bWJlcn0gaQogICAgICogQHBhcmFtIHtOdW1iZXJ9IGoKICAgICAqLwoKCiAgICBzZXQoaSwgaikgewogICAgICAvLyBJbnNlcnRpb24gc29ydC4gVGhpcyB3YXkgdGhlIGRpZmYgd2lsbCBoYXZlIGxpbmVhciBjb21wbGV4aXR5LgogICAgICBjb25zdCBrZXkgPSB0aGlzLmdldEtleShpLCBqKTsKICAgICAgY29uc3QgY3VycmVudCA9IHRoaXMuY3VycmVudDsKICAgICAgbGV0IGluZGV4ID0gMDsKCiAgICAgIHdoaWxlIChrZXkgPiBjdXJyZW50W2luZGV4XSkgewogICAgICAgIGluZGV4Kys7CiAgICAgIH0KCiAgICAgIGlmIChrZXkgPT09IGN1cnJlbnRbaW5kZXhdKSB7CiAgICAgICAgcmV0dXJuOyAvLyBQYWlyIHdhcyBhbHJlYWR5IGFkZGVkCiAgICAgIH0KCiAgICAgIGZvciAobGV0IGogPSBjdXJyZW50Lmxlbmd0aCAtIDE7IGogPj0gaW5kZXg7IGotLSkgewogICAgICAgIGN1cnJlbnRbaiArIDFdID0gY3VycmVudFtqXTsKICAgICAgfQoKICAgICAgY3VycmVudFtpbmRleF0gPSBrZXk7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2QgdGljawogICAgICovCgoKICAgIHRpY2soKSB7CiAgICAgIGNvbnN0IHRtcCA9IHRoaXMuY3VycmVudDsKICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5wcmV2aW91czsKICAgICAgdGhpcy5wcmV2aW91cyA9IHRtcDsKICAgICAgdGhpcy5jdXJyZW50Lmxlbmd0aCA9IDA7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2QgZ2V0RGlmZgogICAgICogQHBhcmFtICB7YXJyYXl9IGFkZGl0aW9ucwogICAgICogQHBhcmFtICB7YXJyYXl9IHJlbW92YWxzCiAgICAgKi8KCgogICAgZ2V0RGlmZihhZGRpdGlvbnMsIHJlbW92YWxzKSB7CiAgICAgIGNvbnN0IGEgPSB0aGlzLmN1cnJlbnQ7CiAgICAgIGNvbnN0IGIgPSB0aGlzLnByZXZpb3VzOwogICAgICBjb25zdCBhbCA9IGEubGVuZ3RoOwogICAgICBjb25zdCBibCA9IGIubGVuZ3RoOwogICAgICBsZXQgaiA9IDA7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsOyBpKyspIHsKICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTsKICAgICAgICBjb25zdCBrZXlBID0gYVtpXTsKCiAgICAgICAgd2hpbGUgKGtleUEgPiBiW2pdKSB7CiAgICAgICAgICBqKys7CiAgICAgICAgfQoKICAgICAgICBmb3VuZCA9IGtleUEgPT09IGJbal07CgogICAgICAgIGlmICghZm91bmQpIHsKICAgICAgICAgIHVucGFja0FuZFB1c2goYWRkaXRpb25zLCBrZXlBKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGogPSAwOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBibDsgaSsrKSB7CiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7CiAgICAgICAgY29uc3Qga2V5QiA9IGJbaV07CgogICAgICAgIHdoaWxlIChrZXlCID4gYVtqXSkgewogICAgICAgICAgaisrOwogICAgICAgIH0KCiAgICAgICAgZm91bmQgPSBhW2pdID09PSBrZXlCOwoKICAgICAgICBpZiAoIWZvdW5kKSB7CiAgICAgICAgICB1bnBhY2tBbmRQdXNoKHJlbW92YWxzLCBrZXlCKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgfQoKICBmdW5jdGlvbiB1bnBhY2tBbmRQdXNoKGFycmF5LCBrZXkpIHsKICAgIGFycmF5LnB1c2goKGtleSAmIDB4ZmZmZjAwMDApID4+IDE2LCBrZXkgJiAweDAwMDBmZmZmKTsKICB9CiAgLyoqCiAgICogQGNsYXNzIFR1cGxlRGljdGlvbmFyeQogICAqIEBjb25zdHJ1Y3RvcgogICAqLwoKCiAgY2xhc3MgVHVwbGVEaWN0aW9uYXJ5IHsKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICB0aGlzLmRhdGEgPSB7CiAgICAgICAga2V5czogW10KICAgICAgfTsKICAgIH0KICAgIC8qKgogICAgICogQG1ldGhvZCBnZXQKICAgICAqIEBwYXJhbSAge051bWJlcn0gaQogICAgICogQHBhcmFtICB7TnVtYmVyfSBqCiAgICAgKiBAcmV0dXJuIHtPYmplY3R9CiAgICAgKi8KCgogICAgZ2V0KGksIGopIHsKICAgICAgaWYgKGkgPiBqKSB7CiAgICAgICAgLy8gc3dhcAogICAgICAgIGNvbnN0IHRlbXAgPSBqOwogICAgICAgIGogPSBpOwogICAgICAgIGkgPSB0ZW1wOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5kYXRhW2kgKyAiLSIgKyBqXTsKICAgIH0KICAgIC8qKgogICAgICogQG1ldGhvZCBzZXQKICAgICAqIEBwYXJhbSAge051bWJlcn0gaQogICAgICogQHBhcmFtICB7TnVtYmVyfSBqCiAgICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWUKICAgICAqLwoKCiAgICBzZXQoaSwgaiwgdmFsdWUpIHsKICAgICAgaWYgKGkgPiBqKSB7CiAgICAgICAgY29uc3QgdGVtcCA9IGo7CiAgICAgICAgaiA9IGk7CiAgICAgICAgaSA9IHRlbXA7CiAgICAgIH0KCiAgICAgIGNvbnN0IGtleSA9IGkgKyAiLSIgKyBqOyAvLyBDaGVjayBpZiBrZXkgYWxyZWFkeSBleGlzdHMKCiAgICAgIGlmICghdGhpcy5nZXQoaSwgaikpIHsKICAgICAgICB0aGlzLmRhdGEua2V5cy5wdXNoKGtleSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZGF0YVtrZXldID0gdmFsdWU7CiAgICB9CiAgICAvKioKICAgICAqIEBtZXRob2QgcmVzZXQKICAgICAqLwoKCiAgICByZXNldCgpIHsKICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKICAgICAgY29uc3Qga2V5cyA9IGRhdGEua2V5czsKCiAgICAgIHdoaWxlIChrZXlzLmxlbmd0aCA+IDApIHsKICAgICAgICBjb25zdCBrZXkgPSBrZXlzLnBvcCgpOwogICAgICAgIGRlbGV0ZSBkYXRhW2tleV07CiAgICAgIH0KICAgIH0KCiAgfQogIC8qKgogICAqIFRoZSBwaHlzaWNzIHdvcmxkCiAgICogQGNsYXNzIFdvcmxkCiAgICogQGNvbnN0cnVjdG9yCiAgICogQGV4dGVuZHMgRXZlbnRUYXJnZXQKICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdCiAgICogQHBhcmFtIHtWZWMzfSBbb3B0aW9ucy5ncmF2aXR5XQogICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYWxsb3dTbGVlcF0KICAgKiBAcGFyYW0ge0Jyb2FkcGhhc2V9IFtvcHRpb25zLmJyb2FkcGhhc2VdCiAgICogQHBhcmFtIHtTb2x2ZXJ9IFtvcHRpb25zLnNvbHZlcl0KICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnF1YXROb3JtYWxpemVGYXN0XQogICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5xdWF0Tm9ybWFsaXplU2tpcF0KICAgKi8KCgogIGNsYXNzIFdvcmxkIGV4dGVuZHMgRXZlbnRUYXJnZXQgewogICAgLy8gQ3VycmVudGx5IC8gbGFzdCB1c2VkIHRpbWVzdGVwLiBJcyBzZXQgdG8gLTEgaWYgbm90IGF2YWlsYWJsZS4gVGhpcyB2YWx1ZSBpcyB1cGRhdGVkIGJlZm9yZSBlYWNoIGludGVybmFsIHN0ZXAsIHdoaWNoIG1lYW5zIHRoYXQgaXQgaXMgImZyZXNoIiBpbnNpZGUgZXZlbnQgY2FsbGJhY2tzLgogICAgLy8gTWFrZXMgYm9kaWVzIGdvIHRvIHNsZWVwIHdoZW4gdGhleSd2ZSBiZWVuIGluYWN0aXZlLgogICAgLy8gQWxsIHRoZSBjdXJyZW50IGNvbnRhY3RzIChpbnN0YW5jZXMgb2YgQ29udGFjdEVxdWF0aW9uKSBpbiB0aGUgd29ybGQuCiAgICAvLyBIb3cgb2Z0ZW4gdG8gbm9ybWFsaXplIHF1YXRlcm5pb25zLiBTZXQgdG8gMCBmb3IgZXZlcnkgc3RlcCwgMSBmb3IgZXZlcnkgc2Vjb25kIGV0Yy4uIEEgbGFyZ2VyIHZhbHVlIGluY3JlYXNlcyBwZXJmb3JtYW5jZS4gSWYgYm9kaWVzIHRlbmQgdG8gZXhwbG9kZSwgc2V0IHRvIGEgc21hbGxlciB2YWx1ZSAoemVybyB0byBiZSBzdXJlIG5vdGhpbmcgY2FuIGdvIHdyb25nKS4KICAgIC8vIFNldCB0byB0cnVlIHRvIHVzZSBmYXN0IHF1YXRlcm5pb24gbm9ybWFsaXphdGlvbi4gSXQgaXMgb2Z0ZW4gZW5vdWdoIGFjY3VyYXRlIHRvIHVzZS4gSWYgYm9kaWVzIHRlbmQgdG8gZXhwbG9kZSwgc2V0IHRvIGZhbHNlLgogICAgLy8gVGhlIHdhbGwtY2xvY2sgdGltZSBzaW5jZSBzaW11bGF0aW9uIHN0YXJ0LgogICAgLy8gTnVtYmVyIG9mIHRpbWVzdGVwcyB0YWtlbiBzaW5jZSBzdGFydC4KICAgIC8vIERlZmF1bHQgYW5kIGxhc3QgdGltZXN0ZXAgc2l6ZXMuCiAgICAvLyBUaGUgYnJvYWRwaGFzZSBhbGdvcml0aG0gdG8gdXNlLiBEZWZhdWx0IGlzIE5haXZlQnJvYWRwaGFzZS4KICAgIC8vIEFsbCBib2RpZXMgaW4gdGhpcyB3b3JsZAogICAgLy8gVHJ1ZSBpZiBhbnkgYm9kaWVzIGFyZSBub3Qgc2xlZXBpbmcsIGZhbHNlIGlmIGV2ZXJ5IGJvZHkgaXMgc2xlZXBpbmcuCiAgICAvLyBUaGUgc29sdmVyIGFsZ29yaXRobSB0byB1c2UuIERlZmF1bHQgaXMgR1NTb2x2ZXIuCiAgICAvLyBDb2xsaXNpb25NYXRyaXggZnJvbSB0aGUgcHJldmlvdXMgc3RlcC4KICAgIC8vIEFsbCBhZGRlZCBtYXRlcmlhbHMuCiAgICAvLyBVc2VkIHRvIGxvb2sgdXAgYSBDb250YWN0TWF0ZXJpYWwgZ2l2ZW4gdHdvIGluc3RhbmNlcyBvZiBNYXRlcmlhbC4KICAgIC8vIFRoaXMgY29udGFjdCBtYXRlcmlhbCBpcyB1c2VkIGlmIG5vIHN1aXRhYmxlIGNvbnRhY3RtYXRlcmlhbCBpcyBmb3VuZCBmb3IgYSBjb250YWN0LgogICAgLy8gVGltZSBhY2N1bXVsYXRvciBmb3IgaW50ZXJwb2xhdGlvbi4gU2VlIGh0dHA6Ly9nYWZmZXJvbmdhbWVzLmNvbS9nYW1lLXBoeXNpY3MvZml4LXlvdXItdGltZXN0ZXAvCiAgICAvLyBEaXNwYXRjaGVkIGFmdGVyIGEgYm9keSBoYXMgYmVlbiBhZGRlZCB0byB0aGUgd29ybGQuCiAgICAvLyBEaXNwYXRjaGVkIGFmdGVyIGEgYm9keSBoYXMgYmVlbiByZW1vdmVkIGZyb20gdGhlIHdvcmxkLgogICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMuZHQgPSAtMTsKICAgICAgdGhpcy5hbGxvd1NsZWVwID0gISFvcHRpb25zLmFsbG93U2xlZXA7CiAgICAgIHRoaXMuY29udGFjdHMgPSBbXTsKICAgICAgdGhpcy5mcmljdGlvbkVxdWF0aW9ucyA9IFtdOwogICAgICB0aGlzLnF1YXROb3JtYWxpemVTa2lwID0gb3B0aW9ucy5xdWF0Tm9ybWFsaXplU2tpcCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5xdWF0Tm9ybWFsaXplU2tpcCA6IDA7CiAgICAgIHRoaXMucXVhdE5vcm1hbGl6ZUZhc3QgPSBvcHRpb25zLnF1YXROb3JtYWxpemVGYXN0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnF1YXROb3JtYWxpemVGYXN0IDogZmFsc2U7CiAgICAgIHRoaXMudGltZSA9IDAuMDsKICAgICAgdGhpcy5zdGVwbnVtYmVyID0gMDsKICAgICAgdGhpcy5kZWZhdWx0X2R0ID0gMSAvIDYwOwogICAgICB0aGlzLm5leHRJZCA9IDA7CiAgICAgIHRoaXMuZ3Jhdml0eSA9IG5ldyBWZWMzKCk7CgogICAgICBpZiAob3B0aW9ucy5ncmF2aXR5KSB7CiAgICAgICAgdGhpcy5ncmF2aXR5LmNvcHkob3B0aW9ucy5ncmF2aXR5KTsKICAgICAgfQoKICAgICAgdGhpcy5icm9hZHBoYXNlID0gb3B0aW9ucy5icm9hZHBoYXNlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmJyb2FkcGhhc2UgOiBuZXcgTmFpdmVCcm9hZHBoYXNlKCk7CiAgICAgIHRoaXMuYm9kaWVzID0gW107CiAgICAgIHRoaXMuaGFzQWN0aXZlQm9kaWVzID0gZmFsc2U7CiAgICAgIHRoaXMuc29sdmVyID0gb3B0aW9ucy5zb2x2ZXIgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc29sdmVyIDogbmV3IEdTU29sdmVyKCk7CiAgICAgIHRoaXMuY29uc3RyYWludHMgPSBbXTsKICAgICAgdGhpcy5uYXJyb3dwaGFzZSA9IG5ldyBOYXJyb3dwaGFzZSh0aGlzKTsKICAgICAgdGhpcy5jb2xsaXNpb25NYXRyaXggPSBuZXcgQXJyYXlDb2xsaXNpb25NYXRyaXgoKTsKICAgICAgdGhpcy5jb2xsaXNpb25NYXRyaXhQcmV2aW91cyA9IG5ldyBBcnJheUNvbGxpc2lvbk1hdHJpeCgpOwogICAgICB0aGlzLmJvZHlPdmVybGFwS2VlcGVyID0gbmV3IE92ZXJsYXBLZWVwZXIoKTsKICAgICAgdGhpcy5zaGFwZU92ZXJsYXBLZWVwZXIgPSBuZXcgT3ZlcmxhcEtlZXBlcigpOwogICAgICB0aGlzLm1hdGVyaWFscyA9IFtdOwogICAgICB0aGlzLmNvbnRhY3RtYXRlcmlhbHMgPSBbXTsKICAgICAgdGhpcy5jb250YWN0TWF0ZXJpYWxUYWJsZSA9IG5ldyBUdXBsZURpY3Rpb25hcnkoKTsKICAgICAgdGhpcy5kZWZhdWx0TWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwoJ2RlZmF1bHQnKTsKICAgICAgdGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsID0gbmV3IENvbnRhY3RNYXRlcmlhbCh0aGlzLmRlZmF1bHRNYXRlcmlhbCwgdGhpcy5kZWZhdWx0TWF0ZXJpYWwsIHsKICAgICAgICBmcmljdGlvbjogMC4zLAogICAgICAgIHJlc3RpdHV0aW9uOiAwLjAKICAgICAgfSk7CiAgICAgIHRoaXMuZG9Qcm9maWxpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5wcm9maWxlID0gewogICAgICAgIHNvbHZlOiAwLAogICAgICAgIG1ha2VDb250YWN0Q29uc3RyYWludHM6IDAsCiAgICAgICAgYnJvYWRwaGFzZTogMCwKICAgICAgICBpbnRlZ3JhdGU6IDAsCiAgICAgICAgbmFycm93cGhhc2U6IDAKICAgICAgfTsKICAgICAgdGhpcy5hY2N1bXVsYXRvciA9IDA7CiAgICAgIHRoaXMuc3Vic3lzdGVtcyA9IFtdOwogICAgICB0aGlzLmFkZEJvZHlFdmVudCA9IHsKICAgICAgICB0eXBlOiAnYWRkQm9keScsCiAgICAgICAgYm9keTogbnVsbAogICAgICB9OwogICAgICB0aGlzLnJlbW92ZUJvZHlFdmVudCA9IHsKICAgICAgICB0eXBlOiAncmVtb3ZlQm9keScsCiAgICAgICAgYm9keTogbnVsbAogICAgICB9OwogICAgICB0aGlzLmlkVG9Cb2R5TWFwID0ge307CiAgICAgIHRoaXMuYnJvYWRwaGFzZS5zZXRXb3JsZCh0aGlzKTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IHRoZSBjb250YWN0IG1hdGVyaWFsIGJldHdlZW4gbWF0ZXJpYWxzIG0xIGFuZCBtMgogICAgICogQG1ldGhvZCBnZXRDb250YWN0TWF0ZXJpYWwKICAgICAqIEBwYXJhbSB7TWF0ZXJpYWx9IG0xCiAgICAgKiBAcGFyYW0ge01hdGVyaWFsfSBtMgogICAgICogQHJldHVybiB7Q29udGFjdE1hdGVyaWFsfSBUaGUgY29udGFjdCBtYXRlcmlhbCBpZiBpdCB3YXMgZm91bmQuCiAgICAgKi8KCgogICAgZ2V0Q29udGFjdE1hdGVyaWFsKG0xLCBtMikgewogICAgICByZXR1cm4gdGhpcy5jb250YWN0TWF0ZXJpYWxUYWJsZS5nZXQobTEuaWQsIG0yLmlkKTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IG51bWJlciBvZiBvYmplY3RzIGluIHRoZSB3b3JsZC4KICAgICAqIEBtZXRob2QgbnVtT2JqZWN0cwogICAgICogQHJldHVybiB7TnVtYmVyfQogICAgICogQGRlcHJlY2F0ZWQKICAgICAqLwoKCiAgICBudW1PYmplY3RzKCkgewogICAgICByZXR1cm4gdGhpcy5ib2RpZXMubGVuZ3RoOwogICAgfQogICAgLyoqCiAgICAgKiBTdG9yZSBvbGQgY29sbGlzaW9uIHN0YXRlIGluZm8KICAgICAqIEBtZXRob2QgY29sbGlzaW9uTWF0cml4VGljawogICAgICovCgoKICAgIGNvbGxpc2lvbk1hdHJpeFRpY2soKSB7CiAgICAgIGNvbnN0IHRlbXAgPSB0aGlzLmNvbGxpc2lvbk1hdHJpeFByZXZpb3VzOwogICAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeFByZXZpb3VzID0gdGhpcy5jb2xsaXNpb25NYXRyaXg7CiAgICAgIHRoaXMuY29sbGlzaW9uTWF0cml4ID0gdGVtcDsKICAgICAgdGhpcy5jb2xsaXNpb25NYXRyaXgucmVzZXQoKTsKICAgICAgdGhpcy5ib2R5T3ZlcmxhcEtlZXBlci50aWNrKCk7CiAgICAgIHRoaXMuc2hhcGVPdmVybGFwS2VlcGVyLnRpY2soKTsKICAgIH0KICAgIC8qKgogICAgICogQWRkIGEgY29uc3RyYWludCB0byB0aGUgc2ltdWxhdGlvbi4KICAgICAqIEBtZXRob2QgYWRkQ29uc3RyYWludAogICAgICogQHBhcmFtIHtDb25zdHJhaW50fSBjCiAgICAgKi8KCgogICAgYWRkQ29uc3RyYWludChjKSB7CiAgICAgIHRoaXMuY29uc3RyYWludHMucHVzaChjKTsKICAgIH0KICAgIC8qKgogICAgICogUmVtb3ZlcyBhIGNvbnN0cmFpbnQKICAgICAqIEBtZXRob2QgcmVtb3ZlQ29uc3RyYWludAogICAgICogQHBhcmFtIHtDb25zdHJhaW50fSBjCiAgICAgKi8KCgogICAgcmVtb3ZlQ29uc3RyYWludChjKSB7CiAgICAgIGNvbnN0IGlkeCA9IHRoaXMuY29uc3RyYWludHMuaW5kZXhPZihjKTsKCiAgICAgIGlmIChpZHggIT09IC0xKSB7CiAgICAgICAgdGhpcy5jb25zdHJhaW50cy5zcGxpY2UoaWR4LCAxKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBSYXljYXN0IHRlc3QKICAgICAqIEBtZXRob2QgcmF5VGVzdAogICAgICogQHBhcmFtIHtWZWMzfSBmcm9tCiAgICAgKiBAcGFyYW0ge1ZlYzN9IHRvCiAgICAgKiBAcGFyYW0ge1JheWNhc3RSZXN1bHR9IHJlc3VsdAogICAgICogQGRlcHJlY2F0ZWQgVXNlIC5yYXljYXN0QWxsLCAucmF5Y2FzdENsb3Nlc3Qgb3IgLnJheWNhc3RBbnkgaW5zdGVhZC4KICAgICAqLwoKCiAgICByYXlUZXN0KGZyb20sIHRvLCByZXN1bHQpIHsKICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFJheWNhc3RSZXN1bHQpIHsKICAgICAgICAvLyBEbyByYXljYXN0Q2xvc2VzdAogICAgICAgIHRoaXMucmF5Y2FzdENsb3Nlc3QoZnJvbSwgdG8sIHsKICAgICAgICAgIHNraXBCYWNrZmFjZXM6IHRydWUKICAgICAgICB9LCByZXN1bHQpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIERvIHJheWNhc3RBbGwKICAgICAgICB0aGlzLnJheWNhc3RBbGwoZnJvbSwgdG8sIHsKICAgICAgICAgIHNraXBCYWNrZmFjZXM6IHRydWUKICAgICAgICB9LCByZXN1bHQpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFJheSBjYXN0IGFnYWluc3QgYWxsIGJvZGllcy4gVGhlIHByb3ZpZGVkIGNhbGxiYWNrIHdpbGwgYmUgZXhlY3V0ZWQgZm9yIGVhY2ggaGl0IHdpdGggYSBSYXljYXN0UmVzdWx0IGFzIHNpbmdsZSBhcmd1bWVudC4KICAgICAqIEBtZXRob2QgcmF5Y2FzdEFsbAogICAgICogQHBhcmFtICB7VmVjM30gZnJvbQogICAgICogQHBhcmFtICB7VmVjM30gdG8KICAgICAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9ucwogICAgICogQHBhcmFtICB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrPS0xXQogICAgICogQHBhcmFtICB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cD0tMV0KICAgICAqIEBwYXJhbSAge2Jvb2xlYW59IFtvcHRpb25zLnNraXBCYWNrZmFjZXM9ZmFsc2VdCiAgICAgKiBAcGFyYW0gIHtib29sZWFufSBbb3B0aW9ucy5jaGVja0NvbGxpc2lvblJlc3BvbnNlPXRydWVdCiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2sKICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYW55IGJvZHkgd2FzIGhpdC4KICAgICAqLwoKCiAgICByYXljYXN0QWxsKGZyb20sIHRvLCBvcHRpb25zID0ge30sIGNhbGxiYWNrKSB7CiAgICAgIG9wdGlvbnMubW9kZSA9IFJheS5BTEw7CiAgICAgIG9wdGlvbnMuZnJvbSA9IGZyb207CiAgICAgIG9wdGlvbnMudG8gPSB0bzsKICAgICAgb3B0aW9ucy5jYWxsYmFjayA9IGNhbGxiYWNrOwogICAgICByZXR1cm4gdG1wUmF5JDEuaW50ZXJzZWN0V29ybGQodGhpcywgb3B0aW9ucyk7CiAgICB9CiAgICAvKioKICAgICAqIFJheSBjYXN0LCBhbmQgc3RvcCBhdCB0aGUgZmlyc3QgcmVzdWx0LiBOb3RlIHRoYXQgdGhlIG9yZGVyIGlzIHJhbmRvbSAtIGJ1dCB0aGUgbWV0aG9kIGlzIGZhc3QuCiAgICAgKiBAbWV0aG9kIHJheWNhc3RBbnkKICAgICAqIEBwYXJhbSAge1ZlYzN9IGZyb20KICAgICAqIEBwYXJhbSAge1ZlYzN9IHRvCiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnMKICAgICAqIEBwYXJhbSAge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzaz0tMV0KICAgICAqIEBwYXJhbSAge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uRmlsdGVyR3JvdXA9LTFdCiAgICAgKiBAcGFyYW0gIHtib29sZWFufSBbb3B0aW9ucy5za2lwQmFja2ZhY2VzPWZhbHNlXQogICAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuY2hlY2tDb2xsaXNpb25SZXNwb25zZT10cnVlXQogICAgICogQHBhcmFtICB7UmF5Y2FzdFJlc3VsdH0gcmVzdWx0CiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGFueSBib2R5IHdhcyBoaXQuCiAgICAgKi8KCgogICAgcmF5Y2FzdEFueShmcm9tLCB0bywgb3B0aW9ucyA9IHt9LCByZXN1bHQpIHsKICAgICAgb3B0aW9ucy5tb2RlID0gUmF5LkFOWTsKICAgICAgb3B0aW9ucy5mcm9tID0gZnJvbTsKICAgICAgb3B0aW9ucy50byA9IHRvOwogICAgICBvcHRpb25zLnJlc3VsdCA9IHJlc3VsdDsKICAgICAgcmV0dXJuIHRtcFJheSQxLmludGVyc2VjdFdvcmxkKHRoaXMsIG9wdGlvbnMpOwogICAgfQogICAgLyoqCiAgICAgKiBSYXkgY2FzdCwgYW5kIHJldHVybiBpbmZvcm1hdGlvbiBvZiB0aGUgY2xvc2VzdCBoaXQuCiAgICAgKiBAbWV0aG9kIHJheWNhc3RDbG9zZXN0CiAgICAgKiBAcGFyYW0gIHtWZWMzfSBmcm9tCiAgICAgKiBAcGFyYW0gIHtWZWMzfSB0bwogICAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zCiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2s9LTFdCiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwPS0xXQogICAgICogQHBhcmFtICB7Ym9vbGVhbn0gW29wdGlvbnMuc2tpcEJhY2tmYWNlcz1mYWxzZV0KICAgICAqIEBwYXJhbSAge2Jvb2xlYW59IFtvcHRpb25zLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2U9dHJ1ZV0KICAgICAqIEBwYXJhbSAge1JheWNhc3RSZXN1bHR9IHJlc3VsdAogICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBhbnkgYm9keSB3YXMgaGl0LgogICAgICovCgoKICAgIHJheWNhc3RDbG9zZXN0KGZyb20sIHRvLCBvcHRpb25zID0ge30sIHJlc3VsdCkgewogICAgICBvcHRpb25zLm1vZGUgPSBSYXkuQ0xPU0VTVDsKICAgICAgb3B0aW9ucy5mcm9tID0gZnJvbTsKICAgICAgb3B0aW9ucy50byA9IHRvOwogICAgICBvcHRpb25zLnJlc3VsdCA9IHJlc3VsdDsKICAgICAgcmV0dXJuIHRtcFJheSQxLmludGVyc2VjdFdvcmxkKHRoaXMsIG9wdGlvbnMpOwogICAgfQogICAgLyoqCiAgICAgKiBBZGQgYSByaWdpZCBib2R5IHRvIHRoZSBzaW11bGF0aW9uLgogICAgICogQG1ldGhvZCBhZGQKICAgICAqIEBwYXJhbSB7Qm9keX0gYm9keQogICAgICogQHRvZG8gSWYgdGhlIHNpbXVsYXRpb24gaGFzIG5vdCB5ZXQgc3RhcnRlZCwgd2h5IHJlY3JldGUgYW5kIGNvcHkgYXJyYXlzIGZvciBlYWNoIGJvZHk/IEFjY3VtdWxhdGUgaW4gZHluYW1pYyBhcnJheXMgaW4gdGhpcyBjYXNlLgogICAgICogQHRvZG8gQWRkaW5nIGFuIGFycmF5IG9mIGJvZGllcyBzaG91bGQgYmUgcG9zc2libGUuIFRoaXMgd291bGQgc2F2ZSBzb21lIGxvb3BzIHRvbwogICAgICovCgoKICAgIGFkZEJvZHkoYm9keSkgewogICAgICBpZiAodGhpcy5ib2RpZXMuaW5jbHVkZXMoYm9keSkpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGJvZHkuaW5kZXggPSB0aGlzLmJvZGllcy5sZW5ndGg7CiAgICAgIHRoaXMuYm9kaWVzLnB1c2goYm9keSk7CiAgICAgIGJvZHkud29ybGQgPSB0aGlzOwogICAgICBib2R5LmluaXRQb3NpdGlvbi5jb3B5KGJvZHkucG9zaXRpb24pOwogICAgICBib2R5LmluaXRWZWxvY2l0eS5jb3B5KGJvZHkudmVsb2NpdHkpOwogICAgICBib2R5LnRpbWVMYXN0U2xlZXB5ID0gdGhpcy50aW1lOwoKICAgICAgaWYgKGJvZHkgaW5zdGFuY2VvZiBCb2R5KSB7CiAgICAgICAgYm9keS5pbml0QW5ndWxhclZlbG9jaXR5LmNvcHkoYm9keS5hbmd1bGFyVmVsb2NpdHkpOwogICAgICAgIGJvZHkuaW5pdFF1YXRlcm5pb24uY29weShib2R5LnF1YXRlcm5pb24pOwogICAgICB9CgogICAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeC5zZXROdW1PYmplY3RzKHRoaXMuYm9kaWVzLmxlbmd0aCk7CiAgICAgIHRoaXMuYWRkQm9keUV2ZW50LmJvZHkgPSBib2R5OwogICAgICB0aGlzLmlkVG9Cb2R5TWFwW2JvZHkuaWRdID0gYm9keTsKICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHRoaXMuYWRkQm9keUV2ZW50KTsKICAgIH0KICAgIC8qKgogICAgICogUmVtb3ZlIGEgcmlnaWQgYm9keSBmcm9tIHRoZSBzaW11bGF0aW9uLgogICAgICogQG1ldGhvZCByZW1vdmUKICAgICAqIEBwYXJhbSB7Qm9keX0gYm9keQogICAgICovCgoKICAgIHJlbW92ZUJvZHkoYm9keSkgewogICAgICBib2R5LndvcmxkID0gbnVsbDsKICAgICAgY29uc3QgbiA9IHRoaXMuYm9kaWVzLmxlbmd0aCAtIDE7CiAgICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYm9kaWVzOwogICAgICBjb25zdCBpZHggPSBib2RpZXMuaW5kZXhPZihib2R5KTsKCiAgICAgIGlmIChpZHggIT09IC0xKSB7CiAgICAgICAgYm9kaWVzLnNwbGljZShpZHgsIDEpOyAvLyBUb2RvOiBzaG91bGQgdXNlIGEgZ2FyYmFnZSBmcmVlIG1ldGhvZAogICAgICAgIC8vIFJlY29tcHV0ZSBpbmRleAoKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gYm9kaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBib2RpZXNbaV0uaW5kZXggPSBpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5jb2xsaXNpb25NYXRyaXguc2V0TnVtT2JqZWN0cyhuKTsKICAgICAgICB0aGlzLnJlbW92ZUJvZHlFdmVudC5ib2R5ID0gYm9keTsKICAgICAgICBkZWxldGUgdGhpcy5pZFRvQm9keU1hcFtib2R5LmlkXTsKICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQodGhpcy5yZW1vdmVCb2R5RXZlbnQpOwogICAgICB9CiAgICB9CgogICAgZ2V0Qm9keUJ5SWQoaWQpIHsKICAgICAgcmV0dXJuIHRoaXMuaWRUb0JvZHlNYXBbaWRdOwogICAgfSAvLyBUT0RPIE1ha2UgYSBmYXN0ZXIgbWFwCgoKICAgIGdldFNoYXBlQnlJZChpZCkgewogICAgICBjb25zdCBib2RpZXMgPSB0aGlzLmJvZGllczsKCiAgICAgIGZvciAobGV0IGkgPSAwLCBibCA9IGJvZGllcy5sZW5ndGg7IGkgPCBibDsgaSsrKSB7CiAgICAgICAgY29uc3Qgc2hhcGVzID0gYm9kaWVzW2ldLnNoYXBlczsKCiAgICAgICAgZm9yIChsZXQgaiA9IDAsIHNsID0gc2hhcGVzLmxlbmd0aDsgaiA8IHNsOyBqKyspIHsKICAgICAgICAgIGNvbnN0IHNoYXBlID0gc2hhcGVzW2pdOwoKICAgICAgICAgIGlmIChzaGFwZS5pZCA9PT0gaWQpIHsKICAgICAgICAgICAgcmV0dXJuIHNoYXBlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBBZGRzIGEgbWF0ZXJpYWwgdG8gdGhlIFdvcmxkLgogICAgICogQG1ldGhvZCBhZGRNYXRlcmlhbAogICAgICogQHBhcmFtIHtNYXRlcmlhbH0gbQogICAgICogQHRvZG8gTmVjZXNzYXJ5PwogICAgICovCgoKICAgIGFkZE1hdGVyaWFsKG0pIHsKICAgICAgdGhpcy5tYXRlcmlhbHMucHVzaChtKTsKICAgIH0KICAgIC8qKgogICAgICogQWRkcyBhIGNvbnRhY3QgbWF0ZXJpYWwgdG8gdGhlIFdvcmxkCiAgICAgKiBAbWV0aG9kIGFkZENvbnRhY3RNYXRlcmlhbAogICAgICogQHBhcmFtIHtDb250YWN0TWF0ZXJpYWx9IGNtYXQKICAgICAqLwoKCiAgICBhZGRDb250YWN0TWF0ZXJpYWwoY21hdCkgewogICAgICAvLyBBZGQgY29udGFjdCBtYXRlcmlhbAogICAgICB0aGlzLmNvbnRhY3RtYXRlcmlhbHMucHVzaChjbWF0KTsgLy8gQWRkIGN1cnJlbnQgY29udGFjdCBtYXRlcmlhbCB0byB0aGUgbWF0ZXJpYWwgdGFibGUKCiAgICAgIHRoaXMuY29udGFjdE1hdGVyaWFsVGFibGUuc2V0KGNtYXQubWF0ZXJpYWxzWzBdLmlkLCBjbWF0Lm1hdGVyaWFsc1sxXS5pZCwgY21hdCk7CiAgICB9CiAgICAvKioKICAgICAqIFN0ZXAgdGhlIHBoeXNpY3Mgd29ybGQgZm9yd2FyZCBpbiB0aW1lLgogICAgICoKICAgICAqIFRoZXJlIGFyZSB0d28gbW9kZXMuIFRoZSBzaW1wbGUgbW9kZSBpcyBmaXhlZCB0aW1lc3RlcHBpbmcgd2l0aG91dCBpbnRlcnBvbGF0aW9uLiBJbiB0aGlzIGNhc2UgeW91IG9ubHkgdXNlIHRoZSBmaXJzdCBhcmd1bWVudC4gVGhlIHNlY29uZCBjYXNlIHVzZXMgaW50ZXJwb2xhdGlvbi4gSW4gdGhhdCB5b3UgYWxzbyBwcm92aWRlIHRoZSB0aW1lIHNpbmNlIHRoZSBmdW5jdGlvbiB3YXMgbGFzdCB1c2VkLCBhcyB3ZWxsIGFzIHRoZSBtYXhpbXVtIGZpeGVkIHRpbWVzdGVwcyB0byB0YWtlLgogICAgICoKICAgICAqIEBtZXRob2Qgc3RlcAogICAgICogQHBhcmFtIHtOdW1iZXJ9IGR0ICAgICAgICAgICAgICAgICAgICAgICBUaGUgZml4ZWQgdGltZSBzdGVwIHNpemUgdG8gdXNlLgogICAgICogQHBhcmFtIHtOdW1iZXJ9IFt0aW1lU2luY2VMYXN0Q2FsbGVkXSAgICBUaGUgdGltZSBlbGFwc2VkIHNpbmNlIHRoZSBmdW5jdGlvbiB3YXMgbGFzdCBjYWxsZWQuCiAgICAgKiBAcGFyYW0ge051bWJlcn0gW21heFN1YlN0ZXBzPTEwXSAgICAgICAgIE1heGltdW0gbnVtYmVyIG9mIGZpeGVkIHN0ZXBzIHRvIHRha2UgcGVyIGZ1bmN0aW9uIGNhbGwuCiAgICAgKgogICAgICogQGV4YW1wbGUKICAgICAqICAgICAvLyBmaXhlZCB0aW1lc3RlcHBpbmcgd2l0aG91dCBpbnRlcnBvbGF0aW9uCiAgICAgKiAgICAgd29ybGQuc3RlcCgxLzYwKTsKICAgICAqCiAgICAgKiBAc2VlIGh0dHA6Ly9idWxsZXRwaHlzaWNzLm9yZy9tZWRpYXdpa2ktMS41LjgvaW5kZXgucGhwL1N0ZXBwaW5nX1RoZV9Xb3JsZAogICAgICovCgoKICAgIHN0ZXAoZHQsIHRpbWVTaW5jZUxhc3RDYWxsZWQsIG1heFN1YlN0ZXBzID0gMTApIHsKICAgICAgaWYgKHRpbWVTaW5jZUxhc3RDYWxsZWQgPT09IHVuZGVmaW5lZCkgewogICAgICAgIC8vIEZpeGVkLCBzaW1wbGUgc3RlcHBpbmcKICAgICAgICB0aGlzLmludGVybmFsU3RlcChkdCk7IC8vIEluY3JlbWVudCB0aW1lCgogICAgICAgIHRoaXMudGltZSArPSBkdDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFjY3VtdWxhdG9yICs9IHRpbWVTaW5jZUxhc3RDYWxsZWQ7CiAgICAgICAgY29uc3QgdDAgPSBwZXJmb3JtYW5jZSQxLm5vdygpOwogICAgICAgIGxldCBzdWJzdGVwcyA9IDA7CgogICAgICAgIHdoaWxlICh0aGlzLmFjY3VtdWxhdG9yID49IGR0ICYmIHN1YnN0ZXBzIDwgbWF4U3ViU3RlcHMpIHsKICAgICAgICAgIC8vIERvIGZpeGVkIHN0ZXBzIHRvIGNhdGNoIHVwCiAgICAgICAgICB0aGlzLmludGVybmFsU3RlcChkdCk7CiAgICAgICAgICB0aGlzLmFjY3VtdWxhdG9yIC09IGR0OwogICAgICAgICAgc3Vic3RlcHMrKzsKCiAgICAgICAgICBpZiAocGVyZm9ybWFuY2UkMS5ub3coKSAtIHQwID4gZHQgKiAxMDAwKSB7CiAgICAgICAgICAgIC8vIFRoZSBmcmFtZXJhdGUgaXMgbm90IGludGVyYWN0aXZlIGFueW1vcmUuCiAgICAgICAgICAgIC8vIFdlIGFyZSBiZWxvdyB0aGUgdGFyZ2V0IGZyYW1lcmF0ZS4KICAgICAgICAgICAgLy8gQmV0dGVyIGJhaWwgb3V0LgogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9IC8vIFJlbW92ZSB0aGUgZXhjZXNzIGFjY3VtdWxhdG9yLCBzaW5jZSB3ZSBtYXkgbm90CiAgICAgICAgLy8gaGF2ZSBoYWQgZW5vdWdoIHN1YnN0ZXBzIGF2YWlsYWJsZSB0byBjYXRjaCB1cAoKCiAgICAgICAgdGhpcy5hY2N1bXVsYXRvciA9IHRoaXMuYWNjdW11bGF0b3IgJSBkdDsKICAgICAgICBjb25zdCB0ID0gdGhpcy5hY2N1bXVsYXRvciAvIGR0OwoKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gdGhpcy5ib2RpZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGNvbnN0IGIgPSB0aGlzLmJvZGllc1tqXTsKICAgICAgICAgIGIucHJldmlvdXNQb3NpdGlvbi5sZXJwKGIucG9zaXRpb24sIHQsIGIuaW50ZXJwb2xhdGVkUG9zaXRpb24pOwogICAgICAgICAgYi5wcmV2aW91c1F1YXRlcm5pb24uc2xlcnAoYi5xdWF0ZXJuaW9uLCB0LCBiLmludGVycG9sYXRlZFF1YXRlcm5pb24pOwogICAgICAgICAgYi5wcmV2aW91c1F1YXRlcm5pb24ubm9ybWFsaXplKCk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnRpbWUgKz0gdGltZVNpbmNlTGFzdENhbGxlZDsKICAgICAgfQogICAgfQoKICAgIGludGVybmFsU3RlcChkdCkgewogICAgICB0aGlzLmR0ID0gZHQ7CiAgICAgIGNvbnN0IGNvbnRhY3RzID0gdGhpcy5jb250YWN0czsKICAgICAgY29uc3QgcDEgPSBXb3JsZF9zdGVwX3AxOwogICAgICBjb25zdCBwMiA9IFdvcmxkX3N0ZXBfcDI7CiAgICAgIGNvbnN0IE4gPSB0aGlzLm51bU9iamVjdHMoKTsKICAgICAgY29uc3QgYm9kaWVzID0gdGhpcy5ib2RpZXM7CiAgICAgIGNvbnN0IHNvbHZlciA9IHRoaXMuc29sdmVyOwogICAgICBjb25zdCBncmF2aXR5ID0gdGhpcy5ncmF2aXR5OwogICAgICBjb25zdCBkb1Byb2ZpbGluZyA9IHRoaXMuZG9Qcm9maWxpbmc7CiAgICAgIGNvbnN0IHByb2ZpbGUgPSB0aGlzLnByb2ZpbGU7CiAgICAgIGNvbnN0IERZTkFNSUMgPSBCb2R5LkRZTkFNSUM7CiAgICAgIGxldCBwcm9maWxpbmdTdGFydCA9IC1JbmZpbml0eTsKICAgICAgY29uc3QgY29uc3RyYWludHMgPSB0aGlzLmNvbnN0cmFpbnRzOwogICAgICBjb25zdCBmcmljdGlvbkVxdWF0aW9uUG9vbCA9IFdvcmxkX3N0ZXBfZnJpY3Rpb25FcXVhdGlvblBvb2w7CiAgICAgIGdyYXZpdHkubGVuZ3RoKCk7CiAgICAgIGNvbnN0IGd4ID0gZ3Jhdml0eS54OwogICAgICBjb25zdCBneSA9IGdyYXZpdHkueTsKICAgICAgY29uc3QgZ3ogPSBncmF2aXR5Lno7CiAgICAgIGxldCBpID0gMDsKCiAgICAgIGlmIChkb1Byb2ZpbGluZykgewogICAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2UkMS5ub3coKTsKICAgICAgfSAvLyBBZGQgZ3Jhdml0eSB0byBhbGwgb2JqZWN0cwoKCiAgICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldOwoKICAgICAgICBpZiAoYmkudHlwZSA9PT0gRFlOQU1JQykgewogICAgICAgICAgLy8gT25seSBmb3IgZHluYW1pYyBib2RpZXMKICAgICAgICAgIGNvbnN0IGYgPSBiaS5mb3JjZTsKICAgICAgICAgIGNvbnN0IG0gPSBiaS5tYXNzOwogICAgICAgICAgZi54ICs9IG0gKiBneDsKICAgICAgICAgIGYueSArPSBtICogZ3k7CiAgICAgICAgICBmLnogKz0gbSAqIGd6OwogICAgICAgIH0KICAgICAgfSAvLyBVcGRhdGUgc3Vic3lzdGVtcwoKCiAgICAgIGZvciAobGV0IGkgPSAwLCBOc3Vic3lzdGVtcyA9IHRoaXMuc3Vic3lzdGVtcy5sZW5ndGg7IGkgIT09IE5zdWJzeXN0ZW1zOyBpKyspIHsKICAgICAgICB0aGlzLnN1YnN5c3RlbXNbaV0udXBkYXRlKCk7CiAgICAgIH0gLy8gQ29sbGlzaW9uIGRldGVjdGlvbgoKCiAgICAgIGlmIChkb1Byb2ZpbGluZykgewogICAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2UkMS5ub3coKTsKICAgICAgfQoKICAgICAgcDEubGVuZ3RoID0gMDsgLy8gQ2xlYW4gdXAgcGFpciBhcnJheXMgZnJvbSBsYXN0IHN0ZXAKCiAgICAgIHAyLmxlbmd0aCA9IDA7CiAgICAgIHRoaXMuYnJvYWRwaGFzZS5jb2xsaXNpb25QYWlycyh0aGlzLCBwMSwgcDIpOwoKICAgICAgaWYgKGRvUHJvZmlsaW5nKSB7CiAgICAgICAgcHJvZmlsZS5icm9hZHBoYXNlID0gcGVyZm9ybWFuY2UkMS5ub3coKSAtIHByb2ZpbGluZ1N0YXJ0OwogICAgICB9IC8vIFJlbW92ZSBjb25zdHJhaW5lZCBwYWlycyB3aXRoIGNvbGxpZGVDb25uZWN0ZWQgPT0gZmFsc2UKCgogICAgICBsZXQgTmNvbnN0cmFpbnRzID0gY29uc3RyYWludHMubGVuZ3RoOwoKICAgICAgZm9yIChpID0gMDsgaSAhPT0gTmNvbnN0cmFpbnRzOyBpKyspIHsKICAgICAgICBjb25zdCBjID0gY29uc3RyYWludHNbaV07CgogICAgICAgIGlmICghYy5jb2xsaWRlQ29ubmVjdGVkKSB7CiAgICAgICAgICBmb3IgKGxldCBqID0gcDEubGVuZ3RoIC0gMTsgaiA+PSAwOyBqIC09IDEpIHsKICAgICAgICAgICAgaWYgKGMuYm9keUEgPT09IHAxW2pdICYmIGMuYm9keUIgPT09IHAyW2pdIHx8IGMuYm9keUIgPT09IHAxW2pdICYmIGMuYm9keUEgPT09IHAyW2pdKSB7CiAgICAgICAgICAgICAgcDEuc3BsaWNlKGosIDEpOwogICAgICAgICAgICAgIHAyLnNwbGljZShqLCAxKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5jb2xsaXNpb25NYXRyaXhUaWNrKCk7IC8vIEdlbmVyYXRlIGNvbnRhY3RzCgogICAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgICBwcm9maWxpbmdTdGFydCA9IHBlcmZvcm1hbmNlJDEubm93KCk7CiAgICAgIH0KCiAgICAgIGNvbnN0IG9sZGNvbnRhY3RzID0gV29ybGRfc3RlcF9vbGRDb250YWN0czsKICAgICAgY29uc3QgTm9sZENvbnRhY3RzID0gY29udGFjdHMubGVuZ3RoOwoKICAgICAgZm9yIChpID0gMDsgaSAhPT0gTm9sZENvbnRhY3RzOyBpKyspIHsKICAgICAgICBvbGRjb250YWN0cy5wdXNoKGNvbnRhY3RzW2ldKTsKICAgICAgfQoKICAgICAgY29udGFjdHMubGVuZ3RoID0gMDsgLy8gVHJhbnNmZXIgRnJpY3Rpb25FcXVhdGlvbiBmcm9tIGN1cnJlbnQgbGlzdCB0byB0aGUgcG9vbCBmb3IgcmV1c2UKCiAgICAgIGNvbnN0IE5vbGRGcmljdGlvbkVxdWF0aW9ucyA9IHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RoOwoKICAgICAgZm9yIChpID0gMDsgaSAhPT0gTm9sZEZyaWN0aW9uRXF1YXRpb25zOyBpKyspIHsKICAgICAgICBmcmljdGlvbkVxdWF0aW9uUG9vbC5wdXNoKHRoaXMuZnJpY3Rpb25FcXVhdGlvbnNbaV0pOwogICAgICB9CgogICAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLmxlbmd0aCA9IDA7CiAgICAgIHRoaXMubmFycm93cGhhc2UuZ2V0Q29udGFjdHMocDEsIHAyLCB0aGlzLCBjb250YWN0cywgb2xkY29udGFjdHMsIC8vIFRvIGJlIHJldXNlZAogICAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLCBmcmljdGlvbkVxdWF0aW9uUG9vbCk7CgogICAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgICBwcm9maWxlLm5hcnJvd3BoYXNlID0gcGVyZm9ybWFuY2UkMS5ub3coKSAtIHByb2ZpbGluZ1N0YXJ0OwogICAgICB9IC8vIExvb3Agb3ZlciBhbGwgY29sbGlzaW9ucwoKCiAgICAgIGlmIChkb1Byb2ZpbGluZykgewogICAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2UkMS5ub3coKTsKICAgICAgfSAvLyBBZGQgYWxsIGZyaWN0aW9uIGVxcwoKCiAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgc29sdmVyLmFkZEVxdWF0aW9uKHRoaXMuZnJpY3Rpb25FcXVhdGlvbnNbaV0pOwogICAgICB9CgogICAgICBjb25zdCBuY29udGFjdHMgPSBjb250YWN0cy5sZW5ndGg7CgogICAgICBmb3IgKGxldCBrID0gMDsgayAhPT0gbmNvbnRhY3RzOyBrKyspIHsKICAgICAgICAvLyBDdXJyZW50IGNvbnRhY3QKICAgICAgICBjb25zdCBjID0gY29udGFjdHNba107IC8vIEdldCBjdXJyZW50IGNvbGxpc2lvbiBpbmRlY2VzCgogICAgICAgIGNvbnN0IGJpID0gYy5iaTsKICAgICAgICBjb25zdCBiaiA9IGMuYmo7CiAgICAgICAgY29uc3Qgc2kgPSBjLnNpOwogICAgICAgIGNvbnN0IHNqID0gYy5zajsgLy8gR2V0IGNvbGxpc2lvbiBwcm9wZXJ0aWVzCgogICAgICAgIGxldCBjbTsKCiAgICAgICAgaWYgKGJpLm1hdGVyaWFsICYmIGJqLm1hdGVyaWFsKSB7CiAgICAgICAgICBjbSA9IHRoaXMuZ2V0Q29udGFjdE1hdGVyaWFsKGJpLm1hdGVyaWFsLCBiai5tYXRlcmlhbCkgfHwgdGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjbSA9IHRoaXMuZGVmYXVsdENvbnRhY3RNYXRlcmlhbDsKICAgICAgICB9IC8vIGMuZW5hYmxlZCA9IGJpLmNvbGxpc2lvblJlc3BvbnNlICYmIGJqLmNvbGxpc2lvblJlc3BvbnNlICYmIHNpLmNvbGxpc2lvblJlc3BvbnNlICYmIHNqLmNvbGxpc2lvblJlc3BvbnNlOwoKCiAgICAgICAgY20uZnJpY3Rpb247IC8vIGMucmVzdGl0dXRpb24gPSBjbS5yZXN0aXR1dGlvbjsKICAgICAgICAvLyBJZiBmcmljdGlvbiBvciByZXN0aXR1dGlvbiB3ZXJlIHNwZWNpZmllZCBpbiB0aGUgbWF0ZXJpYWwsIHVzZSB0aGVtCgogICAgICAgIGlmIChiaS5tYXRlcmlhbCAmJiBiai5tYXRlcmlhbCkgewogICAgICAgICAgaWYgKGJpLm1hdGVyaWFsLmZyaWN0aW9uID49IDAgJiYgYmoubWF0ZXJpYWwuZnJpY3Rpb24gPj0gMCkgewogICAgICAgICAgICBiaS5tYXRlcmlhbC5mcmljdGlvbiAqIGJqLm1hdGVyaWFsLmZyaWN0aW9uOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChiaS5tYXRlcmlhbC5yZXN0aXR1dGlvbiA+PSAwICYmIGJqLm1hdGVyaWFsLnJlc3RpdHV0aW9uID49IDApIHsKICAgICAgICAgICAgYy5yZXN0aXR1dGlvbiA9IGJpLm1hdGVyaWFsLnJlc3RpdHV0aW9uICogYmoubWF0ZXJpYWwucmVzdGl0dXRpb247CiAgICAgICAgICB9CiAgICAgICAgfSAvLyBjLnNldFNwb29rUGFyYW1zKAogICAgICAgIC8vICAgICAgICAgICBjbS5jb250YWN0RXF1YXRpb25TdGlmZm5lc3MsCiAgICAgICAgLy8gICAgICAgICAgIGNtLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb24sCiAgICAgICAgLy8gICAgICAgICAgIGR0CiAgICAgICAgLy8gICAgICAgKTsKCgogICAgICAgIHNvbHZlci5hZGRFcXVhdGlvbihjKTsgLy8gLy8gQWRkIGZyaWN0aW9uIGNvbnN0cmFpbnQgZXF1YXRpb24KICAgICAgICAvLyBpZihtdSA+IDApewogICAgICAgIC8vIAkvLyBDcmVhdGUgMiB0YW5nZW50IGVxdWF0aW9ucwogICAgICAgIC8vIAljb25zdCBtdWcgPSBtdSAqIGdub3JtOwogICAgICAgIC8vIAljb25zdCByZWR1Y2VkTWFzcyA9IChiaS5pbnZNYXNzICsgYmouaW52TWFzcyk7CiAgICAgICAgLy8gCWlmKHJlZHVjZWRNYXNzID4gMCl7CiAgICAgICAgLy8gCQlyZWR1Y2VkTWFzcyA9IDEvcmVkdWNlZE1hc3M7CiAgICAgICAgLy8gCX0KICAgICAgICAvLyAJY29uc3QgcG9vbCA9IGZyaWN0aW9uRXF1YXRpb25Qb29sOwogICAgICAgIC8vIAljb25zdCBjMSA9IHBvb2wubGVuZ3RoID8gcG9vbC5wb3AoKSA6IG5ldyBGcmljdGlvbkVxdWF0aW9uKGJpLGJqLG11ZypyZWR1Y2VkTWFzcyk7CiAgICAgICAgLy8gCWNvbnN0IGMyID0gcG9vbC5sZW5ndGggPyBwb29sLnBvcCgpIDogbmV3IEZyaWN0aW9uRXF1YXRpb24oYmksYmosbXVnKnJlZHVjZWRNYXNzKTsKICAgICAgICAvLyAJdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKGMxLCBjMik7CiAgICAgICAgLy8gCWMxLmJpID0gYzIuYmkgPSBiaTsKICAgICAgICAvLyAJYzEuYmogPSBjMi5iaiA9IGJqOwogICAgICAgIC8vIAljMS5taW5Gb3JjZSA9IGMyLm1pbkZvcmNlID0gLW11ZypyZWR1Y2VkTWFzczsKICAgICAgICAvLyAJYzEubWF4Rm9yY2UgPSBjMi5tYXhGb3JjZSA9IG11ZypyZWR1Y2VkTWFzczsKICAgICAgICAvLyAJLy8gQ29weSBvdmVyIHRoZSByZWxhdGl2ZSB2ZWN0b3JzCiAgICAgICAgLy8gCWMxLnJpLmNvcHkoYy5yaSk7CiAgICAgICAgLy8gCWMxLnJqLmNvcHkoYy5yaik7CiAgICAgICAgLy8gCWMyLnJpLmNvcHkoYy5yaSk7CiAgICAgICAgLy8gCWMyLnJqLmNvcHkoYy5yaik7CiAgICAgICAgLy8gCS8vIENvbnN0cnVjdCB0YW5nZW50cwogICAgICAgIC8vIAljLm5pLnRhbmdlbnRzKGMxLnQsIGMyLnQpOwogICAgICAgIC8vICAgICAgICAgICAvLyBTZXQgc3Bvb2sgcGFyYW1zCiAgICAgICAgLy8gICAgICAgICAgIGMxLnNldFNwb29rUGFyYW1zKGNtLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsIGNtLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLCBkdCk7CiAgICAgICAgLy8gICAgICAgICAgIGMyLnNldFNwb29rUGFyYW1zKGNtLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsIGNtLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLCBkdCk7CiAgICAgICAgLy8gICAgICAgICAgIGMxLmVuYWJsZWQgPSBjMi5lbmFibGVkID0gYy5lbmFibGVkOwogICAgICAgIC8vIAkvLyBBZGQgZXF1YXRpb25zIHRvIHNvbHZlcgogICAgICAgIC8vIAlzb2x2ZXIuYWRkRXF1YXRpb24oYzEpOwogICAgICAgIC8vIAlzb2x2ZXIuYWRkRXF1YXRpb24oYzIpOwogICAgICAgIC8vIH0KCiAgICAgICAgaWYgKGJpLmFsbG93U2xlZXAgJiYgYmkudHlwZSA9PT0gQm9keS5EWU5BTUlDICYmIGJpLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcgJiYgYmouc2xlZXBTdGF0ZSA9PT0gQm9keS5BV0FLRSAmJiBiai50eXBlICE9PSBCb2R5LlNUQVRJQykgewogICAgICAgICAgY29uc3Qgc3BlZWRTcXVhcmVkQiA9IGJqLnZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKSArIGJqLmFuZ3VsYXJWZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCk7CiAgICAgICAgICBjb25zdCBzcGVlZExpbWl0U3F1YXJlZEIgPSBiai5zbGVlcFNwZWVkTGltaXQgKiogMjsKCiAgICAgICAgICBpZiAoc3BlZWRTcXVhcmVkQiA+PSBzcGVlZExpbWl0U3F1YXJlZEIgKiAyKSB7CiAgICAgICAgICAgIGJpLndha2VVcEFmdGVyTmFycm93cGhhc2UgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGJqLmFsbG93U2xlZXAgJiYgYmoudHlwZSA9PT0gQm9keS5EWU5BTUlDICYmIGJqLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcgJiYgYmkuc2xlZXBTdGF0ZSA9PT0gQm9keS5BV0FLRSAmJiBiaS50eXBlICE9PSBCb2R5LlNUQVRJQykgewogICAgICAgICAgY29uc3Qgc3BlZWRTcXVhcmVkQSA9IGJpLnZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKSArIGJpLmFuZ3VsYXJWZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCk7CiAgICAgICAgICBjb25zdCBzcGVlZExpbWl0U3F1YXJlZEEgPSBiaS5zbGVlcFNwZWVkTGltaXQgKiogMjsKCiAgICAgICAgICBpZiAoc3BlZWRTcXVhcmVkQSA+PSBzcGVlZExpbWl0U3F1YXJlZEEgKiAyKSB7CiAgICAgICAgICAgIGJqLndha2VVcEFmdGVyTmFycm93cGhhc2UgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0gLy8gTm93IHdlIGtub3cgdGhhdCBpIGFuZCBqIGFyZSBpbiBjb250YWN0LiBTZXQgY29sbGlzaW9uIG1hdHJpeCBzdGF0ZQoKCiAgICAgICAgdGhpcy5jb2xsaXNpb25NYXRyaXguc2V0KGJpLCBiaiwgdHJ1ZSk7CgogICAgICAgIGlmICghdGhpcy5jb2xsaXNpb25NYXRyaXhQcmV2aW91cy5nZXQoYmksIGJqKSkgewogICAgICAgICAgLy8gRmlyc3QgY29udGFjdCEKICAgICAgICAgIC8vIFdlIHJldXNlIHRoZSBjb2xsaWRlRXZlbnQgb2JqZWN0LCBvdGhlcndpc2Ugd2Ugd2lsbCBlbmQgdXAgY3JlYXRpbmcgbmV3IG9iamVjdHMgZm9yIGVhY2ggbmV3IGNvbnRhY3QsIGV2ZW4gaWYgdGhlcmUncyBubyBldmVudCBsaXN0ZW5lciBhdHRhY2hlZC4KICAgICAgICAgIFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50LmJvZHkgPSBiajsKICAgICAgICAgIFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50LmNvbnRhY3QgPSBjOwogICAgICAgICAgYmkuZGlzcGF0Y2hFdmVudChXb3JsZF9zdGVwX2NvbGxpZGVFdmVudCk7CiAgICAgICAgICBXb3JsZF9zdGVwX2NvbGxpZGVFdmVudC5ib2R5ID0gYmk7CiAgICAgICAgICBiai5kaXNwYXRjaEV2ZW50KFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50KTsKICAgICAgICB9CgogICAgICAgIHRoaXMuYm9keU92ZXJsYXBLZWVwZXIuc2V0KGJpLmlkLCBiai5pZCk7CiAgICAgICAgdGhpcy5zaGFwZU92ZXJsYXBLZWVwZXIuc2V0KHNpLmlkLCBzai5pZCk7CiAgICAgIH0KCiAgICAgIHRoaXMuZW1pdENvbnRhY3RFdmVudHMoKTsKCiAgICAgIGlmIChkb1Byb2ZpbGluZykgewogICAgICAgIHByb2ZpbGUubWFrZUNvbnRhY3RDb25zdHJhaW50cyA9IHBlcmZvcm1hbmNlJDEubm93KCkgLSBwcm9maWxpbmdTdGFydDsKICAgICAgICBwcm9maWxpbmdTdGFydCA9IHBlcmZvcm1hbmNlJDEubm93KCk7CiAgICAgIH0gLy8gV2FrZSB1cCBib2RpZXMKCgogICAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTsKCiAgICAgICAgaWYgKGJpLndha2VVcEFmdGVyTmFycm93cGhhc2UpIHsKICAgICAgICAgIGJpLndha2VVcCgpOwogICAgICAgICAgYmkud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSAvLyBBZGQgdXNlci1hZGRlZCBjb25zdHJhaW50cwoKCiAgICAgIE5jb25zdHJhaW50cyA9IGNvbnN0cmFpbnRzLmxlbmd0aDsKCiAgICAgIGZvciAoaSA9IDA7IGkgIT09IE5jb25zdHJhaW50czsgaSsrKSB7CiAgICAgICAgY29uc3QgYyA9IGNvbnN0cmFpbnRzW2ldOwogICAgICAgIGMudXBkYXRlKCk7CgogICAgICAgIGZvciAobGV0IGogPSAwLCBOZXEgPSBjLmVxdWF0aW9ucy5sZW5ndGg7IGogIT09IE5lcTsgaisrKSB7CiAgICAgICAgICBjb25zdCBlcSA9IGMuZXF1YXRpb25zW2pdOwogICAgICAgICAgc29sdmVyLmFkZEVxdWF0aW9uKGVxKTsKICAgICAgICB9CiAgICAgIH0gLy8gU29sdmUgdGhlIGNvbnN0cmFpbmVkIHN5c3RlbQoKCiAgICAgIHNvbHZlci5zb2x2ZShkdCwgdGhpcyk7CgogICAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgICBwcm9maWxlLnNvbHZlID0gcGVyZm9ybWFuY2UkMS5ub3coKSAtIHByb2ZpbGluZ1N0YXJ0OwogICAgICB9IC8vIFJlbW92ZSBhbGwgY29udGFjdHMgZnJvbSBzb2x2ZXIKCgogICAgICBzb2x2ZXIucmVtb3ZlQWxsRXF1YXRpb25zKCk7IC8vIEFwcGx5IGRhbXBpbmcsIHNlZSBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvYnVsbGV0L2lzc3Vlcy9kZXRhaWw/aWQ9NzQgZm9yIGRldGFpbHMKCiAgICAgIGNvbnN0IHBvdyA9IE1hdGgucG93OwoKICAgICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07CgogICAgICAgIGlmIChiaS50eXBlICYgRFlOQU1JQykgewogICAgICAgICAgLy8gT25seSBmb3IgZHluYW1pYyBib2RpZXMKICAgICAgICAgIGNvbnN0IGxkID0gcG93KDEuMCAtIGJpLmxpbmVhckRhbXBpbmcsIGR0KTsKICAgICAgICAgIGNvbnN0IHYgPSBiaS52ZWxvY2l0eTsKICAgICAgICAgIHYuc2NhbGUobGQsIHYpOwogICAgICAgICAgY29uc3QgYXYgPSBiaS5hbmd1bGFyVmVsb2NpdHk7CgogICAgICAgICAgaWYgKGF2KSB7CiAgICAgICAgICAgIGNvbnN0IGFkID0gcG93KDEuMCAtIGJpLmFuZ3VsYXJEYW1waW5nLCBkdCk7CiAgICAgICAgICAgIGF2LnNjYWxlKGFkLCBhdik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoV29ybGRfc3RlcF9wcmVTdGVwRXZlbnQpOyAvLyBJbnZva2UgcHJlLXN0ZXAgY2FsbGJhY2tzCgogICAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTsKCiAgICAgICAgaWYgKGJpLnByZVN0ZXApIHsKICAgICAgICAgIGJpLnByZVN0ZXAuY2FsbChiaSk7CiAgICAgICAgfQogICAgICB9IC8vIExlYXAgZnJvZwogICAgICAvLyB2bmV3ID0gdiArIGgqZi9tCiAgICAgIC8vIHhuZXcgPSB4ICsgaCp2bmV3CgoKICAgICAgaWYgKGRvUHJvZmlsaW5nKSB7CiAgICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZSQxLm5vdygpOwogICAgICB9CgogICAgICBjb25zdCBzdGVwbnVtYmVyID0gdGhpcy5zdGVwbnVtYmVyOwogICAgICBjb25zdCBxdWF0Tm9ybWFsaXplID0gc3RlcG51bWJlciAlICh0aGlzLnF1YXROb3JtYWxpemVTa2lwICsgMSkgPT09IDA7CiAgICAgIGNvbnN0IHF1YXROb3JtYWxpemVGYXN0ID0gdGhpcy5xdWF0Tm9ybWFsaXplRmFzdDsKCiAgICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICAgIGJvZGllc1tpXS5pbnRlZ3JhdGUoZHQsIHF1YXROb3JtYWxpemUsIHF1YXROb3JtYWxpemVGYXN0KTsKICAgICAgfQoKICAgICAgdGhpcy5jbGVhckZvcmNlcygpOwogICAgICB0aGlzLmJyb2FkcGhhc2UuZGlydHkgPSB0cnVlOwoKICAgICAgaWYgKGRvUHJvZmlsaW5nKSB7CiAgICAgICAgcHJvZmlsZS5pbnRlZ3JhdGUgPSBwZXJmb3JtYW5jZSQxLm5vdygpIC0gcHJvZmlsaW5nU3RhcnQ7CiAgICAgIH0gLy8gVXBkYXRlIHdvcmxkIHRpbWUKCgogICAgICB0aGlzLnRpbWUgKz0gZHQ7CiAgICAgIHRoaXMuc3RlcG51bWJlciArPSAxOwogICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoV29ybGRfc3RlcF9wb3N0U3RlcEV2ZW50KTsgLy8gSW52b2tlIHBvc3Qtc3RlcCBjYWxsYmFja3MKCiAgICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldOwogICAgICAgIGNvbnN0IHBvc3RTdGVwID0gYmkucG9zdFN0ZXA7CgogICAgICAgIGlmIChwb3N0U3RlcCkgewogICAgICAgICAgcG9zdFN0ZXAuY2FsbChiaSk7CiAgICAgICAgfQogICAgICB9IC8vIFNsZWVwaW5nIHVwZGF0ZQoKCiAgICAgIGxldCBoYXNBY3RpdmVCb2RpZXMgPSB0cnVlOwoKICAgICAgaWYgKHRoaXMuYWxsb3dTbGVlcCkgewogICAgICAgIGhhc0FjdGl2ZUJvZGllcyA9IGZhbHNlOwoKICAgICAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldOwogICAgICAgICAgYmkuc2xlZXBUaWNrKHRoaXMudGltZSk7CgogICAgICAgICAgaWYgKGJpLnNsZWVwU3RhdGUgIT09IEJvZHkuU0xFRVBJTkcpIHsKICAgICAgICAgICAgaGFzQWN0aXZlQm9kaWVzID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuaGFzQWN0aXZlQm9kaWVzID0gaGFzQWN0aXZlQm9kaWVzOwogICAgfQogICAgLyoqCiAgICAgKiBTZXRzIGFsbCBib2R5IGZvcmNlcyBpbiB0aGUgd29ybGQgdG8gemVyby4KICAgICAqIEBtZXRob2QgY2xlYXJGb3JjZXMKICAgICAqLwoKCiAgICBjbGVhckZvcmNlcygpIHsKICAgICAgY29uc3QgYm9kaWVzID0gdGhpcy5ib2RpZXM7CiAgICAgIGNvbnN0IE4gPSBib2RpZXMubGVuZ3RoOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICAgIGNvbnN0IGIgPSBib2RpZXNbaV07CiAgICAgICAgYi5mb3JjZTsKICAgICAgICBiLnRvcnF1ZTsKICAgICAgICBiLmZvcmNlLnNldCgwLCAwLCAwKTsKICAgICAgICBiLnRvcnF1ZS5zZXQoMCwgMCwgMCk7CiAgICAgIH0KICAgIH0KCiAgfSAvLyBUZW1wIHN0dWZmCgoKICBuZXcgQUFCQigpOwogIGNvbnN0IHRtcFJheSQxID0gbmV3IFJheSgpOyAvLyBwZXJmb3JtYW5jZS5ub3coKSBmYWxsYmFjayBvbiBEYXRlLm5vdygpCgogIGNvbnN0IHBlcmZvcm1hbmNlJDEgPSBnbG9iYWxUaGlzLnBlcmZvcm1hbmNlIHx8IHt9OwoKICBpZiAoIXBlcmZvcm1hbmNlJDEubm93KSB7CiAgICBsZXQgbm93T2Zmc2V0ID0gRGF0ZS5ub3coKTsKCiAgICBpZiAocGVyZm9ybWFuY2UkMS50aW1pbmcgJiYgcGVyZm9ybWFuY2UkMS50aW1pbmcubmF2aWdhdGlvblN0YXJ0KSB7CiAgICAgIG5vd09mZnNldCA9IHBlcmZvcm1hbmNlJDEudGltaW5nLm5hdmlnYXRpb25TdGFydDsKICAgIH0KCiAgICBwZXJmb3JtYW5jZSQxLm5vdyA9ICgpID0+IERhdGUubm93KCkgLSBub3dPZmZzZXQ7CiAgfSAvLyBSZXVzYWJsZSBldmVudCBvYmplY3RzIHRvIHNhdmUgbWVtb3J5LgoKCiAgY29uc3QgV29ybGRfc3RlcF9wb3N0U3RlcEV2ZW50ID0gewogICAgdHlwZTogJ3Bvc3RTdGVwJwogIH07IC8vIERpc3BhdGNoZWQgYmVmb3JlIHRoZSB3b3JsZCBzdGVwcyBmb3J3YXJkIGluIHRpbWUuCgogIGNvbnN0IFdvcmxkX3N0ZXBfcHJlU3RlcEV2ZW50ID0gewogICAgdHlwZTogJ3ByZVN0ZXAnCiAgfTsKICBjb25zdCBXb3JsZF9zdGVwX2NvbGxpZGVFdmVudCA9IHsKICAgIHR5cGU6IEJvZHkuQ09MTElERV9FVkVOVF9OQU1FLAogICAgYm9keTogbnVsbCwKICAgIGNvbnRhY3Q6IG51bGwKICB9OyAvLyBQb29scyBmb3IgdW51c2VkIG9iamVjdHMKCiAgY29uc3QgV29ybGRfc3RlcF9vbGRDb250YWN0cyA9IFtdOwogIGNvbnN0IFdvcmxkX3N0ZXBfZnJpY3Rpb25FcXVhdGlvblBvb2wgPSBbXTsgLy8gUmV1c2FibGUgYXJyYXlzIGZvciBjb2xsaXNpb24gcGFpcnMKCiAgY29uc3QgV29ybGRfc3RlcF9wMSA9IFtdOwogIGNvbnN0IFdvcmxkX3N0ZXBfcDIgPSBbXTsKCiAgV29ybGQucHJvdG90eXBlLmVtaXRDb250YWN0RXZlbnRzID0gKCgpID0+IHsKICAgIGNvbnN0IGFkZGl0aW9ucyA9IFtdOwogICAgY29uc3QgcmVtb3ZhbHMgPSBbXTsKICAgIGNvbnN0IGJlZ2luQ29udGFjdEV2ZW50ID0gewogICAgICB0eXBlOiAnYmVnaW5Db250YWN0JywKICAgICAgYm9keUE6IG51bGwsCiAgICAgIGJvZHlCOiBudWxsCiAgICB9OwogICAgY29uc3QgZW5kQ29udGFjdEV2ZW50ID0gewogICAgICB0eXBlOiAnZW5kQ29udGFjdCcsCiAgICAgIGJvZHlBOiBudWxsLAogICAgICBib2R5QjogbnVsbAogICAgfTsKICAgIGNvbnN0IGJlZ2luU2hhcGVDb250YWN0RXZlbnQgPSB7CiAgICAgIHR5cGU6ICdiZWdpblNoYXBlQ29udGFjdCcsCiAgICAgIGJvZHlBOiBudWxsLAogICAgICBib2R5QjogbnVsbCwKICAgICAgc2hhcGVBOiBudWxsLAogICAgICBzaGFwZUI6IG51bGwKICAgIH07CiAgICBjb25zdCBlbmRTaGFwZUNvbnRhY3RFdmVudCA9IHsKICAgICAgdHlwZTogJ2VuZFNoYXBlQ29udGFjdCcsCiAgICAgIGJvZHlBOiBudWxsLAogICAgICBib2R5QjogbnVsbCwKICAgICAgc2hhcGVBOiBudWxsLAogICAgICBzaGFwZUI6IG51bGwKICAgIH07CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICBjb25zdCBoYXNCZWdpbkNvbnRhY3QgPSB0aGlzLmhhc0FueUV2ZW50TGlzdGVuZXIoJ2JlZ2luQ29udGFjdCcpOwogICAgICBjb25zdCBoYXNFbmRDb250YWN0ID0gdGhpcy5oYXNBbnlFdmVudExpc3RlbmVyKCdlbmRDb250YWN0Jyk7CgogICAgICBpZiAoaGFzQmVnaW5Db250YWN0IHx8IGhhc0VuZENvbnRhY3QpIHsKICAgICAgICB0aGlzLmJvZHlPdmVybGFwS2VlcGVyLmdldERpZmYoYWRkaXRpb25zLCByZW1vdmFscyk7CiAgICAgIH0KCiAgICAgIGlmIChoYXNCZWdpbkNvbnRhY3QpIHsKICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGFkZGl0aW9ucy5sZW5ndGg7IGkgPCBsOyBpICs9IDIpIHsKICAgICAgICAgIGJlZ2luQ29udGFjdEV2ZW50LmJvZHlBID0gdGhpcy5nZXRCb2R5QnlJZChhZGRpdGlvbnNbaV0pOwogICAgICAgICAgYmVnaW5Db250YWN0RXZlbnQuYm9keUIgPSB0aGlzLmdldEJvZHlCeUlkKGFkZGl0aW9uc1tpICsgMV0pOwogICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGJlZ2luQ29udGFjdEV2ZW50KTsKICAgICAgICB9CgogICAgICAgIGJlZ2luQ29udGFjdEV2ZW50LmJvZHlBID0gYmVnaW5Db250YWN0RXZlbnQuYm9keUIgPSBudWxsOwogICAgICB9CgogICAgICBpZiAoaGFzRW5kQ29udGFjdCkgewogICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gcmVtb3ZhbHMubGVuZ3RoOyBpIDwgbDsgaSArPSAyKSB7CiAgICAgICAgICBlbmRDb250YWN0RXZlbnQuYm9keUEgPSB0aGlzLmdldEJvZHlCeUlkKHJlbW92YWxzW2ldKTsKICAgICAgICAgIGVuZENvbnRhY3RFdmVudC5ib2R5QiA9IHRoaXMuZ2V0Qm9keUJ5SWQocmVtb3ZhbHNbaSArIDFdKTsKICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChlbmRDb250YWN0RXZlbnQpOwogICAgICAgIH0KCiAgICAgICAgZW5kQ29udGFjdEV2ZW50LmJvZHlBID0gZW5kQ29udGFjdEV2ZW50LmJvZHlCID0gbnVsbDsKICAgICAgfQoKICAgICAgYWRkaXRpb25zLmxlbmd0aCA9IHJlbW92YWxzLmxlbmd0aCA9IDA7CiAgICAgIGNvbnN0IGhhc0JlZ2luU2hhcGVDb250YWN0ID0gdGhpcy5oYXNBbnlFdmVudExpc3RlbmVyKCdiZWdpblNoYXBlQ29udGFjdCcpOwogICAgICBjb25zdCBoYXNFbmRTaGFwZUNvbnRhY3QgPSB0aGlzLmhhc0FueUV2ZW50TGlzdGVuZXIoJ2VuZFNoYXBlQ29udGFjdCcpOwoKICAgICAgaWYgKGhhc0JlZ2luU2hhcGVDb250YWN0IHx8IGhhc0VuZFNoYXBlQ29udGFjdCkgewogICAgICAgIHRoaXMuc2hhcGVPdmVybGFwS2VlcGVyLmdldERpZmYoYWRkaXRpb25zLCByZW1vdmFscyk7CiAgICAgIH0KCiAgICAgIGlmIChoYXNCZWdpblNoYXBlQ29udGFjdCkgewogICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gYWRkaXRpb25zLmxlbmd0aDsgaSA8IGw7IGkgKz0gMikgewogICAgICAgICAgY29uc3Qgc2hhcGVBID0gdGhpcy5nZXRTaGFwZUJ5SWQoYWRkaXRpb25zW2ldKTsKICAgICAgICAgIGNvbnN0IHNoYXBlQiA9IHRoaXMuZ2V0U2hhcGVCeUlkKGFkZGl0aW9uc1tpICsgMV0pOwogICAgICAgICAgYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5zaGFwZUEgPSBzaGFwZUE7CiAgICAgICAgICBiZWdpblNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQiA9IHNoYXBlQjsKICAgICAgICAgIGJlZ2luU2hhcGVDb250YWN0RXZlbnQuYm9keUEgPSBzaGFwZUEuYm9keTsKICAgICAgICAgIGJlZ2luU2hhcGVDb250YWN0RXZlbnQuYm9keUIgPSBzaGFwZUIuYm9keTsKICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChiZWdpblNoYXBlQ29udGFjdEV2ZW50KTsKICAgICAgICB9CgogICAgICAgIGJlZ2luU2hhcGVDb250YWN0RXZlbnQuYm9keUEgPSBiZWdpblNoYXBlQ29udGFjdEV2ZW50LmJvZHlCID0gYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5zaGFwZUEgPSBiZWdpblNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQiA9IG51bGw7CiAgICAgIH0KCiAgICAgIGlmIChoYXNFbmRTaGFwZUNvbnRhY3QpIHsKICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHJlbW92YWxzLmxlbmd0aDsgaSA8IGw7IGkgKz0gMikgewogICAgICAgICAgY29uc3Qgc2hhcGVBID0gdGhpcy5nZXRTaGFwZUJ5SWQocmVtb3ZhbHNbaV0pOwogICAgICAgICAgY29uc3Qgc2hhcGVCID0gdGhpcy5nZXRTaGFwZUJ5SWQocmVtb3ZhbHNbaSArIDFdKTsKICAgICAgICAgIGVuZFNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQSA9IHNoYXBlQTsKICAgICAgICAgIGVuZFNoYXBlQ29udGFjdEV2ZW50LnNoYXBlQiA9IHNoYXBlQjsKICAgICAgICAgIGVuZFNoYXBlQ29udGFjdEV2ZW50LmJvZHlBID0gc2hhcGVBLmJvZHk7CiAgICAgICAgICBlbmRTaGFwZUNvbnRhY3RFdmVudC5ib2R5QiA9IHNoYXBlQi5ib2R5OwogICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGVuZFNoYXBlQ29udGFjdEV2ZW50KTsKICAgICAgICB9CgogICAgICAgIGVuZFNoYXBlQ29udGFjdEV2ZW50LmJvZHlBID0gZW5kU2hhcGVDb250YWN0RXZlbnQuYm9keUIgPSBlbmRTaGFwZUNvbnRhY3RFdmVudC5zaGFwZUEgPSBlbmRTaGFwZUNvbnRhY3RFdmVudC5zaGFwZUIgPSBudWxsOwogICAgICB9CiAgICB9OwogIH0pKCk7CgogIGxldCBib2RpZXMgPSB7fTsKICBjb25zdCB2ZWhpY2xlcyA9IHt9OwogIGNvbnN0IHNwcmluZ3MgPSB7fTsKICBjb25zdCBzcHJpbmdJbnN0YW5jZXMgPSB7fTsKICBjb25zdCByYXlzID0ge307CiAgY29uc3Qgd29ybGQgPSBuZXcgV29ybGQoKTsKICBjb25zdCBjb25maWcgPSB7CiAgICBzdGVwOiAxIC8gNjAKICB9OwogIGNvbnN0IHN1YnNjcmlwdGlvbnMgPSB7fTsKICBjb25zdCB0ZW1wVmVjdG9yID0gbmV3IFZlYzMoKTsKCiAgZnVuY3Rpb24gY3JlYXRlU2hhcGUodHlwZSwgYXJncykgewogICAgc3dpdGNoICh0eXBlKSB7CiAgICAgIGNhc2UgJ0JveCc6CiAgICAgICAgcmV0dXJuIG5ldyBCb3gobmV3IFZlYzMoLi4uYXJncy5tYXAodiA9PiB2IC8gMikpKTsKICAgICAgLy8gZXh0ZW50cyA9PiBoYWxmRXh0ZW50cwoKICAgICAgY2FzZSAnQ29udmV4UG9seWhlZHJvbic6CiAgICAgICAgY29uc3QgW3YsIGYsIG5dID0gYXJnczsKICAgICAgICByZXR1cm4gbmV3IENvbnZleFBvbHloZWRyb24oewogICAgICAgICAgdmVydGljZXM6IHYubWFwKChbeCwgeSwgel0pID0+IG5ldyBWZWMzKHgsIHksIHopKSwKICAgICAgICAgIG5vcm1hbHM6IG4gPyBuLm1hcCgoW3gsIHksIHpdKSA9PiBuZXcgVmVjMyh4LCB5LCB6KSkgOiBudWxsLAogICAgICAgICAgZmFjZXM6IGYKICAgICAgICB9KTsKCiAgICAgIGNhc2UgJ0N5bGluZGVyJzoKICAgICAgICByZXR1cm4gbmV3IEN5bGluZGVyKC4uLmFyZ3MpOwogICAgICAvLyBbIHJhZGl1c1RvcCwgcmFkaXVzQm90dG9tLCBoZWlnaHQsIG51bVNlZ21lbnRzIF0gPSBhcmdzCgogICAgICBjYXNlICdIZWlnaHRmaWVsZCc6CiAgICAgICAgcmV0dXJuIG5ldyBIZWlnaHRmaWVsZCguLi5hcmdzKTsKICAgICAgLy8gWyBBcnJheSBkYXRhLCBvcHRpb25zOiB7bWluVmFsdWUsIG1heFZhbHVlLCBlbGVtZW50U2l6ZX0gIF0gPSBhcmdzCgogICAgICBjYXNlICdQYXJ0aWNsZSc6CiAgICAgICAgcmV0dXJuIG5ldyBQYXJ0aWNsZSgpOwogICAgICAvLyBubyBhcmdzCgogICAgICBjYXNlICdQbGFuZSc6CiAgICAgICAgcmV0dXJuIG5ldyBQbGFuZSgpOwogICAgICAvLyBubyBhcmdzLCBpbmZpbml0ZSB4IGFuZCB5CgogICAgICBjYXNlICdTcGhlcmUnOgogICAgICAgIHJldHVybiBuZXcgU3BoZXJlKC4uLmFyZ3MpOwogICAgICAvLyBbcmFkaXVzXSA9IGFyZ3MKCiAgICAgIGNhc2UgJ1RyaW1lc2gnOgogICAgICAgIHJldHVybiBuZXcgVHJpbWVzaCguLi5hcmdzKTsKICAgICAgLy8gW3ZlcnRpY2VzLCBpbmRpY2VzXSA9IGFyZ3MKICAgIH0KICB9CgogIGxldCBib2RpZXNOZWVkU3luY2luZyA9IGZhbHNlOwoKICBmdW5jdGlvbiBzeW5jQm9kaWVzKCkgewogICAgYm9kaWVzTmVlZFN5bmNpbmcgPSB0cnVlOwogICAgYm9kaWVzID0gd29ybGQuYm9kaWVzLnJlZHVjZSgoYWNjLCBib2R5KSA9PiAoeyAuLi5hY2MsCiAgICAgIFtib2R5LnV1aWRdOiBib2R5CiAgICB9KSwge30pOwogIH0KCiAgbGV0IGxhc3RDYWxsVGltZTsKCiAgc2VsZi5vbm1lc3NhZ2UgPSBlID0+IHsKICAgIGNvbnN0IHsKICAgICAgb3AsCiAgICAgIHV1aWQsCiAgICAgIHR5cGUsCiAgICAgIHBvc2l0aW9ucywKICAgICAgcXVhdGVybmlvbnMsCiAgICAgIHByb3BzCiAgICB9ID0gZS5kYXRhOwoKICAgIHN3aXRjaCAob3ApIHsKICAgICAgY2FzZSAnaW5pdCc6CiAgICAgICAgewogICAgICAgICAgY29uc3QgewogICAgICAgICAgICBncmF2aXR5LAogICAgICAgICAgICB0b2xlcmFuY2UsCiAgICAgICAgICAgIHN0ZXAsCiAgICAgICAgICAgIGl0ZXJhdGlvbnMsCiAgICAgICAgICAgIGFsbG93U2xlZXAsCiAgICAgICAgICAgIGJyb2FkcGhhc2UsCiAgICAgICAgICAgIGF4aXNJbmRleCwKICAgICAgICAgICAgZGVmYXVsdENvbnRhY3RNYXRlcmlhbAogICAgICAgICAgfSA9IHByb3BzOwogICAgICAgICAgY29uc3QgYnJvYWRwaGFzZXMgPSB7CiAgICAgICAgICAgIE5haXZlQnJvYWRwaGFzZSwKICAgICAgICAgICAgU0FQQnJvYWRwaGFzZQogICAgICAgICAgfTsKICAgICAgICAgIHdvcmxkLmFsbG93U2xlZXAgPSBhbGxvd1NsZWVwOwogICAgICAgICAgd29ybGQuZ3Jhdml0eS5zZXQoZ3Jhdml0eVswXSwgZ3Jhdml0eVsxXSwgZ3Jhdml0eVsyXSk7CiAgICAgICAgICB3b3JsZC5zb2x2ZXIudG9sZXJhbmNlID0gdG9sZXJhbmNlOwogICAgICAgICAgd29ybGQuc29sdmVyLml0ZXJhdGlvbnMgPSBpdGVyYXRpb25zOwogICAgICAgICAgd29ybGQuYnJvYWRwaGFzZSA9IG5ldyAoYnJvYWRwaGFzZXNbYnJvYWRwaGFzZSArICdCcm9hZHBoYXNlJ10gfHwgTmFpdmVCcm9hZHBoYXNlKSh3b3JsZCk7CiAgICAgICAgICB3b3JsZC5icm9hZHBoYXNlLmF4aXNJbmRleCA9IGF4aXNJbmRleCAhPSBudWxsID8gYXhpc0luZGV4IDogMDsKICAgICAgICAgIE9iamVjdC5hc3NpZ24od29ybGQuZGVmYXVsdENvbnRhY3RNYXRlcmlhbCwgZGVmYXVsdENvbnRhY3RNYXRlcmlhbCk7CiAgICAgICAgICBjb25maWcuc3RlcCA9IHN0ZXA7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICBjYXNlICdzdGVwJzoKICAgICAgICB7CiAgICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKSAvIDEwMDA7CgogICAgICAgICAgaWYgKCFsYXN0Q2FsbFRpbWUpIHsKICAgICAgICAgICAgd29ybGQuc3RlcChjb25maWcuc3RlcCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zdCB0aW1lU2luY2VMYXN0Q2FsbCA9IG5vdyAtIGxhc3RDYWxsVGltZTsKICAgICAgICAgICAgd29ybGQuc3RlcChjb25maWcuc3RlcCwgdGltZVNpbmNlTGFzdENhbGwpOwogICAgICAgICAgfQoKICAgICAgICAgIGxhc3RDYWxsVGltZSA9IG5vdzsKICAgICAgICAgIGNvbnN0IG51bWJlck9mQm9kaWVzID0gd29ybGQuYm9kaWVzLmxlbmd0aDsKCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bWJlck9mQm9kaWVzOyBpKyspIHsKICAgICAgICAgICAgbGV0IGIgPSB3b3JsZC5ib2RpZXNbaV0sCiAgICAgICAgICAgICAgICBwID0gYi5wb3NpdGlvbiwKICAgICAgICAgICAgICAgIHEgPSBiLnF1YXRlcm5pb247CiAgICAgICAgICAgIHBvc2l0aW9uc1szICogaSArIDBdID0gcC54OwogICAgICAgICAgICBwb3NpdGlvbnNbMyAqIGkgKyAxXSA9IHAueTsKICAgICAgICAgICAgcG9zaXRpb25zWzMgKiBpICsgMl0gPSBwLno7CiAgICAgICAgICAgIHF1YXRlcm5pb25zWzQgKiBpICsgMF0gPSBxLng7CiAgICAgICAgICAgIHF1YXRlcm5pb25zWzQgKiBpICsgMV0gPSBxLnk7CiAgICAgICAgICAgIHF1YXRlcm5pb25zWzQgKiBpICsgMl0gPSBxLno7CiAgICAgICAgICAgIHF1YXRlcm5pb25zWzQgKiBpICsgM10gPSBxLnc7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc3Qgb2JzZXJ2YXRpb25zID0gW107CgogICAgICAgICAgZm9yIChjb25zdCBpZCBvZiBPYmplY3Qua2V5cyhzdWJzY3JpcHRpb25zKSkgewogICAgICAgICAgICBjb25zdCBbdXVpZCwgdHlwZV0gPSBzdWJzY3JpcHRpb25zW2lkXTsKICAgICAgICAgICAgbGV0IHZhbHVlID0gYm9kaWVzW3V1aWRdW3R5cGVdOwogICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBWZWMzKSB2YWx1ZSA9IHZhbHVlLnRvQXJyYXkoKTtlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFF1YXRlcm5pb24pIHsKICAgICAgICAgICAgICB2YWx1ZS50b0V1bGVyKHRlbXBWZWN0b3IpOwogICAgICAgICAgICAgIHZhbHVlID0gdGVtcFZlY3Rvci50b0FycmF5KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgb2JzZXJ2YXRpb25zLnB1c2goW2lkLCB2YWx1ZV0pOwogICAgICAgICAgfQoKICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB7CiAgICAgICAgICAgIG9wOiAnZnJhbWUnLAogICAgICAgICAgICBwb3NpdGlvbnMsCiAgICAgICAgICAgIHF1YXRlcm5pb25zLAogICAgICAgICAgICBvYnNlcnZhdGlvbnMsCiAgICAgICAgICAgIGFjdGl2ZTogd29ybGQuaGFzQWN0aXZlQm9kaWVzCiAgICAgICAgICB9OwoKICAgICAgICAgIGlmIChib2RpZXNOZWVkU3luY2luZykgewogICAgICAgICAgICBtZXNzYWdlLmJvZGllcyA9IHdvcmxkLmJvZGllcy5tYXAoYm9keSA9PiBib2R5LnV1aWQpOwogICAgICAgICAgICBib2RpZXNOZWVkU3luY2luZyA9IGZhbHNlOwogICAgICAgICAgfQoKICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2UobWVzc2FnZSwgW3Bvc2l0aW9ucy5idWZmZXIsIHF1YXRlcm5pb25zLmJ1ZmZlcl0pOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgY2FzZSAnYWRkQm9kaWVzJzoKICAgICAgICB7CiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHV1aWQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgY29uc3QgewogICAgICAgICAgICAgIGFyZ3MgPSBbXSwKICAgICAgICAgICAgICBwb3NpdGlvbiA9IFswLCAwLCAwXSwKICAgICAgICAgICAgICByb3RhdGlvbiA9IFswLCAwLCAwXSwKICAgICAgICAgICAgICBzY2FsZSA9IFsxLCAxLCAxXSwKICAgICAgICAgICAgICB2ZWxvY2l0eSA9IFswLCAwLCAwXSwKICAgICAgICAgICAgICBhbmd1bGFyVmVsb2NpdHkgPSBbMCwgMCwgMF0sCiAgICAgICAgICAgICAgbGluZWFyRmFjdG9yID0gWzEsIDEsIDFdLAogICAgICAgICAgICAgIGFuZ3VsYXJGYWN0b3IgPSBbMSwgMSwgMV0sCiAgICAgICAgICAgICAgdHlwZTogYm9keVR5cGUsCiAgICAgICAgICAgICAgbWFzcywKICAgICAgICAgICAgICBtYXRlcmlhbCwKICAgICAgICAgICAgICBzaGFwZXMsCiAgICAgICAgICAgICAgb25Db2xsaWRlLAogICAgICAgICAgICAgIGNvbGxpc2lvblJlc3BvbnNlLAogICAgICAgICAgICAgIC4uLmV4dHJhCiAgICAgICAgICAgIH0gPSBwcm9wc1tpXTsKICAgICAgICAgICAgY29uc3QgYm9keSA9IG5ldyBCb2R5KHsgLi4uZXh0cmEsCiAgICAgICAgICAgICAgbWFzczogYm9keVR5cGUgPT09ICdTdGF0aWMnID8gMCA6IG1hc3MsCiAgICAgICAgICAgICAgdHlwZTogYm9keVR5cGUgPyBCb2R5W2JvZHlUeXBlLnRvVXBwZXJDYXNlKCldIDogdW5kZWZpbmVkLAogICAgICAgICAgICAgIG1hdGVyaWFsOiBtYXRlcmlhbCA/IG5ldyBNYXRlcmlhbChtYXRlcmlhbCkgOiB1bmRlZmluZWQKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGJvZHkudXVpZCA9IHV1aWRbaV07CgogICAgICAgICAgICBpZiAoY29sbGlzaW9uUmVzcG9uc2UgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIGJvZHkuY29sbGlzaW9uUmVzcG9uc2UgPSBjb2xsaXNpb25SZXNwb25zZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdDb21wb3VuZCcpIHsKICAgICAgICAgICAgICBzaGFwZXMuZm9yRWFjaCgoewogICAgICAgICAgICAgICAgdHlwZSwKICAgICAgICAgICAgICAgIGFyZ3MsCiAgICAgICAgICAgICAgICBwb3NpdGlvbiwKICAgICAgICAgICAgICAgIHJvdGF0aW9uLAogICAgICAgICAgICAgICAgbWF0ZXJpYWwsCiAgICAgICAgICAgICAgICAuLi5leHRyYQogICAgICAgICAgICAgIH0pID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IHNoYXBlQm9keSA9IGJvZHkuYWRkU2hhcGUoY3JlYXRlU2hhcGUodHlwZSwgYXJncyksIHBvc2l0aW9uID8gbmV3IFZlYzMoLi4ucG9zaXRpb24pIDogdW5kZWZpbmVkLCByb3RhdGlvbiA/IG5ldyBRdWF0ZXJuaW9uKCkuc2V0RnJvbUV1bGVyKC4uLnJvdGF0aW9uKSA6IHVuZGVmaW5lZCk7CiAgICAgICAgICAgICAgICBpZiAobWF0ZXJpYWwpIHNoYXBlQm9keS5tYXRlcmlhbCA9IG5ldyBNYXRlcmlhbChtYXRlcmlhbCk7CiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHNoYXBlQm9keSwgZXh0cmEpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGJvZHkuYWRkU2hhcGUoY3JlYXRlU2hhcGUodHlwZSwgYXJncykpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBib2R5LnBvc2l0aW9uLnNldChwb3NpdGlvblswXSwgcG9zaXRpb25bMV0sIHBvc2l0aW9uWzJdKTsKICAgICAgICAgICAgYm9keS5xdWF0ZXJuaW9uLnNldEZyb21FdWxlcihyb3RhdGlvblswXSwgcm90YXRpb25bMV0sIHJvdGF0aW9uWzJdKTsKICAgICAgICAgICAgYm9keS52ZWxvY2l0eS5zZXQodmVsb2NpdHlbMF0sIHZlbG9jaXR5WzFdLCB2ZWxvY2l0eVsyXSk7CiAgICAgICAgICAgIGJvZHkuYW5ndWxhclZlbG9jaXR5LnNldChhbmd1bGFyVmVsb2NpdHlbMF0sIGFuZ3VsYXJWZWxvY2l0eVsxXSwgYW5ndWxhclZlbG9jaXR5WzJdKTsKICAgICAgICAgICAgYm9keS5saW5lYXJGYWN0b3Iuc2V0KGxpbmVhckZhY3RvclswXSwgbGluZWFyRmFjdG9yWzFdLCBsaW5lYXJGYWN0b3JbMl0pOwogICAgICAgICAgICBib2R5LmFuZ3VsYXJGYWN0b3Iuc2V0KGFuZ3VsYXJGYWN0b3JbMF0sIGFuZ3VsYXJGYWN0b3JbMV0sIGFuZ3VsYXJGYWN0b3JbMl0pOwogICAgICAgICAgICB3b3JsZC5hZGRCb2R5KGJvZHkpOwogICAgICAgICAgICBpZiAob25Db2xsaWRlKSBib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbGxpZGUnLCAoewogICAgICAgICAgICAgIHR5cGUsCiAgICAgICAgICAgICAgYm9keSwKICAgICAgICAgICAgICB0YXJnZXQsCiAgICAgICAgICAgICAgY29udGFjdAogICAgICAgICAgICB9KSA9PiB7CiAgICAgICAgICAgICAgY29uc3QgewogICAgICAgICAgICAgICAgbmksCiAgICAgICAgICAgICAgICByaSwKICAgICAgICAgICAgICAgIHJqCiAgICAgICAgICAgICAgfSA9IGNvbnRhY3Q7CiAgICAgICAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgICBvcDogJ2V2ZW50JywKICAgICAgICAgICAgICAgIHR5cGUsCiAgICAgICAgICAgICAgICBib2R5OiBib2R5LnV1aWQsCiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldC51dWlkLAogICAgICAgICAgICAgICAgY29udGFjdDogewogICAgICAgICAgICAgICAgICBuaTogbmkudG9BcnJheSgpLAogICAgICAgICAgICAgICAgICByaTogcmkudG9BcnJheSgpLAogICAgICAgICAgICAgICAgICByajogcmoudG9BcnJheSgpLAogICAgICAgICAgICAgICAgICBpbXBhY3RWZWxvY2l0eTogY29udGFjdC5nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsKCkKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBjb2xsaXNpb25GaWx0ZXJzOiB7CiAgICAgICAgICAgICAgICAgIGJvZHlGaWx0ZXJHcm91cDogYm9keS5jb2xsaXNpb25GaWx0ZXJHcm91cCwKICAgICAgICAgICAgICAgICAgYm9keUZpbHRlck1hc2s6IGJvZHkuY29sbGlzaW9uRmlsdGVyTWFzaywKICAgICAgICAgICAgICAgICAgdGFyZ2V0RmlsdGVyR3JvdXA6IHRhcmdldC5jb2xsaXNpb25GaWx0ZXJHcm91cCwKICAgICAgICAgICAgICAgICAgdGFyZ2V0RmlsdGVyTWFzazogdGFyZ2V0LmNvbGxpc2lvbkZpbHRlck1hc2sKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgc3luY0JvZGllcygpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgY2FzZSAncmVtb3ZlQm9kaWVzJzoKICAgICAgICB7CiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHV1aWQubGVuZ3RoOyBpKyspIHdvcmxkLnJlbW92ZUJvZHkoYm9kaWVzW3V1aWRbaV1dKTsKCiAgICAgICAgICBzeW5jQm9kaWVzKCk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICBjYXNlICdzdWJzY3JpYmUnOgogICAgICAgIHsKICAgICAgICAgIGNvbnN0IHsKICAgICAgICAgICAgaWQsCiAgICAgICAgICAgIHR5cGUKICAgICAgICAgIH0gPSBwcm9wczsKICAgICAgICAgIHN1YnNjcmlwdGlvbnNbaWRdID0gW3V1aWQsIHR5cGVdOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgY2FzZSAndW5zdWJzY3JpYmUnOgogICAgICAgIHsKICAgICAgICAgIGRlbGV0ZSBzdWJzY3JpcHRpb25zW3Byb3BzXTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgIGNhc2UgJ3NldFBvc2l0aW9uJzoKICAgICAgICBib2RpZXNbdXVpZF0ucG9zaXRpb24uc2V0KHByb3BzWzBdLCBwcm9wc1sxXSwgcHJvcHNbMl0pOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnc2V0UXVhdGVybmlvbic6CiAgICAgICAgYm9kaWVzW3V1aWRdLnF1YXRlcm5pb24uc2V0RnJvbUV1bGVyKHByb3BzWzBdLCBwcm9wc1sxXSwgcHJvcHNbMl0pOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnc2V0VmVsb2NpdHknOgogICAgICAgIGJvZGllc1t1dWlkXS52ZWxvY2l0eS5zZXQocHJvcHNbMF0sIHByb3BzWzFdLCBwcm9wc1syXSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICdzZXRBbmd1bGFyVmVsb2NpdHknOgogICAgICAgIGJvZGllc1t1dWlkXS5hbmd1bGFyVmVsb2NpdHkuc2V0KHByb3BzWzBdLCBwcm9wc1sxXSwgcHJvcHNbMl0pOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnc2V0TGluZWFyRmFjdG9yJzoKICAgICAgICBib2RpZXNbdXVpZF0ubGluZWFyRmFjdG9yLnNldChwcm9wc1swXSwgcHJvcHNbMV0sIHByb3BzWzJdKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ3NldEFuZ3VsYXJGYWN0b3InOgogICAgICAgIGJvZGllc1t1dWlkXS5hbmd1bGFyRmFjdG9yLnNldChwcm9wc1swXSwgcHJvcHNbMV0sIHByb3BzWzJdKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ3NldE1hc3MnOgogICAgICAgIC8vIGFzc3VtZSB0aGF0IGFuIHVwZGF0ZSBmcm9tIHplcm8tbWFzcyBpbXBsaWVzIGEgbmVlZCBmb3IgZHluYW1pY3Mgb24gc3RhdGljIG9iai4KICAgICAgICBpZiAocHJvcHMgIT09IDAgJiYgYm9kaWVzW3V1aWRdLnR5cGUgPT09IDApIGJvZGllc1t1dWlkXS50eXBlID0gMTsKICAgICAgICBib2RpZXNbdXVpZF0ubWFzcyA9IHByb3BzOwogICAgICAgIGJvZGllc1t1dWlkXS51cGRhdGVNYXNzUHJvcGVydGllcygpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnc2V0TGluZWFyRGFtcGluZyc6CiAgICAgICAgYm9kaWVzW3V1aWRdLmxpbmVhckRhbXBpbmcgPSBwcm9wczsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ3NldEFuZ3VsYXJEYW1waW5nJzoKICAgICAgICBib2RpZXNbdXVpZF0uYW5ndWxhckRhbXBpbmcgPSBwcm9wczsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ3NldEFsbG93U2xlZXAnOgogICAgICAgIGJvZGllc1t1dWlkXS5hbGxvd1NsZWVwID0gcHJvcHM7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICdzZXRTbGVlcFNwZWVkTGltaXQnOgogICAgICAgIGJvZGllc1t1dWlkXS5zbGVlcFNwZWVkTGltaXQgPSBwcm9wczsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ3NldFNsZWVwVGltZUxpbWl0JzoKICAgICAgICBib2RpZXNbdXVpZF0uc2xlZXBUaW1lTGltaXQgPSBwcm9wczsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ3NldENvbGxpc2lvbkZpbHRlckdyb3VwJzoKICAgICAgICBib2RpZXNbdXVpZF0uY29sbGlzaW9uRmlsdGVyR3JvdXAgPSBwcm9wczsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ3NldENvbGxpc2lvbkZpbHRlck1hc2snOgogICAgICAgIGJvZGllc1t1dWlkXS5jb2xsaXNpb25GaWx0ZXJNYXNrID0gcHJvcHM7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICdzZXRDb2xsaXNpb25GaWx0ZXJNYXNrJzoKICAgICAgICBib2RpZXNbdXVpZF0uY29sbGlzaW9uRmlsdGVyTWFzayA9IHByb3BzOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnc2V0Q29sbGlzaW9uUmVzcG9uc2UnOgogICAgICAgIGJvZGllc1t1dWlkXS5jb2xsaXNpb25SZXNwb25zZSA9IHByb3BzOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnc2V0Rml4ZWRSb3RhdGlvbic6CiAgICAgICAgYm9kaWVzW3V1aWRdLmZpeGVkUm90YXRpb24gPSBwcm9wczsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ2FwcGx5Rm9yY2UnOgogICAgICAgIGJvZGllc1t1dWlkXS5hcHBseUZvcmNlKG5ldyBWZWMzKC4uLnByb3BzWzBdKSwgbmV3IFZlYzMoLi4ucHJvcHNbMV0pKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ2FwcGx5SW1wdWxzZSc6CiAgICAgICAgYm9kaWVzW3V1aWRdLmFwcGx5SW1wdWxzZShuZXcgVmVjMyguLi5wcm9wc1swXSksIG5ldyBWZWMzKC4uLnByb3BzWzFdKSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICdhcHBseUxvY2FsRm9yY2UnOgogICAgICAgIGJvZGllc1t1dWlkXS5hcHBseUxvY2FsRm9yY2UobmV3IFZlYzMoLi4ucHJvcHNbMF0pLCBuZXcgVmVjMyguLi5wcm9wc1sxXSkpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnYXBwbHlMb2NhbEltcHVsc2UnOgogICAgICAgIGJvZGllc1t1dWlkXS5hcHBseUxvY2FsSW1wdWxzZShuZXcgVmVjMyguLi5wcm9wc1swXSksIG5ldyBWZWMzKC4uLnByb3BzWzFdKSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICdhZGRDb25zdHJhaW50JzoKICAgICAgICB7CiAgICAgICAgICBjb25zdCBbYm9keUEsIGJvZHlCLCBvcHRuc10gPSBwcm9wczsKICAgICAgICAgIGxldCB7CiAgICAgICAgICAgIHBpdm90QSwKICAgICAgICAgICAgcGl2b3RCLAogICAgICAgICAgICBheGlzQSwKICAgICAgICAgICAgYXhpc0IsCiAgICAgICAgICAgIC4uLm9wdGlvbnMKICAgICAgICAgIH0gPSBvcHRuczsgLy8gaXMgdGhlcmUgYSBiZXR0ZXIgd2F5IHRvIGVuZm9yY2UgZGVmYXVsdHM/CgogICAgICAgICAgcGl2b3RBID0gQXJyYXkuaXNBcnJheShwaXZvdEEpID8gbmV3IFZlYzMoLi4ucGl2b3RBKSA6IHVuZGVmaW5lZDsKICAgICAgICAgIHBpdm90QiA9IEFycmF5LmlzQXJyYXkocGl2b3RCKSA/IG5ldyBWZWMzKC4uLnBpdm90QikgOiB1bmRlZmluZWQ7CiAgICAgICAgICBheGlzQSA9IEFycmF5LmlzQXJyYXkoYXhpc0EpID8gbmV3IFZlYzMoLi4uYXhpc0EpIDogdW5kZWZpbmVkOwogICAgICAgICAgYXhpc0IgPSBBcnJheS5pc0FycmF5KGF4aXNCKSA/IG5ldyBWZWMzKC4uLmF4aXNCKSA6IHVuZGVmaW5lZDsKICAgICAgICAgIGxldCBjb25zdHJhaW50OwoKICAgICAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgICAgICBjYXNlICdQb2ludFRvUG9pbnQnOgogICAgICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgUG9pbnRUb1BvaW50Q29uc3RyYWludChib2RpZXNbYm9keUFdLCBwaXZvdEEsIGJvZGllc1tib2R5Ql0sIHBpdm90Qiwgb3B0bnMubWF4Rm9yY2UpOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAnQ29uZVR3aXN0JzoKICAgICAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IENvbmVUd2lzdENvbnN0cmFpbnQoYm9kaWVzW2JvZHlBXSwgYm9kaWVzW2JvZHlCXSwgewogICAgICAgICAgICAgICAgcGl2b3RBLAogICAgICAgICAgICAgICAgcGl2b3RCLAogICAgICAgICAgICAgICAgYXhpc0EsCiAgICAgICAgICAgICAgICBheGlzQiwKICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgJ0hpbmdlJzoKICAgICAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IEhpbmdlQ29uc3RyYWludChib2RpZXNbYm9keUFdLCBib2RpZXNbYm9keUJdLCB7CiAgICAgICAgICAgICAgICBwaXZvdEEsCiAgICAgICAgICAgICAgICBwaXZvdEIsCiAgICAgICAgICAgICAgICBheGlzQSwKICAgICAgICAgICAgICAgIGF4aXNCLAogICAgICAgICAgICAgICAgLi4ub3B0aW9ucwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAnRGlzdGFuY2UnOgogICAgICAgICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgRGlzdGFuY2VDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zLmRpc3RhbmNlLCBvcHRucy5tYXhGb3JjZSk7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlICdMb2NrJzoKICAgICAgICAgICAgICBjb25zdHJhaW50ID0gbmV3IExvY2tDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zKTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgY29uc3RyYWludCA9IG5ldyBDb25zdHJhaW50KGJvZGllc1tib2R5QV0sIGJvZGllc1tib2R5Ql0sIG9wdG5zKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgICBjb25zdHJhaW50LnV1aWQgPSB1dWlkOwogICAgICAgICAgd29ybGQuYWRkQ29uc3RyYWludChjb25zdHJhaW50KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgIGNhc2UgJ3JlbW92ZUNvbnN0cmFpbnQnOgogICAgICAgIHdvcmxkLmNvbnN0cmFpbnRzLmZpbHRlcigoewogICAgICAgICAgdXVpZDogdGhpc0lkCiAgICAgICAgfSkgPT4gdGhpc0lkID09PSB1dWlkKS5tYXAoYyA9PiB3b3JsZC5yZW1vdmVDb25zdHJhaW50KGMpKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ2VuYWJsZUNvbnN0cmFpbnQnOgogICAgICAgIHdvcmxkLmNvbnN0cmFpbnRzLmZpbHRlcigoewogICAgICAgICAgdXVpZDogdGhpc0lkCiAgICAgICAgfSkgPT4gdGhpc0lkID09PSB1dWlkKS5tYXAoYyA9PiBjLmVuYWJsZSgpKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ2Rpc2FibGVDb25zdHJhaW50JzoKICAgICAgICB3b3JsZC5jb25zdHJhaW50cy5maWx0ZXIoKHsKICAgICAgICAgIHV1aWQ6IHRoaXNJZAogICAgICAgIH0pID0+IHRoaXNJZCA9PT0gdXVpZCkubWFwKGMgPT4gYy5kaXNhYmxlKCkpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnZW5hYmxlQ29uc3RyYWludE1vdG9yJzoKICAgICAgICB3b3JsZC5jb25zdHJhaW50cy5maWx0ZXIoKHsKICAgICAgICAgIHV1aWQ6IHRoaXNJZAogICAgICAgIH0pID0+IHRoaXNJZCA9PT0gdXVpZCkubWFwKGMgPT4gYy5lbmFibGVNb3RvcigpKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ2Rpc2FibGVDb25zdHJhaW50TW90b3InOgogICAgICAgIHdvcmxkLmNvbnN0cmFpbnRzLmZpbHRlcigoewogICAgICAgICAgdXVpZDogdGhpc0lkCiAgICAgICAgfSkgPT4gdGhpc0lkID09PSB1dWlkKS5tYXAoYyA9PiBjLmRpc2FibGVNb3RvcigpKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ3NldENvbnN0cmFpbnRNb3RvclNwZWVkJzoKICAgICAgICB3b3JsZC5jb25zdHJhaW50cy5maWx0ZXIoKHsKICAgICAgICAgIHV1aWQ6IHRoaXNJZAogICAgICAgIH0pID0+IHRoaXNJZCA9PT0gdXVpZCkubWFwKGMgPT4gYy5zZXRNb3RvclNwZWVkKHByb3BzKSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICdzZXRDb25zdHJhaW50TW90b3JNYXhGb3JjZSc6CiAgICAgICAgd29ybGQuY29uc3RyYWludHMuZmlsdGVyKCh7CiAgICAgICAgICB1dWlkOiB0aGlzSWQKICAgICAgICB9KSA9PiB0aGlzSWQgPT09IHV1aWQpLm1hcChjID0+IGMuc2V0TW90b3JNYXhGb3JjZShwcm9wcykpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnYWRkU3ByaW5nJzoKICAgICAgICB7CiAgICAgICAgICBjb25zdCBbYm9keUEsIGJvZHlCLCBvcHRuc10gPSBwcm9wczsKICAgICAgICAgIGxldCB7CiAgICAgICAgICAgIHdvcmxkQW5jaG9yQSwKICAgICAgICAgICAgd29ybGRBbmNob3JCLAogICAgICAgICAgICBsb2NhbEFuY2hvckEsCiAgICAgICAgICAgIGxvY2FsQW5jaG9yQiwKICAgICAgICAgICAgcmVzdExlbmd0aCwKICAgICAgICAgICAgc3RpZmZuZXNzLAogICAgICAgICAgICBkYW1waW5nCiAgICAgICAgICB9ID0gb3B0bnM7CiAgICAgICAgICB3b3JsZEFuY2hvckEgPSBBcnJheS5pc0FycmF5KHdvcmxkQW5jaG9yQSkgPyBuZXcgVmVjMyguLi53b3JsZEFuY2hvckEpIDogdW5kZWZpbmVkOwogICAgICAgICAgd29ybGRBbmNob3JCID0gQXJyYXkuaXNBcnJheSh3b3JsZEFuY2hvckIpID8gbmV3IFZlYzMoLi4ud29ybGRBbmNob3JCKSA6IHVuZGVmaW5lZDsKICAgICAgICAgIGxvY2FsQW5jaG9yQSA9IEFycmF5LmlzQXJyYXkobG9jYWxBbmNob3JBKSA/IG5ldyBWZWMzKC4uLmxvY2FsQW5jaG9yQSkgOiB1bmRlZmluZWQ7CiAgICAgICAgICBsb2NhbEFuY2hvckIgPSBBcnJheS5pc0FycmF5KGxvY2FsQW5jaG9yQikgPyBuZXcgVmVjMyguLi5sb2NhbEFuY2hvckIpIDogdW5kZWZpbmVkOwogICAgICAgICAgbGV0IHNwcmluZyA9IG5ldyBTcHJpbmcoYm9kaWVzW2JvZHlBXSwgYm9kaWVzW2JvZHlCXSwgewogICAgICAgICAgICB3b3JsZEFuY2hvckEsCiAgICAgICAgICAgIHdvcmxkQW5jaG9yQiwKICAgICAgICAgICAgbG9jYWxBbmNob3JBLAogICAgICAgICAgICBsb2NhbEFuY2hvckIsCiAgICAgICAgICAgIHJlc3RMZW5ndGgsCiAgICAgICAgICAgIHN0aWZmbmVzcywKICAgICAgICAgICAgZGFtcGluZwogICAgICAgICAgfSk7CiAgICAgICAgICBzcHJpbmcudXVpZCA9IHV1aWQ7CgogICAgICAgICAgbGV0IHBvc3RTdGVwU3ByaW5nID0gZSA9PiBzcHJpbmcuYXBwbHlGb3JjZSgpOwoKICAgICAgICAgIHNwcmluZ3NbdXVpZF0gPSBwb3N0U3RlcFNwcmluZzsKICAgICAgICAgIHNwcmluZ0luc3RhbmNlc1t1dWlkXSA9IHNwcmluZzsgLy8gQ29tcHV0ZSB0aGUgZm9yY2UgYWZ0ZXIgZWFjaCBzdGVwCgogICAgICAgICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncG9zdFN0ZXAnLCBzcHJpbmdzW3V1aWRdKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgIGNhc2UgJ3NldFNwcmluZ1N0aWZmbmVzcyc6CiAgICAgICAgewogICAgICAgICAgc3ByaW5nSW5zdGFuY2VzW3V1aWRdLnN0aWZmbmVzcyA9IHByb3BzOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgY2FzZSAnc2V0U3ByaW5nUmVzdExlbmd0aCc6CiAgICAgICAgewogICAgICAgICAgc3ByaW5nSW5zdGFuY2VzW3V1aWRdLnJlc3RMZW5ndGggPSBwcm9wczsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgIGNhc2UgJ3NldFNwcmluZ0RhbXBpbmcnOgogICAgICAgIHsKICAgICAgICAgIHNwcmluZ0luc3RhbmNlc1t1dWlkXS5kYW1waW5nID0gcHJvcHM7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICBjYXNlICdyZW1vdmVTcHJpbmcnOgogICAgICAgIHsKICAgICAgICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Bvc3RTdGVwJywgc3ByaW5nc1t1dWlkXSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICBjYXNlICdhZGRSYXknOgogICAgICAgIHsKICAgICAgICAgIGNvbnN0IHsKICAgICAgICAgICAgZnJvbSwKICAgICAgICAgICAgdG8sCiAgICAgICAgICAgIC4uLm9wdGlvbnMKICAgICAgICAgIH0gPSBwcm9wczsKICAgICAgICAgIGNvbnN0IHJheSA9IG5ldyBSYXkoZnJvbSA/IG5ldyBWZWMzKC4uLmZyb20pIDogdW5kZWZpbmVkLCB0byA/IG5ldyBWZWMzKC4uLnRvKSA6IHVuZGVmaW5lZCk7CiAgICAgICAgICBvcHRpb25zLm1vZGUgPSBSYXlbb3B0aW9ucy5tb2RlLnRvVXBwZXJDYXNlKCldOwogICAgICAgICAgb3B0aW9ucy5yZXN1bHQgPSBuZXcgUmF5Y2FzdFJlc3VsdCgpOwoKICAgICAgICAgIHJheXNbdXVpZF0gPSAoKSA9PiB7CiAgICAgICAgICAgIHJheS5pbnRlcnNlY3RXb3JsZCh3b3JsZCwgb3B0aW9ucyk7CiAgICAgICAgICAgIGNvbnN0IHsKICAgICAgICAgICAgICBib2R5LAogICAgICAgICAgICAgIHNoYXBlLAogICAgICAgICAgICAgIHJheUZyb21Xb3JsZCwKICAgICAgICAgICAgICByYXlUb1dvcmxkLAogICAgICAgICAgICAgIGhpdE5vcm1hbFdvcmxkLAogICAgICAgICAgICAgIGhpdFBvaW50V29ybGQsCiAgICAgICAgICAgICAgLi4ucmVzdAogICAgICAgICAgICB9ID0gb3B0aW9ucy5yZXN1bHQ7CiAgICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2UoewogICAgICAgICAgICAgIG9wOiAnZXZlbnQnLAogICAgICAgICAgICAgIHR5cGU6ICdyYXloaXQnLAogICAgICAgICAgICAgIHJheTogewogICAgICAgICAgICAgICAgZnJvbSwKICAgICAgICAgICAgICAgIHRvLAogICAgICAgICAgICAgICAgZGlyZWN0aW9uOiByYXkuZGlyZWN0aW9uLnRvQXJyYXkoKSwKICAgICAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlckdyb3VwOiByYXkuY29sbGlzaW9uRmlsdGVyR3JvdXAsCiAgICAgICAgICAgICAgICBjb2xsaXNpb25GaWx0ZXJNYXNrOiByYXkuY29sbGlzaW9uRmlsdGVyTWFzaywKICAgICAgICAgICAgICAgIHV1aWQKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGJvZHk6IGJvZHkgPyBib2R5LnV1aWQgOiBudWxsLAogICAgICAgICAgICAgIHNoYXBlOiBzaGFwZSA/IHsgLi4uc2hhcGUsCiAgICAgICAgICAgICAgICBib2R5OiBib2R5LnV1aWQKICAgICAgICAgICAgICB9IDogbnVsbCwKICAgICAgICAgICAgICByYXlGcm9tV29ybGQ6IHJheUZyb21Xb3JsZC50b0FycmF5KCksCiAgICAgICAgICAgICAgcmF5VG9Xb3JsZDogcmF5VG9Xb3JsZC50b0FycmF5KCksCiAgICAgICAgICAgICAgaGl0Tm9ybWFsV29ybGQ6IGhpdE5vcm1hbFdvcmxkLnRvQXJyYXkoKSwKICAgICAgICAgICAgICBoaXRQb2ludFdvcmxkOiBoaXRQb2ludFdvcmxkLnRvQXJyYXkoKSwKICAgICAgICAgICAgICAuLi5yZXN0CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfTsKCiAgICAgICAgICB3b3JsZC5hZGRFdmVudExpc3RlbmVyKCdwcmVTdGVwJywgcmF5c1t1dWlkXSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICBjYXNlICdyZW1vdmVSYXknOgogICAgICAgIHsKICAgICAgICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCByYXlzW3V1aWRdKTsKICAgICAgICAgIGRlbGV0ZSByYXlzW3V1aWRdOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgY2FzZSAnYWRkUmF5Y2FzdFZlaGljbGUnOgogICAgICAgIHsKICAgICAgICAgIGNvbnN0IFtjaGFzc2lzQm9keSwgd2hlZWxzLCB3aGVlbEluZm9zLCBpbmRleEZvcndhcmRBeGlzLCBpbmRleFJpZ2h0QXhpcywgaW5kZXhVcEF4aXNdID0gcHJvcHM7CiAgICAgICAgICBjb25zdCB2ZWhpY2xlID0gbmV3IFJheWNhc3RWZWhpY2xlKHsKICAgICAgICAgICAgY2hhc3Npc0JvZHk6IGJvZGllc1tjaGFzc2lzQm9keV0sCiAgICAgICAgICAgIGluZGV4Rm9yd2FyZEF4aXM6IGluZGV4Rm9yd2FyZEF4aXMsCiAgICAgICAgICAgIGluZGV4UmlnaHRBeGlzOiBpbmRleFJpZ2h0QXhpcywKICAgICAgICAgICAgaW5kZXhVcEF4aXM6IGluZGV4VXBBeGlzCiAgICAgICAgICB9KTsKICAgICAgICAgIHZlaGljbGUud29ybGQgPSB3b3JsZDsKCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdoZWVsSW5mb3MubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgY29uc3Qgd2hlZWxJbmZvID0gd2hlZWxJbmZvc1tpXTsKICAgICAgICAgICAgd2hlZWxJbmZvLmRpcmVjdGlvbkxvY2FsID0gbmV3IFZlYzMoLi4ud2hlZWxJbmZvLmRpcmVjdGlvbkxvY2FsKTsKICAgICAgICAgICAgd2hlZWxJbmZvLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbCA9IG5ldyBWZWMzKC4uLndoZWVsSW5mby5jaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWwpOwogICAgICAgICAgICB3aGVlbEluZm8uYXhsZUxvY2FsID0gbmV3IFZlYzMoLi4ud2hlZWxJbmZvLmF4bGVMb2NhbCk7CiAgICAgICAgICAgIHZlaGljbGUuYWRkV2hlZWwod2hlZWxJbmZvKTsKICAgICAgICAgICAgYm9kaWVzW3doZWVsc1tpXV07CiAgICAgICAgICB9CgogICAgICAgICAgdmVoaWNsZXNbdXVpZF0gPSB7CiAgICAgICAgICAgIHZlaGljbGU6IHZlaGljbGUsCiAgICAgICAgICAgIHdoZWVsczogd2hlZWxzLAogICAgICAgICAgICBwcmVTdGVwOiAoKSA9PiB7CiAgICAgICAgICAgICAgdmVoaWNsZXNbdXVpZF0udmVoaWNsZS51cGRhdGVWZWhpY2xlKHdvcmxkLmR0KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcG9zdFN0ZXA6ICgpID0+IHsKICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlaGljbGVzW3V1aWRdLnZlaGljbGUud2hlZWxJbmZvcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgdmVoaWNsZXNbdXVpZF0udmVoaWNsZS51cGRhdGVXaGVlbFRyYW5zZm9ybShpKTsKICAgICAgICAgICAgICAgIGNvbnN0IHQgPSB2ZWhpY2xlc1t1dWlkXS52ZWhpY2xlLndoZWVsSW5mb3NbaV0ud29ybGRUcmFuc2Zvcm07CiAgICAgICAgICAgICAgICBjb25zdCB3aGVlbEJvZHkgPSBib2RpZXNbdmVoaWNsZXNbdXVpZF0ud2hlZWxzW2ldXTsKICAgICAgICAgICAgICAgIHdoZWVsQm9keS5wb3NpdGlvbi5jb3B5KHQucG9zaXRpb24pOwogICAgICAgICAgICAgICAgd2hlZWxCb2R5LnF1YXRlcm5pb24uY29weSh0LnF1YXRlcm5pb24pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCB2ZWhpY2xlc1t1dWlkXS5wcmVTdGVwKTsKICAgICAgICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ3Bvc3RTdGVwJywgdmVoaWNsZXNbdXVpZF0ucG9zdFN0ZXApOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgY2FzZSAncmVtb3ZlUmF5Y2FzdFZlaGljbGUnOgogICAgICAgIHsKICAgICAgICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCB2ZWhpY2xlc1t1dWlkXS5wcmVTdGVwKTsKICAgICAgICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Bvc3RTdGVwJywgdmVoaWNsZXNbdXVpZF0ucG9zdFN0ZXApOwogICAgICAgICAgdmVoaWNsZXNbdXVpZF0udmVoaWNsZS53b3JsZCA9IG51bGw7CiAgICAgICAgICB2ZWhpY2xlc1t1dWlkXS52ZWhpY2xlID0gbnVsbDsKICAgICAgICAgIGRlbGV0ZSB2ZWhpY2xlc1t1dWlkXTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgIGNhc2UgJ3NldFJheWNhc3RWZWhpY2xlU3RlZXJpbmdWYWx1ZSc6CiAgICAgICAgewogICAgICAgICAgY29uc3QgW3ZhbHVlLCB3aGVlbEluZGV4XSA9IHByb3BzOwogICAgICAgICAgdmVoaWNsZXNbdXVpZF0udmVoaWNsZS5zZXRTdGVlcmluZ1ZhbHVlKHZhbHVlLCB3aGVlbEluZGV4KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgIGNhc2UgJ2FwcGx5UmF5Y2FzdFZlaGljbGVFbmdpbmVGb3JjZSc6CiAgICAgICAgewogICAgICAgICAgY29uc3QgW3ZhbHVlLCB3aGVlbEluZGV4XSA9IHByb3BzOwogICAgICAgICAgdmVoaWNsZXNbdXVpZF0udmVoaWNsZS5hcHBseUVuZ2luZUZvcmNlKHZhbHVlLCB3aGVlbEluZGV4KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgIGNhc2UgJ3NldFJheWNhc3RWZWhpY2xlQnJha2UnOgogICAgICAgIHsKICAgICAgICAgIGNvbnN0IFticmFrZSwgd2hlZWxJbmRleF0gPSBwcm9wczsKICAgICAgICAgIHZlaGljbGVzW3V1aWRdLnZlaGljbGUuc2V0QnJha2UoYnJha2UsIHdoZWVsSW5kZXgpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgfQogIH07Cgp9KCkpOwoK', null, false);\n/* eslint-enable */\n\nfunction Provider({\n  children,\n  step = 1 / 60,\n  gravity = [0, -10, 0],\n  tolerance = 0.001,\n  iterations = 5,\n  allowSleep = false,\n  broadphase = 'Naive',\n  axisIndex = 0,\n  defaultContactMaterial = {\n    contactEquationStiffness: 1e6\n  },\n  size = 1000\n}) {\n  const {\n    gl,\n    invalidate\n  } = useThree();\n  const [worker] = useState(() => new WorkerFactory());\n  const [refs] = useState({});\n  const [buffers] = useState(() => ({\n    positions: new Float32Array(size * 3),\n    quaternions: new Float32Array(size * 4)\n  }));\n  const [events] = useState({});\n  const [subscriptions] = useState({});\n  const bodies = useRef({});\n  const loop = useMemo(() => () => {\n    if (buffers.positions.byteLength !== 0 && buffers.quaternions.byteLength !== 0) {\n      worker.postMessage({\n        op: 'step',\n        ...buffers\n      }, [buffers.positions.buffer, buffers.quaternions.buffer]);\n    }\n  }, []);\n  const prevPresenting = useRef(false);\n  useFrame(() => {\n    var _gl$xr, _gl$xr2, _gl$xr3;\n\n    if ((_gl$xr = gl.xr) != null && _gl$xr.isPresenting && !prevPresenting.current) {\n      gl.xr.getSession().requestAnimationFrame(loop);\n    }\n\n    if (!((_gl$xr2 = gl.xr) != null && _gl$xr2.isPresenting) && prevPresenting.current) {\n      requestAnimationFrame(loop);\n    }\n\n    prevPresenting.current = (_gl$xr3 = gl.xr) == null ? void 0 : _gl$xr3.isPresenting;\n  });\n  useEffect(() => {\n    worker.postMessage({\n      op: 'init',\n      props: {\n        gravity,\n        tolerance,\n        step,\n        iterations,\n        broadphase,\n        allowSleep,\n        axisIndex,\n        defaultContactMaterial\n      }\n    });\n\n    worker.onmessage = e => {\n      switch (e.data.op) {\n        case 'frame':\n          if (e.data.bodies) {\n            bodies.current = e.data.bodies.reduce((acc, id) => ({ ...acc,\n              [id]: e.data.bodies.indexOf(id)\n            }), {});\n          }\n\n          buffers.positions = e.data.positions;\n          buffers.quaternions = e.data.quaternions;\n          e.data.observations.forEach(([id, value]) => subscriptions[id](value));\n\n          if (gl.xr && gl.xr.isPresenting) {\n            gl.xr.getSession().requestAnimationFrame(loop);\n          } else {\n            requestAnimationFrame(loop);\n          }\n\n          if (e.data.active) invalidate();\n          break;\n\n        case 'event':\n          switch (e.data.type) {\n            case 'collide':\n              events[e.data.target]({ ...e.data,\n                target: refs[e.data.target],\n                body: refs[e.data.body]\n              });\n              break;\n\n            case 'rayhit':\n              events[e.data.ray.uuid]({ ...e.data,\n                body: e.data.body ? refs[e.data.body] : null\n              });\n              break;\n          }\n\n          break;\n      }\n    };\n\n    loop();\n    return () => worker.terminate();\n  }, []);\n  const api = useMemo(() => ({\n    worker,\n    bodies,\n    refs,\n    buffers,\n    events,\n    subscriptions\n  }), [worker, bodies, refs, buffers, events, subscriptions]);\n  return /*#__PURE__*/React.createElement(context.Provider, {\n    value: api\n  }, children);\n}\n\nconst temp = new THREE.Object3D();\n\nfunction prepare(object, props, argFn) {\n  props.args = argFn(props.args);\n  object.userData = props.userData || {};\n  object.position.set(...(props.position || [0, 0, 0]));\n  object.rotation.set(...(props.rotation || [0, 0, 0]));\n  return props;\n}\n\nfunction apply(object, index, buffers) {\n  if (index !== undefined) {\n    object.position.fromArray(buffers.positions, index * 3);\n    object.quaternion.fromArray(buffers.quaternions, index * 4);\n  }\n}\n\nlet subscriptionGuid = 0;\n\nfunction useBody(type, fn, argFn, fwdRef, deps = []) {\n  const localRef = useRef(null);\n  const ref = fwdRef ? fwdRef : localRef;\n  const {\n    worker,\n    bodies,\n    buffers,\n    refs,\n    events,\n    subscriptions\n  } = useContext(context);\n  useLayoutEffect(() => {\n    if (!ref.current) {\n      // When the reference isn't used we create a stub\n      // The body doesn't have a visual representation but can still be constrained\n      ref.current = new THREE.Object3D();\n    }\n\n    const object = ref.current;\n    const currentWorker = worker;\n    let uuid = [object.uuid],\n        props;\n\n    if (object instanceof THREE.InstancedMesh) {\n      // Why? Because @mrdoob did it in his example ...\n      object.instanceMatrix.setUsage(THREE.DynamicDrawUsage);\n      uuid = new Array(object.count).fill(0).map((_, i) => object.uuid + \"/\" + i);\n      props = uuid.map((id, i) => {\n        const props = prepare(temp, fn(i), argFn);\n        temp.updateMatrix();\n        object.setMatrixAt(i, temp.matrix);\n        object.instanceMatrix.needsUpdate = true;\n        return props;\n      });\n    } else props = [prepare(object, fn(0), argFn)];\n\n    props.forEach((props, index) => {\n      refs[uuid[index]] = object;\n\n      if (props.onCollide) {\n        events[uuid[index]] = props.onCollide;\n        props.onCollide = true;\n      }\n    }); // Register on mount, unregister on unmount\n\n    currentWorker.postMessage({\n      op: 'addBodies',\n      type,\n      uuid,\n      props\n    });\n    return () => {\n      props.forEach((props, index) => {\n        delete refs[uuid[index]];\n        if (props.onCollide) delete events[uuid[index]];\n      });\n      currentWorker.postMessage({\n        op: 'removeBodies',\n        uuid\n      });\n    };\n  }, deps); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useFrame(() => {\n    if (ref.current && buffers.positions.length && buffers.quaternions.length) {\n      if (ref.current instanceof THREE.InstancedMesh) {\n        for (let i = 0; i < ref.current.count; i++) {\n          const index = bodies.current[ref.current.uuid + \"/\" + i];\n\n          if (index !== undefined) {\n            apply(temp, index, buffers);\n            temp.updateMatrix();\n            ref.current.setMatrixAt(i, temp.matrix);\n          }\n\n          ref.current.instanceMatrix.needsUpdate = true;\n        }\n      } else apply(ref.current, bodies.current[ref.current.uuid], buffers);\n    }\n  });\n  const api = useMemo(() => {\n    const getUUID = index => index !== undefined ? ref.current.uuid + \"/\" + index : ref.current.uuid;\n\n    const post = (op, index, props) => ref.current && worker.postMessage({\n      op,\n      uuid: getUUID(index),\n      props\n    });\n\n    const subscribe = (type, index) => {\n      return callback => {\n        const id = subscriptionGuid++;\n        subscriptions[id] = callback;\n        post('subscribe', index, {\n          id,\n          type\n        });\n        return () => {\n          delete subscriptions[id];\n          post('unsubscribe', index, id);\n        };\n      };\n    };\n\n    const opString = (action, type) => action + type.charAt(0).toUpperCase() + type.slice(1);\n\n    const makeVec = (type, index) => ({\n      set: (x, y, z) => post(opString('set', type), index, [x, y, z]),\n      copy: ({\n        x,\n        y,\n        z\n      }) => post(opString('set', type), index, [x, y, z]),\n      subscribe: subscribe(type, index)\n    });\n\n    const makeAtomic = (type, index) => ({\n      set: value => post(opString('set', type), index, value),\n      subscribe: subscribe(type, index)\n    });\n\n    function makeApi(index) {\n      return {\n        // Vectors\n        position: makeVec('position', index),\n        rotation: makeVec('quaternion', index),\n        velocity: makeVec('velocity', index),\n        angularVelocity: makeVec('angularVelocity', index),\n        linearFactor: makeVec('linearFactor', index),\n        angularFactor: makeVec('angularFactor', index),\n        // Atomic props\n        mass: makeAtomic('mass', index),\n        linearDamping: makeAtomic('linearDamping', index),\n        angularDamping: makeAtomic('angularDamping', index),\n        allowSleep: makeAtomic('allowSleep', index),\n        sleepSpeedLimit: makeAtomic('sleepSpeedLimit', index),\n        sleepTimeLimit: makeAtomic('sleepTimeLimit', index),\n        collisionFilterGroup: makeAtomic('collisionFilterGroup', index),\n        collisionFilterMask: makeAtomic('collisionFilterMask', index),\n        collisionResponse: makeAtomic('collisionResponse', index),\n        fixedRotation: makeAtomic('fixedRotation', index),\n        userData: makeAtomic('userData', index),\n\n        // Apply functions\n        applyForce(force, worldPoint) {\n          post('applyForce', index, [force, worldPoint]);\n        },\n\n        applyImpulse(impulse, worldPoint) {\n          post('applyImpulse', index, [impulse, worldPoint]);\n        },\n\n        applyLocalForce(force, localPoint) {\n          post('applyLocalForce', index, [force, localPoint]);\n        },\n\n        applyLocalImpulse(impulse, localPoint) {\n          post('applyLocalImpulse', index, [impulse, localPoint]);\n        }\n\n      };\n    }\n\n    const cache = {};\n    return { ...makeApi(undefined),\n      at: index => cache[index] || (cache[index] = makeApi(index))\n    };\n  }, []);\n  return [ref, api];\n}\n\nfunction usePlane(fn, fwdRef, deps) {\n  return useBody('Plane', fn, () => [], fwdRef, deps);\n}\nfunction useBox(fn, fwdRef, deps) {\n  return useBody('Box', fn, args => args || [1, 1, 1], fwdRef, deps);\n}\nfunction useCylinder(fn, fwdRef, deps) {\n  return useBody('Cylinder', fn, args => args, fwdRef, deps);\n}\nfunction useHeightfield(fn, fwdRef, deps) {\n  return useBody('Heightfield', fn, args => args, fwdRef, deps);\n}\nfunction useParticle(fn, fwdRef, deps) {\n  return useBody('Particle', fn, () => [], fwdRef, deps);\n}\nfunction useSphere(fn, fwdRef, deps) {\n  return useBody('Sphere', fn, radius => [radius != null ? radius : 1], fwdRef, deps);\n}\nfunction useTrimesh(fn, fwdRef, deps) {\n  return useBody('Trimesh', fn, args => {\n    return [args[0].map(v => v instanceof THREE.Vector3 ? [v.x, v.y, v.z] : v), args[1]];\n  }, fwdRef, deps);\n}\nfunction useConvexPolyhedron(fn, fwdRef, deps) {\n  return useBody('ConvexPolyhedron', fn, args => {\n    return [args[0].map(v => v instanceof THREE.Vector3 ? [v.x, v.y, v.z] : v), args[1], args[2] && args[2].map(n => n instanceof THREE.Vector3 ? [n.x, n.y, n.z] : n)];\n  }, fwdRef, deps);\n}\nfunction useCompoundBody(fn, fwdRef, deps) {\n  return useBody('Compound', fn, args => args || [], fwdRef, deps);\n}\n\nfunction useConstraint(type, bodyA, bodyB, optns = {}, deps = []) {\n  const {\n    worker\n  } = useContext(context);\n  const uuid = THREE.MathUtils.generateUUID();\n  const nullRef1 = useRef(null);\n  const nullRef2 = useRef(null);\n  bodyA = bodyA === undefined || bodyA === null ? nullRef1 : bodyA;\n  bodyB = bodyB === undefined || bodyB === null ? nullRef2 : bodyB;\n  useEffect(() => {\n    if (bodyA.current && bodyB.current) {\n      worker.postMessage({\n        op: 'addConstraint',\n        uuid,\n        type,\n        props: [bodyA.current.uuid, bodyB.current.uuid, optns]\n      });\n      return () => worker.postMessage({\n        op: 'removeConstraint',\n        uuid\n      });\n    }\n  }, deps);\n  const api = useMemo(() => {\n    const enableDisable = {\n      enable: () => worker.postMessage({\n        op: 'enableConstraint',\n        uuid\n      }),\n      disable: () => worker.postMessage({\n        op: 'disableConstraint',\n        uuid\n      })\n    };\n\n    if (type === 'Hinge') {\n      return { ...enableDisable,\n        enableMotor: () => worker.postMessage({\n          op: 'enableConstraintMotor',\n          uuid\n        }),\n        disableMotor: () => worker.postMessage({\n          op: 'disableConstraintMotor',\n          uuid\n        }),\n        setMotorSpeed: value => worker.postMessage({\n          op: 'setConstraintMotorSpeed',\n          uuid,\n          props: value\n        }),\n        setMotorMaxForce: value => worker.postMessage({\n          op: 'setConstraintMotorMaxForce',\n          uuid,\n          props: value\n        })\n      };\n    }\n\n    return enableDisable;\n  }, deps);\n  return [bodyA, bodyB, api];\n}\n\nfunction usePointToPointConstraint(bodyA, bodyB, optns, deps = []) {\n  return useConstraint('PointToPoint', bodyA, bodyB, optns, deps);\n}\nfunction useConeTwistConstraint(bodyA, bodyB, optns, deps = []) {\n  return useConstraint('ConeTwist', bodyA, bodyB, optns, deps);\n}\nfunction useDistanceConstraint(bodyA, bodyB, optns, deps = []) {\n  return useConstraint('Distance', bodyA, bodyB, optns, deps);\n}\nfunction useHingeConstraint(bodyA, bodyB, optns, deps = []) {\n  return useConstraint('Hinge', bodyA, bodyB, optns, deps);\n}\nfunction useLockConstraint(bodyA, bodyB, optns, deps = []) {\n  return useConstraint('Lock', bodyA, bodyB, optns, deps);\n}\nfunction useSpring(bodyA, bodyB, optns, deps = []) {\n  const {\n    worker,\n    events\n  } = useContext(context);\n  const [uuid] = useState(() => THREE.MathUtils.generateUUID());\n  const nullRef1 = useRef(null);\n  const nullRef2 = useRef(null);\n  bodyA = bodyA === undefined || bodyA === null ? nullRef1 : bodyA;\n  bodyB = bodyB === undefined || bodyB === null ? nullRef2 : bodyB;\n  useEffect(() => {\n    if (bodyA.current && bodyB.current) {\n      worker.postMessage({\n        op: 'addSpring',\n        uuid,\n        props: [bodyA.current.uuid, bodyB.current.uuid, optns]\n      });\n\n      events[uuid] = () => {};\n\n      return () => {\n        worker.postMessage({\n          op: 'removeSpring',\n          uuid\n        });\n        delete events[uuid];\n      };\n    }\n  }, deps);\n  const api = useMemo(() => ({\n    setStiffness: value => worker.postMessage({\n      op: 'setSpringStiffness',\n      props: value,\n      uuid\n    }),\n    setRestLength: value => worker.postMessage({\n      op: 'setSpringRestLength',\n      props: value,\n      uuid\n    }),\n    setDamping: value => worker.postMessage({\n      op: 'setSpringDamping',\n      props: value,\n      uuid\n    })\n  }), deps);\n  return [bodyA, bodyB, api];\n}\n\nfunction useRay(mode, options, callback, deps = []) {\n  const {\n    worker,\n    events\n  } = useContext(context);\n  const [uuid] = useState(() => THREE.MathUtils.generateUUID());\n  useEffect(() => {\n    events[uuid] = callback;\n    worker.postMessage({\n      op: 'addRay',\n      uuid,\n      props: {\n        mode,\n        ...options\n      }\n    });\n    return () => {\n      worker.postMessage({\n        op: 'removeRay',\n        uuid\n      });\n      delete events[uuid];\n    };\n  }, deps);\n}\n\nfunction useRaycastClosest(options, callback, deps = []) {\n  useRay('Closest', options, callback, deps);\n}\nfunction useRaycastAny(options, callback, deps = []) {\n  useRay('Any', options, callback, deps);\n}\nfunction useRaycastAll(options, callback, deps = []) {\n  useRay('All', options, callback, deps);\n}\nfunction useRaycastVehicle(fn, fwdRef) {\n  const ref = fwdRef ? fwdRef : useRef(null);\n  const {\n    worker\n  } = useContext(context);\n  useLayoutEffect(() => {\n    var _raycastVehicleProps$;\n\n    if (!ref.current) {\n      // When the reference isn't used we create a stub\n      // The body doesn't have a visual representation but can still be constrained\n      ref.current = new THREE.Object3D();\n    }\n\n    const currentWorker = worker;\n    let uuid = [ref.current.uuid];\n    const raycastVehicleProps = fn();\n    currentWorker.postMessage({\n      op: 'addRaycastVehicle',\n      uuid,\n      props: [(_raycastVehicleProps$ = raycastVehicleProps.chassisBody.current) == null ? void 0 : _raycastVehicleProps$.uuid, raycastVehicleProps.wheels.map(wheel => {\n        var _wheel$current;\n\n        return (_wheel$current = wheel.current) == null ? void 0 : _wheel$current.uuid;\n      }), raycastVehicleProps.wheelInfos, (raycastVehicleProps == null ? void 0 : raycastVehicleProps.indexForwardAxis) || 2, (raycastVehicleProps == null ? void 0 : raycastVehicleProps.indexRightAxis) || 0, (raycastVehicleProps == null ? void 0 : raycastVehicleProps.indexUpAxis) || 1]\n    });\n    return () => {\n      currentWorker.postMessage({\n        op: 'removeRaycastVehicle',\n        uuid\n      });\n    };\n  }, []);\n  const api = useMemo(() => {\n    const post = (op, props) => ref.current && worker.postMessage({\n      op,\n      uuid: ref.current.uuid,\n      props\n    });\n\n    return {\n      setSteeringValue(value, wheelIndex) {\n        post('setRaycastVehicleSteeringValue', [value, wheelIndex]);\n      },\n\n      applyEngineForce(value, wheelIndex) {\n        post('applyRaycastVehicleEngineForce', [value, wheelIndex]);\n      },\n\n      setBrake(brake, wheelIndex) {\n        post('setRaycastVehicleBrake', [brake, wheelIndex]);\n      }\n\n    };\n  }, []);\n  return [ref, api];\n}\n\nfunction Physics(props) {\n  return /*#__PURE__*/React.createElement(Suspense, {\n    fallback: null\n  }, /*#__PURE__*/React.createElement(Provider, props));\n}\n\nexport { Physics, context, useBox, useCompoundBody, useConeTwistConstraint, useConvexPolyhedron, useCylinder, useDistanceConstraint, useHeightfield, useHingeConstraint, useLockConstraint, useParticle, usePlane, usePointToPointConstraint, useRaycastAll, useRaycastAny, useRaycastClosest, useRaycastVehicle, useSphere, useSpring, useTrimesh };\n","import superPropBase from \"@babel/runtime/helpers/esm/superPropBase\";\nimport defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction set(target, property, value, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.set) {\n    set = Reflect.set;\n  } else {\n    set = function set(target, property, value, receiver) {\n      var base = superPropBase(target, property);\n      var desc;\n\n      if (base) {\n        desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.set) {\n          desc.set.call(receiver, value);\n          return true;\n        } else if (!desc.writable) {\n          return false;\n        }\n      }\n\n      desc = Object.getOwnPropertyDescriptor(receiver, property);\n\n      if (desc) {\n        if (!desc.writable) {\n          return false;\n        }\n\n        desc.value = value;\n        Object.defineProperty(receiver, property, desc);\n      } else {\n        defineProperty(receiver, property, value);\n      }\n\n      return true;\n    };\n  }\n\n  return set(target, property, value, receiver);\n}\n\nexport default function _set(target, property, value, receiver, isStrict) {\n  var s = set(target, property, value, receiver || target);\n\n  if (!s && isStrict) {\n    throw new Error('failed to set property');\n  }\n\n  return value;\n}","/**\n * postprocessing v6.21.4 build Fri Apr 23 2021\n * https://github.com/vanruesc/postprocessing\n * Copyright 2021 Raoul van Rüschen\n * @license Zlib\n */\n// src/core/ColorChannel.js\nvar ColorChannel = {\n  RED: 0,\n  GREEN: 1,\n  BLUE: 2,\n  ALPHA: 3\n};\n\n// src/core/Disposable.js\nvar Disposable = class {\n  dispose() {\n  }\n};\n\n// src/core/EffectComposer.js\nimport {\n  DepthStencilFormat,\n  DepthTexture,\n  LinearFilter as LinearFilter4,\n  RGBAFormat as RGBAFormat3,\n  RGBFormat as RGBFormat4,\n  UnsignedByteType as UnsignedByteType8,\n  UnsignedIntType,\n  UnsignedInt248Type,\n  Vector2 as Vector213,\n  WebGLMultisampleRenderTarget,\n  WebGLRenderTarget as WebGLRenderTarget9\n} from \"three\";\n\n// src/passes/AdaptiveLuminancePass.js\nimport {\n  HalfFloatType,\n  NearestFilter,\n  RGBAFormat,\n  WebGLRenderTarget as WebGLRenderTarget2\n} from \"three\";\n\n// src/materials/AdaptiveLuminanceMaterial.js\nimport {NoBlending, ShaderMaterial, Uniform} from \"three\";\n\n// src/materials/glsl/adaptive-luminance/shader.frag\nvar shader_default = \"uniform mediump sampler2D luminanceBuffer0;uniform lowp sampler2D luminanceBuffer1;uniform float minLuminance;uniform float deltaTime;uniform float tau;varying vec2 vUv;void main(){float l0=texture2D(luminanceBuffer0,vUv).r;\\n#if __VERSION__ < 300\\nfloat l1=texture2DLodEXT(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;\\n#else\\nfloat l1=textureLod(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;\\n#endif\\nl0=max(minLuminance,l0);l1=max(minLuminance,l1);float adaptedLum=l0+(l1-l0)*(1.0-exp(-deltaTime*tau));gl_FragColor.r=adaptedLum;}\";\n\n// src/materials/glsl/common/shader.vert\nvar shader_default2 = \"varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}\";\n\n// src/materials/AdaptiveLuminanceMaterial.js\nvar AdaptiveLuminanceMaterial = class extends ShaderMaterial {\n  constructor() {\n    super({\n      type: \"AdaptiveLuminanceMaterial\",\n      defines: {\n        MIP_LEVEL_1X1: \"0.0\"\n      },\n      uniforms: {\n        luminanceBuffer0: new Uniform(null),\n        luminanceBuffer1: new Uniform(null),\n        minLuminance: new Uniform(0.01),\n        deltaTime: new Uniform(0),\n        tau: new Uniform(1)\n      },\n      fragmentShader: shader_default,\n      vertexShader: shader_default2,\n      blending: NoBlending,\n      depthWrite: false,\n      depthTest: false,\n      extensions: {\n        shaderTextureLOD: true\n      }\n    });\n    this.toneMapped = false;\n  }\n};\n\n// src/materials/BokehMaterial.js\nimport {NoBlending as NoBlending2, ShaderMaterial as ShaderMaterial2, Uniform as Uniform2, Vector2, Vector4} from \"three\";\n\n// src/materials/glsl/bokeh/shader.frag\nvar shader_default3 = \"#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D inputBuffer;\\n#else\\nuniform lowp sampler2D inputBuffer;\\n#endif\\nuniform lowp sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;\\n#if PASS == 1\\nuniform vec4 kernel64[32];\\n#else\\nuniform vec4 kernel16[8];\\n#endif\\nvarying vec2 vUv;void main(){\\n#ifdef FOREGROUND\\nvec2 CoCNearFar=texture2D(cocBuffer,vUv).rg;float CoC=CoCNearFar.r*scale;\\n#else\\nfloat CoC=texture2D(cocBuffer,vUv).g*scale;\\n#endif\\nif(CoC==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{\\n#ifdef FOREGROUND\\nvec2 step=texelSize*max(CoC,CoCNearFar.g*scale);\\n#else\\nvec2 step=texelSize*CoC;\\n#endif\\n#if PASS == 1\\nvec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;\\n#else\\nvec4 maxValue=texture2D(inputBuffer,vUv);for(int i=0;i<8;++i){vec4 kernel=kernel16[i];vec2 uv=step*kernel.xy+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);uv=step*kernel.zw+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);}gl_FragColor=maxValue;\\n#endif\\n}}\";\n\n// src/materials/BokehMaterial.js\nvar BokehMaterial = class extends ShaderMaterial2 {\n  constructor(fill = false, foreground = false) {\n    super({\n      type: \"BokehMaterial\",\n      defines: {\n        PASS: fill ? \"2\" : \"1\"\n      },\n      uniforms: {\n        kernel64: new Uniform2(null),\n        kernel16: new Uniform2(null),\n        inputBuffer: new Uniform2(null),\n        cocBuffer: new Uniform2(null),\n        texelSize: new Uniform2(new Vector2()),\n        scale: new Uniform2(1)\n      },\n      fragmentShader: shader_default3,\n      vertexShader: shader_default2,\n      blending: NoBlending2,\n      depthWrite: false,\n      depthTest: false\n    });\n    this.toneMapped = false;\n    if (foreground) {\n      this.defines.FOREGROUND = \"1\";\n    }\n    this.generateKernel();\n  }\n  generateKernel() {\n    const GOLDEN_ANGLE = 2.39996323;\n    const points64 = new Float32Array(128);\n    const points16 = new Float32Array(32);\n    let i64 = 0, i16 = 0;\n    for (let i = 0; i < 80; ++i) {\n      const theta = i * GOLDEN_ANGLE;\n      const r = Math.sqrt(i) / Math.sqrt(80);\n      const u = r * Math.cos(theta), v3 = r * Math.sin(theta);\n      if (i % 5 === 0) {\n        points16[i16++] = u;\n        points16[i16++] = v3;\n      } else {\n        points64[i64++] = u;\n        points64[i64++] = v3;\n      }\n    }\n    const kernel64 = [];\n    const kernel16 = [];\n    for (let i = 0; i < 128; ) {\n      kernel64.push(new Vector4(points64[i++], points64[i++], points64[i++], points64[i++]));\n    }\n    for (let i = 0; i < 32; ) {\n      kernel16.push(new Vector4(points16[i++], points16[i++], points16[i++], points16[i++]));\n    }\n    this.uniforms.kernel64.value = kernel64;\n    this.uniforms.kernel16.value = kernel16;\n  }\n  setTexelSize(x, y) {\n    this.uniforms.texelSize.value.set(x, y);\n  }\n};\n\n// src/materials/CircleOfConfusionMaterial.js\nimport {NoBlending as NoBlending3, PerspectiveCamera, ShaderMaterial as ShaderMaterial3, Uniform as Uniform3} from \"three\";\n\n// src/materials/glsl/circle-of-confusion/shader.frag\nvar shader_default4 = \"#include <common>\\n#include <packing>\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D depthBuffer;\\n#else\\nuniform mediump sampler2D depthBuffer;\\n#endif\\nuniform float focusDistance;uniform float focalLength;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){\\n#if DEPTH_PACKING == 3201\\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\\n#else\\nreturn texture2D(depthBuffer,uv).r;\\n#endif\\n}void main(){float depth=readDepth(vUv);\\n#ifdef PERSPECTIVE_CAMERA\\nfloat viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);\\n#else\\nfloat linearDepth=depth;\\n#endif\\nfloat signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focalLength,abs(signedDistance));gl_FragColor.rg=vec2(step(signedDistance,0.0)*magnitude,step(0.0,signedDistance)*magnitude);}\";\n\n// src/materials/CircleOfConfusionMaterial.js\nvar CircleOfConfusionMaterial = class extends ShaderMaterial3 {\n  constructor(camera) {\n    super({\n      type: \"CircleOfConfusionMaterial\",\n      defines: {\n        DEPTH_PACKING: \"0\"\n      },\n      uniforms: {\n        depthBuffer: new Uniform3(null),\n        focusDistance: new Uniform3(0),\n        focalLength: new Uniform3(0),\n        cameraNear: new Uniform3(0.3),\n        cameraFar: new Uniform3(1e3)\n      },\n      fragmentShader: shader_default4,\n      vertexShader: shader_default2,\n      blending: NoBlending3,\n      depthWrite: false,\n      depthTest: false\n    });\n    this.toneMapped = false;\n    this.adoptCameraSettings(camera);\n  }\n  get depthPacking() {\n    return Number(this.defines.DEPTH_PACKING);\n  }\n  set depthPacking(value) {\n    this.defines.DEPTH_PACKING = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  adoptCameraSettings(camera = null) {\n    if (camera !== null) {\n      this.uniforms.cameraNear.value = camera.near;\n      this.uniforms.cameraFar.value = camera.far;\n      if (camera instanceof PerspectiveCamera) {\n        this.defines.PERSPECTIVE_CAMERA = \"1\";\n      } else {\n        delete this.defines.PERSPECTIVE_CAMERA;\n      }\n      this.needsUpdate = true;\n    }\n  }\n};\n\n// src/materials/ColorEdgesMaterial.js\nimport {NoBlending as NoBlending4, ShaderMaterial as ShaderMaterial4, Uniform as Uniform4, Vector2 as Vector22} from \"three\";\n\n// src/materials/glsl/edge-detection/shader.frag\nvar shader_default5 = \"varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\\n#if EDGE_DETECTION_MODE != 0\\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\\n#endif\\n#if EDGE_DETECTION_MODE == 1\\n#include <common>\\n#endif\\n#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D depthBuffer;\\n#else\\nuniform mediump sampler2D depthBuffer;\\n#endif\\nfloat readDepth(const in vec2 uv){\\n#if DEPTH_PACKING == 3201\\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\\n#else\\nreturn texture2D(depthBuffer,uv).r;\\n#endif\\n}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}\\n#elif PREDICATION_MODE == 2\\nuniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}\\n#endif\\n#if PREDICATION_MODE != 0\\nvec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}\\n#endif\\n#if EDGE_DETECTION_MODE != 0\\nuniform sampler2D inputBuffer;\\n#endif\\nvoid main(){\\n#if EDGE_DETECTION_MODE == 0\\nconst vec2 threshold=vec2(DEPTH_THRESHOLD);\\n#elif PREDICATION_MODE != 0\\nvec2 threshold=calculatePredicatedThreshold();\\n#else\\nconst vec2 threshold=vec2(EDGE_THRESHOLD);\\n#endif\\n#if EDGE_DETECTION_MODE == 0\\nvec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);\\n#elif EDGE_DETECTION_MODE == 1\\nfloat l=linearToRelativeLuminance(texture2D(inputBuffer,vUv).rgb);float lLeft=linearToRelativeLuminance(texture2D(inputBuffer,vUv0).rgb);float lTop=linearToRelativeLuminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=linearToRelativeLuminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=linearToRelativeLuminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=linearToRelativeLuminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=linearToRelativeLuminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\\n#elif EDGE_DETECTION_MODE == 2\\nvec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\\n#endif\\n}\";\n\n// src/materials/glsl/edge-detection/shader.vert\nvar shader_default6 = \"uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\\n#if EDGE_DETECTION_MODE != 0\\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\\n#endif\\nvoid main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);\\n#if EDGE_DETECTION_MODE != 0\\nvUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);\\n#endif\\ngl_Position=vec4(position.xy,1.0,1.0);}\";\n\n// src/materials/ColorEdgesMaterial.js\nvar ColorEdgesMaterial = class extends ShaderMaterial4 {\n  constructor(texelSize = new Vector22()) {\n    super({\n      type: \"ColorEdgesMaterial\",\n      defines: {\n        EDGE_DETECTION_MODE: \"2\",\n        LOCAL_CONTRAST_ADAPTATION_FACTOR: \"2.0\",\n        EDGE_THRESHOLD: \"0.1\"\n      },\n      uniforms: {\n        inputBuffer: new Uniform4(null),\n        texelSize: new Uniform4(texelSize)\n      },\n      fragmentShader: shader_default5,\n      vertexShader: shader_default6,\n      blending: NoBlending4,\n      depthWrite: false,\n      depthTest: false\n    });\n    this.toneMapped = false;\n  }\n  setLocalContrastAdaptationFactor(factor) {\n    this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR = factor.toFixed(\"2\");\n    this.needsUpdate = true;\n  }\n  setEdgeDetectionThreshold(threshold) {\n    const t = Math.min(Math.max(threshold, 0.05), 0.5);\n    this.defines.EDGE_THRESHOLD = t.toFixed(\"2\");\n    this.needsUpdate = true;\n  }\n};\n\n// src/materials/ConvolutionMaterial.js\nimport {NoBlending as NoBlending5, ShaderMaterial as ShaderMaterial5, Uniform as Uniform5, Vector2 as Vector23} from \"three\";\n\n// src/materials/glsl/convolution/shader.frag\nvar shader_default7 = \"#include <common>\\n#include <dithering_pars_fragment>\\n#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D inputBuffer;\\n#else\\nuniform lowp sampler2D inputBuffer;\\n#endif\\nvarying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;\\n#include <dithering_fragment>\\n}\";\n\n// src/materials/glsl/convolution/shader.vert\nvar shader_default8 = \"uniform vec2 texelSize;uniform vec2 halfTexelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize*vec2(kernel)+halfTexelSize)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}\";\n\n// src/materials/ConvolutionMaterial.js\nvar ConvolutionMaterial = class extends ShaderMaterial5 {\n  constructor(texelSize = new Vector23()) {\n    super({\n      type: \"ConvolutionMaterial\",\n      uniforms: {\n        inputBuffer: new Uniform5(null),\n        texelSize: new Uniform5(new Vector23()),\n        halfTexelSize: new Uniform5(new Vector23()),\n        kernel: new Uniform5(0),\n        scale: new Uniform5(1)\n      },\n      fragmentShader: shader_default7,\n      vertexShader: shader_default8,\n      blending: NoBlending5,\n      depthWrite: false,\n      depthTest: false\n    });\n    this.toneMapped = false;\n    this.setTexelSize(texelSize.x, texelSize.y);\n    this.kernelSize = KernelSize.LARGE;\n  }\n  getKernel() {\n    return kernelPresets[this.kernelSize];\n  }\n  setTexelSize(x, y) {\n    this.uniforms.texelSize.value.set(x, y);\n    this.uniforms.halfTexelSize.value.set(x, y).multiplyScalar(0.5);\n  }\n};\nvar kernelPresets = [\n  new Float32Array([0, 0]),\n  new Float32Array([0, 1, 1]),\n  new Float32Array([0, 1, 1, 2]),\n  new Float32Array([0, 1, 2, 2, 3]),\n  new Float32Array([0, 1, 2, 3, 4, 4, 5]),\n  new Float32Array([0, 1, 2, 3, 4, 5, 7, 8, 9, 10])\n];\nvar KernelSize = {\n  VERY_SMALL: 0,\n  SMALL: 1,\n  MEDIUM: 2,\n  LARGE: 3,\n  VERY_LARGE: 4,\n  HUGE: 5\n};\n\n// src/materials/CopyMaterial.js\nimport {NoBlending as NoBlending6, ShaderMaterial as ShaderMaterial6, Uniform as Uniform6} from \"three\";\n\n// src/materials/glsl/copy/shader.frag\nvar shader_default9 = \"#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D inputBuffer;\\n#else\\nuniform lowp sampler2D inputBuffer;\\n#endif\\nuniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;\\n#include <encodings_fragment>\\n}\";\n\n// src/materials/CopyMaterial.js\nvar CopyMaterial = class extends ShaderMaterial6 {\n  constructor() {\n    super({\n      type: \"CopyMaterial\",\n      uniforms: {\n        inputBuffer: new Uniform6(null),\n        opacity: new Uniform6(1)\n      },\n      fragmentShader: shader_default9,\n      vertexShader: shader_default2,\n      blending: NoBlending6,\n      depthWrite: false,\n      depthTest: false\n    });\n    this.toneMapped = false;\n  }\n};\n\n// src/materials/DepthComparisonMaterial.js\nimport {NoBlending as NoBlending7, PerspectiveCamera as PerspectiveCamera2, ShaderMaterial as ShaderMaterial7, Uniform as Uniform7} from \"three\";\n\n// src/materials/glsl/depth-comparison/shader.frag\nvar shader_default10 = \"#include <packing>\\n#include <clipping_planes_pars_fragment>\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D depthBuffer;\\n#else\\nuniform mediump sampler2D depthBuffer;\\n#endif\\nuniform float cameraNear;uniform float cameraFar;varying float vViewZ;varying vec4 vProjTexCoord;void main(){\\n#include <clipping_planes_fragment>\\nvec2 projTexCoord=(vProjTexCoord.xy/vProjTexCoord.w)*0.5+0.5;projTexCoord=clamp(projTexCoord,0.002,0.998);float fragCoordZ=unpackRGBAToDepth(texture2D(depthBuffer,projTexCoord));\\n#ifdef PERSPECTIVE_CAMERA\\nfloat viewZ=perspectiveDepthToViewZ(fragCoordZ,cameraNear,cameraFar);\\n#else\\nfloat viewZ=orthographicDepthToViewZ(fragCoordZ,cameraNear,cameraFar);\\n#endif\\nfloat depthTest=(-vViewZ>-viewZ)? 1.0 : 0.0;gl_FragColor.rg=vec2(0.0,depthTest);}\";\n\n// src/materials/glsl/depth-comparison/shader.vert\nvar shader_default11 = \"#include <common>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying float vViewZ;varying vec4 vProjTexCoord;void main(){\\n#include <skinbase_vertex>\\n#include <begin_vertex>\\n#include <morphtarget_vertex>\\n#include <skinning_vertex>\\n#include <project_vertex>\\nvViewZ=mvPosition.z;vProjTexCoord=gl_Position;\\n#include <clipping_planes_vertex>\\n}\";\n\n// src/materials/DepthComparisonMaterial.js\nvar DepthComparisonMaterial = class extends ShaderMaterial7 {\n  constructor(depthTexture = null, camera) {\n    super({\n      type: \"DepthComparisonMaterial\",\n      uniforms: {\n        depthBuffer: new Uniform7(depthTexture),\n        cameraNear: new Uniform7(0.3),\n        cameraFar: new Uniform7(1e3)\n      },\n      fragmentShader: shader_default10,\n      vertexShader: shader_default11,\n      blending: NoBlending7,\n      depthWrite: false,\n      depthTest: false\n    });\n    this.toneMapped = false;\n    this.adoptCameraSettings(camera);\n  }\n  adoptCameraSettings(camera = null) {\n    if (camera !== null) {\n      this.uniforms.cameraNear.value = camera.near;\n      this.uniforms.cameraFar.value = camera.far;\n      if (camera instanceof PerspectiveCamera2) {\n        this.defines.PERSPECTIVE_CAMERA = \"1\";\n      } else {\n        delete this.defines.PERSPECTIVE_CAMERA;\n      }\n    }\n  }\n};\n\n// src/materials/DepthCopyMaterial.js\nimport {NoBlending as NoBlending8, ShaderMaterial as ShaderMaterial8, Uniform as Uniform8, Vector2 as Vector24} from \"three\";\n\n// src/materials/glsl/depth-copy/shader.frag\nvar shader_default12 = \"#include <packing>\\n#if INPUT_DEPTH_PACKING == 3201\\nuniform lowp sampler2D depthBuffer;\\n#else\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D depthBuffer;\\n#else\\nuniform mediump sampler2D depthBuffer;\\n#endif\\n#endif\\nvarying vec2 vUv;void main(){\\n#if INPUT_DEPTH_PACKING == OUTPUT_DEPTH_PACKING\\ngl_FragColor=texture2D(depthBuffer,vUv);\\n#else\\n#if INPUT_DEPTH_PACKING == 3201\\nfloat depth=unpackRGBAToDepth(texture2D(depthBuffer,vUv));gl_FragColor=vec4(vec3(depth),1.0);\\n#else\\nfloat depth=texture2D(depthBuffer,vUv).r;gl_FragColor=packDepthToRGBA(depth);\\n#endif\\n#endif\\n}\";\n\n// src/materials/glsl/depth-copy/shader.vert\nvar shader_default13 = \"varying vec2 vUv;\\n#if DEPTH_COPY_MODE == 1\\nuniform vec2 screenPosition;\\n#endif\\nvoid main(){\\n#if DEPTH_COPY_MODE == 1\\nvUv=screenPosition;\\n#else\\nvUv=position.xy*0.5+0.5;\\n#endif\\ngl_Position=vec4(position.xy,1.0,1.0);}\";\n\n// src/materials/DepthCopyMaterial.js\nvar DepthCopyMaterial = class extends ShaderMaterial8 {\n  constructor() {\n    super({\n      type: \"DepthCopyMaterial\",\n      defines: {\n        INPUT_DEPTH_PACKING: \"0\",\n        OUTPUT_DEPTH_PACKING: \"0\",\n        DEPTH_COPY_MODE: \"0\"\n      },\n      uniforms: {\n        depthBuffer: new Uniform8(null),\n        screenPosition: new Uniform8(new Vector24())\n      },\n      fragmentShader: shader_default12,\n      vertexShader: shader_default13,\n      blending: NoBlending8,\n      depthWrite: false,\n      depthTest: false\n    });\n    this.toneMapped = false;\n    this.mode = DepthCopyMode.FULL;\n  }\n  getInputDepthPacking() {\n    return Number(this.defines.INPUT_DEPTH_PACKING);\n  }\n  setInputDepthPacking(value) {\n    this.defines.INPUT_DEPTH_PACKING = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  getOutputDepthPacking() {\n    return Number(this.defines.OUTPUT_DEPTH_PACKING);\n  }\n  setOutputDepthPacking(value) {\n    this.defines.OUTPUT_DEPTH_PACKING = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  getMode() {\n    return this.mode;\n  }\n  setMode(value) {\n    this.mode = value;\n    this.defines.DEPTH_COPY_MODE = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n};\nvar DepthCopyMode = {\n  FULL: 0,\n  SINGLE: 1\n};\n\n// src/materials/DepthDownsamplingMaterial.js\nimport {NoBlending as NoBlending9, ShaderMaterial as ShaderMaterial9, Uniform as Uniform9, Vector2 as Vector25} from \"three\";\n\n// src/materials/glsl/depth-downsampling/shader.frag\nvar shader_default14 = \"#include <packing>\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D depthBuffer;\\n#else\\nuniform mediump sampler2D depthBuffer;\\n#endif\\n#ifdef DOWNSAMPLE_NORMALS\\nuniform lowp sampler2D normalBuffer;\\n#endif\\nvarying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){\\n#if DEPTH_PACKING == 3201\\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\\n#else\\nreturn texture2D(depthBuffer,uv).r;\\n#endif\\n}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])/4.0;float distances[4];distances[0]=abs(c-samples[0]);distances[1]=abs(c-samples[1]);distances[2]=abs(c-samples[2]);distances[3]=abs(c-samples[3]);float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[4];d[0]=readDepth(vUv0);d[1]=readDepth(vUv1);d[2]=readDepth(vUv2);d[3]=readDepth(vUv3);int index=findBestDepth(d);\\n#ifdef DOWNSAMPLE_NORMALS\\nvec2 uvs[4];uvs[0]=vUv0;uvs[1]=vUv1;uvs[2]=vUv2;uvs[3]=vUv3;vec3 n=texture2D(normalBuffer,uvs[index]).rgb;\\n#else\\nvec3 n=vec3(0.0);\\n#endif\\ngl_FragColor=vec4(n,d[index]);}\";\n\n// src/materials/glsl/depth-downsampling/shader.vert\nvar shader_default15 = \"uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}\";\n\n// src/materials/DepthDownsamplingMaterial.js\nvar DepthDownsamplingMaterial = class extends ShaderMaterial9 {\n  constructor() {\n    super({\n      type: \"DepthDownsamplingMaterial\",\n      defines: {\n        DEPTH_PACKING: \"0\"\n      },\n      uniforms: {\n        depthBuffer: new Uniform9(null),\n        normalBuffer: new Uniform9(null),\n        texelSize: new Uniform9(new Vector25())\n      },\n      fragmentShader: shader_default14,\n      vertexShader: shader_default15,\n      blending: NoBlending9,\n      depthWrite: false,\n      depthTest: false\n    });\n    this.toneMapped = false;\n  }\n  get depthPacking() {\n    return Number(this.defines.DEPTH_PACKING);\n  }\n  set depthPacking(value) {\n    this.defines.DEPTH_PACKING = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  setTexelSize(x, y) {\n    this.uniforms.texelSize.value.set(x, y);\n  }\n};\n\n// src/materials/DepthMaskMaterial.js\nimport {\n  AlwaysDepth,\n  EqualDepth,\n  GreaterDepth,\n  GreaterEqualDepth,\n  LessDepth,\n  LessEqualDepth,\n  NeverDepth,\n  NoBlending as NoBlending10,\n  NotEqualDepth,\n  ShaderMaterial as ShaderMaterial10,\n  Uniform as Uniform10\n} from \"three\";\n\n// src/materials/glsl/depth-mask/shader.frag\nvar shader_default16 = \"#include <common>\\n#include <packing>\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D depthBuffer0;uniform highp sampler2D depthBuffer1;\\n#else\\nuniform mediump sampler2D depthBuffer0;uniform mediump sampler2D depthBuffer1;\\n#endif\\nuniform sampler2D inputBuffer;uniform float bias0;uniform float bias1;varying vec2 vUv;void main(){vec2 depth;\\n#if DEPTH_PACKING_0 == 3201\\ndepth.x=unpackRGBAToDepth(texture2D(depthBuffer0,vUv));\\n#else\\ndepth.x=texture2D(depthBuffer0,vUv).r;\\n#endif\\n#if DEPTH_PACKING_1 == 3201\\ndepth.y=unpackRGBAToDepth(texture2D(depthBuffer1,vUv));\\n#else\\ndepth.y=texture2D(depthBuffer1,vUv).r;\\n#endif\\ndepth=clamp(depth+vec2(bias0,bias1),0.0,1.0);\\n#ifdef KEEP_FAR\\nbool keep=(depth.x==1.0)||depthTest(depth.x,depth.y);\\n#else\\nbool keep=(depth.x!=1.0)&&depthTest(depth.x,depth.y);\\n#endif\\nif(keep){gl_FragColor=texture2D(inputBuffer,vUv);}else{discard;}}\";\n\n// src/materials/DepthMaskMaterial.js\nvar DepthMaskMaterial = class extends ShaderMaterial10 {\n  constructor() {\n    super({\n      type: \"DepthMaskMaterial\",\n      defines: {\n        DEPTH_EPSILON: \"0.00001\",\n        DEPTH_PACKING_0: \"0\",\n        DEPTH_PACKING_1: \"0\",\n        KEEP_FAR: \"1\"\n      },\n      uniforms: {\n        inputBuffer: new Uniform10(null),\n        depthBuffer0: new Uniform10(null),\n        depthBuffer1: new Uniform10(null),\n        bias0: new Uniform10(0),\n        bias1: new Uniform10(0)\n      },\n      fragmentShader: shader_default16,\n      vertexShader: shader_default2,\n      blending: NoBlending10,\n      depthWrite: false,\n      depthTest: false\n    });\n    this.toneMapped = false;\n    this.depthMode = LessDepth;\n    this.setDepthMode(LessDepth);\n  }\n  get keepFar() {\n    return this.defines.KEEP_FAR !== void 0;\n  }\n  set keepFar(value) {\n    if (value) {\n      this.defines.KEEP_FAR = \"1\";\n    } else {\n      delete this.defines.KEEP_FAR;\n    }\n    this.needsUpdate = true;\n  }\n  getEpsilon() {\n    return Number(this.defines.DEPTH_EPSILON);\n  }\n  setEpsilon(value) {\n    this.defines.DEPTH_EPSILON = value.toFixed(16);\n    this.needsUpdate = true;\n  }\n  getDepthMode() {\n    return this.depthMode;\n  }\n  setDepthMode(mode) {\n    let depthTest;\n    switch (mode) {\n      case NeverDepth:\n        depthTest = \"false\";\n        break;\n      case AlwaysDepth:\n        depthTest = \"true\";\n        break;\n      case EqualDepth:\n        depthTest = \"abs(d1 - d0) <= DEPTH_EPSILON\";\n        break;\n      case NotEqualDepth:\n        depthTest = \"abs(d1 - d0) > DEPTH_EPSILON\";\n        break;\n      case LessDepth:\n        depthTest = \"d0 > d1\";\n        break;\n      case LessEqualDepth:\n        depthTest = \"d0 >= d1\";\n        break;\n      case GreaterEqualDepth:\n        depthTest = \"d0 <= d1\";\n        break;\n      case GreaterDepth:\n      default:\n        depthTest = \"d0 < d1\";\n        break;\n    }\n    this.depthMode = mode;\n    this.defines[\"depthTest(d0, d1)\"] = depthTest;\n    this.needsUpdate = true;\n  }\n};\n\n// src/materials/EdgeDetectionMaterial.js\nimport {NoBlending as NoBlending11, ShaderMaterial as ShaderMaterial11, Uniform as Uniform11, Vector2 as Vector26} from \"three\";\nvar EdgeDetectionMaterial = class extends ShaderMaterial11 {\n  constructor(texelSize = new Vector26(), mode = EdgeDetectionMode.COLOR) {\n    super({\n      type: \"EdgeDetectionMaterial\",\n      defines: {\n        LOCAL_CONTRAST_ADAPTATION_FACTOR: \"2.0\",\n        EDGE_THRESHOLD: \"0.1\",\n        DEPTH_THRESHOLD: \"0.01\",\n        PREDICATION_MODE: \"0\",\n        PREDICATION_THRESHOLD: \"0.01\",\n        PREDICATION_SCALE: \"2.0\",\n        PREDICATION_STRENGTH: \"1.0\",\n        DEPTH_PACKING: \"0\"\n      },\n      uniforms: {\n        inputBuffer: new Uniform11(null),\n        depthBuffer: new Uniform11(null),\n        predicationBuffer: new Uniform11(null),\n        texelSize: new Uniform11(texelSize)\n      },\n      fragmentShader: shader_default5,\n      vertexShader: shader_default6,\n      blending: NoBlending11,\n      depthWrite: false,\n      depthTest: false\n    });\n    this.toneMapped = false;\n    this.setEdgeDetectionMode(mode);\n  }\n  get depthPacking() {\n    return Number(this.defines.DEPTH_PACKING);\n  }\n  set depthPacking(value) {\n    this.defines.DEPTH_PACKING = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  setEdgeDetectionMode(mode) {\n    this.defines.EDGE_DETECTION_MODE = mode.toFixed(0);\n    this.needsUpdate = true;\n  }\n  setLocalContrastAdaptationFactor(factor) {\n    this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR = factor.toFixed(\"6\");\n    this.needsUpdate = true;\n  }\n  setEdgeDetectionThreshold(threshold) {\n    this.defines.EDGE_THRESHOLD = threshold.toFixed(\"6\");\n    this.defines.DEPTH_THRESHOLD = (threshold * 0.1).toFixed(\"6\");\n    this.needsUpdate = true;\n  }\n  setPredicationMode(mode) {\n    this.defines.PREDICATION_MODE = mode.toFixed(0);\n    this.needsUpdate = true;\n  }\n  setPredicationBuffer(predicationBuffer) {\n    this.uniforms.predicationBuffer.value = predicationBuffer;\n  }\n  setPredicationThreshold(threshold) {\n    this.defines.PREDICATION_THRESHOLD = threshold.toFixed(\"6\");\n    this.needsUpdate = true;\n  }\n  setPredicationScale(scale) {\n    this.defines.PREDICATION_SCALE = scale.toFixed(\"6\");\n    this.needsUpdate = true;\n  }\n  setPredicationStrength(strength) {\n    this.defines.PREDICATION_STRENGTH = strength.toFixed(\"6\");\n    this.needsUpdate = true;\n  }\n};\nvar EdgeDetectionMode = {\n  DEPTH: 0,\n  LUMA: 1,\n  COLOR: 2\n};\nvar PredicationMode = {\n  DISABLED: 0,\n  DEPTH: 1,\n  CUSTOM: 2\n};\n\n// src/materials/EffectMaterial.js\nimport {NoBlending as NoBlending12, PerspectiveCamera as PerspectiveCamera3, ShaderMaterial as ShaderMaterial12, Uniform as Uniform12, Vector2 as Vector27} from \"three\";\n\n// src/materials/glsl/effect/shader.frag\nvar shader_default17 = \"#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D inputBuffer;\\n#else\\nuniform lowp sampler2D inputBuffer;\\n#endif\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D depthBuffer;\\n#else\\nuniform mediump sampler2D depthBuffer;\\n#endif\\nuniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;float readDepth(const in vec2 uv){\\n#if DEPTH_PACKING == 3201\\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\\n#else\\nreturn texture2D(depthBuffer,uv).r;\\n#endif\\n}float getViewZ(const in float depth){\\n#ifdef PERSPECTIVE_CAMERA\\nreturn perspectiveDepthToViewZ(depth,cameraNear,cameraFar);\\n#else\\nreturn orthographicDepthToViewZ(depth,cameraNear,cameraFar);\\n#endif\\n}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;\\n#ifdef ENCODE_OUTPUT\\n#include <encodings_fragment>\\n#endif\\n#include <dithering_fragment>\\n}\";\n\n// src/materials/glsl/effect/shader.vert\nvar shader_default18 = \"uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}\";\n\n// src/materials/EffectMaterial.js\nvar EffectMaterial = class extends ShaderMaterial12 {\n  constructor(shaderParts = null, defines = null, uniforms = null, camera, dithering = false) {\n    super({\n      type: \"EffectMaterial\",\n      defines: {\n        DEPTH_PACKING: \"0\",\n        ENCODE_OUTPUT: \"1\"\n      },\n      uniforms: {\n        inputBuffer: new Uniform12(null),\n        depthBuffer: new Uniform12(null),\n        resolution: new Uniform12(new Vector27()),\n        texelSize: new Uniform12(new Vector27()),\n        cameraNear: new Uniform12(0.3),\n        cameraFar: new Uniform12(1e3),\n        aspect: new Uniform12(1),\n        time: new Uniform12(0)\n      },\n      blending: NoBlending12,\n      depthWrite: false,\n      depthTest: false,\n      dithering\n    });\n    this.toneMapped = false;\n    if (shaderParts !== null) {\n      this.setShaderParts(shaderParts);\n    }\n    if (defines !== null) {\n      this.setDefines(defines);\n    }\n    if (uniforms !== null) {\n      this.setUniforms(uniforms);\n    }\n    this.adoptCameraSettings(camera);\n  }\n  get depthPacking() {\n    return Number(this.defines.DEPTH_PACKING);\n  }\n  set depthPacking(value) {\n    this.defines.DEPTH_PACKING = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  setShaderParts(shaderParts) {\n    this.fragmentShader = shader_default17.replace(Section.FRAGMENT_HEAD, shaderParts.get(Section.FRAGMENT_HEAD)).replace(Section.FRAGMENT_MAIN_UV, shaderParts.get(Section.FRAGMENT_MAIN_UV)).replace(Section.FRAGMENT_MAIN_IMAGE, shaderParts.get(Section.FRAGMENT_MAIN_IMAGE));\n    this.vertexShader = shader_default18.replace(Section.VERTEX_HEAD, shaderParts.get(Section.VERTEX_HEAD)).replace(Section.VERTEX_MAIN_SUPPORT, shaderParts.get(Section.VERTEX_MAIN_SUPPORT));\n    this.needsUpdate = true;\n    return this;\n  }\n  setDefines(defines) {\n    for (const entry of defines.entries()) {\n      this.defines[entry[0]] = entry[1];\n    }\n    this.needsUpdate = true;\n    return this;\n  }\n  setUniforms(uniforms) {\n    for (const entry of uniforms.entries()) {\n      this.uniforms[entry[0]] = entry[1];\n    }\n    return this;\n  }\n  adoptCameraSettings(camera = null) {\n    if (camera !== null) {\n      this.uniforms.cameraNear.value = camera.near;\n      this.uniforms.cameraFar.value = camera.far;\n      if (camera instanceof PerspectiveCamera3) {\n        this.defines.PERSPECTIVE_CAMERA = \"1\";\n      } else {\n        delete this.defines.PERSPECTIVE_CAMERA;\n      }\n      this.needsUpdate = true;\n    }\n  }\n  setSize(width, height) {\n    const w = Math.max(width, 1);\n    const h = Math.max(height, 1);\n    this.uniforms.resolution.value.set(w, h);\n    this.uniforms.texelSize.value.set(1 / w, 1 / h);\n    this.uniforms.aspect.value = w / h;\n  }\n};\nvar Section = {\n  FRAGMENT_HEAD: \"FRAGMENT_HEAD\",\n  FRAGMENT_MAIN_UV: \"FRAGMENT_MAIN_UV\",\n  FRAGMENT_MAIN_IMAGE: \"FRAGMENT_MAIN_IMAGE\",\n  VERTEX_HEAD: \"VERTEX_HEAD\",\n  VERTEX_MAIN_SUPPORT: \"VERTEX_MAIN_SUPPORT\"\n};\n\n// src/materials/GodRaysMaterial.js\nimport {NoBlending as NoBlending13, ShaderMaterial as ShaderMaterial13, Uniform as Uniform13} from \"three\";\n\n// src/materials/glsl/god-rays/shader.frag\nvar shader_default19 = \"#include <common>\\n#include <dithering_pars_fragment>\\n#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D inputBuffer;\\n#else\\nuniform lowp sampler2D inputBuffer;\\n#endif\\nuniform vec2 lightPosition;uniform float exposure;uniform float decay;uniform float density;uniform float weight;uniform float clampMax;varying vec2 vUv;void main(){vec2 coord=vUv;vec2 delta=lightPosition-coord;delta*=1.0/SAMPLES_FLOAT*density;float illuminationDecay=1.0;vec4 color=vec4(0.0);for(int i=0;i<SAMPLES_INT;++i){coord+=delta;vec4 texel=texture2D(inputBuffer,coord);texel*=illuminationDecay*weight;color+=texel;illuminationDecay*=decay;}gl_FragColor=clamp(color*exposure,0.0,clampMax);\\n#include <dithering_fragment>\\n}\";\n\n// src/materials/GodRaysMaterial.js\nvar GodRaysMaterial = class extends ShaderMaterial13 {\n  constructor(lightPosition) {\n    super({\n      type: \"GodRaysMaterial\",\n      defines: {\n        SAMPLES_INT: \"60\",\n        SAMPLES_FLOAT: \"60.0\"\n      },\n      uniforms: {\n        inputBuffer: new Uniform13(null),\n        lightPosition: new Uniform13(lightPosition),\n        density: new Uniform13(1),\n        decay: new Uniform13(1),\n        weight: new Uniform13(1),\n        exposure: new Uniform13(1),\n        clampMax: new Uniform13(1)\n      },\n      fragmentShader: shader_default19,\n      vertexShader: shader_default2,\n      blending: NoBlending13,\n      depthWrite: false,\n      depthTest: false\n    });\n    this.toneMapped = false;\n  }\n  get samples() {\n    return Number(this.defines.SAMPLES_INT);\n  }\n  set samples(value) {\n    const s = Math.floor(value);\n    this.defines.SAMPLES_INT = s.toFixed(0);\n    this.defines.SAMPLES_FLOAT = s.toFixed(1);\n    this.needsUpdate = true;\n  }\n};\n\n// src/materials/LuminanceMaterial.js\nimport {NoBlending as NoBlending14, ShaderMaterial as ShaderMaterial14, Uniform as Uniform14, Vector2 as Vector28} from \"three\";\n\n// src/materials/glsl/luminance/shader.frag\nvar shader_default20 = \"#include <common>\\n#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D inputBuffer;\\n#else\\nuniform lowp sampler2D inputBuffer;\\n#endif\\n#ifdef RANGE\\nuniform vec2 range;\\n#elif defined(THRESHOLD)\\nuniform float threshold;uniform float smoothing;\\n#endif\\nvarying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=linearToRelativeLuminance(texel.rgb);\\n#ifdef RANGE\\nfloat low=step(range.x,l);float high=step(l,range.y);l*=low*high;\\n#elif defined(THRESHOLD)\\nl=smoothstep(threshold,threshold+smoothing,l);\\n#endif\\n#ifdef COLOR\\ngl_FragColor=vec4(texel.rgb*l,l);\\n#else\\ngl_FragColor=vec4(l);\\n#endif\\n}\";\n\n// src/materials/LuminanceMaterial.js\nvar LuminanceMaterial = class extends ShaderMaterial14 {\n  constructor(colorOutput = false, luminanceRange = null) {\n    const useRange = luminanceRange !== null;\n    super({\n      type: \"LuminanceMaterial\",\n      uniforms: {\n        inputBuffer: new Uniform14(null),\n        threshold: new Uniform14(0),\n        smoothing: new Uniform14(1),\n        range: new Uniform14(useRange ? luminanceRange : new Vector28())\n      },\n      fragmentShader: shader_default20,\n      vertexShader: shader_default2,\n      blending: NoBlending14,\n      depthWrite: false,\n      depthTest: false\n    });\n    this.toneMapped = false;\n    this.colorOutput = colorOutput;\n    this.useThreshold = true;\n    this.useRange = useRange;\n  }\n  get threshold() {\n    return this.uniforms.threshold.value;\n  }\n  set threshold(value) {\n    this.uniforms.threshold.value = value;\n  }\n  get smoothing() {\n    return this.uniforms.smoothing.value;\n  }\n  set smoothing(value) {\n    this.uniforms.smoothing.value = value;\n  }\n  get useThreshold() {\n    return this.defines.THRESHOLD !== void 0;\n  }\n  set useThreshold(value) {\n    if (value) {\n      this.defines.THRESHOLD = \"1\";\n    } else {\n      delete this.defines.THRESHOLD;\n    }\n    this.needsUpdate = true;\n  }\n  get colorOutput() {\n    return this.defines.COLOR !== void 0;\n  }\n  set colorOutput(value) {\n    if (value) {\n      this.defines.COLOR = \"1\";\n    } else {\n      delete this.defines.COLOR;\n    }\n    this.needsUpdate = true;\n  }\n  setColorOutputEnabled(enabled) {\n    this.colorOutput = enabled;\n  }\n  get useRange() {\n    return this.defines.RANGE !== void 0;\n  }\n  set useRange(value) {\n    if (value) {\n      this.defines.RANGE = \"1\";\n    } else {\n      delete this.defines.RANGE;\n    }\n    this.needsUpdate = true;\n  }\n  get luminanceRange() {\n    return this.useRange;\n  }\n  set luminanceRange(value) {\n    this.useRange = value;\n  }\n  setLuminanceRangeEnabled(enabled) {\n    this.useRange = enabled;\n  }\n};\n\n// src/materials/MaskMaterial.js\nimport {NoBlending as NoBlending15, ShaderMaterial as ShaderMaterial15, Uniform as Uniform15, UnsignedByteType} from \"three\";\n\n// src/materials/glsl/mask/shader.frag\nvar shader_default21 = \"#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D inputBuffer;\\n#else\\nuniform lowp sampler2D inputBuffer;\\n#endif\\n#ifdef MASK_PRECISION_HIGH\\nuniform mediump sampler2D maskTexture;\\n#else\\nuniform lowp sampler2D maskTexture;\\n#endif\\n#if MASK_FUNCTION != 0\\nuniform float strength;\\n#endif\\nvarying vec2 vUv;void main(){\\n#if COLOR_CHANNEL == 0\\nfloat mask=texture2D(maskTexture,vUv).r;\\n#elif COLOR_CHANNEL == 1\\nfloat mask=texture2D(maskTexture,vUv).g;\\n#elif COLOR_CHANNEL == 2\\nfloat mask=texture2D(maskTexture,vUv).b;\\n#else\\nfloat mask=texture2D(maskTexture,vUv).a;\\n#endif\\n#if MASK_FUNCTION == 0\\n#ifdef INVERTED\\nif(mask>0.0){discard;}\\n#else\\nif(mask==0.0){discard;}\\n#endif\\n#else\\nmask=clamp(mask*strength,0.0,1.0);\\n#ifdef INVERTED\\nmask=1.0-mask;\\n#endif\\n#if MASK_FUNCTION == 1\\ngl_FragColor=mask*texture2D(inputBuffer,vUv);\\n#else\\ngl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);\\n#endif\\n#endif\\n}\";\n\n// src/materials/MaskMaterial.js\nvar MaskMaterial = class extends ShaderMaterial15 {\n  constructor(maskTexture = null) {\n    super({\n      type: \"MaskMaterial\",\n      uniforms: {\n        maskTexture: new Uniform15(maskTexture),\n        inputBuffer: new Uniform15(null),\n        strength: new Uniform15(1)\n      },\n      fragmentShader: shader_default21,\n      vertexShader: shader_default2,\n      blending: NoBlending15,\n      depthWrite: false,\n      depthTest: false\n    });\n    this.toneMapped = false;\n    this.colorChannel = ColorChannel.RED;\n    this.maskFunction = MaskFunction.DISCARD;\n  }\n  set maskTexture(value) {\n    this.uniforms.maskTexture.value = value;\n    delete this.defines.MASK_PRECISION_HIGH;\n    if (value.type !== UnsignedByteType) {\n      this.defines.MASK_PRECISION_HIGH = \"1\";\n    }\n    this.needsUpdate = true;\n  }\n  set colorChannel(value) {\n    this.defines.COLOR_CHANNEL = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  set maskFunction(value) {\n    this.defines.MASK_FUNCTION = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  get inverted() {\n    return this.defines.INVERTED !== void 0;\n  }\n  set inverted(value) {\n    if (this.inverted && !value) {\n      delete this.defines.INVERTED;\n    } else if (value) {\n      this.defines.INVERTED = \"1\";\n    }\n    this.needsUpdate = true;\n  }\n  get strength() {\n    return this.uniforms.strength.value;\n  }\n  set strength(value) {\n    this.uniforms.strength.value = value;\n  }\n};\nvar MaskFunction = {\n  DISCARD: 0,\n  MULTIPLY: 1,\n  MULTIPLY_RGB_SET_ALPHA: 2\n};\n\n// src/materials/OutlineMaterial.js\nimport {NoBlending as NoBlending16, ShaderMaterial as ShaderMaterial16, Uniform as Uniform16, Vector2 as Vector29} from \"three\";\n\n// src/materials/glsl/outline/shader.frag\nvar shader_default22 = \"uniform lowp sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 c0=texture2D(inputBuffer,vUv0).rg;vec2 c1=texture2D(inputBuffer,vUv1).rg;vec2 c2=texture2D(inputBuffer,vUv2).rg;vec2 c3=texture2D(inputBuffer,vUv3).rg;float d0=(c0.x-c1.x)*0.5;float d1=(c2.x-c3.x)*0.5;float d=length(vec2(d0,d1));float a0=min(c0.y,c1.y);float a1=min(c2.y,c3.y);float visibilityFactor=min(a0,a1);gl_FragColor.rg=(1.0-visibilityFactor>0.001)? vec2(d,0.0): vec2(0.0,d);}\";\n\n// src/materials/glsl/outline/shader.vert\nvar shader_default23 = \"uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=vec2(uv.x+texelSize.x,uv.y);vUv1=vec2(uv.x-texelSize.x,uv.y);vUv2=vec2(uv.x,uv.y+texelSize.y);vUv3=vec2(uv.x,uv.y-texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}\";\n\n// src/materials/OutlineMaterial.js\nvar OutlineMaterial = class extends ShaderMaterial16 {\n  constructor(texelSize = new Vector29()) {\n    super({\n      type: \"OutlineMaterial\",\n      uniforms: {\n        inputBuffer: new Uniform16(null),\n        texelSize: new Uniform16(new Vector29())\n      },\n      fragmentShader: shader_default22,\n      vertexShader: shader_default23,\n      blending: NoBlending16,\n      depthWrite: false,\n      depthTest: false\n    });\n    this.toneMapped = false;\n    this.setTexelSize(texelSize.x, texelSize.y);\n    this.uniforms.maskTexture = this.uniforms.inputBuffer;\n  }\n  setTexelSize(x, y) {\n    this.uniforms.texelSize.value.set(x, y);\n  }\n};\nvar OutlineEdgesMaterial = OutlineMaterial;\n\n// src/materials/SMAAWeightsMaterial.js\nimport {NoBlending as NoBlending17, ShaderMaterial as ShaderMaterial17, Uniform as Uniform17, Vector2 as Vector210} from \"three\";\n\n// src/materials/glsl/smaa-weights/shader.frag\nvar shader_default24 = \"#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)\\n#if __VERSION__ < 300\\n#define round(v) floor(v + 0.5)\\n#endif\\n#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D inputBuffer;\\n#else\\nuniform lowp sampler2D inputBuffer;\\n#endif\\nuniform lowp sampler2D areaTexture;uniform lowp sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}float searchLength(const in vec2 e,const in float offset){vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}float searchXLeft(in vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\\n#if !defined(DISABLE_CORNER_DETECTION)\\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);\\n#endif\\n}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\\n#if !defined(DISABLE_CORNER_DETECTION)\\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);\\n#endif\\n}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){\\n#if !defined(DISABLE_DIAG_DETECTION)\\nweights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){\\n#endif\\nvec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);\\n#if !defined(DISABLE_DIAG_DETECTION)\\n}else{e.r=0.0;}\\n#endif\\n}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}\";\n\n// src/materials/glsl/smaa-weights/shader.vert\nvar shader_default25 = \"uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}\";\n\n// src/materials/SMAAWeightsMaterial.js\nvar SMAAWeightsMaterial = class extends ShaderMaterial17 {\n  constructor(texelSize = new Vector210(), resolution = new Vector210()) {\n    super({\n      type: \"SMAAWeightsMaterial\",\n      defines: {\n        MAX_SEARCH_STEPS_INT: \"16\",\n        MAX_SEARCH_STEPS_FLOAT: \"16.0\",\n        MAX_SEARCH_STEPS_DIAG_INT: \"8\",\n        MAX_SEARCH_STEPS_DIAG_FLOAT: \"8.0\",\n        CORNER_ROUNDING: \"25\",\n        CORNER_ROUNDING_NORM: \"0.25\",\n        AREATEX_MAX_DISTANCE: \"16.0\",\n        AREATEX_MAX_DISTANCE_DIAG: \"20.0\",\n        AREATEX_PIXEL_SIZE: \"(1.0 / vec2(160.0, 560.0))\",\n        AREATEX_SUBTEX_SIZE: \"(1.0 / 7.0)\",\n        SEARCHTEX_SIZE: \"vec2(66.0, 33.0)\",\n        SEARCHTEX_PACKED_SIZE: \"vec2(64.0, 16.0)\"\n      },\n      uniforms: {\n        inputBuffer: new Uniform17(null),\n        areaTexture: new Uniform17(null),\n        searchTexture: new Uniform17(null),\n        texelSize: new Uniform17(texelSize),\n        resolution: new Uniform17(resolution)\n      },\n      fragmentShader: shader_default24,\n      vertexShader: shader_default25,\n      blending: NoBlending17,\n      depthWrite: false,\n      depthTest: false\n    });\n    this.toneMapped = false;\n  }\n  setOrthogonalSearchSteps(steps) {\n    const s = Math.min(Math.max(steps, 0), 112);\n    this.defines.MAX_SEARCH_STEPS_INT = s.toFixed(\"0\");\n    this.defines.MAX_SEARCH_STEPS_FLOAT = s.toFixed(\"1\");\n    this.needsUpdate = true;\n  }\n  setDiagonalSearchSteps(steps) {\n    const s = Math.min(Math.max(steps, 0), 20);\n    this.defines.MAX_SEARCH_STEPS_DIAG_INT = s.toFixed(\"0\");\n    this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT = s.toFixed(\"1\");\n    this.needsUpdate = true;\n  }\n  setCornerRounding(rounding) {\n    const r = Math.min(Math.max(rounding, 0), 100);\n    this.defines.CORNER_ROUNDING = r.toFixed(\"4\");\n    this.defines.CORNER_ROUNDING_NORM = (r / 100).toFixed(\"4\");\n    this.needsUpdate = true;\n  }\n  get diagonalDetection() {\n    return this.defines.DISABLE_DIAG_DETECTION === void 0;\n  }\n  set diagonalDetection(value) {\n    if (value) {\n      delete this.defines.DISABLE_DIAG_DETECTION;\n    } else {\n      this.defines.DISABLE_DIAG_DETECTION = \"1\";\n    }\n    this.needsUpdate = true;\n  }\n  get cornerRounding() {\n    return this.defines.DISABLE_CORNER_DETECTION === void 0;\n  }\n  set cornerRounding(value) {\n    if (value) {\n      delete this.defines.DISABLE_CORNER_DETECTION;\n    } else {\n      this.defines.DISABLE_CORNER_DETECTION = \"1\";\n    }\n    this.needsUpdate = true;\n  }\n};\n\n// src/materials/SSAOMaterial.js\nimport {\n  Matrix4,\n  NoBlending as NoBlending18,\n  PerspectiveCamera as PerspectiveCamera4,\n  ShaderMaterial as ShaderMaterial18,\n  Uniform as Uniform18,\n  Vector2 as Vector211\n} from \"three\";\n\n// src/materials/glsl/ssao/shader.frag\nvar shader_default26 = \"#include <common>\\n#include <packing>\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D normalDepthBuffer;\\n#else\\nuniform mediump sampler2D normalDepthBuffer;\\n#endif\\n#ifndef NORMAL_DEPTH\\nuniform lowp sampler2D normalBuffer;float readDepth(const in vec2 uv){\\n#if DEPTH_PACKING == 3201\\nreturn unpackRGBAToDepth(texture2D(normalDepthBuffer,uv));\\n#else\\nreturn texture2D(normalDepthBuffer,uv).r;\\n#endif\\n}\\n#endif\\nuniform lowp sampler2D noiseTexture;uniform mat4 inverseProjectionMatrix;uniform mat4 projectionMatrix;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float minRadiusScale;uniform float intensity;uniform float fade;uniform float bias;uniform vec2 distanceCutoff;uniform vec2 proximityCutoff;varying vec2 vUv;varying vec2 vUv2;float getViewZ(const in float depth){\\n#ifdef PERSPECTIVE_CAMERA\\nreturn perspectiveDepthToViewZ(depth,cameraNear,cameraFar);\\n#else\\nreturn orthographicDepthToViewZ(depth,cameraNear,cameraFar);\\n#endif\\n}vec3 getViewPosition(const in vec2 screenPosition,const in float depth,const in float viewZ){vec4 clipPosition=vec4(vec3(screenPosition,depth)*2.0-1.0,1.0);float clipW=projectionMatrix[2][3]*viewZ+projectionMatrix[3][3];clipPosition*=clipW;return(inverseProjectionMatrix*clipPosition).xyz;}float getAmbientOcclusion(const in vec3 p,const in vec3 n,const in float depth,const in vec2 uv){\\n#ifdef DISTANCE_SCALING\\nfloat radiusScale=1.0-smoothstep(0.0,distanceCutoff.y,depth);radiusScale=radiusScale*(1.0-minRadiusScale)+minRadiusScale;float radius=RADIUS*radiusScale;\\n#else\\nfloat radius=RADIUS;\\n#endif\\nfloat noise=texture2D(noiseTexture,vUv2).r;float baseAngle=noise*PI2;float invSamples=1.0/SAMPLES_FLOAT;float rings=SPIRAL_TURNS*PI2;float occlusion=0.0;int taps=0;for(int i=0;i<SAMPLES_INT;++i){float alpha=(float(i)+0.5)*invSamples;float angle=alpha*rings+baseAngle;vec2 coord=alpha*radius*vec2(cos(angle),sin(angle))*texelSize+uv;if(coord.s<0.0||coord.s>1.0||coord.t<0.0||coord.t>1.0){continue;}\\n#ifdef NORMAL_DEPTH\\nfloat sampleDepth=texture2D(normalDepthBuffer,coord).a;\\n#else\\nfloat sampleDepth=readDepth(coord);\\n#endif\\nfloat viewZ=getViewZ(sampleDepth);\\n#ifdef PERSPECTIVE_CAMERA\\nfloat linearSampleDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);\\n#else\\nfloat linearSampleDepth=sampleDepth;\\n#endif\\nfloat proximity=abs(depth-linearSampleDepth);if(proximity<proximityCutoff.y){float falloff=1.0-smoothstep(proximityCutoff.x,proximityCutoff.y,proximity);vec3 Q=getViewPosition(coord,sampleDepth,viewZ);vec3 v=Q-p;float vv=dot(v,v);float vn=dot(v,n)-bias;float f=max(RADIUS_SQ-vv,0.0)/RADIUS_SQ;occlusion+=(f*f*f*max(vn/(fade+vv),0.0))*falloff;}++taps;}return occlusion/(4.0*max(float(taps),1.0));}void main(){\\n#ifdef NORMAL_DEPTH\\nvec4 normalDepth=texture2D(normalDepthBuffer,vUv);\\n#else\\nvec4 normalDepth=vec4(texture2D(normalBuffer,vUv).rgb,readDepth(vUv));\\n#endif\\nfloat ao=1.0;float depth=normalDepth.a;float viewZ=getViewZ(depth);\\n#ifdef PERSPECTIVE_CAMERA\\nfloat linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);\\n#else\\nfloat linearDepth=depth;\\n#endif\\nif(linearDepth<distanceCutoff.y){vec3 viewPosition=getViewPosition(vUv,depth,viewZ);vec3 viewNormal=unpackRGBToNormal(normalDepth.rgb);ao-=getAmbientOcclusion(viewPosition,viewNormal,linearDepth,vUv);float d=smoothstep(distanceCutoff.x,distanceCutoff.y,linearDepth);ao=mix(ao,1.0,d);ao=clamp(pow(ao,abs(intensity)),0.0,1.0);}gl_FragColor.r=ao;}\";\n\n// src/materials/glsl/ssao/shader.vert\nvar shader_default27 = \"uniform vec2 noiseScale;varying vec2 vUv;varying vec2 vUv2;void main(){vUv=position.xy*0.5+0.5;vUv2=vUv*noiseScale;gl_Position=vec4(position.xy,1.0,1.0);}\";\n\n// src/materials/SSAOMaterial.js\nvar SSAOMaterial = class extends ShaderMaterial18 {\n  constructor(camera) {\n    super({\n      type: \"SSAOMaterial\",\n      defines: {\n        SAMPLES_INT: \"0\",\n        SAMPLES_FLOAT: \"0.0\",\n        SPIRAL_TURNS: \"0.0\",\n        RADIUS: \"1.0\",\n        RADIUS_SQ: \"1.0\",\n        DISTANCE_SCALING: \"1\",\n        DEPTH_PACKING: \"0\"\n      },\n      uniforms: {\n        normalBuffer: new Uniform18(null),\n        normalDepthBuffer: new Uniform18(null),\n        noiseTexture: new Uniform18(null),\n        inverseProjectionMatrix: new Uniform18(new Matrix4()),\n        projectionMatrix: new Uniform18(new Matrix4()),\n        texelSize: new Uniform18(new Vector211()),\n        cameraNear: new Uniform18(0),\n        cameraFar: new Uniform18(0),\n        distanceCutoff: new Uniform18(new Vector211()),\n        proximityCutoff: new Uniform18(new Vector211()),\n        noiseScale: new Uniform18(new Vector211()),\n        minRadiusScale: new Uniform18(0.33),\n        intensity: new Uniform18(1),\n        fade: new Uniform18(0.01),\n        bias: new Uniform18(0)\n      },\n      fragmentShader: shader_default26,\n      vertexShader: shader_default27,\n      blending: NoBlending18,\n      depthWrite: false,\n      depthTest: false\n    });\n    this.toneMapped = false;\n    this.adoptCameraSettings(camera);\n  }\n  get depthPacking() {\n    return Number(this.defines.DEPTH_PACKING);\n  }\n  set depthPacking(value) {\n    this.defines.DEPTH_PACKING = value.toFixed(0);\n    this.needsUpdate = true;\n  }\n  setTexelSize(x, y) {\n    this.uniforms.texelSize.value.set(x, y);\n  }\n  adoptCameraSettings(camera = null) {\n    if (camera !== null) {\n      const uniforms = this.uniforms;\n      uniforms.cameraNear.value = camera.near;\n      uniforms.cameraFar.value = camera.far;\n      if (camera instanceof PerspectiveCamera4) {\n        this.defines.PERSPECTIVE_CAMERA = \"1\";\n      } else {\n        delete this.defines.PERSPECTIVE_CAMERA;\n      }\n      this.needsUpdate = true;\n    }\n  }\n};\n\n// src/passes/Pass.js\nimport {\n  BufferAttribute,\n  BufferGeometry,\n  Camera,\n  Mesh,\n  Scene\n} from \"three\";\nvar dummyCamera = new Camera();\nvar geometry = null;\nfunction getFullscreenTriangle() {\n  if (geometry === null) {\n    const vertices = new Float32Array([-1, -1, 0, 3, -1, 0, -1, 3, 0]);\n    const uvs = new Float32Array([0, 0, 2, 0, 0, 2]);\n    geometry = new BufferGeometry();\n    if (geometry.setAttribute !== void 0) {\n      geometry.setAttribute(\"position\", new BufferAttribute(vertices, 3));\n      geometry.setAttribute(\"uv\", new BufferAttribute(uvs, 2));\n    } else {\n      geometry.addAttribute(\"position\", new BufferAttribute(vertices, 3));\n      geometry.addAttribute(\"uv\", new BufferAttribute(uvs, 2));\n    }\n  }\n  return geometry;\n}\nvar Pass = class {\n  constructor(name = \"Pass\", scene = new Scene(), camera = dummyCamera) {\n    this.name = name;\n    this.scene = scene;\n    this.camera = camera;\n    this.screen = null;\n    this.rtt = true;\n    this.needsSwap = true;\n    this.needsDepthTexture = false;\n    this.enabled = true;\n  }\n  get renderToScreen() {\n    return !this.rtt;\n  }\n  set renderToScreen(value) {\n    if (this.rtt === value) {\n      const material = this.getFullscreenMaterial();\n      if (material !== null) {\n        material.needsUpdate = true;\n      }\n      this.rtt = !value;\n    }\n  }\n  getFullscreenMaterial() {\n    return this.screen !== null ? this.screen.material : null;\n  }\n  setFullscreenMaterial(material) {\n    let screen = this.screen;\n    if (screen !== null) {\n      screen.material = material;\n    } else {\n      screen = new Mesh(getFullscreenTriangle(), material);\n      screen.frustumCulled = false;\n      if (this.scene === null) {\n        this.scene = new Scene();\n      }\n      this.scene.add(screen);\n      this.screen = screen;\n    }\n  }\n  getDepthTexture() {\n    return null;\n  }\n  setDepthTexture(depthTexture, depthPacking = 0) {\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    throw new Error(\"Render method not implemented!\");\n  }\n  setSize(width, height) {\n  }\n  initialize(renderer, alpha, frameBufferType) {\n  }\n  dispose() {\n    const material = this.getFullscreenMaterial();\n    if (material !== null) {\n      material.dispose();\n    }\n    for (const key of Object.keys(this)) {\n      const property = this[key];\n      if (property !== null && typeof property.dispose === \"function\") {\n        if (property instanceof Scene) {\n          continue;\n        }\n        this[key].dispose();\n      }\n    }\n  }\n};\n\n// src/passes/SavePass.js\nimport {\n  LinearFilter,\n  RGBFormat,\n  UnsignedByteType as UnsignedByteType2,\n  WebGLRenderTarget\n} from \"three\";\nvar SavePass = class extends Pass {\n  constructor(renderTarget, resize = true) {\n    super(\"SavePass\");\n    this.setFullscreenMaterial(new CopyMaterial());\n    this.needsSwap = false;\n    this.renderTarget = renderTarget;\n    if (renderTarget === void 0) {\n      this.renderTarget = new WebGLRenderTarget(1, 1, {\n        minFilter: LinearFilter,\n        magFilter: LinearFilter,\n        stencilBuffer: false,\n        depthBuffer: false\n      });\n      this.renderTarget.texture.name = \"SavePass.Target\";\n    }\n    this.resize = resize;\n  }\n  get texture() {\n    return this.renderTarget.texture;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    this.getFullscreenMaterial().uniforms.inputBuffer.value = inputBuffer.texture;\n    renderer.setRenderTarget(this.renderToScreen ? null : this.renderTarget);\n    renderer.render(this.scene, this.camera);\n  }\n  setSize(width, height) {\n    if (this.resize) {\n      const w = Math.max(width, 1);\n      const h = Math.max(height, 1);\n      this.renderTarget.setSize(w, h);\n    }\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    if (!alpha && frameBufferType === UnsignedByteType2) {\n      this.renderTarget.texture.format = RGBFormat;\n    }\n    if (frameBufferType !== void 0) {\n      this.renderTarget.texture.type = frameBufferType;\n      if (frameBufferType !== UnsignedByteType2) {\n        const material = this.getFullscreenMaterial();\n        material.defines.FRAMEBUFFER_PRECISION_HIGH = \"1\";\n      }\n    }\n  }\n};\n\n// src/passes/AdaptiveLuminancePass.js\nvar AdaptiveLuminancePass = class extends Pass {\n  constructor(luminanceBuffer, {\n    minLuminance = 0.01,\n    adaptationRate = 1\n  } = {}) {\n    super(\"AdaptiveLuminancePass\");\n    this.setFullscreenMaterial(new AdaptiveLuminanceMaterial());\n    this.needsSwap = false;\n    this.renderTargetPrevious = new WebGLRenderTarget2(1, 1, {\n      minFilter: NearestFilter,\n      magFilter: NearestFilter,\n      type: HalfFloatType,\n      stencilBuffer: false,\n      depthBuffer: false,\n      format: RGBAFormat\n    });\n    this.renderTargetPrevious.texture.name = \"Luminance.Previous\";\n    const uniforms = this.getFullscreenMaterial().uniforms;\n    uniforms.luminanceBuffer0.value = this.renderTargetPrevious.texture;\n    uniforms.luminanceBuffer1.value = luminanceBuffer;\n    uniforms.minLuminance.value = minLuminance;\n    this.renderTargetAdapted = this.renderTargetPrevious.clone();\n    this.renderTargetAdapted.texture.name = \"Luminance.Adapted\";\n    this.savePass = new SavePass(this.renderTargetPrevious, false);\n    this.adaptationRate = adaptationRate;\n  }\n  get texture() {\n    return this.renderTargetAdapted.texture;\n  }\n  set mipLevel1x1(value) {\n    const material = this.getFullscreenMaterial();\n    material.defines.MIP_LEVEL_1X1 = value.toFixed(1);\n    material.needsUpdate = true;\n  }\n  get adaptationRate() {\n    return this.getFullscreenMaterial().uniforms.tau.value;\n  }\n  set adaptationRate(value) {\n    this.getFullscreenMaterial().uniforms.tau.value = value;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    this.getFullscreenMaterial().uniforms.deltaTime.value = deltaTime;\n    renderer.setRenderTarget(this.renderToScreen ? null : this.renderTargetAdapted);\n    renderer.render(this.scene, this.camera);\n    this.savePass.render(renderer, this.renderTargetAdapted);\n  }\n};\n\n// src/passes/BlurPass.js\nimport {\n  LinearFilter as LinearFilter2,\n  RGBFormat as RGBFormat2,\n  UnsignedByteType as UnsignedByteType3,\n  WebGLRenderTarget as WebGLRenderTarget3\n} from \"three\";\n\n// src/core/Resizer.js\nimport {Vector2 as Vector212} from \"three\";\nvar AUTO_SIZE = -1;\nvar Resizer = class {\n  constructor(resizable, width = AUTO_SIZE, height = AUTO_SIZE, scale = 1) {\n    this.resizable = resizable;\n    this.base = new Vector212(1, 1);\n    this.target = new Vector212(width, height);\n    this.s = scale;\n  }\n  get scale() {\n    return this.s;\n  }\n  set scale(value) {\n    this.s = value;\n    this.target.x = AUTO_SIZE;\n    this.target.y = AUTO_SIZE;\n    this.resizable.setSize(this.base.x, this.base.y);\n  }\n  get width() {\n    const base = this.base;\n    const target = this.target;\n    let result;\n    if (target.x !== AUTO_SIZE) {\n      result = target.x;\n    } else if (target.y !== AUTO_SIZE) {\n      result = Math.round(target.y * (base.x / base.y));\n    } else {\n      result = Math.round(base.x * this.s);\n    }\n    return result;\n  }\n  set width(value) {\n    this.target.x = value;\n    this.resizable.setSize(this.base.x, this.base.y);\n  }\n  get height() {\n    const base = this.base;\n    const target = this.target;\n    let result;\n    if (target.y !== AUTO_SIZE) {\n      result = target.y;\n    } else if (target.x !== AUTO_SIZE) {\n      result = Math.round(target.x / (base.x / base.y));\n    } else {\n      result = Math.round(base.y * this.s);\n    }\n    return result;\n  }\n  set height(value) {\n    this.target.y = value;\n    this.resizable.setSize(this.base.x, this.base.y);\n  }\n  static get AUTO_SIZE() {\n    return AUTO_SIZE;\n  }\n};\n\n// src/passes/BlurPass.js\nvar BlurPass = class extends Pass {\n  constructor({\n    resolutionScale = 0.5,\n    width = Resizer.AUTO_SIZE,\n    height = Resizer.AUTO_SIZE,\n    kernelSize = KernelSize.LARGE\n  } = {}) {\n    super(\"BlurPass\");\n    this.renderTargetA = new WebGLRenderTarget3(1, 1, {\n      minFilter: LinearFilter2,\n      magFilter: LinearFilter2,\n      stencilBuffer: false,\n      depthBuffer: false\n    });\n    this.renderTargetA.texture.name = \"Blur.Target.A\";\n    this.renderTargetB = this.renderTargetA.clone();\n    this.renderTargetB.texture.name = \"Blur.Target.B\";\n    this.resolution = new Resizer(this, width, height, resolutionScale);\n    this.convolutionMaterial = new ConvolutionMaterial();\n    this.ditheredConvolutionMaterial = new ConvolutionMaterial();\n    this.ditheredConvolutionMaterial.dithering = true;\n    this.dithering = false;\n    this.kernelSize = kernelSize;\n  }\n  get width() {\n    return this.resolution.width;\n  }\n  set width(value) {\n    this.resolution.width = value;\n  }\n  get height() {\n    return this.resolution.height;\n  }\n  set height(value) {\n    this.resolution.height = value;\n  }\n  get scale() {\n    return this.convolutionMaterial.uniforms.scale.value;\n  }\n  set scale(value) {\n    this.convolutionMaterial.uniforms.scale.value = value;\n    this.ditheredConvolutionMaterial.uniforms.scale.value = value;\n  }\n  get kernelSize() {\n    return this.convolutionMaterial.kernelSize;\n  }\n  set kernelSize(value) {\n    this.convolutionMaterial.kernelSize = value;\n    this.ditheredConvolutionMaterial.kernelSize = value;\n  }\n  getResolutionScale() {\n    return this.resolution.scale;\n  }\n  setResolutionScale(scale) {\n    this.resolution.scale = scale;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    const scene = this.scene;\n    const camera = this.camera;\n    const renderTargetA = this.renderTargetA;\n    const renderTargetB = this.renderTargetB;\n    let material = this.convolutionMaterial;\n    let uniforms = material.uniforms;\n    const kernel = material.getKernel();\n    let lastRT = inputBuffer;\n    let destRT;\n    let i, l;\n    this.setFullscreenMaterial(material);\n    for (i = 0, l = kernel.length - 1; i < l; ++i) {\n      destRT = (i & 1) === 0 ? renderTargetA : renderTargetB;\n      uniforms.kernel.value = kernel[i];\n      uniforms.inputBuffer.value = lastRT.texture;\n      renderer.setRenderTarget(destRT);\n      renderer.render(scene, camera);\n      lastRT = destRT;\n    }\n    if (this.dithering) {\n      material = this.ditheredConvolutionMaterial;\n      uniforms = material.uniforms;\n      this.setFullscreenMaterial(material);\n    }\n    uniforms.kernel.value = kernel[i];\n    uniforms.inputBuffer.value = lastRT.texture;\n    renderer.setRenderTarget(this.renderToScreen ? null : outputBuffer);\n    renderer.render(scene, camera);\n  }\n  setSize(width, height) {\n    const resolution = this.resolution;\n    resolution.base.set(width, height);\n    const w = resolution.width;\n    const h = resolution.height;\n    this.renderTargetA.setSize(w, h);\n    this.renderTargetB.setSize(w, h);\n    this.convolutionMaterial.setTexelSize(1 / w, 1 / h);\n    this.ditheredConvolutionMaterial.setTexelSize(1 / w, 1 / h);\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    if (!alpha && frameBufferType === UnsignedByteType3) {\n      this.renderTargetA.texture.format = RGBFormat2;\n      this.renderTargetB.texture.format = RGBFormat2;\n    }\n    if (frameBufferType !== void 0) {\n      this.renderTargetA.texture.type = frameBufferType;\n      this.renderTargetB.texture.type = frameBufferType;\n      if (frameBufferType !== UnsignedByteType3) {\n        const m0 = this.convolutionMaterial;\n        const m1 = this.ditheredConvolutionMaterial;\n        m0.defines.FRAMEBUFFER_PRECISION_HIGH = \"1\";\n        m1.defines.FRAMEBUFFER_PRECISION_HIGH = \"1\";\n      }\n    }\n  }\n  static get AUTO_SIZE() {\n    return Resizer.AUTO_SIZE;\n  }\n};\n\n// src/passes/ClearMaskPass.js\nvar ClearMaskPass = class extends Pass {\n  constructor() {\n    super(\"ClearMaskPass\", null, null);\n    this.needsSwap = false;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    const stencil = renderer.state.buffers.stencil;\n    stencil.setLocked(false);\n    stencil.setTest(false);\n  }\n};\n\n// src/passes/ClearPass.js\nimport {Color} from \"three\";\nvar color = new Color();\nvar ClearPass = class extends Pass {\n  constructor(color2 = true, depth = true, stencil = false) {\n    super(\"ClearPass\", null, null);\n    this.needsSwap = false;\n    this.color = color2;\n    this.depth = depth;\n    this.stencil = stencil;\n    this.overrideClearColor = null;\n    this.overrideClearAlpha = -1;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    const overrideClearColor = this.overrideClearColor;\n    const overrideClearAlpha = this.overrideClearAlpha;\n    const clearAlpha = renderer.getClearAlpha();\n    const hasOverrideClearColor = overrideClearColor !== null;\n    const hasOverrideClearAlpha = overrideClearAlpha >= 0;\n    if (hasOverrideClearColor) {\n      color.copy(renderer.getClearColor(color));\n      renderer.setClearColor(overrideClearColor, hasOverrideClearAlpha ? overrideClearAlpha : clearAlpha);\n    } else if (hasOverrideClearAlpha) {\n      renderer.setClearAlpha(overrideClearAlpha);\n    }\n    renderer.setRenderTarget(this.renderToScreen ? null : inputBuffer);\n    renderer.clear(this.color, this.depth, this.stencil);\n    if (hasOverrideClearColor) {\n      renderer.setClearColor(color, clearAlpha);\n    } else if (hasOverrideClearAlpha) {\n      renderer.setClearAlpha(clearAlpha);\n    }\n  }\n};\n\n// src/passes/DepthPass.js\nimport {\n  Color as Color2,\n  MeshDepthMaterial,\n  NearestFilter as NearestFilter2,\n  RGBADepthPacking,\n  WebGLRenderTarget as WebGLRenderTarget4\n} from \"three\";\n\n// src/core/OverrideMaterialManager.js\nimport {BackSide, DoubleSide, FrontSide} from \"three\";\nvar workaroundEnabled = false;\nvar OverrideMaterialManager = class {\n  constructor(material = null) {\n    this.originalMaterials = new Map();\n    this.material = null;\n    this.materials = null;\n    this.materialsBackSide = null;\n    this.materialsDoubleSide = null;\n    this.setMaterial(material);\n    this.meshCount = 0;\n    this.replaceMaterial = (node) => {\n      if (node.isMesh) {\n        let materials;\n        switch (node.material.side) {\n          case DoubleSide:\n            materials = this.materialsDoubleSide;\n            break;\n          case BackSide:\n            materials = this.materialsBackSide;\n            break;\n          default:\n            materials = this.materials;\n            break;\n        }\n        this.originalMaterials.set(node, node.material);\n        if (node.isSkinnedMesh) {\n          node.material = materials[2];\n        } else if (node.isInstancedMesh) {\n          node.material = materials[1];\n        } else {\n          node.material = materials[0];\n        }\n        ++this.meshCount;\n      }\n    };\n  }\n  setMaterial(material) {\n    this.disposeMaterials();\n    this.material = material;\n    if (material !== null) {\n      const materials = this.materials = [\n        material.clone(),\n        material.clone(),\n        material.clone()\n      ];\n      for (const m2 of materials) {\n        m2.uniforms = Object.assign({}, material.uniforms);\n        m2.side = FrontSide;\n      }\n      materials[2].skinning = true;\n      this.materialsBackSide = materials.map((m2) => {\n        const c2 = m2.clone();\n        c2.uniforms = Object.assign({}, material.uniforms);\n        c2.side = BackSide;\n        return c2;\n      });\n      this.materialsDoubleSide = materials.map((m2) => {\n        const c2 = m2.clone();\n        c2.uniforms = Object.assign({}, material.uniforms);\n        c2.side = DoubleSide;\n        return c2;\n      });\n    }\n  }\n  render(renderer, scene, camera) {\n    const shadowMapEnabled = renderer.shadowMap.enabled;\n    renderer.shadowMap.enabled = false;\n    if (workaroundEnabled) {\n      const originalMaterials = this.originalMaterials;\n      this.meshCount = 0;\n      scene.traverse(this.replaceMaterial);\n      renderer.render(scene, camera);\n      for (const entry of originalMaterials) {\n        entry[0].material = entry[1];\n      }\n      if (this.meshCount !== originalMaterials.size) {\n        originalMaterials.clear();\n      }\n    } else {\n      const overrideMaterial = scene.overrideMaterial;\n      scene.overrideMaterial = this.material;\n      renderer.render(scene, camera);\n      scene.overrideMaterial = overrideMaterial;\n    }\n    renderer.shadowMap.enabled = shadowMapEnabled;\n  }\n  disposeMaterials() {\n    if (this.material !== null) {\n      const materials = this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide);\n      for (const m2 of materials) {\n        m2.dispose();\n      }\n    }\n  }\n  dispose() {\n    this.originalMaterials.clear();\n    this.disposeMaterials();\n  }\n  static get workaroundEnabled() {\n    return workaroundEnabled;\n  }\n  static set workaroundEnabled(value) {\n    workaroundEnabled = value;\n  }\n};\n\n// src/passes/RenderPass.js\nvar RenderPass = class extends Pass {\n  constructor(scene, camera, overrideMaterial = null) {\n    super(\"RenderPass\", scene, camera);\n    this.needsSwap = false;\n    this.clearPass = new ClearPass();\n    this.overrideMaterialManager = overrideMaterial === null ? null : new OverrideMaterialManager(overrideMaterial);\n  }\n  get renderToScreen() {\n    return super.renderToScreen;\n  }\n  set renderToScreen(value) {\n    super.renderToScreen = value;\n    this.clearPass.renderToScreen = value;\n  }\n  get overrideMaterial() {\n    const manager = this.overrideMaterialManager;\n    return manager !== null ? manager.material : null;\n  }\n  set overrideMaterial(value) {\n    const manager = this.overrideMaterialManager;\n    if (value !== null) {\n      if (manager !== null) {\n        manager.setMaterial(value);\n      } else {\n        this.overrideMaterialManager = new OverrideMaterialManager(value);\n      }\n    } else if (manager !== null) {\n      manager.dispose();\n      this.overrideMaterialManager = null;\n    }\n  }\n  get clear() {\n    return this.clearPass.enabled;\n  }\n  set clear(value) {\n    this.clearPass.enabled = value;\n  }\n  getClearPass() {\n    return this.clearPass;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    const scene = this.scene;\n    const camera = this.camera;\n    const background = scene.background;\n    const renderTarget = this.renderToScreen ? null : inputBuffer;\n    if (this.clear) {\n      if (this.clearPass.overrideClearColor !== null) {\n        scene.background = null;\n      }\n      this.clearPass.render(renderer, inputBuffer);\n    }\n    renderer.setRenderTarget(renderTarget);\n    if (this.overrideMaterialManager !== null) {\n      this.overrideMaterialManager.render(renderer, scene, camera);\n    } else {\n      renderer.render(scene, camera);\n    }\n    if (scene.background !== background) {\n      scene.background = background;\n    }\n  }\n};\n\n// src/passes/DepthPass.js\nvar DepthPass = class extends Pass {\n  constructor(scene, camera, {\n    resolutionScale = 1,\n    width = Resizer.AUTO_SIZE,\n    height = Resizer.AUTO_SIZE,\n    renderTarget\n  } = {}) {\n    super(\"DepthPass\");\n    this.needsSwap = false;\n    this.renderPass = new RenderPass(scene, camera, new MeshDepthMaterial({\n      depthPacking: RGBADepthPacking\n    }));\n    const clearPass = this.renderPass.getClearPass();\n    clearPass.overrideClearColor = new Color2(16777215);\n    clearPass.overrideClearAlpha = 1;\n    this.renderTarget = renderTarget;\n    if (this.renderTarget === void 0) {\n      this.renderTarget = new WebGLRenderTarget4(1, 1, {\n        minFilter: NearestFilter2,\n        magFilter: NearestFilter2,\n        stencilBuffer: false\n      });\n      this.renderTarget.texture.name = \"DepthPass.Target\";\n    }\n    this.resolution = new Resizer(this, width, height, resolutionScale);\n  }\n  get texture() {\n    return this.renderTarget.texture;\n  }\n  getResolutionScale() {\n    return this.resolutionScale;\n  }\n  setResolutionScale(scale) {\n    this.resolutionScale = scale;\n    this.setSize(this.resolution.base.x, this.resolution.base.y);\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    const renderTarget = this.renderToScreen ? null : this.renderTarget;\n    this.renderPass.render(renderer, renderTarget);\n  }\n  setSize(width, height) {\n    const resolution = this.resolution;\n    resolution.base.set(width, height);\n    this.renderTarget.setSize(resolution.width, resolution.height);\n  }\n};\n\n// src/passes/DepthDownsamplingPass.js\nimport {\n  BasicDepthPacking,\n  FloatType,\n  NearestFilter as NearestFilter3,\n  WebGLRenderTarget as WebGLRenderTarget5\n} from \"three\";\nvar DepthDownsamplingPass = class extends Pass {\n  constructor({\n    normalBuffer = null,\n    resolutionScale = 0.5,\n    width = Resizer.AUTO_SIZE,\n    height = Resizer.AUTO_SIZE\n  } = {}) {\n    super(\"DepthDownsamplingPass\");\n    this.setFullscreenMaterial(new DepthDownsamplingMaterial());\n    this.needsDepthTexture = true;\n    this.needsSwap = false;\n    if (normalBuffer !== null) {\n      const material = this.getFullscreenMaterial();\n      material.uniforms.normalBuffer.value = normalBuffer;\n      material.defines.DOWNSAMPLE_NORMALS = \"1\";\n    }\n    this.renderTarget = new WebGLRenderTarget5(1, 1, {\n      minFilter: NearestFilter3,\n      magFilter: NearestFilter3,\n      stencilBuffer: false,\n      depthBuffer: false,\n      type: FloatType\n    });\n    this.renderTarget.texture.name = \"DepthDownsamplingPass.Target\";\n    this.renderTarget.texture.generateMipmaps = false;\n    this.resolution = new Resizer(this, width, height);\n    this.resolution.scale = resolutionScale;\n  }\n  get texture() {\n    return this.renderTarget.texture;\n  }\n  setDepthTexture(depthTexture, depthPacking = BasicDepthPacking) {\n    const material = this.getFullscreenMaterial();\n    material.uniforms.depthBuffer.value = depthTexture;\n    material.depthPacking = depthPacking;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    renderer.setRenderTarget(this.renderToScreen ? null : this.renderTarget);\n    renderer.render(this.scene, this.camera);\n  }\n  setSize(width, height) {\n    const resolution = this.resolution;\n    resolution.base.set(width, height);\n    this.getFullscreenMaterial().setTexelSize(1 / width, 1 / height);\n    this.renderTarget.setSize(resolution.width, resolution.height);\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    if (!renderer.capabilities.isWebGL2) {\n      console.error(\"The DepthDownsamplingPass requires WebGL 2\");\n    }\n  }\n};\n\n// src/passes/DepthPickingPass.js\nimport {FloatType as FloatType3, RGBADepthPacking as RGBADepthPacking3} from \"three\";\n\n// src/passes/DepthSavePass.js\nimport {\n  BasicDepthPacking as BasicDepthPacking2,\n  FloatType as FloatType2,\n  NearestFilter as NearestFilter4,\n  RGBADepthPacking as RGBADepthPacking2,\n  UnsignedByteType as UnsignedByteType4,\n  WebGLRenderTarget as WebGLRenderTarget6\n} from \"three\";\nvar DepthSavePass = class extends Pass {\n  constructor({depthPacking = RGBADepthPacking2} = {}) {\n    super(\"DepthSavePass\");\n    const material = new DepthCopyMaterial();\n    material.setOutputDepthPacking(depthPacking);\n    this.setFullscreenMaterial(material);\n    this.needsDepthTexture = true;\n    this.needsSwap = false;\n    this.renderTarget = new WebGLRenderTarget6(1, 1, {\n      type: depthPacking === RGBADepthPacking2 ? UnsignedByteType4 : FloatType2,\n      minFilter: NearestFilter4,\n      magFilter: NearestFilter4,\n      stencilBuffer: false,\n      depthBuffer: false\n    });\n    this.renderTarget.texture.name = \"DepthSavePass.Target\";\n  }\n  get texture() {\n    return this.renderTarget.texture;\n  }\n  get depthPacking() {\n    return this.getFullscreenMaterial().getOutputDepthPacking();\n  }\n  setDepthTexture(depthTexture, depthPacking = BasicDepthPacking2) {\n    const material = this.getFullscreenMaterial();\n    material.uniforms.depthBuffer.value = depthTexture;\n    material.setInputDepthPacking(depthPacking);\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    renderer.setRenderTarget(this.renderToScreen ? null : this.renderTarget);\n    renderer.render(this.scene, this.camera);\n  }\n  setSize(width, height) {\n    this.renderTarget.setSize(width, height);\n  }\n};\n\n// src/passes/DepthPickingPass.js\nvar unpackFactors = new Float32Array([\n  255 / 256 / 256 ** 3,\n  255 / 256 / 256 ** 2,\n  255 / 256 / 256\n]);\nfunction unpackRGBAToDepth(packedDepth) {\n  return (packedDepth[0] * unpackFactors[0] + packedDepth[1] * unpackFactors[1] + packedDepth[2] * unpackFactors[2] + packedDepth[3]) / 256;\n}\nvar DepthPickingPass = class extends DepthSavePass {\n  constructor({\n    depthPacking = RGBADepthPacking3,\n    mode = DepthCopyMode.SINGLE\n  } = {}) {\n    super({depthPacking});\n    this.name = \"DepthPickingPass\";\n    this.getFullscreenMaterial().setMode(mode);\n    this.pixelBuffer = depthPacking === RGBADepthPacking3 ? new Uint8Array(4) : new Float32Array(4);\n    this.callback = null;\n  }\n  get mode() {\n    return this.getFullscreenMaterial().getMode();\n  }\n  get screenPosition() {\n    return this.getFullscreenMaterial().uniforms.screenPosition.value;\n  }\n  readDepth(ndc) {\n    this.screenPosition.set(ndc.x * 0.5 + 0.5, ndc.y * 0.5 + 0.5);\n    return new Promise((resolve) => {\n      this.callback = resolve;\n    });\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    if (this.mode === DepthCopyMode.FULL) {\n      super.render(renderer);\n    }\n    if (this.callback !== null) {\n      const renderTarget = this.renderTarget;\n      const pixelBuffer = this.pixelBuffer;\n      const packed = renderTarget.texture.type !== FloatType3;\n      let x = 0, y = 0;\n      if (this.mode === DepthCopyMode.SINGLE) {\n        super.render(renderer);\n      } else {\n        const screenPosition = this.screenPosition;\n        x = Math.round(screenPosition.x * renderTarget.width);\n        y = Math.round(screenPosition.y * renderTarget.height);\n      }\n      renderer.readRenderTargetPixels(renderTarget, x, y, 1, 1, pixelBuffer);\n      this.callback(packed ? unpackRGBAToDepth(pixelBuffer) : pixelBuffer[0]);\n      this.callback = null;\n    }\n  }\n  setSize(width, height) {\n    if (this.mode === DepthCopyMode.FULL) {\n      super.setSize(width, height);\n    }\n  }\n};\n\n// src/passes/EffectPass.js\nimport {BasicDepthPacking as BasicDepthPacking3, UnsignedByteType as UnsignedByteType5} from \"three\";\n\n// src/effects/blending/BlendFunction.js\nvar BlendFunction = {\n  SKIP: 0,\n  ADD: 1,\n  ALPHA: 2,\n  AVERAGE: 3,\n  COLOR_BURN: 4,\n  COLOR_DODGE: 5,\n  DARKEN: 6,\n  DIFFERENCE: 7,\n  EXCLUSION: 8,\n  LIGHTEN: 9,\n  MULTIPLY: 10,\n  DIVIDE: 11,\n  NEGATION: 12,\n  NORMAL: 13,\n  OVERLAY: 14,\n  REFLECT: 15,\n  SCREEN: 16,\n  SOFT_LIGHT: 17,\n  SUBTRACT: 18\n};\n\n// src/effects/blending/BlendMode.js\nimport {EventDispatcher, Uniform as Uniform19} from \"three\";\n\n// src/effects/blending/glsl/add/shader.frag\nvar shader_default28 = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}\";\n\n// src/effects/blending/glsl/alpha/shader.frag\nvar shader_default29 = \"vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}\";\n\n// src/effects/blending/glsl/average/shader.frag\nvar shader_default30 = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}\";\n\n// src/effects/blending/glsl/color-burn/shader.frag\nvar shader_default31 = \"float blend(const in float x,const in float y){return(y==0.0)? y : max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}\";\n\n// src/effects/blending/glsl/color-dodge/shader.frag\nvar shader_default32 = \"float blend(const in float x,const in float y){return(y==1.0)? y : min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}\";\n\n// src/effects/blending/glsl/darken/shader.frag\nvar shader_default33 = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}\";\n\n// src/effects/blending/glsl/difference/shader.frag\nvar shader_default34 = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}\";\n\n// src/effects/blending/glsl/exclusion/shader.frag\nvar shader_default35 = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}\";\n\n// src/effects/blending/glsl/lighten/shader.frag\nvar shader_default36 = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}\";\n\n// src/effects/blending/glsl/multiply/shader.frag\nvar shader_default37 = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}\";\n\n// src/effects/blending/glsl/divide/shader.frag\nvar shader_default38 = \"float blend(const in float x,const in float y){return(y>0.0)? min(x/y,1.0): 1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}\";\n\n// src/effects/blending/glsl/negation/shader.frag\nvar shader_default39 = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}\";\n\n// src/effects/blending/glsl/normal/shader.frag\nvar shader_default40 = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}\";\n\n// src/effects/blending/glsl/overlay/shader.frag\nvar shader_default41 = \"float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}\";\n\n// src/effects/blending/glsl/reflect/shader.frag\nvar shader_default42 = \"float blend(const in float x,const in float y){return(y==1.0)? y : min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}\";\n\n// src/effects/blending/glsl/screen/shader.frag\nvar shader_default43 = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}\";\n\n// src/effects/blending/glsl/soft-light/shader.frag\nvar shader_default44 = \"float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}\";\n\n// src/effects/blending/glsl/subtract/shader.frag\nvar shader_default45 = \"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}\";\n\n// src/effects/blending/BlendMode.js\nvar blendFunctions = new Map([\n  [BlendFunction.SKIP, null],\n  [BlendFunction.ADD, shader_default28],\n  [BlendFunction.ALPHA, shader_default29],\n  [BlendFunction.AVERAGE, shader_default30],\n  [BlendFunction.COLOR_BURN, shader_default31],\n  [BlendFunction.COLOR_DODGE, shader_default32],\n  [BlendFunction.DARKEN, shader_default33],\n  [BlendFunction.DIFFERENCE, shader_default34],\n  [BlendFunction.EXCLUSION, shader_default35],\n  [BlendFunction.LIGHTEN, shader_default36],\n  [BlendFunction.MULTIPLY, shader_default37],\n  [BlendFunction.DIVIDE, shader_default38],\n  [BlendFunction.NEGATION, shader_default39],\n  [BlendFunction.NORMAL, shader_default40],\n  [BlendFunction.OVERLAY, shader_default41],\n  [BlendFunction.REFLECT, shader_default42],\n  [BlendFunction.SCREEN, shader_default43],\n  [BlendFunction.SOFT_LIGHT, shader_default44],\n  [BlendFunction.SUBTRACT, shader_default45]\n]);\nvar BlendMode = class extends EventDispatcher {\n  constructor(blendFunction, opacity = 1) {\n    super();\n    this.blendFunction = blendFunction;\n    this.opacity = new Uniform19(opacity);\n  }\n  getBlendFunction() {\n    return this.blendFunction;\n  }\n  setBlendFunction(blendFunction) {\n    this.blendFunction = blendFunction;\n    this.dispatchEvent({type: \"change\"});\n  }\n  getShaderCode() {\n    return blendFunctions.get(this.blendFunction);\n  }\n};\n\n// src/effects/Effect.js\nimport {EventDispatcher as EventDispatcher2, Scene as Scene2} from \"three\";\nvar Effect = class extends EventDispatcher2 {\n  constructor(name, fragmentShader, {\n    attributes = EffectAttribute.NONE,\n    blendFunction = BlendFunction.SCREEN,\n    defines = new Map(),\n    uniforms = new Map(),\n    extensions = null,\n    vertexShader = null\n  } = {}) {\n    super();\n    this.name = name;\n    this.attributes = attributes;\n    this.fragmentShader = fragmentShader;\n    this.vertexShader = vertexShader;\n    this.defines = defines;\n    this.uniforms = uniforms;\n    this.extensions = extensions;\n    this.blendMode = new BlendMode(blendFunction);\n    this.blendMode.addEventListener(\"change\", (event) => this.setChanged());\n  }\n  setChanged() {\n    this.dispatchEvent({type: \"change\"});\n  }\n  getAttributes() {\n    return this.attributes;\n  }\n  setAttributes(attributes) {\n    this.attributes = attributes;\n    this.setChanged();\n  }\n  getFragmentShader() {\n    return this.fragmentShader;\n  }\n  setFragmentShader(fragmentShader) {\n    this.fragmentShader = fragmentShader;\n    this.setChanged();\n  }\n  getVertexShader() {\n    return this.vertexShader;\n  }\n  setVertexShader(vertexShader) {\n    this.vertexShader = vertexShader;\n    this.setChanged();\n  }\n  setDepthTexture(depthTexture, depthPacking = 0) {\n  }\n  update(renderer, inputBuffer, deltaTime) {\n  }\n  setSize(width, height) {\n  }\n  initialize(renderer, alpha, frameBufferType) {\n  }\n  dispose() {\n    for (const key of Object.keys(this)) {\n      const property = this[key];\n      if (property !== null && typeof property.dispose === \"function\") {\n        if (property instanceof Scene2) {\n          continue;\n        }\n        this[key].dispose();\n      }\n    }\n  }\n};\nvar EffectAttribute = {\n  NONE: 0,\n  DEPTH: 1,\n  CONVOLUTION: 2\n};\nvar WebGLExtension = {\n  DERIVATIVES: \"derivatives\",\n  FRAG_DEPTH: \"fragDepth\",\n  DRAW_BUFFERS: \"drawBuffers\",\n  SHADER_TEXTURE_LOD: \"shaderTextureLOD\"\n};\n\n// src/passes/EffectPass.js\nfunction findSubstrings(regExp, string) {\n  const substrings = [];\n  let result;\n  while ((result = regExp.exec(string)) !== null) {\n    substrings.push(result[1]);\n  }\n  return substrings;\n}\nfunction prefixSubstrings(prefix, substrings, strings) {\n  let prefixed, regExp;\n  for (const substring of substrings) {\n    prefixed = \"$1\" + prefix + substring.charAt(0).toUpperCase() + substring.slice(1);\n    regExp = new RegExp(\"([^\\\\.])(\\\\b\" + substring + \"\\\\b)\", \"g\");\n    for (const entry of strings.entries()) {\n      if (entry[1] !== null) {\n        strings.set(entry[0], entry[1].replace(regExp, prefixed));\n      }\n    }\n  }\n}\nfunction integrateEffect(prefix, effect, shaderParts, blendModes, defines, uniforms, attributes) {\n  const functionRegExp = /(?:\\w+\\s+(\\w+)\\([\\w\\s,]*\\)\\s*{[^}]+})/g;\n  const varyingRegExp = /(?:varying\\s+\\w+\\s+(\\w*))/g;\n  const blendMode = effect.blendMode;\n  const shaders = new Map([\n    [\"fragment\", effect.getFragmentShader()],\n    [\"vertex\", effect.getVertexShader()]\n  ]);\n  const mainImageExists = shaders.get(\"fragment\") !== void 0 && /mainImage/.test(shaders.get(\"fragment\"));\n  const mainUvExists = shaders.get(\"fragment\") !== void 0 && /mainUv/.test(shaders.get(\"fragment\"));\n  let varyings = [], names = [];\n  let transformedUv = false;\n  let readDepth = false;\n  if (shaders.get(\"fragment\") === void 0) {\n    console.error(\"Missing fragment shader\", effect);\n  } else if (mainUvExists && (attributes & EffectAttribute.CONVOLUTION) !== 0) {\n    console.error(\"Effects that transform UV coordinates are incompatible with convolution effects\", effect);\n  } else if (!mainImageExists && !mainUvExists) {\n    console.error(\"The fragment shader contains neither a mainImage nor a mainUv function\", effect);\n  } else {\n    if (mainUvExists) {\n      shaderParts.set(Section.FRAGMENT_MAIN_UV, shaderParts.get(Section.FRAGMENT_MAIN_UV) + \"\t\" + prefix + \"MainUv(UV);\\n\");\n      transformedUv = true;\n    }\n    if (shaders.get(\"vertex\") !== null && /mainSupport/.test(shaders.get(\"vertex\"))) {\n      let string = \"\t\" + prefix + \"MainSupport(\";\n      if (/mainSupport *\\([\\w\\s]*?uv\\s*?\\)/.test(shaders.get(\"vertex\"))) {\n        string += \"vUv\";\n      }\n      string += \");\\n\";\n      shaderParts.set(Section.VERTEX_MAIN_SUPPORT, shaderParts.get(Section.VERTEX_MAIN_SUPPORT) + string);\n      varyings = varyings.concat(findSubstrings(varyingRegExp, shaders.get(\"vertex\")));\n      names = names.concat(varyings).concat(findSubstrings(functionRegExp, shaders.get(\"vertex\")));\n    }\n    names = names.concat(findSubstrings(functionRegExp, shaders.get(\"fragment\"))).concat(Array.from(effect.defines.keys()).map((s) => s.replace(/\\([\\w\\s,]*\\)/g, \"\"))).concat(Array.from(effect.uniforms.keys()));\n    effect.uniforms.forEach((value, key) => uniforms.set(prefix + key.charAt(0).toUpperCase() + key.slice(1), value));\n    effect.defines.forEach((value, key) => defines.set(prefix + key.charAt(0).toUpperCase() + key.slice(1), value));\n    prefixSubstrings(prefix, names, defines);\n    prefixSubstrings(prefix, names, shaders);\n    blendModes.set(blendMode.blendFunction, blendMode);\n    if (mainImageExists) {\n      const depthParamRegExp = /MainImage *\\([\\w\\s,]*?depth[\\w\\s,]*?\\)/;\n      let string = prefix + \"MainImage(color0, UV, \";\n      if ((attributes & EffectAttribute.DEPTH) !== 0 && depthParamRegExp.test(shaders.get(\"fragment\"))) {\n        string += \"depth, \";\n        readDepth = true;\n      }\n      string += \"color1);\\n\t\";\n      const blendOpacity = prefix + \"BlendOpacity\";\n      uniforms.set(blendOpacity, blendMode.opacity);\n      string += \"color0 = blend\" + blendMode.getBlendFunction() + \"(color0, color1, \" + blendOpacity + \");\\n\\n\t\";\n      shaderParts.set(Section.FRAGMENT_MAIN_IMAGE, shaderParts.get(Section.FRAGMENT_MAIN_IMAGE) + string);\n      shaderParts.set(Section.FRAGMENT_HEAD, shaderParts.get(Section.FRAGMENT_HEAD) + \"uniform float \" + blendOpacity + \";\\n\\n\");\n    }\n    shaderParts.set(Section.FRAGMENT_HEAD, shaderParts.get(Section.FRAGMENT_HEAD) + shaders.get(\"fragment\") + \"\\n\");\n    if (shaders.get(\"vertex\") !== null) {\n      shaderParts.set(Section.VERTEX_HEAD, shaderParts.get(Section.VERTEX_HEAD) + shaders.get(\"vertex\") + \"\\n\");\n    }\n  }\n  return {varyings, transformedUv, readDepth};\n}\nvar EffectPass = class extends Pass {\n  constructor(camera, ...effects) {\n    super(\"EffectPass\");\n    this.setFullscreenMaterial(new EffectMaterial(null, null, null, camera));\n    this.effects = effects.sort((a, b) => b.attributes - a.attributes);\n    this.skipRendering = false;\n    this.uniforms = 0;\n    this.varyings = 0;\n    this.minTime = 1;\n    this.maxTime = Number.POSITIVE_INFINITY;\n  }\n  get encodeOutput() {\n    return this.getFullscreenMaterial().defines.ENCODE_OUTPUT !== void 0;\n  }\n  set encodeOutput(value) {\n    if (this.encodeOutput !== value) {\n      const material = this.getFullscreenMaterial();\n      material.needsUpdate = true;\n      if (value) {\n        material.defines.ENCODE_OUTPUT = \"1\";\n      } else {\n        delete material.defines.ENCODE_OUTPUT;\n      }\n    }\n  }\n  get dithering() {\n    return this.getFullscreenMaterial().dithering;\n  }\n  set dithering(value) {\n    const material = this.getFullscreenMaterial();\n    if (material.dithering !== value) {\n      material.dithering = value;\n      material.needsUpdate = true;\n    }\n  }\n  verifyResources(renderer) {\n    const capabilities = renderer.capabilities;\n    let max = Math.min(capabilities.maxFragmentUniforms, capabilities.maxVertexUniforms);\n    if (this.uniforms > max) {\n      console.warn(\"The current rendering context doesn't support more than \" + max + \" uniforms, but \" + this.uniforms + \" were defined\");\n    }\n    max = capabilities.maxVaryings;\n    if (this.varyings > max) {\n      console.warn(\"The current rendering context doesn't support more than \" + max + \" varyings, but \" + this.varyings + \" were defined\");\n    }\n  }\n  updateMaterial() {\n    const blendRegExp = /\\bblend\\b/g;\n    const shaderParts = new Map([\n      [Section.FRAGMENT_HEAD, \"\"],\n      [Section.FRAGMENT_MAIN_UV, \"\"],\n      [Section.FRAGMENT_MAIN_IMAGE, \"\"],\n      [Section.VERTEX_HEAD, \"\"],\n      [Section.VERTEX_MAIN_SUPPORT, \"\"]\n    ]);\n    const blendModes = new Map();\n    const defines = new Map();\n    const uniforms = new Map();\n    const extensions = new Set();\n    let id = 0, varyings = 0, attributes = 0;\n    let transformedUv = false;\n    let readDepth = false;\n    let result;\n    for (const effect of this.effects) {\n      if (effect.blendMode.getBlendFunction() === BlendFunction.SKIP) {\n        attributes |= effect.getAttributes() & EffectAttribute.DEPTH;\n      } else if ((attributes & EffectAttribute.CONVOLUTION) !== 0 && (effect.getAttributes() & EffectAttribute.CONVOLUTION) !== 0) {\n        console.error(\"Convolution effects cannot be merged\", effect);\n      } else {\n        attributes |= effect.getAttributes();\n        result = integrateEffect(\"e\" + id++, effect, shaderParts, blendModes, defines, uniforms, attributes);\n        varyings += result.varyings.length;\n        transformedUv = transformedUv || result.transformedUv;\n        readDepth = readDepth || result.readDepth;\n        if (effect.extensions !== null) {\n          for (const extension of effect.extensions) {\n            extensions.add(extension);\n          }\n        }\n      }\n    }\n    for (const blendMode of blendModes.values()) {\n      shaderParts.set(Section.FRAGMENT_HEAD, shaderParts.get(Section.FRAGMENT_HEAD) + blendMode.getShaderCode().replace(blendRegExp, \"blend\" + blendMode.getBlendFunction()) + \"\\n\");\n    }\n    if ((attributes & EffectAttribute.DEPTH) !== 0) {\n      if (readDepth) {\n        shaderParts.set(Section.FRAGMENT_MAIN_IMAGE, \"float depth = readDepth(UV);\\n\\n\t\" + shaderParts.get(Section.FRAGMENT_MAIN_IMAGE));\n      }\n      this.needsDepthTexture = this.getDepthTexture() === null;\n    } else {\n      this.needsDepthTexture = false;\n    }\n    if (transformedUv) {\n      shaderParts.set(Section.FRAGMENT_MAIN_UV, \"vec2 transformedUv = vUv;\\n\" + shaderParts.get(Section.FRAGMENT_MAIN_UV));\n      defines.set(\"UV\", \"transformedUv\");\n    } else {\n      defines.set(\"UV\", \"vUv\");\n    }\n    shaderParts.forEach((value, key, map) => map.set(key, value.trim().replace(/^#/, \"\\n#\")));\n    this.uniforms = uniforms.size;\n    this.varyings = varyings;\n    this.skipRendering = id === 0;\n    this.needsSwap = !this.skipRendering;\n    const material = this.getFullscreenMaterial();\n    material.setShaderParts(shaderParts).setDefines(defines).setUniforms(uniforms);\n    material.extensions = {};\n    if (extensions.size > 0) {\n      for (const extension of extensions) {\n        material.extensions[extension] = true;\n      }\n    }\n    this.needsUpdate = false;\n  }\n  recompile(renderer) {\n    this.updateMaterial();\n    if (renderer !== void 0) {\n      this.verifyResources(renderer);\n    }\n  }\n  getDepthTexture() {\n    return this.getFullscreenMaterial().uniforms.depthBuffer.value;\n  }\n  setDepthTexture(depthTexture, depthPacking = BasicDepthPacking3) {\n    const material = this.getFullscreenMaterial();\n    material.uniforms.depthBuffer.value = depthTexture;\n    material.depthPacking = depthPacking;\n    material.needsUpdate = true;\n    for (const effect of this.effects) {\n      effect.setDepthTexture(depthTexture, depthPacking);\n    }\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    const material = this.getFullscreenMaterial();\n    const time = material.uniforms.time.value + deltaTime;\n    if (this.needsUpdate) {\n      this.recompile(renderer);\n    }\n    for (const effect of this.effects) {\n      effect.update(renderer, inputBuffer, deltaTime);\n    }\n    if (!this.skipRendering || this.renderToScreen) {\n      material.uniforms.inputBuffer.value = inputBuffer.texture;\n      material.uniforms.time.value = time <= this.maxTime ? time : this.minTime;\n      renderer.setRenderTarget(this.renderToScreen ? null : outputBuffer);\n      renderer.render(this.scene, this.camera);\n    }\n  }\n  setSize(width, height) {\n    this.getFullscreenMaterial().setSize(width, height);\n    for (const effect of this.effects) {\n      effect.setSize(width, height);\n    }\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    for (const effect of this.effects) {\n      effect.initialize(renderer, alpha, frameBufferType);\n      effect.addEventListener(\"change\", (event) => this.handleEvent(event));\n    }\n    this.updateMaterial();\n    this.verifyResources(renderer);\n    if (frameBufferType !== void 0 && frameBufferType !== UnsignedByteType5) {\n      const material = this.getFullscreenMaterial();\n      material.defines.FRAMEBUFFER_PRECISION_HIGH = \"1\";\n    }\n  }\n  dispose() {\n    super.dispose();\n    for (const effect of this.effects) {\n      effect.dispose();\n    }\n  }\n  handleEvent(event) {\n    switch (event.type) {\n      case \"change\":\n        this.needsUpdate = true;\n        break;\n    }\n  }\n};\n\n// src/passes/LambdaPass.js\nvar LambdaPass = class extends Pass {\n  constructor(f) {\n    super(\"LambdaPass\", null, null);\n    this.needsSwap = false;\n    this.f = f;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    this.f();\n  }\n};\n\n// src/passes/LuminancePass.js\nimport {\n  LinearFilter as LinearFilter3,\n  LuminanceFormat,\n  RGBAFormat as RGBAFormat2,\n  UnsignedByteType as UnsignedByteType6,\n  WebGLRenderTarget as WebGLRenderTarget7\n} from \"three\";\nvar LuminancePass = class extends Pass {\n  constructor({\n    width = Resizer.AUTO_SIZE,\n    height = Resizer.AUTO_SIZE,\n    renderTarget,\n    luminanceRange,\n    colorOutput\n  } = {}) {\n    super(\"LuminancePass\");\n    this.setFullscreenMaterial(new LuminanceMaterial(colorOutput, luminanceRange));\n    this.needsSwap = false;\n    this.renderTarget = renderTarget;\n    if (this.renderTarget === void 0) {\n      this.renderTarget = new WebGLRenderTarget7(1, 1, {\n        minFilter: LinearFilter3,\n        magFilter: LinearFilter3,\n        format: colorOutput ? RGBAFormat2 : LuminanceFormat,\n        stencilBuffer: false,\n        depthBuffer: false\n      });\n      this.renderTarget.texture.name = \"LuminancePass.Target\";\n      this.renderTarget.texture.generateMipmaps = false;\n    }\n    this.resolution = new Resizer(this, width, height);\n  }\n  get texture() {\n    return this.renderTarget.texture;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    const material = this.getFullscreenMaterial();\n    material.uniforms.inputBuffer.value = inputBuffer.texture;\n    renderer.setRenderTarget(this.renderToScreen ? null : this.renderTarget);\n    renderer.render(this.scene, this.camera);\n  }\n  setSize(width, height) {\n    const resolution = this.resolution;\n    resolution.base.set(width, height);\n    this.renderTarget.setSize(resolution.width, resolution.height);\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    if (frameBufferType !== void 0 && frameBufferType !== UnsignedByteType6) {\n      const material = this.getFullscreenMaterial();\n      material.defines.FRAMEBUFFER_PRECISION_HIGH = \"1\";\n    }\n  }\n};\n\n// src/passes/MaskPass.js\nvar MaskPass = class extends Pass {\n  constructor(scene, camera) {\n    super(\"MaskPass\", scene, camera);\n    this.needsSwap = false;\n    this.clearPass = new ClearPass(false, false, true);\n    this.inverse = false;\n  }\n  get clear() {\n    return this.clearPass.enabled;\n  }\n  set clear(value) {\n    this.clearPass.enabled = value;\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    const context = renderer.getContext();\n    const buffers = renderer.state.buffers;\n    const scene = this.scene;\n    const camera = this.camera;\n    const clearPass = this.clearPass;\n    const writeValue = this.inverse ? 0 : 1;\n    const clearValue = 1 - writeValue;\n    buffers.color.setMask(false);\n    buffers.depth.setMask(false);\n    buffers.color.setLocked(true);\n    buffers.depth.setLocked(true);\n    buffers.stencil.setTest(true);\n    buffers.stencil.setOp(context.REPLACE, context.REPLACE, context.REPLACE);\n    buffers.stencil.setFunc(context.ALWAYS, writeValue, 4294967295);\n    buffers.stencil.setClear(clearValue);\n    buffers.stencil.setLocked(true);\n    if (this.clear) {\n      if (this.renderToScreen) {\n        clearPass.render(renderer, null);\n      } else {\n        clearPass.render(renderer, inputBuffer);\n        clearPass.render(renderer, outputBuffer);\n      }\n    }\n    if (this.renderToScreen) {\n      renderer.setRenderTarget(null);\n      renderer.render(scene, camera);\n    } else {\n      renderer.setRenderTarget(inputBuffer);\n      renderer.render(scene, camera);\n      renderer.setRenderTarget(outputBuffer);\n      renderer.render(scene, camera);\n    }\n    buffers.color.setLocked(false);\n    buffers.depth.setLocked(false);\n    buffers.stencil.setLocked(false);\n    buffers.stencil.setFunc(context.EQUAL, 1, 4294967295);\n    buffers.stencil.setOp(context.KEEP, context.KEEP, context.KEEP);\n    buffers.stencil.setLocked(true);\n  }\n};\n\n// src/passes/NormalPass.js\nimport {\n  Color as Color3,\n  MeshNormalMaterial,\n  NearestFilter as NearestFilter5,\n  RGBFormat as RGBFormat3,\n  WebGLRenderTarget as WebGLRenderTarget8\n} from \"three\";\nvar NormalPass = class extends Pass {\n  constructor(scene, camera, {\n    resolutionScale = 1,\n    width = Resizer.AUTO_SIZE,\n    height = Resizer.AUTO_SIZE,\n    renderTarget\n  } = {}) {\n    super(\"NormalPass\");\n    this.needsSwap = false;\n    this.renderPass = new RenderPass(scene, camera, new MeshNormalMaterial());\n    const clearPass = this.renderPass.getClearPass();\n    clearPass.overrideClearColor = new Color3(7829503);\n    clearPass.overrideClearAlpha = 1;\n    this.renderTarget = renderTarget;\n    if (this.renderTarget === void 0) {\n      this.renderTarget = new WebGLRenderTarget8(1, 1, {\n        minFilter: NearestFilter5,\n        magFilter: NearestFilter5,\n        format: RGBFormat3,\n        stencilBuffer: false\n      });\n      this.renderTarget.texture.name = \"NormalPass.Target\";\n    }\n    this.resolution = new Resizer(this, width, height, resolutionScale);\n  }\n  get texture() {\n    return this.renderTarget.texture;\n  }\n  getResolutionScale() {\n    return this.resolutionScale;\n  }\n  setResolutionScale(scale) {\n    this.resolutionScale = scale;\n    this.setSize(this.resolution.base.x, this.resolution.base.y);\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    const renderTarget = this.renderToScreen ? null : this.renderTarget;\n    this.renderPass.render(renderer, renderTarget, renderTarget);\n  }\n  setSize(width, height) {\n    const resolution = this.resolution;\n    resolution.base.set(width, height);\n    this.renderTarget.setSize(resolution.width, resolution.height);\n  }\n};\n\n// src/passes/ShaderPass.js\nimport {UnsignedByteType as UnsignedByteType7} from \"three\";\nvar ShaderPass = class extends Pass {\n  constructor(material, input = \"inputBuffer\") {\n    super(\"ShaderPass\");\n    this.setFullscreenMaterial(material);\n    this.uniform = null;\n    this.setInput(input);\n  }\n  setInput(input) {\n    const material = this.getFullscreenMaterial();\n    this.uniform = null;\n    if (material !== null) {\n      const uniforms = material.uniforms;\n      if (uniforms !== void 0 && uniforms[input] !== void 0) {\n        this.uniform = uniforms[input];\n      }\n    }\n  }\n  render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest) {\n    if (this.uniform !== null && inputBuffer !== null) {\n      this.uniform.value = inputBuffer.texture;\n    }\n    renderer.setRenderTarget(this.renderToScreen ? null : outputBuffer);\n    renderer.render(this.scene, this.camera);\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    if (frameBufferType !== void 0 && frameBufferType !== UnsignedByteType7) {\n      const material = this.getFullscreenMaterial();\n      material.defines.FRAMEBUFFER_PRECISION_HIGH = \"1\";\n    }\n  }\n};\n\n// src/core/EffectComposer.js\nvar EffectComposer = class {\n  constructor(renderer = null, {\n    depthBuffer = true,\n    stencilBuffer = false,\n    multisampling = 0,\n    frameBufferType\n  } = {}) {\n    this.renderer = renderer;\n    this.inputBuffer = null;\n    this.outputBuffer = null;\n    if (this.renderer !== null) {\n      this.renderer.autoClear = false;\n      this.inputBuffer = this.createBuffer(depthBuffer, stencilBuffer, frameBufferType, multisampling);\n      this.outputBuffer = this.inputBuffer.clone();\n    }\n    this.copyPass = new ShaderPass(new CopyMaterial());\n    this.depthTexture = null;\n    this.passes = [];\n    this.autoRenderToScreen = true;\n  }\n  get multisampling() {\n    return this.inputBuffer instanceof WebGLMultisampleRenderTarget ? this.inputBuffer.samples : 0;\n  }\n  set multisampling(value) {\n    const buffer = this.inputBuffer;\n    const multisampling = this.multisampling;\n    if (multisampling > 0 && value > 0) {\n      this.inputBuffer.samples = value;\n      this.outputBuffer.samples = value;\n    } else if (multisampling !== value) {\n      this.inputBuffer.dispose();\n      this.outputBuffer.dispose();\n      this.inputBuffer = this.createBuffer(buffer.depthBuffer, buffer.stencilBuffer, buffer.texture.type, value);\n      this.inputBuffer.depthTexture = this.depthTexture;\n      this.outputBuffer = this.inputBuffer.clone();\n    }\n  }\n  getRenderer() {\n    return this.renderer;\n  }\n  replaceRenderer(renderer, updateDOM = true) {\n    const oldRenderer = this.renderer;\n    if (oldRenderer !== null && oldRenderer !== renderer) {\n      const oldSize = oldRenderer.getSize(new Vector213());\n      const newSize = renderer.getSize(new Vector213());\n      const parent = oldRenderer.domElement.parentNode;\n      this.renderer = renderer;\n      this.renderer.autoClear = false;\n      if (!oldSize.equals(newSize)) {\n        this.setSize();\n      }\n      if (updateDOM && parent !== null) {\n        parent.removeChild(oldRenderer.domElement);\n        parent.appendChild(renderer.domElement);\n      }\n    }\n    return oldRenderer;\n  }\n  createDepthTexture() {\n    const depthTexture = this.depthTexture = new DepthTexture();\n    this.inputBuffer.depthTexture = depthTexture;\n    this.inputBuffer.dispose();\n    if (this.inputBuffer.stencilBuffer) {\n      depthTexture.format = DepthStencilFormat;\n      depthTexture.type = UnsignedInt248Type;\n    } else {\n      depthTexture.type = UnsignedIntType;\n    }\n    return depthTexture;\n  }\n  deleteDepthTexture() {\n    if (this.depthTexture !== null) {\n      this.depthTexture.dispose();\n      this.depthTexture = null;\n      this.inputBuffer.depthTexture = null;\n      this.inputBuffer.dispose();\n      for (const pass of this.passes) {\n        pass.setDepthTexture(null);\n      }\n    }\n  }\n  createBuffer(depthBuffer, stencilBuffer, type, multisampling) {\n    const size = this.renderer.getDrawingBufferSize(new Vector213());\n    const alpha = this.renderer.getContext().getContextAttributes().alpha;\n    const options = {\n      format: !alpha && type === UnsignedByteType8 ? RGBFormat4 : RGBAFormat3,\n      minFilter: LinearFilter4,\n      magFilter: LinearFilter4,\n      stencilBuffer,\n      depthBuffer,\n      type\n    };\n    const renderTarget = multisampling > 0 ? new WebGLMultisampleRenderTarget(size.width, size.height, options) : new WebGLRenderTarget9(size.width, size.height, options);\n    if (multisampling > 0) {\n      renderTarget.samples = multisampling;\n    }\n    renderTarget.texture.name = \"EffectComposer.Buffer\";\n    renderTarget.texture.generateMipmaps = false;\n    return renderTarget;\n  }\n  addPass(pass, index) {\n    const passes = this.passes;\n    const renderer = this.renderer;\n    const drawingBufferSize = renderer.getDrawingBufferSize(new Vector213());\n    const alpha = renderer.getContext().getContextAttributes().alpha;\n    const frameBufferType = this.inputBuffer.texture.type;\n    pass.setSize(drawingBufferSize.width, drawingBufferSize.height);\n    pass.initialize(renderer, alpha, frameBufferType);\n    if (this.autoRenderToScreen) {\n      if (passes.length > 0) {\n        passes[passes.length - 1].renderToScreen = false;\n      }\n      if (pass.renderToScreen) {\n        this.autoRenderToScreen = false;\n      }\n    }\n    if (index !== void 0) {\n      passes.splice(index, 0, pass);\n    } else {\n      passes.push(pass);\n    }\n    if (this.autoRenderToScreen) {\n      passes[passes.length - 1].renderToScreen = true;\n    }\n    if (pass.needsDepthTexture || this.depthTexture !== null) {\n      if (this.depthTexture === null) {\n        const depthTexture = this.createDepthTexture();\n        for (pass of passes) {\n          pass.setDepthTexture(depthTexture);\n        }\n      } else {\n        pass.setDepthTexture(this.depthTexture);\n      }\n    }\n  }\n  removePass(pass) {\n    const passes = this.passes;\n    const index = passes.indexOf(pass);\n    const exists = index !== -1;\n    const removed = exists && passes.splice(index, 1).length > 0;\n    if (removed) {\n      if (this.depthTexture !== null) {\n        const reducer = (a, b) => a || b.needsDepthTexture;\n        const depthTextureRequired = passes.reduce(reducer, false);\n        if (!depthTextureRequired) {\n          if (pass.getDepthTexture() === this.depthTexture) {\n            pass.setDepthTexture(null);\n          }\n          this.deleteDepthTexture();\n        }\n      }\n      if (this.autoRenderToScreen) {\n        if (index === passes.length) {\n          pass.renderToScreen = false;\n          if (passes.length > 0) {\n            passes[passes.length - 1].renderToScreen = true;\n          }\n        }\n      }\n    }\n  }\n  removeAllPasses() {\n    const passes = this.passes;\n    this.deleteDepthTexture();\n    if (passes.length > 0) {\n      if (this.autoRenderToScreen) {\n        passes[passes.length - 1].renderToScreen = false;\n      }\n      this.passes = [];\n    }\n  }\n  render(deltaTime) {\n    const renderer = this.renderer;\n    const copyPass = this.copyPass;\n    let inputBuffer = this.inputBuffer;\n    let outputBuffer = this.outputBuffer;\n    let stencilTest = false;\n    let context, stencil, buffer;\n    for (const pass of this.passes) {\n      if (pass.enabled) {\n        pass.render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest);\n        if (pass.needsSwap) {\n          if (stencilTest) {\n            copyPass.renderToScreen = pass.renderToScreen;\n            context = renderer.getContext();\n            stencil = renderer.state.buffers.stencil;\n            stencil.setFunc(context.NOTEQUAL, 1, 4294967295);\n            copyPass.render(renderer, inputBuffer, outputBuffer, deltaTime, stencilTest);\n            stencil.setFunc(context.EQUAL, 1, 4294967295);\n          }\n          buffer = inputBuffer;\n          inputBuffer = outputBuffer;\n          outputBuffer = buffer;\n        }\n        if (pass instanceof MaskPass) {\n          stencilTest = true;\n        } else if (pass instanceof ClearMaskPass) {\n          stencilTest = false;\n        }\n      }\n    }\n  }\n  setSize(width, height, updateStyle) {\n    const renderer = this.renderer;\n    if (width === void 0 || height === void 0) {\n      const size = renderer.getSize(new Vector213());\n      width = size.width;\n      height = size.height;\n    } else {\n      renderer.setSize(width, height, updateStyle);\n    }\n    const drawingBufferSize = renderer.getDrawingBufferSize(new Vector213());\n    this.inputBuffer.setSize(drawingBufferSize.width, drawingBufferSize.height);\n    this.outputBuffer.setSize(drawingBufferSize.width, drawingBufferSize.height);\n    for (const pass of this.passes) {\n      pass.setSize(drawingBufferSize.width, drawingBufferSize.height);\n    }\n  }\n  reset() {\n    this.dispose();\n    this.autoRenderToScreen = true;\n  }\n  dispose() {\n    for (const pass of this.passes) {\n      pass.dispose();\n    }\n    this.passes = [];\n    if (this.inputBuffer !== null) {\n      this.inputBuffer.dispose();\n    }\n    if (this.outputBuffer !== null) {\n      this.outputBuffer.dispose();\n    }\n    this.deleteDepthTexture();\n    this.copyPass.dispose();\n  }\n};\n\n// src/core/Initializable.js\nvar Initializable = class {\n  initialize(renderer, alpha, frameBufferType) {\n  }\n};\n\n// src/core/Resizable.js\nvar Resizable = class {\n  setSize(width, height) {\n  }\n};\n\n// src/core/Selection.js\nvar Selection = class extends Set {\n  constructor(iterable, layer = 10) {\n    super();\n    this.currentLayer = layer;\n    if (iterable !== void 0) {\n      this.set(iterable);\n    }\n  }\n  get layer() {\n    return this.currentLayer;\n  }\n  set layer(value) {\n    const currentLayer = this.currentLayer;\n    for (const object of this) {\n      object.layers.disable(currentLayer);\n      object.layers.enable(value);\n    }\n    this.currentLayer = value;\n  }\n  clear() {\n    const layer = this.layer;\n    for (const object of this) {\n      object.layers.disable(layer);\n    }\n    return super.clear();\n  }\n  set(objects) {\n    this.clear();\n    for (const object of objects) {\n      this.add(object);\n    }\n    return this;\n  }\n  indexOf(object) {\n    return this.has(object) ? 0 : -1;\n  }\n  add(object) {\n    object.layers.enable(this.layer);\n    super.add(object);\n    return this;\n  }\n  delete(object) {\n    if (this.has(object)) {\n      object.layers.disable(this.layer);\n    }\n    return super.delete(object);\n  }\n  setVisible(visible) {\n    for (const object of this) {\n      if (visible) {\n        object.layers.enable(0);\n      } else {\n        object.layers.disable(0);\n      }\n    }\n    return this;\n  }\n};\n\n// src/effects/BloomEffect.js\nimport {\n  LinearFilter as LinearFilter5,\n  RGBFormat as RGBFormat5,\n  Uniform as Uniform20,\n  UnsignedByteType as UnsignedByteType9,\n  WebGLRenderTarget as WebGLRenderTarget10\n} from \"three\";\n\n// src/effects/glsl/bloom/shader.frag\nvar shader_default46 = \"#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D map;\\n#else\\nuniform lowp sampler2D map;\\n#endif\\nuniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=clamp(texture2D(map,uv)*intensity,0.0,1.0);}\";\n\n// src/effects/BloomEffect.js\nvar BloomEffect = class extends Effect {\n  constructor({\n    blendFunction = BlendFunction.SCREEN,\n    luminanceThreshold = 0.9,\n    luminanceSmoothing = 0.025,\n    resolutionScale = 0.5,\n    intensity = 1,\n    width = Resizer.AUTO_SIZE,\n    height = Resizer.AUTO_SIZE,\n    kernelSize = KernelSize.LARGE\n  } = {}) {\n    super(\"BloomEffect\", shader_default46, {\n      blendFunction,\n      uniforms: new Map([\n        [\"map\", new Uniform20(null)],\n        [\"intensity\", new Uniform20(intensity)]\n      ])\n    });\n    this.renderTarget = new WebGLRenderTarget10(1, 1, {\n      minFilter: LinearFilter5,\n      magFilter: LinearFilter5,\n      stencilBuffer: false,\n      depthBuffer: false\n    });\n    this.renderTarget.texture.name = \"Bloom.Target\";\n    this.renderTarget.texture.generateMipmaps = false;\n    this.uniforms.get(\"map\").value = this.renderTarget.texture;\n    this.blurPass = new BlurPass({resolutionScale, width, height, kernelSize});\n    this.blurPass.resolution.resizable = this;\n    this.luminancePass = new LuminancePass({\n      renderTarget: this.renderTarget,\n      colorOutput: true\n    });\n    this.luminancePass.resolution = this.resolution;\n    this.luminanceMaterial.threshold = luminanceThreshold;\n    this.luminanceMaterial.smoothing = luminanceSmoothing;\n  }\n  get texture() {\n    return this.renderTarget.texture;\n  }\n  get luminanceMaterial() {\n    return this.luminancePass.getFullscreenMaterial();\n  }\n  get resolution() {\n    return this.blurPass.resolution;\n  }\n  get width() {\n    return this.resolution.width;\n  }\n  set width(value) {\n    this.resolution.width = value;\n  }\n  get height() {\n    return this.resolution.height;\n  }\n  set height(value) {\n    this.resolution.height = value;\n  }\n  get dithering() {\n    return this.blurPass.dithering;\n  }\n  set dithering(value) {\n    this.blurPass.dithering = value;\n  }\n  get kernelSize() {\n    return this.blurPass.kernelSize;\n  }\n  set kernelSize(value) {\n    this.blurPass.kernelSize = value;\n  }\n  get distinction() {\n    console.warn(this.name, \"The distinction field has been removed, use luminanceMaterial.threshold and luminanceMaterial.smoothing instead.\");\n    return 1;\n  }\n  set distinction(value) {\n    console.warn(this.name, \"The distinction field has been removed, use luminanceMaterial.threshold and luminanceMaterial.smoothing instead.\");\n  }\n  get intensity() {\n    return this.uniforms.get(\"intensity\").value;\n  }\n  set intensity(value) {\n    this.uniforms.get(\"intensity\").value = value;\n  }\n  getResolutionScale() {\n    return this.resolution.scale;\n  }\n  setResolutionScale(scale) {\n    this.resolution.scale = scale;\n  }\n  update(renderer, inputBuffer, deltaTime) {\n    const renderTarget = this.renderTarget;\n    if (this.luminancePass.enabled) {\n      this.luminancePass.render(renderer, inputBuffer, renderTarget);\n      this.blurPass.render(renderer, renderTarget, renderTarget);\n    } else {\n      this.blurPass.render(renderer, inputBuffer, renderTarget);\n    }\n  }\n  setSize(width, height) {\n    this.blurPass.setSize(width, height);\n    this.renderTarget.setSize(this.resolution.width, this.resolution.height);\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    this.blurPass.initialize(renderer, alpha, frameBufferType);\n    if (!alpha && frameBufferType === UnsignedByteType9) {\n      this.renderTarget.texture.format = RGBFormat5;\n    }\n    if (frameBufferType !== void 0) {\n      this.renderTarget.texture.type = frameBufferType;\n    }\n  }\n};\n\n// src/effects/BokehEffect.js\nimport {Uniform as Uniform21} from \"three\";\n\n// src/effects/glsl/bokeh/shader.frag\nvar shader_default47 = \"uniform float focus;uniform float dof;uniform float aperture;uniform float maxBlur;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec2 aspectCorrection=vec2(1.0,aspect);\\n#ifdef PERSPECTIVE_CAMERA\\nfloat viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);\\n#else\\nfloat linearDepth=depth;\\n#endif\\nfloat focusNear=clamp(focus-dof,0.0,1.0);float focusFar=clamp(focus+dof,0.0,1.0);float low=step(linearDepth,focusNear);float high=step(focusFar,linearDepth);float factor=(linearDepth-focusNear)*low+(linearDepth-focusFar)*high;vec2 dofBlur=vec2(clamp(factor*aperture,-maxBlur,maxBlur));vec2 dofblur9=dofBlur*0.9;vec2 dofblur7=dofBlur*0.7;vec2 dofblur4=dofBlur*0.4;vec4 color=inputColor;color+=texture2D(inputBuffer,uv+(vec2(0.0,0.4)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.15,0.37)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.29,0.29)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(-0.37,0.15)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.40,0.0)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.37,-0.15)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.29,-0.29)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(-0.15,-0.37)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.0,-0.4)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(-0.15,0.37)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(-0.29,0.29)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.37,0.15)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(-0.4,0.0)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(-0.37,-0.15)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(-0.29,-0.29)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.15,-0.37)*aspectCorrection)*dofBlur);color+=texture2D(inputBuffer,uv+(vec2(0.15,0.37)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(-0.37,0.15)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(0.37,-0.15)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(-0.15,-0.37)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(-0.15,0.37)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(0.37,0.15)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(-0.37,-0.15)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(0.15,-0.37)*aspectCorrection)*dofblur9);color+=texture2D(inputBuffer,uv+(vec2(0.29,0.29)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(0.40,0.0)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(0.29,-0.29)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(0.0,-0.4)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(-0.29,0.29)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(-0.4,0.0)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(-0.29,-0.29)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(0.0,0.4)*aspectCorrection)*dofblur7);color+=texture2D(inputBuffer,uv+(vec2(0.29,0.29)*aspectCorrection)*dofblur4);color+=texture2D(inputBuffer,uv+(vec2(0.4,0.0)*aspectCorrection)*dofblur4);color+=texture2D(inputBuffer,uv+(vec2(0.29,-0.29)*aspectCorrection)*dofblur4);color+=texture2D(inputBuffer,uv+(vec2(0.0,-0.4)*aspectCorrection)*dofblur4);color+=texture2D(inputBuffer,uv+(vec2(-0.29,0.29)*aspectCorrection)*dofblur4);color+=texture2D(inputBuffer,uv+(vec2(-0.4,0.0)*aspectCorrection)*dofblur4);color+=texture2D(inputBuffer,uv+(vec2(-0.29,-0.29)*aspectCorrection)*dofblur4);color+=texture2D(inputBuffer,uv+(vec2(0.0,0.4)*aspectCorrection)*dofblur4);outputColor=color/41.0;}\";\n\n// src/effects/BokehEffect.js\nvar BokehEffect = class extends Effect {\n  constructor({blendFunction = BlendFunction.NORMAL, focus = 0.5, dof = 0.02, aperture = 0.015, maxBlur = 1} = {}) {\n    super(\"BokehEffect\", shader_default47, {\n      blendFunction,\n      attributes: EffectAttribute.CONVOLUTION | EffectAttribute.DEPTH,\n      uniforms: new Map([\n        [\"focus\", new Uniform21(focus)],\n        [\"dof\", new Uniform21(dof)],\n        [\"aperture\", new Uniform21(aperture)],\n        [\"maxBlur\", new Uniform21(maxBlur)]\n      ])\n    });\n  }\n};\n\n// src/effects/BrightnessContrastEffect.js\nimport {Uniform as Uniform22} from \"three\";\n\n// src/effects/glsl/brightness-contrast/shader.frag\nvar shader_default48 = \"uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(min(color+vec3(0.5),1.0),inputColor.a);}\";\n\n// src/effects/BrightnessContrastEffect.js\nvar BrightnessContrastEffect = class extends Effect {\n  constructor({blendFunction = BlendFunction.NORMAL, brightness = 0, contrast = 0} = {}) {\n    super(\"BrightnessContrastEffect\", shader_default48, {\n      blendFunction,\n      uniforms: new Map([\n        [\"brightness\", new Uniform22(brightness)],\n        [\"contrast\", new Uniform22(contrast)]\n      ])\n    });\n  }\n};\n\n// src/effects/glsl/color-average/shader.frag\nvar shader_default49 = \"void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float sum=inputColor.r+inputColor.g+inputColor.b;outputColor=vec4(vec3(sum/3.0),inputColor.a);}\";\n\n// src/effects/ColorAverageEffect.js\nvar ColorAverageEffect = class extends Effect {\n  constructor(blendFunction = BlendFunction.NORMAL) {\n    super(\"ColorAverageEffect\", shader_default49, {blendFunction});\n  }\n};\n\n// src/effects/ColorDepthEffect.js\nimport {Uniform as Uniform23} from \"three\";\n\n// src/effects/glsl/color-depth/shader.frag\nvar shader_default50 = \"uniform float factor;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(floor(inputColor.rgb*factor+0.5)/factor,inputColor.a);}\";\n\n// src/effects/ColorDepthEffect.js\nvar ColorDepthEffect = class extends Effect {\n  constructor({blendFunction = BlendFunction.NORMAL, bits = 16} = {}) {\n    super(\"ColorDepthEffect\", shader_default50, {\n      blendFunction,\n      uniforms: new Map([\n        [\"factor\", new Uniform23(1)]\n      ])\n    });\n    this.bits = 0;\n    this.setBitDepth(bits);\n  }\n  getBitDepth() {\n    return this.bits;\n  }\n  setBitDepth(bits) {\n    this.bits = bits;\n    this.uniforms.get(\"factor\").value = Math.pow(2, bits / 3);\n  }\n};\n\n// src/effects/ChromaticAberrationEffect.js\nimport {Uniform as Uniform24, Vector2 as Vector214} from \"three\";\n\n// src/effects/glsl/chromatic-aberration/shader.frag\nvar shader_default51 = \"varying vec2 vUvR;varying vec2 vUvB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 color=inputColor;\\n#ifdef ALPHA\\nvec2 ra=texture2D(inputBuffer,vUvR).ra;vec2 ba=texture2D(inputBuffer,vUvB).ba;color.r=ra.x;color.b=ba.x;color.a=max(max(ra.y,ba.y),inputColor.a);\\n#else\\ncolor.r=texture2D(inputBuffer,vUvR).r;color.b=texture2D(inputBuffer,vUvB).b;\\n#endif\\noutputColor=color;}\";\n\n// src/effects/glsl/chromatic-aberration/shader.vert\nvar shader_default52 = \"uniform vec2 offset;varying vec2 vUvR;varying vec2 vUvB;void mainSupport(const in vec2 uv){vUvR=uv+offset;vUvB=uv-offset;}\";\n\n// src/effects/ChromaticAberrationEffect.js\nvar ChromaticAberrationEffect = class extends Effect {\n  constructor({blendFunction = BlendFunction.NORMAL, offset = new Vector214(1e-3, 5e-4)} = {}) {\n    super(\"ChromaticAberrationEffect\", shader_default51, {\n      vertexShader: shader_default52,\n      blendFunction,\n      attributes: EffectAttribute.CONVOLUTION,\n      uniforms: new Map([\n        [\"offset\", new Uniform24(offset)]\n      ])\n    });\n  }\n  get offset() {\n    return this.uniforms.get(\"offset\").value;\n  }\n  set offset(value) {\n    this.uniforms.get(\"offset\").value = value;\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    if (alpha) {\n      this.defines.set(\"ALPHA\", \"1\");\n    } else {\n      this.defines.delete(\"ALPHA\");\n    }\n  }\n};\n\n// src/effects/glsl/depth/shader.frag\nvar shader_default53 = \"void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){\\n#ifdef INVERTED\\nvec3 color=vec3(1.0-depth);\\n#else\\nvec3 color=vec3(depth);\\n#endif\\noutputColor=vec4(color,inputColor.a);}\";\n\n// src/effects/DepthEffect.js\nvar DepthEffect = class extends Effect {\n  constructor({blendFunction = BlendFunction.NORMAL, inverted = false} = {}) {\n    super(\"DepthEffect\", shader_default53, {\n      blendFunction,\n      attributes: EffectAttribute.DEPTH\n    });\n    this.inverted = inverted;\n  }\n  get inverted() {\n    return this.defines.has(\"INVERTED\");\n  }\n  set inverted(value) {\n    if (this.inverted !== value) {\n      if (value) {\n        this.defines.set(\"INVERTED\", \"1\");\n      } else {\n        this.defines.delete(\"INVERTED\");\n      }\n      this.setChanged();\n    }\n  }\n};\n\n// src/effects/DepthOfFieldEffect.js\nimport {\n  BasicDepthPacking as BasicDepthPacking4,\n  LinearFilter as LinearFilter6,\n  RGBFormat as RGBFormat6,\n  Uniform as Uniform25,\n  UnsignedByteType as UnsignedByteType10,\n  WebGLRenderTarget as WebGLRenderTarget11\n} from \"three\";\n\n// src/effects/glsl/depth-of-field/shader.frag\nvar shader_default54 = \"#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D nearColorBuffer;uniform mediump sampler2D farColorBuffer;\\n#else\\nuniform lowp sampler2D nearColorBuffer;uniform lowp sampler2D farColorBuffer;\\n#endif\\nuniform lowp sampler2D nearCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);float CoCNear=texture2D(nearCoCBuffer,uv).r;CoCNear=min(CoCNear*scale,1.0);vec4 result=inputColor*(1.0-colorFar.a)+colorFar;result=mix(result,colorNear,CoCNear);outputColor=result;}\";\n\n// src/effects/DepthOfFieldEffect.js\nvar DepthOfFieldEffect = class extends Effect {\n  constructor(camera, {\n    blendFunction = BlendFunction.NORMAL,\n    focusDistance = 0,\n    focalLength = 0.1,\n    bokehScale = 1,\n    width = Resizer.AUTO_SIZE,\n    height = Resizer.AUTO_SIZE\n  } = {}) {\n    super(\"DepthOfFieldEffect\", shader_default54, {\n      blendFunction,\n      attributes: EffectAttribute.DEPTH,\n      uniforms: new Map([\n        [\"nearColorBuffer\", new Uniform25(null)],\n        [\"farColorBuffer\", new Uniform25(null)],\n        [\"nearCoCBuffer\", new Uniform25(null)],\n        [\"scale\", new Uniform25(1)]\n      ])\n    });\n    this.camera = camera;\n    this.renderTarget = new WebGLRenderTarget11(1, 1, {\n      minFilter: LinearFilter6,\n      magFilter: LinearFilter6,\n      stencilBuffer: false,\n      depthBuffer: false\n    });\n    this.renderTarget.texture.name = \"DoF.Intermediate\";\n    this.renderTarget.texture.generateMipmaps = false;\n    this.renderTargetMasked = this.renderTarget.clone();\n    this.renderTargetMasked.texture.name = \"DoF.Masked.Far\";\n    this.renderTargetNear = this.renderTarget.clone();\n    this.renderTargetNear.texture.name = \"DoF.Bokeh.Near\";\n    this.uniforms.get(\"nearColorBuffer\").value = this.renderTargetNear.texture;\n    this.renderTargetFar = this.renderTarget.clone();\n    this.renderTargetFar.texture.name = \"DoF.Bokeh.Far\";\n    this.uniforms.get(\"farColorBuffer\").value = this.renderTargetFar.texture;\n    this.renderTargetCoC = this.renderTarget.clone();\n    this.renderTargetCoC.texture.format = RGBFormat6;\n    this.renderTargetCoC.texture.name = \"DoF.CoC\";\n    this.renderTargetCoCBlurred = this.renderTargetCoC.clone();\n    this.renderTargetCoCBlurred.texture.name = \"DoF.CoC.Blurred\";\n    this.uniforms.get(\"nearCoCBuffer\").value = this.renderTargetCoCBlurred.texture;\n    this.cocPass = new ShaderPass(new CircleOfConfusionMaterial(camera));\n    const cocMaterial = this.circleOfConfusionMaterial;\n    cocMaterial.uniforms.focusDistance.value = focusDistance;\n    cocMaterial.uniforms.focalLength.value = focalLength;\n    this.blurPass = new BlurPass({width, height, kernelSize: KernelSize.MEDIUM});\n    this.blurPass.resolution.resizable = this;\n    this.maskPass = new ShaderPass(new MaskMaterial(this.renderTargetCoC.texture));\n    const maskMaterial = this.maskPass.getFullscreenMaterial();\n    maskMaterial.maskFunction = MaskFunction.MULTIPLY;\n    maskMaterial.colorChannel = ColorChannel.GREEN;\n    this.bokehNearBasePass = new ShaderPass(new BokehMaterial(false, true));\n    this.bokehNearFillPass = new ShaderPass(new BokehMaterial(true, true));\n    this.bokehFarBasePass = new ShaderPass(new BokehMaterial(false, false));\n    this.bokehFarFillPass = new ShaderPass(new BokehMaterial(true, false));\n    this.bokehScale = bokehScale;\n    this.target = null;\n  }\n  get circleOfConfusionMaterial() {\n    return this.cocPass.getFullscreenMaterial();\n  }\n  get resolution() {\n    return this.blurPass.resolution;\n  }\n  get bokehScale() {\n    return this.uniforms.get(\"scale\").value;\n  }\n  set bokehScale(value) {\n    const passes = [\n      this.bokehNearBasePass,\n      this.bokehNearFillPass,\n      this.bokehFarBasePass,\n      this.bokehFarFillPass\n    ];\n    passes.map((p) => p.getFullscreenMaterial().uniforms.scale).forEach((u) => {\n      u.value = value;\n    });\n    this.maskPass.getFullscreenMaterial().uniforms.strength.value = value;\n    this.uniforms.get(\"scale\").value = value;\n  }\n  calculateFocusDistance(target) {\n    const camera = this.camera;\n    const viewDistance = camera.far - camera.near;\n    const distance = camera.position.distanceTo(target);\n    return Math.min(Math.max(distance / viewDistance, 0), 1);\n  }\n  setDepthTexture(depthTexture, depthPacking = BasicDepthPacking4) {\n    const material = this.circleOfConfusionMaterial;\n    material.uniforms.depthBuffer.value = depthTexture;\n    material.depthPacking = depthPacking;\n  }\n  update(renderer, inputBuffer, deltaTime) {\n    const renderTarget = this.renderTarget;\n    const renderTargetCoC = this.renderTargetCoC;\n    const renderTargetCoCBlurred = this.renderTargetCoCBlurred;\n    const renderTargetMasked = this.renderTargetMasked;\n    const bokehFarBasePass = this.bokehFarBasePass;\n    const bokehFarFillPass = this.bokehFarFillPass;\n    const farBaseUniforms = bokehFarBasePass.getFullscreenMaterial().uniforms;\n    const farFillUniforms = bokehFarFillPass.getFullscreenMaterial().uniforms;\n    const bokehNearBasePass = this.bokehNearBasePass;\n    const bokehNearFillPass = this.bokehNearFillPass;\n    const nearBaseUniforms = bokehNearBasePass.getFullscreenMaterial().uniforms;\n    const nearFillUniforms = bokehNearFillPass.getFullscreenMaterial().uniforms;\n    if (this.target !== null) {\n      const distance = this.calculateFocusDistance(this.target);\n      this.circleOfConfusionMaterial.uniforms.focusDistance.value = distance;\n    }\n    this.cocPass.render(renderer, null, renderTargetCoC);\n    this.blurPass.render(renderer, renderTargetCoC, renderTargetCoCBlurred);\n    this.maskPass.render(renderer, inputBuffer, renderTargetMasked);\n    farBaseUniforms.cocBuffer.value = farFillUniforms.cocBuffer.value = renderTargetCoC.texture;\n    bokehFarBasePass.render(renderer, renderTargetMasked, renderTarget);\n    bokehFarFillPass.render(renderer, renderTarget, this.renderTargetFar);\n    nearBaseUniforms.cocBuffer.value = nearFillUniforms.cocBuffer.value = renderTargetCoCBlurred.texture;\n    bokehNearBasePass.render(renderer, inputBuffer, renderTarget);\n    bokehNearFillPass.render(renderer, renderTarget, this.renderTargetNear);\n  }\n  setSize(width, height) {\n    const resolution = this.resolution;\n    let resizables = [\n      this.cocPass,\n      this.blurPass,\n      this.maskPass,\n      this.bokehNearBasePass,\n      this.bokehNearFillPass,\n      this.bokehFarBasePass,\n      this.bokehFarFillPass\n    ];\n    resizables.push(this.renderTargetCoC, this.renderTargetMasked);\n    resizables.forEach((r) => r.setSize(width, height));\n    const w = resolution.width;\n    const h = resolution.height;\n    resizables = [\n      this.renderTarget,\n      this.renderTargetNear,\n      this.renderTargetFar,\n      this.renderTargetCoCBlurred\n    ];\n    resizables.forEach((r) => r.setSize(w, h));\n    const passes = [\n      this.bokehNearBasePass,\n      this.bokehNearFillPass,\n      this.bokehFarBasePass,\n      this.bokehFarFillPass\n    ];\n    passes.forEach((p) => p.getFullscreenMaterial().setTexelSize(1 / w, 1 / h));\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    const initializables = [\n      this.cocPass,\n      this.maskPass,\n      this.bokehNearBasePass,\n      this.bokehNearFillPass,\n      this.bokehFarBasePass,\n      this.bokehFarFillPass\n    ];\n    initializables.forEach((i) => i.initialize(renderer, alpha, frameBufferType));\n    this.blurPass.initialize(renderer, alpha, UnsignedByteType10);\n    if (!alpha && frameBufferType === UnsignedByteType10) {\n      this.renderTargetNear.texture.type = RGBFormat6;\n    }\n    if (frameBufferType !== void 0) {\n      this.renderTarget.texture.type = frameBufferType;\n      this.renderTargetNear.texture.type = frameBufferType;\n      this.renderTargetFar.texture.type = frameBufferType;\n      this.renderTargetMasked.texture.type = frameBufferType;\n    }\n  }\n};\n\n// src/effects/DotScreenEffect.js\nimport {Uniform as Uniform26, Vector2 as Vector215} from \"three\";\n\n// src/effects/glsl/dot-screen/shader.frag\nvar shader_default55 = \"uniform vec2 angle;uniform float scale;float pattern(const in vec2 uv){vec2 point=scale*vec2(dot(angle.yx,vec2(uv.x,-uv.y)),dot(angle,uv));return(sin(point.x)*sin(point.y))*4.0;}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(inputColor.rgb*10.0-5.0+pattern(uv*resolution));outputColor=vec4(color,inputColor.a);}\";\n\n// src/effects/DotScreenEffect.js\nvar DotScreenEffect = class extends Effect {\n  constructor({blendFunction = BlendFunction.NORMAL, angle = Math.PI * 0.5, scale = 1} = {}) {\n    super(\"DotScreenEffect\", shader_default55, {\n      blendFunction,\n      uniforms: new Map([\n        [\"angle\", new Uniform26(new Vector215())],\n        [\"scale\", new Uniform26(scale)]\n      ])\n    });\n    this.setAngle(angle);\n  }\n  setAngle(angle) {\n    this.uniforms.get(\"angle\").value.set(Math.sin(angle), Math.cos(angle));\n  }\n};\n\n// src/effects/GammaCorrectionEffect.js\nimport {Uniform as Uniform27} from \"three\";\n\n// src/effects/glsl/gamma-correction/shader.frag\nvar shader_default56 = \"uniform float gamma;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=LinearToGamma(max(inputColor,0.0),gamma);}\";\n\n// src/effects/GammaCorrectionEffect.js\nvar GammaCorrectionEffect = class extends Effect {\n  constructor({blendFunction = BlendFunction.NORMAL, gamma = 2} = {}) {\n    super(\"GammaCorrectionEffect\", shader_default56, {\n      blendFunction,\n      uniforms: new Map([\n        [\"gamma\", new Uniform27(gamma)]\n      ])\n    });\n  }\n};\n\n// src/effects/GlitchEffect.js\nimport {\n  NearestFilter as NearestFilter6,\n  RepeatWrapping,\n  RGBFormat as RGBFormat8,\n  Uniform as Uniform28,\n  Vector2 as Vector216\n} from \"three\";\n\n// src/images/textures/NoiseTexture.js\nimport {\n  DataTexture,\n  LuminanceFormat as LuminanceFormat2,\n  RedFormat,\n  RGFormat,\n  RGBFormat as RGBFormat7,\n  RGBAFormat as RGBAFormat4,\n  UnsignedByteType as UnsignedByteType11\n} from \"three\";\nfunction getNoise(size, format, type) {\n  const channels = new Map([\n    [LuminanceFormat2, 1],\n    [RedFormat, 1],\n    [RGFormat, 2],\n    [RGBFormat7, 3],\n    [RGBAFormat4, 4]\n  ]);\n  let data;\n  if (!channels.has(format)) {\n    console.error(\"Invalid noise texture format\");\n  }\n  if (type === UnsignedByteType11) {\n    data = new Uint8Array(size * channels.get(format));\n    for (let i = 0, l = data.length; i < l; ++i) {\n      data[i] = Math.random() * 255;\n    }\n  } else {\n    data = new Float32Array(size * channels.get(format));\n    for (let i = 0, l = data.length; i < l; ++i) {\n      data[i] = Math.random();\n    }\n  }\n  return data;\n}\nvar NoiseTexture = class extends DataTexture {\n  constructor(width, height, format = LuminanceFormat2, type = UnsignedByteType11) {\n    super(getNoise(width * height, format, type), width, height, format, type);\n  }\n};\n\n// src/effects/glsl/glitch/shader.frag\nvar shader_default57 = \"uniform lowp sampler2D perturbationMap;uniform bool active;uniform float columns;uniform float random;uniform vec2 seed;uniform vec2 distortion;void mainUv(inout vec2 uv){if(active){if(uv.y<distortion.x+columns&&uv.y>distortion.x-columns*random){float sx=clamp(ceil(seed.x),0.0,1.0);uv.y=sx*(1.0-(uv.y+distortion.y))+(1.0-sx)*distortion.y;}if(uv.x<distortion.y+columns&&uv.x>distortion.y-columns*random){float sy=clamp(ceil(seed.y),0.0,1.0);uv.x=sy*distortion.x+(1.0-sy)*(1.0-(uv.x+distortion.x));}vec2 normal=texture2D(perturbationMap,uv*random*random).rg;uv+=normal*seed*(random*0.2);}}\";\n\n// src/effects/GlitchEffect.js\nvar tag = \"Glitch.Generated\";\nfunction randomFloat(low, high) {\n  return low + Math.random() * (high - low);\n}\nvar GlitchEffect = class extends Effect {\n  constructor({\n    blendFunction = BlendFunction.NORMAL,\n    chromaticAberrationOffset = null,\n    delay = new Vector216(1.5, 3.5),\n    duration = new Vector216(0.6, 1),\n    strength = new Vector216(0.3, 1),\n    columns = 0.05,\n    ratio = 0.85,\n    perturbationMap = null,\n    dtSize = 64\n  } = {}) {\n    super(\"GlitchEffect\", shader_default57, {\n      blendFunction,\n      uniforms: new Map([\n        [\"perturbationMap\", new Uniform28(null)],\n        [\"columns\", new Uniform28(columns)],\n        [\"active\", new Uniform28(false)],\n        [\"random\", new Uniform28(1)],\n        [\"seed\", new Uniform28(new Vector216())],\n        [\"distortion\", new Uniform28(new Vector216())]\n      ])\n    });\n    this.setPerturbationMap(perturbationMap === null ? this.generatePerturbationMap(dtSize) : perturbationMap);\n    this.delay = delay;\n    this.duration = duration;\n    this.breakPoint = new Vector216(randomFloat(this.delay.x, this.delay.y), randomFloat(this.duration.x, this.duration.y));\n    this.time = 0;\n    this.seed = this.uniforms.get(\"seed\").value;\n    this.distortion = this.uniforms.get(\"distortion\").value;\n    this.mode = GlitchMode.SPORADIC;\n    this.strength = strength;\n    this.ratio = ratio;\n    this.chromaticAberrationOffset = chromaticAberrationOffset;\n  }\n  get active() {\n    return this.uniforms.get(\"active\").value;\n  }\n  getPerturbationMap() {\n    return this.uniforms.get(\"perturbationMap\").value;\n  }\n  setPerturbationMap(map) {\n    const currentMap = this.getPerturbationMap();\n    if (currentMap !== null && currentMap.name === tag) {\n      currentMap.dispose();\n    }\n    map.minFilter = map.magFilter = NearestFilter6;\n    map.wrapS = map.wrapT = RepeatWrapping;\n    map.generateMipmaps = false;\n    this.uniforms.get(\"perturbationMap\").value = map;\n  }\n  generatePerturbationMap(size = 64) {\n    const map = new NoiseTexture(size, size, RGBFormat8);\n    map.name = tag;\n    return map;\n  }\n  update(renderer, inputBuffer, deltaTime) {\n    const mode = this.mode;\n    const breakPoint = this.breakPoint;\n    const offset = this.chromaticAberrationOffset;\n    const s = this.strength;\n    let time = this.time;\n    let active = false;\n    let r = 0, a = 0;\n    let trigger;\n    if (mode !== GlitchMode.DISABLED) {\n      if (mode === GlitchMode.SPORADIC) {\n        time += deltaTime;\n        trigger = time > breakPoint.x;\n        if (time >= breakPoint.x + breakPoint.y) {\n          breakPoint.set(randomFloat(this.delay.x, this.delay.y), randomFloat(this.duration.x, this.duration.y));\n          time = 0;\n        }\n      }\n      r = Math.random();\n      this.uniforms.get(\"random\").value = r;\n      if (trigger && r > this.ratio || mode === GlitchMode.CONSTANT_WILD) {\n        active = true;\n        r *= s.y * 0.03;\n        a = randomFloat(-Math.PI, Math.PI);\n        this.seed.set(randomFloat(-s.y, s.y), randomFloat(-s.y, s.y));\n        this.distortion.set(randomFloat(0, 1), randomFloat(0, 1));\n      } else if (trigger || mode === GlitchMode.CONSTANT_MILD) {\n        active = true;\n        r *= s.x * 0.03;\n        a = randomFloat(-Math.PI, Math.PI);\n        this.seed.set(randomFloat(-s.x, s.x), randomFloat(-s.x, s.x));\n        this.distortion.set(randomFloat(0, 1), randomFloat(0, 1));\n      }\n      this.time = time;\n    }\n    if (offset !== null) {\n      if (active) {\n        offset.set(Math.cos(a), Math.sin(a)).multiplyScalar(r);\n      } else {\n        offset.set(0, 0);\n      }\n    }\n    this.uniforms.get(\"active\").value = active;\n  }\n};\nvar GlitchMode = {\n  DISABLED: 0,\n  SPORADIC: 1,\n  CONSTANT_MILD: 2,\n  CONSTANT_WILD: 3\n};\n\n// src/effects/GodRaysEffect.js\nimport {\n  BasicDepthPacking as BasicDepthPacking5,\n  Color as Color4,\n  DepthTexture as DepthTexture2,\n  LinearFilter as LinearFilter7,\n  Matrix4 as Matrix42,\n  RGBFormat as RGBFormat9,\n  Scene as Scene3,\n  Uniform as Uniform29,\n  Vector2 as Vector217,\n  Vector3,\n  UnsignedByteType as UnsignedByteType12,\n  WebGLRenderTarget as WebGLRenderTarget12\n} from \"three\";\n\n// src/effects/glsl/god-rays/shader.frag\nvar shader_default58 = \"#ifdef FRAMEBUFFER_PRECISION_HIGH\\nuniform mediump sampler2D map;\\n#else\\nuniform lowp sampler2D map;\\n#endif\\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv);}\";\n\n// src/effects/GodRaysEffect.js\nvar v = new Vector3();\nvar m = new Matrix42();\nvar GodRaysEffect = class extends Effect {\n  constructor(camera, lightSource, {\n    blendFunction = BlendFunction.SCREEN,\n    samples = 60,\n    density = 0.96,\n    decay = 0.9,\n    weight = 0.4,\n    exposure = 0.6,\n    clampMax = 1,\n    resolutionScale = 0.5,\n    width = Resizer.AUTO_SIZE,\n    height = Resizer.AUTO_SIZE,\n    kernelSize = KernelSize.SMALL,\n    blur = true\n  } = {}) {\n    super(\"GodRaysEffect\", shader_default58, {\n      blendFunction,\n      attributes: EffectAttribute.DEPTH,\n      uniforms: new Map([\n        [\"map\", new Uniform29(null)]\n      ])\n    });\n    this.camera = camera;\n    this.lightSource = lightSource;\n    this.lightSource.material.depthWrite = false;\n    this.lightSource.material.transparent = true;\n    this.lightScene = new Scene3();\n    this.screenPosition = new Vector217();\n    this.renderTargetA = new WebGLRenderTarget12(1, 1, {\n      minFilter: LinearFilter7,\n      magFilter: LinearFilter7,\n      stencilBuffer: false,\n      depthBuffer: false\n    });\n    this.renderTargetA.texture.name = \"GodRays.Target.A\";\n    this.renderTargetB = this.renderTargetA.clone();\n    this.renderTargetB.texture.name = \"GodRays.Target.B\";\n    this.uniforms.get(\"map\").value = this.renderTargetB.texture;\n    this.renderTargetLight = this.renderTargetA.clone();\n    this.renderTargetLight.texture.name = \"GodRays.Light\";\n    this.renderTargetLight.depthBuffer = true;\n    this.renderTargetLight.depthTexture = new DepthTexture2();\n    this.renderPassLight = new RenderPass(this.lightScene, camera);\n    this.renderPassLight.getClearPass().overrideClearColor = new Color4(0);\n    this.clearPass = new ClearPass(true, false, false);\n    this.clearPass.overrideClearColor = new Color4(0);\n    this.blurPass = new BlurPass({resolutionScale, width, height, kernelSize});\n    this.blurPass.resolution.resizable = this;\n    this.depthMaskPass = new ShaderPass(new DepthMaskMaterial());\n    const depthMaskMaterial = this.depthMaskPass.getFullscreenMaterial();\n    depthMaskMaterial.uniforms.depthBuffer1.value = this.renderTargetLight.depthTexture;\n    this.godRaysPass = new ShaderPass(new GodRaysMaterial(this.screenPosition));\n    const godRaysMaterial = this.godRaysPass.getFullscreenMaterial();\n    godRaysMaterial.uniforms.density.value = density;\n    godRaysMaterial.uniforms.decay.value = decay;\n    godRaysMaterial.uniforms.weight.value = weight;\n    godRaysMaterial.uniforms.exposure.value = exposure;\n    godRaysMaterial.uniforms.clampMax.value = clampMax;\n    this.samples = samples;\n    this.blur = blur;\n  }\n  get texture() {\n    return this.renderTargetB.texture;\n  }\n  get godRaysMaterial() {\n    return this.godRaysPass.getFullscreenMaterial();\n  }\n  get resolution() {\n    return this.blurPass.resolution;\n  }\n  get width() {\n    return this.resolution.width;\n  }\n  set width(value) {\n    this.resolution.width = value;\n  }\n  get height() {\n    return this.resolution.height;\n  }\n  set height(value) {\n    this.resolution.height = value;\n  }\n  get dithering() {\n    return this.godRaysMaterial.dithering;\n  }\n  set dithering(value) {\n    const material = this.godRaysMaterial;\n    material.dithering = value;\n    material.needsUpdate = true;\n  }\n  get blur() {\n    return this.blurPass.enabled;\n  }\n  set blur(value) {\n    this.blurPass.enabled = value;\n  }\n  get kernelSize() {\n    return this.blurPass.kernelSize;\n  }\n  set kernelSize(value) {\n    this.blurPass.kernelSize = value;\n  }\n  getResolutionScale() {\n    return this.resolution.scale;\n  }\n  setResolutionScale(scale) {\n    this.resolution.scale = scale;\n  }\n  get samples() {\n    return this.godRaysMaterial.samples;\n  }\n  set samples(value) {\n    this.godRaysMaterial.samples = value;\n  }\n  setDepthTexture(depthTexture, depthPacking = BasicDepthPacking5) {\n    const material = this.depthMaskPass.getFullscreenMaterial();\n    material.uniforms.depthBuffer0.value = depthTexture;\n    material.defines.DEPTH_PACKING_0 = depthPacking.toFixed(0);\n    material.needsUpdate = true;\n  }\n  update(renderer, inputBuffer, deltaTime) {\n    const lightSource = this.lightSource;\n    const parent = lightSource.parent;\n    const matrixAutoUpdate = lightSource.matrixAutoUpdate;\n    const renderTargetA = this.renderTargetA;\n    const renderTargetLight = this.renderTargetLight;\n    lightSource.material.depthWrite = true;\n    lightSource.matrixAutoUpdate = false;\n    lightSource.updateWorldMatrix(true, false);\n    if (parent !== null) {\n      if (!matrixAutoUpdate) {\n        m.copy(lightSource.matrix);\n      }\n      lightSource.matrix.copy(lightSource.matrixWorld);\n    }\n    this.lightScene.add(lightSource);\n    this.renderPassLight.render(renderer, renderTargetLight);\n    this.clearPass.render(renderer, renderTargetA);\n    this.depthMaskPass.render(renderer, renderTargetLight, renderTargetA);\n    lightSource.material.depthWrite = false;\n    lightSource.matrixAutoUpdate = matrixAutoUpdate;\n    if (parent !== null) {\n      if (!matrixAutoUpdate) {\n        lightSource.matrix.copy(m);\n      }\n      parent.add(lightSource);\n    }\n    v.setFromMatrixPosition(lightSource.matrixWorld).project(this.camera);\n    this.screenPosition.set(Math.min(Math.max((v.x + 1) * 0.5, -1), 2), Math.min(Math.max((v.y + 1) * 0.5, -1), 2));\n    if (this.blur) {\n      this.blurPass.render(renderer, renderTargetA, renderTargetA);\n    }\n    this.godRaysPass.render(renderer, renderTargetA, this.renderTargetB);\n  }\n  setSize(width, height) {\n    this.blurPass.setSize(width, height);\n    this.renderPassLight.setSize(width, height);\n    this.depthMaskPass.setSize(width, height);\n    this.godRaysPass.setSize(width, height);\n    const w = this.resolution.width;\n    const h = this.resolution.height;\n    this.renderTargetA.setSize(w, h);\n    this.renderTargetB.setSize(w, h);\n    this.renderTargetLight.setSize(w, h);\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    this.blurPass.initialize(renderer, alpha, frameBufferType);\n    this.renderPassLight.initialize(renderer, alpha, frameBufferType);\n    this.depthMaskPass.initialize(renderer, alpha, frameBufferType);\n    this.godRaysPass.initialize(renderer, alpha, frameBufferType);\n    if (!alpha && frameBufferType === UnsignedByteType12) {\n      this.renderTargetA.texture.format = RGBFormat9;\n      this.renderTargetB.texture.format = RGBFormat9;\n      this.renderTargetLight.texture.format = RGBFormat9;\n    }\n    if (frameBufferType !== void 0) {\n      this.renderTargetA.texture.type = frameBufferType;\n      this.renderTargetB.texture.type = frameBufferType;\n      this.renderTargetLight.texture.type = frameBufferType;\n    }\n  }\n};\n\n// src/effects/GridEffect.js\nimport {Uniform as Uniform30, Vector2 as Vector218} from \"three\";\n\n// src/effects/glsl/grid/shader.frag\nvar shader_default59 = \"uniform vec2 scale;uniform float lineWidth;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float grid=0.5-max(abs(mod(uv.x*scale.x,1.0)-0.5),abs(mod(uv.y*scale.y,1.0)-0.5));outputColor=vec4(vec3(smoothstep(0.0,lineWidth,grid)),inputColor.a);}\";\n\n// src/effects/GridEffect.js\nvar GridEffect = class extends Effect {\n  constructor({blendFunction = BlendFunction.OVERLAY, scale = 1, lineWidth = 0} = {}) {\n    super(\"GridEffect\", shader_default59, {\n      blendFunction,\n      uniforms: new Map([\n        [\"scale\", new Uniform30(new Vector218())],\n        [\"lineWidth\", new Uniform30(lineWidth)]\n      ])\n    });\n    this.resolution = new Vector218();\n    this.scale = Math.max(scale, 1e-6);\n    this.lineWidth = Math.max(lineWidth, 0);\n  }\n  getScale() {\n    return this.scale;\n  }\n  setScale(scale) {\n    this.scale = scale;\n    this.setSize(this.resolution.x, this.resolution.y);\n  }\n  getLineWidth() {\n    return this.lineWidth;\n  }\n  setLineWidth(lineWidth) {\n    this.lineWidth = lineWidth;\n    this.setSize(this.resolution.x, this.resolution.y);\n  }\n  setSize(width, height) {\n    this.resolution.set(width, height);\n    const aspect = width / height;\n    const scale = this.scale * (height * 0.125);\n    this.uniforms.get(\"scale\").value.set(aspect * scale, scale);\n    this.uniforms.get(\"lineWidth\").value = scale / height + this.lineWidth;\n  }\n};\n\n// src/effects/HueSaturationEffect.js\nimport {Uniform as Uniform31, Vector3 as Vector32} from \"three\";\n\n// src/effects/glsl/hue-saturation/shader.frag\nvar shader_default60 = \"uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}\";\n\n// src/effects/HueSaturationEffect.js\nvar HueSaturationEffect = class extends Effect {\n  constructor({blendFunction = BlendFunction.NORMAL, hue = 0, saturation = 0} = {}) {\n    super(\"HueSaturationEffect\", shader_default60, {\n      blendFunction,\n      uniforms: new Map([\n        [\"hue\", new Uniform31(new Vector32())],\n        [\"saturation\", new Uniform31(saturation)]\n      ])\n    });\n    this.setHue(hue);\n  }\n  setHue(hue) {\n    const s = Math.sin(hue), c2 = Math.cos(hue);\n    this.uniforms.get(\"hue\").value.set(2 * c2, -Math.sqrt(3) * s - c2, Math.sqrt(3) * s - c2).addScalar(1).divideScalar(3);\n  }\n};\n\n// src/effects/LUTEffect.js\nimport {\n  DataTexture3D as DataTexture3D2,\n  FloatType as FloatType5,\n  HalfFloatType as HalfFloatType2,\n  LinearEncoding as LinearEncoding2,\n  LinearFilter as LinearFilter9,\n  NearestFilter as NearestFilter7,\n  sRGBEncoding as sRGBEncoding2,\n  Uniform as Uniform32,\n  Vector3 as Vector34\n} from \"three\";\n\n// src/images/textures/LookupTexture3D.js\nimport {\n  Color as Color5,\n  ClampToEdgeWrapping,\n  DataTexture as DataTexture2,\n  DataTexture3D,\n  FloatType as FloatType4,\n  LinearFilter as LinearFilter8,\n  LinearEncoding,\n  RGBFormat as RGBFormat10,\n  RGBAFormat as RGBAFormat5,\n  sRGBEncoding,\n  UnsignedByteType as UnsignedByteType13,\n  Vector3 as Vector33\n} from \"three\";\n\n// src/images/RawImageData.js\nfunction createCanvas(width, height, data) {\n  const canvas = document.createElementNS(\"http://www.w3.org/1999/xhtml\", \"canvas\");\n  const context = canvas.getContext(\"2d\");\n  canvas.width = width;\n  canvas.height = height;\n  if (data instanceof Image) {\n    context.drawImage(data, 0, 0);\n  } else {\n    const imageData = context.createImageData(width, height);\n    imageData.data.set(data);\n    context.putImageData(imageData, 0, 0);\n  }\n  return canvas;\n}\nvar RawImageData = class {\n  constructor(width = 0, height = 0, data = null) {\n    this.width = width;\n    this.height = height;\n    this.data = data;\n  }\n  toCanvas() {\n    return typeof document === \"undefined\" ? null : createCanvas(this.width, this.height, this.data);\n  }\n  static from(image) {\n    const {width, height} = image;\n    let data;\n    if (image instanceof Image) {\n      const canvas = createCanvas(width, height, image);\n      if (canvas !== null) {\n        const context = canvas.getContext(\"2d\");\n        data = context.getImageData(0, 0, width, height).data;\n      }\n    } else {\n      data = image.data;\n    }\n    return new RawImageData(width, height, data);\n  }\n};\n\n// src/images/lut/LUTOperation.js\nvar LUTOperation = {\n  SCALE_UP: \"lut.scaleup\"\n};\n\n// tmp/lut/worker.txt\nvar worker_default = '(()=>{var q={SCALE_UP:\"lut.scaleup\"};var _=[new Float32Array(3),new Float32Array(3)],t=[new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3)],U=[[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1])]];function L(a,n,r,m){let h=r[0]-n[0],e=r[1]-n[1],s=r[2]-n[2],l=a[0]-n[0],w=a[1]-n[1],c=a[2]-n[2],y=e*c-s*w,A=s*l-h*c,g=h*w-e*l,p=Math.sqrt(y*y+A*A+g*g),V=p*.5,F=y/p,f=A/p,i=g/p,u=-(a[0]*F+a[1]*f+a[2]*i),M=m[0]*F+m[1]*f+m[2]*i;return Math.abs(M+u)*V/3}function X(a,n,r,m,h,e){let s=(r+m*n+h*n*n)*3;e[0]=a[s+0],e[1]=a[s+1],e[2]=a[s+2]}function k(a,n,r,m,h,e){let s=r*(n-1),l=m*(n-1),w=h*(n-1),c=Math.floor(s),y=Math.floor(l),A=Math.floor(w),g=Math.ceil(s),p=Math.ceil(l),V=Math.ceil(w),F=s-c,f=l-y,i=w-A;if(c===s&&y===l&&A===w)X(a,n,s,l,w,e);else{let u;F>=f&&f>=i?u=U[0]:F>=i&&i>=f?u=U[1]:i>=F&&F>=f?u=U[2]:f>=F&&F>=i?u=U[3]:f>=i&&i>=F?u=U[4]:i>=f&&f>=F&&(u=U[5]);let[M,x,P,T]=u,d=_[0];d[0]=F,d[1]=f,d[2]=i;let o=_[1],Y=g-c,Z=p-y,b=V-A;o[0]=Y*M[0]+c,o[1]=Z*M[1]+y,o[2]=b*M[2]+A,X(a,n,o[0],o[1],o[2],t[0]),o[0]=Y*x[0]+c,o[1]=Z*x[1]+y,o[2]=b*x[2]+A,X(a,n,o[0],o[1],o[2],t[1]),o[0]=Y*P[0]+c,o[1]=Z*P[1]+y,o[2]=b*P[2]+A,X(a,n,o[0],o[1],o[2],t[2]),o[0]=Y*T[0]+c,o[1]=Z*T[1]+y,o[2]=b*T[2]+A,X(a,n,o[0],o[1],o[2],t[3]);let v=L(x,P,T,d)*6,S=L(M,P,T,d)*6,C=L(M,x,T,d)*6,E=L(M,x,P,d)*6;t[0][0]*=v,t[0][1]*=v,t[0][2]*=v,t[1][0]*=S,t[1][1]*=S,t[1][2]*=S,t[2][0]*=C,t[2][1]*=C,t[2][2]*=C,t[3][0]*=E,t[3][1]*=E,t[3][2]*=E,e[0]=t[0][0]+t[1][0]+t[2][0]+t[3][0],e[1]=t[0][1]+t[1][1]+t[2][1]+t[3][1],e[2]=t[0][2]+t[1][2]+t[2][2]+t[3][2]}}var O=class{static expand(n,r){let m=Math.cbrt(n.length/3),h=new Float32Array(3),e=new n.constructor(r**3*3),s=1/(r-1);for(let l=0;l<r;++l)for(let w=0;w<r;++w)for(let c=0;c<r;++c){let y=c*s,A=w*s,g=l*s,p=Math.round(c+w*r+l*r*r)*3;k(n,m,y,A,g,h),e[p+0]=h[0],e[p+1]=h[1],e[p+2]=h[2]}return e}};self.addEventListener(\"message\",a=>{let n=a.data,r=n.data;switch(n.operation){case q.SCALE_UP:r=O.expand(r,n.size);break}postMessage(r,[r.buffer]),close()});})();\\n';\n\n// src/images/textures/LookupTexture3D.js\nvar c = new Color5();\nvar LookupTexture3D = class extends DataTexture3D {\n  constructor(data, size) {\n    super(data, size, size, size);\n    this.type = FloatType4;\n    this.format = RGBFormat10;\n    this.encoding = LinearEncoding;\n    this.minFilter = LinearFilter8;\n    this.magFilter = LinearFilter8;\n    this.wrapS = ClampToEdgeWrapping;\n    this.wrapT = ClampToEdgeWrapping;\n    this.wrapR = ClampToEdgeWrapping;\n    this.unpackAlignment = 1;\n    this.domainMin = new Vector33(0, 0, 0);\n    this.domainMax = new Vector33(1, 1, 1);\n  }\n  get isLookupTexture3D() {\n    return true;\n  }\n  scaleUp(size, transferData = true) {\n    const image = this.image;\n    let promise;\n    if (size <= image.width) {\n      promise = Promise.reject(new Error(\"The target size must be greater than the current size\"));\n    } else {\n      const workerURL = URL.createObjectURL(new Blob([worker_default], {type: \"text/javascript\"}));\n      const worker = new Worker(workerURL);\n      promise = new Promise((resolve, reject) => {\n        worker.addEventListener(\"error\", (event) => reject(event.error));\n        worker.addEventListener(\"message\", (event) => {\n          const lut = new LookupTexture3D(event.data, size);\n          lut.encoding = this.encoding;\n          lut.type = this.type;\n          lut.name = this.name;\n          URL.revokeObjectURL(workerURL);\n          resolve(lut);\n        });\n        const transferList = transferData ? [image.data.buffer] : [];\n        worker.postMessage({\n          operation: LUTOperation.SCALE_UP,\n          data: image.data,\n          size\n        }, transferList);\n      });\n    }\n    return promise;\n  }\n  applyLUT(lut) {\n    const img0 = this.image;\n    const img1 = lut.image;\n    const size0 = Math.min(img0.width, img0.height, img0.depth);\n    const size1 = Math.min(img1.width, img1.height, img1.depth);\n    if (size0 !== size1) {\n      console.error(\"Size mismatch\");\n    } else if (lut.type !== FloatType4 || this.type !== FloatType4) {\n      console.error(\"Both LUTs must be FloatType textures\");\n    } else if (lut.format !== RGBFormat10 || this.format !== RGBFormat10) {\n      console.error(\"Both LUTs must be RGB textures\");\n    } else {\n      const data0 = img0.data;\n      const data1 = img1.data;\n      const size = size0;\n      const s = size - 1;\n      for (let i = 0, l = size ** 3; i < l; ++i) {\n        const i3 = i * 3;\n        const r = data0[i3 + 0] * s;\n        const g = data0[i3 + 1] * s;\n        const b = data0[i3 + 2] * s;\n        const iRGB = Math.round(r + g * size + b * size * size) * 3;\n        data0[i3 + 0] = data1[iRGB + 0];\n        data0[i3 + 1] = data1[iRGB + 1];\n        data0[i3 + 2] = data1[iRGB + 2];\n      }\n      this.needsUpdate = true;\n    }\n    return this;\n  }\n  convertToUint8() {\n    if (this.type === FloatType4) {\n      const floatData = this.image.data;\n      const uint8Data = new Uint8ClampedArray(floatData.length);\n      for (let i = 0, l = floatData.length; i < l; ++i) {\n        uint8Data[i] = floatData[i] * 255;\n      }\n      this.image.data = uint8Data;\n      this.type = UnsignedByteType13;\n      this.needsUpdate = true;\n    }\n    return this;\n  }\n  convertToFloat() {\n    if (this.type === UnsignedByteType13) {\n      const uint8Data = this.image.data;\n      const floatData = new Float32Array(uint8Data.length);\n      for (let i = 0, l = uint8Data.length; i < l; ++i) {\n        floatData[i] = uint8Data[i] / 255;\n      }\n      this.image.data = floatData;\n      this.type = FloatType4;\n      this.needsUpdate = true;\n    }\n    return this;\n  }\n  convertLinearToSRGB() {\n    const data = this.image.data;\n    if (this.type === FloatType4) {\n      const stride = this.format === RGBAFormat5 ? 4 : 3;\n      for (let i = 0, l = data.length; i < l; i += stride) {\n        c.fromArray(data, i).convertLinearToSRGB().toArray(data, i);\n      }\n      this.encoding = sRGBEncoding;\n      this.needsUpdate = true;\n    } else {\n      console.error(\"Color space conversion requires FloatType data\");\n    }\n    return this;\n  }\n  convertSRGBToLinear() {\n    const data = this.image.data;\n    if (this.type === FloatType4) {\n      const stride = this.format === RGBAFormat5 ? 4 : 3;\n      for (let i = 0, l = data.length; i < l; i += stride) {\n        c.fromArray(data, i).convertSRGBToLinear().toArray(data, i);\n      }\n      this.encoding = LinearEncoding;\n      this.needsUpdate = true;\n    } else {\n      console.error(\"Color space conversion requires FloatType data\");\n    }\n    return this;\n  }\n  convertToRGBA() {\n    if (this.format === RGBFormat10) {\n      const size = this.image.width;\n      const rgbData = this.image.data;\n      const rgbaData = new rgbData.constructor(size ** 3 * 4);\n      const maxValue = this.type === FloatType4 ? 1 : 255;\n      for (let i = 0, j = 0, l = rgbData.length; i < l; i += 3, j += 4) {\n        rgbaData[j + 0] = rgbData[i + 0];\n        rgbaData[j + 1] = rgbData[i + 1];\n        rgbaData[j + 2] = rgbData[i + 2];\n        rgbaData[j + 3] = maxValue;\n      }\n      this.image.data = rgbaData;\n      this.format = RGBAFormat5;\n      this.needsUpdate = true;\n    }\n    return this;\n  }\n  toDataTexture() {\n    const width = this.image.width;\n    const height = this.image.height * this.image.depth;\n    const texture = new DataTexture2(this.image.data, width, height);\n    texture.name = this.name;\n    texture.type = this.type;\n    texture.format = this.format;\n    texture.encoding = this.encoding;\n    texture.minFilter = LinearFilter8;\n    texture.magFilter = LinearFilter8;\n    texture.wrapS = this.wrapS;\n    texture.wrapT = this.wrapT;\n    texture.generateMipmaps = false;\n    return texture;\n  }\n  static from(texture) {\n    const image = texture.image;\n    const {width, height} = image;\n    const size = Math.min(width, height);\n    let data;\n    if (image instanceof Image) {\n      const rawImageData = RawImageData.from(image);\n      data = rawImageData.data;\n      const rearrangedData = new Uint8Array(size ** 3 * 3);\n      if (width > height) {\n        for (let z = 0; z < size; ++z) {\n          for (let y = 0; y < size; ++y) {\n            for (let x = 0; x < size; ++x) {\n              const i4 = (x + z * size + y * size * size) * 4;\n              const i3 = (x + y * size + z * size * size) * 3;\n              rearrangedData[i3 + 0] = data[i4 + 0];\n              rearrangedData[i3 + 1] = data[i4 + 1];\n              rearrangedData[i3 + 2] = data[i4 + 2];\n            }\n          }\n        }\n      } else {\n        for (let i = 0, l = size ** 3; i < l; ++i) {\n          const i4 = i * 4;\n          const i3 = i * 3;\n          rearrangedData[i3 + 0] = data[i4 + 0];\n          rearrangedData[i3 + 1] = data[i4 + 1];\n          rearrangedData[i3 + 2] = data[i4 + 2];\n        }\n      }\n      data = rearrangedData;\n    } else {\n      data = image.data.slice();\n    }\n    const lut = new LookupTexture3D(data, size);\n    lut.type = texture.type;\n    lut.encoding = texture.encoding;\n    lut.name = texture.name;\n    return lut;\n  }\n  static createNeutral(size) {\n    const data = new Float32Array(size ** 3 * 3);\n    const s = 1 / (size - 1);\n    for (let r = 0; r < size; ++r) {\n      for (let g = 0; g < size; ++g) {\n        for (let b = 0; b < size; ++b) {\n          const i3 = (r + g * size + b * size * size) * 3;\n          data[i3 + 0] = r * s;\n          data[i3 + 1] = g * s;\n          data[i3 + 2] = b * s;\n        }\n      }\n    }\n    const lut = new LookupTexture3D(data, size);\n    lut.name = \"neutral\";\n    return lut;\n  }\n};\n\n// src/effects/glsl/lut/shader.frag\nvar shader_default61 = \"uniform vec3 scale;uniform vec3 offset;\\n#ifdef CUSTOM_INPUT_DOMAIN\\nuniform vec3 domainMin;uniform vec3 domainMax;\\n#endif\\n#ifdef LUT_3D\\n#ifdef LUT_PRECISION_HIGH\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler3D lut;\\n#else\\nuniform mediump sampler3D lut;\\n#endif\\n#else\\nuniform lowp sampler3D lut;\\n#endif\\nvec4 applyLUT(const in vec3 rgb){\\n#ifdef TETRAHEDRAL_INTERPOLATION\\nvec3 p=floor(rgb);vec3 f=rgb-p;vec3 v1=(p+0.5)*LUT_TEXEL_WIDTH;vec3 v4=(p+1.5)*LUT_TEXEL_WIDTH;vec3 v2,v3;vec3 frac;if(f.r>=f.g){if(f.g>f.b){frac=f.rgb;v2=vec3(v4.x,v1.y,v1.z);v3=vec3(v4.x,v4.y,v1.z);}else if(f.r>=f.b){frac=f.rbg;v2=vec3(v4.x,v1.y,v1.z);v3=vec3(v4.x,v1.y,v4.z);}else{frac=f.brg;v2=vec3(v1.x,v1.y,v4.z);v3=vec3(v4.x,v1.y,v4.z);}}else{if(f.b>f.g){frac=f.bgr;v2=vec3(v1.x,v1.y,v4.z);v3=vec3(v1.x,v4.y,v4.z);}else if(f.r>=f.b){frac=f.grb;v2=vec3(v1.x,v4.y,v1.z);v3=vec3(v4.x,v4.y,v1.z);}else{frac=f.gbr;v2=vec3(v1.x,v4.y,v1.z);v3=vec3(v1.x,v4.y,v4.z);}}vec4 n1=texture(lut,v1);vec4 n2=texture(lut,v2);vec4 n3=texture(lut,v3);vec4 n4=texture(lut,v4);vec4 weights=vec4(1.0-frac.x,frac.x-frac.y,frac.y-frac.z,frac.z);vec4 result=weights*mat4(vec4(n1.r,n2.r,n3.r,n4.r),vec4(n1.g,n2.g,n3.g,n4.g),vec4(n1.b,n2.b,n3.b,n4.b),vec4(1.0));return vec4(result.rgb,1.0);\\n#else\\nreturn texture(lut,rgb);\\n#endif\\n}\\n#else\\n#ifdef LUT_PRECISION_HIGH\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D lut;\\n#else\\nuniform mediump sampler2D lut;\\n#endif\\n#else\\nuniform lowp sampler2D lut;\\n#endif\\nvec4 applyLUT(const in vec3 rgb){float slice=rgb.b*LUT_SIZE;float slice0=floor(slice);float interp=slice-slice0;float centeredInterp=interp-0.5;float slice1=slice0+sign(centeredInterp);\\n#ifdef LUT_STRIP_HORIZONTAL\\nfloat xOffset=clamp(rgb.r*LUT_TEXEL_HEIGHT,LUT_TEXEL_WIDTH*0.5,LUT_TEXEL_HEIGHT-LUT_TEXEL_WIDTH*0.5);vec2 uv0=vec2(slice0*LUT_TEXEL_HEIGHT+xOffset,rgb.g);vec2 uv1=vec2(slice1*LUT_TEXEL_HEIGHT+xOffset,rgb.g);\\n#else\\nfloat yOffset=clamp(rgb.g*LUT_TEXEL_WIDTH,LUT_TEXEL_HEIGHT*0.5,LUT_TEXEL_WIDTH-LUT_TEXEL_HEIGHT*0.5);vec2 uv0=vec2(rgb.r,slice0*LUT_TEXEL_WIDTH+yOffset);vec2 uv1=vec2(rgb.r,slice1*LUT_TEXEL_WIDTH+yOffset);\\n#endif\\nvec4 sample0=texture2D(lut,uv0);vec4 sample1=texture2D(lut,uv1);return mix(sample0,sample1,abs(centeredInterp));}\\n#endif\\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 c=linearToInputTexel(inputColor).rgb;\\n#ifdef CUSTOM_INPUT_DOMAIN\\nif(c.r>=domainMin.r&&c.g>=domainMin.g&&c.b>=domainMin.b&&c.r<=domainMax.r&&c.g<=domainMax.g&&c.b<=domainMax.b){c=texelToLinear(applyLUT(scale*c+offset)).rgb;}else{c=inputColor.rgb;}\\n#else\\n#if !defined(LUT_3D) || defined(TETRAHEDRAL_INTERPOLATION)\\nc=clamp(c,0.0,1.0);\\n#endif\\nc=texelToLinear(applyLUT(scale*c+offset)).rgb;\\n#endif\\noutputColor=vec4(c,inputColor.a);}\";\n\n// src/effects/LUTEffect.js\nvar LUTEffect = class extends Effect {\n  constructor(lut, {\n    blendFunction = BlendFunction.NORMAL,\n    tetrahedralInterpolation = false\n  } = {}) {\n    super(\"LUTEffect\", shader_default61, {\n      blendFunction,\n      uniforms: new Map([\n        [\"lut\", new Uniform32(null)],\n        [\"scale\", new Uniform32(new Vector34())],\n        [\"offset\", new Uniform32(new Vector34())],\n        [\"domainMin\", new Uniform32(null)],\n        [\"domainMax\", new Uniform32(null)]\n      ])\n    });\n    this.tetrahedralInterpolation = tetrahedralInterpolation;\n    this.inputEncoding = sRGBEncoding2;\n    this.outputEncoding = this.inputEncoding;\n    this.setInputEncoding(sRGBEncoding2);\n    this.setLUT(lut);\n  }\n  getOutputEncoding() {\n    return this.outputEncoding;\n  }\n  getInputEncoding() {\n    return this.inputEncoding;\n  }\n  setInputEncoding(value) {\n    const defines = this.defines;\n    const lut = this.getLUT();\n    switch (value) {\n      case sRGBEncoding2:\n        defines.set(\"linearToInputTexel(texel)\", \"LinearTosRGB(texel)\");\n        break;\n      case LinearEncoding2:\n        defines.set(\"linearToInputTexel(texel)\", \"texel\");\n        break;\n      default:\n        console.error(\"Unsupported input encoding:\", value);\n        break;\n    }\n    if (lut !== null) {\n      this.outputEncoding = lut.encoding === LinearEncoding2 ? value : lut.encoding;\n      switch (this.outputEncoding) {\n        case sRGBEncoding2:\n          defines.set(\"texelToLinear(texel)\", \"sRGBToLinear(texel)\");\n          break;\n        case LinearEncoding2:\n          defines.set(\"texelToLinear(texel)\", \"texel\");\n          break;\n        default:\n          console.error(\"Unsupported LUT encoding:\", lut.encoding);\n          break;\n      }\n    }\n    if (this.inputEncoding !== value) {\n      this.inputEncoding = value;\n      this.setChanged();\n    }\n  }\n  getLUT() {\n    return this.uniforms.get(\"lut\").value;\n  }\n  setLUT(lut) {\n    const defines = this.defines;\n    const uniforms = this.uniforms;\n    if (this.getLUT() !== lut) {\n      const image = lut.image;\n      defines.clear();\n      defines.set(\"LUT_SIZE\", Math.min(image.width, image.height).toFixed(16));\n      defines.set(\"LUT_TEXEL_WIDTH\", (1 / image.width).toFixed(16));\n      defines.set(\"LUT_TEXEL_HEIGHT\", (1 / image.height).toFixed(16));\n      uniforms.get(\"lut\").value = lut;\n      uniforms.get(\"domainMin\").value = null;\n      uniforms.get(\"domainMax\").value = null;\n      if (lut.type === FloatType5 || lut.type === HalfFloatType2) {\n        defines.set(\"LUT_PRECISION_HIGH\", \"1\");\n      }\n      if (image.width > image.height) {\n        defines.set(\"LUT_STRIP_HORIZONTAL\", \"1\");\n      } else if (lut instanceof DataTexture3D2) {\n        defines.set(\"LUT_3D\", \"1\");\n      }\n      if (lut instanceof LookupTexture3D) {\n        const min = lut.domainMin;\n        const max = lut.domainMax;\n        if (min.x !== 0 || min.y !== 0 || min.z !== 0 || max.x !== 1 || max.y !== 1 || max.z !== 1) {\n          defines.set(\"CUSTOM_INPUT_DOMAIN\", \"1\");\n          uniforms.get(\"domainMin\").value = min.clone();\n          uniforms.get(\"domainMax\").value = max.clone();\n        }\n      }\n      this.configureTetrahedralInterpolation();\n      this.updateScaleOffset();\n      this.setInputEncoding(this.inputEncoding);\n      this.setChanged();\n    }\n  }\n  updateScaleOffset() {\n    const lut = this.getLUT();\n    const size = Math.min(lut.image.width, lut.image.height);\n    const scale = this.uniforms.get(\"scale\").value;\n    const offset = this.uniforms.get(\"offset\").value;\n    if (this.defines.has(\"TETRAHEDRAL_INTERPOLATION\")) {\n      if (this.defines.has(\"CUSTOM_INPUT_DOMAIN\")) {\n        const domainScale = lut.domainMax.clone().sub(lut.domainMin);\n        scale.setScalar(size - 1).divide(domainScale);\n        offset.copy(lut.domainMin).negate().multiply(scale);\n      } else {\n        scale.setScalar(size - 1);\n        offset.setScalar(0);\n      }\n    } else {\n      if (this.defines.has(\"CUSTOM_INPUT_DOMAIN\")) {\n        const domainScale = lut.domainMax.clone().sub(lut.domainMin).multiplyScalar(size);\n        scale.setScalar(size - 1).divide(domainScale);\n        offset.copy(lut.domainMin).negate().multiply(scale).addScalar(1 / (2 * size));\n      } else {\n        scale.setScalar((size - 1) / size);\n        offset.setScalar(1 / (2 * size));\n      }\n    }\n  }\n  configureTetrahedralInterpolation() {\n    const lut = this.getLUT();\n    lut.minFilter = LinearFilter9;\n    lut.magFilter = LinearFilter9;\n    this.defines.delete(\"TETRAHEDRAL_INTERPOLATION\");\n    if (this.tetrahedralInterpolation && lut !== null) {\n      if (lut instanceof DataTexture3D2) {\n        this.defines.set(\"TETRAHEDRAL_INTERPOLATION\", \"1\");\n        lut.minFilter = NearestFilter7;\n        lut.magFilter = NearestFilter7;\n      } else {\n        console.warn(\"Tetrahedral interpolation requires a 3D texture\");\n      }\n    }\n    lut.needsUpdate = true;\n  }\n  setTetrahedralInterpolationEnabled(enabled) {\n    this.tetrahedralInterpolation = enabled;\n    this.configureTetrahedralInterpolation();\n    this.updateScaleOffset();\n    this.setChanged();\n  }\n};\n\n// src/effects/glsl/noise/shader.frag\nvar shader_default62 = \"void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));\\n#ifdef PREMULTIPLY\\noutputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);\\n#else\\noutputColor=vec4(noise,inputColor.a);\\n#endif\\n}\";\n\n// src/effects/NoiseEffect.js\nvar NoiseEffect = class extends Effect {\n  constructor({blendFunction = BlendFunction.SCREEN, premultiply = false} = {}) {\n    super(\"NoiseEffect\", shader_default62, {blendFunction});\n    this.premultiply = premultiply;\n  }\n  get premultiply() {\n    return this.defines.has(\"PREMULTIPLY\");\n  }\n  set premultiply(value) {\n    if (this.premultiply !== value) {\n      if (value) {\n        this.defines.set(\"PREMULTIPLY\", \"1\");\n      } else {\n        this.defines.delete(\"PREMULTIPLY\");\n      }\n      this.setChanged();\n    }\n  }\n};\n\n// src/effects/OutlineEffect.js\nimport {\n  Color as Color6,\n  LinearFilter as LinearFilter10,\n  RepeatWrapping as RepeatWrapping2,\n  RGBFormat as RGBFormat11,\n  Uniform as Uniform33,\n  UnsignedByteType as UnsignedByteType14,\n  WebGLRenderTarget as WebGLRenderTarget13\n} from \"three\";\n\n// src/effects/glsl/outline/shader.frag\nvar shader_default63 = \"uniform lowp sampler2D edgeTexture;uniform lowp sampler2D maskTexture;uniform vec3 visibleEdgeColor;uniform vec3 hiddenEdgeColor;uniform float pulse;uniform float edgeStrength;\\n#ifdef USE_PATTERN\\nuniform lowp sampler2D patternTexture;varying vec2 vUvPattern;\\n#endif\\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 edge=texture2D(edgeTexture,uv).rg;vec2 mask=texture2D(maskTexture,uv).rg;\\n#ifndef X_RAY\\nedge.y=0.0;\\n#endif\\nedge*=(edgeStrength*mask.x*pulse);vec3 color=edge.x*visibleEdgeColor+edge.y*hiddenEdgeColor;float visibilityFactor=0.0;\\n#ifdef USE_PATTERN\\nvec4 patternColor=texture2D(patternTexture,vUvPattern);\\n#ifdef X_RAY\\nfloat hiddenFactor=0.5;\\n#else\\nfloat hiddenFactor=0.0;\\n#endif\\nvisibilityFactor=(1.0-mask.y>0.0)? 1.0 : hiddenFactor;visibilityFactor*=(1.0-mask.x)*patternColor.a;color+=visibilityFactor*patternColor.rgb;\\n#endif\\nfloat alpha=max(max(edge.x,edge.y),visibilityFactor);\\n#ifdef ALPHA\\noutputColor=vec4(color,alpha);\\n#else\\noutputColor=vec4(color,max(alpha,inputColor.a));\\n#endif\\n}\";\n\n// src/effects/glsl/outline/shader.vert\nvar shader_default64 = \"uniform float patternScale;varying vec2 vUvPattern;void mainSupport(const in vec2 uv){vUvPattern=uv*vec2(aspect,1.0)*patternScale;}\";\n\n// src/effects/OutlineEffect.js\nvar OutlineEffect = class extends Effect {\n  constructor(scene, camera, {\n    blendFunction = BlendFunction.SCREEN,\n    patternTexture = null,\n    edgeStrength = 1,\n    pulseSpeed = 0,\n    visibleEdgeColor = 16777215,\n    hiddenEdgeColor = 2230538,\n    resolutionScale = 0.5,\n    width = Resizer.AUTO_SIZE,\n    height = Resizer.AUTO_SIZE,\n    kernelSize = KernelSize.VERY_SMALL,\n    blur = false,\n    xRay = true\n  } = {}) {\n    super(\"OutlineEffect\", shader_default63, {\n      uniforms: new Map([\n        [\"maskTexture\", new Uniform33(null)],\n        [\"edgeTexture\", new Uniform33(null)],\n        [\"edgeStrength\", new Uniform33(edgeStrength)],\n        [\"visibleEdgeColor\", new Uniform33(new Color6(visibleEdgeColor))],\n        [\"hiddenEdgeColor\", new Uniform33(new Color6(hiddenEdgeColor))],\n        [\"pulse\", new Uniform33(1)],\n        [\"patternScale\", new Uniform33(1)],\n        [\"patternTexture\", new Uniform33(null)]\n      ])\n    });\n    this.blendMode.addEventListener(\"change\", (event) => {\n      if (this.blendMode.getBlendFunction() === BlendFunction.ALPHA) {\n        this.defines.set(\"ALPHA\", \"1\");\n      } else {\n        this.defines.delete(\"ALPHA\");\n      }\n      this.setChanged();\n    });\n    this.blendMode.setBlendFunction(blendFunction);\n    this.setPatternTexture(patternTexture);\n    this.xRay = xRay;\n    this.scene = scene;\n    this.camera = camera;\n    this.renderTargetMask = new WebGLRenderTarget13(1, 1, {\n      minFilter: LinearFilter10,\n      magFilter: LinearFilter10,\n      stencilBuffer: false,\n      format: RGBFormat11\n    });\n    this.renderTargetMask.texture.name = \"Outline.Mask\";\n    this.uniforms.get(\"maskTexture\").value = this.renderTargetMask.texture;\n    this.renderTargetOutline = this.renderTargetMask.clone();\n    this.renderTargetOutline.texture.name = \"Outline.Edges\";\n    this.renderTargetOutline.depthBuffer = false;\n    this.renderTargetBlurredOutline = this.renderTargetOutline.clone();\n    this.renderTargetBlurredOutline.texture.name = \"Outline.BlurredEdges\";\n    this.clearPass = new ClearPass();\n    this.clearPass.overrideClearColor = new Color6(0);\n    this.clearPass.overrideClearAlpha = 1;\n    this.depthPass = new DepthPass(scene, camera);\n    this.maskPass = new RenderPass(scene, camera, new DepthComparisonMaterial(this.depthPass.texture, camera));\n    const clearPass = this.maskPass.getClearPass();\n    clearPass.overrideClearColor = new Color6(16777215);\n    clearPass.overrideClearAlpha = 1;\n    this.blurPass = new BlurPass({resolutionScale, width, height, kernelSize});\n    this.blurPass.resolution.resizable = this;\n    this.blur = blur;\n    this.outlinePass = new ShaderPass(new OutlineMaterial());\n    this.outlinePass.getFullscreenMaterial().uniforms.inputBuffer.value = this.renderTargetMask.texture;\n    this.time = 0;\n    this.selection = new Selection();\n    this.pulseSpeed = pulseSpeed;\n  }\n  get resolution() {\n    return this.blurPass.resolution;\n  }\n  get width() {\n    return this.resolution.width;\n  }\n  set width(value) {\n    this.resolution.width = value;\n  }\n  get height() {\n    return this.resolution.height;\n  }\n  set height(value) {\n    this.resolution.height = value;\n  }\n  get selectionLayer() {\n    return this.selection.layer;\n  }\n  set selectionLayer(value) {\n    this.selection.layer = value;\n  }\n  get dithering() {\n    return this.blurPass.dithering;\n  }\n  set dithering(value) {\n    this.blurPass.dithering = value;\n  }\n  get kernelSize() {\n    return this.blurPass.kernelSize;\n  }\n  set kernelSize(value) {\n    this.blurPass.kernelSize = value;\n  }\n  get blur() {\n    return this.blurPass.enabled;\n  }\n  set blur(value) {\n    this.blurPass.enabled = value;\n    this.uniforms.get(\"edgeTexture\").value = value ? this.renderTargetBlurredOutline.texture : this.renderTargetOutline.texture;\n  }\n  get xRay() {\n    return this.defines.has(\"X_RAY\");\n  }\n  set xRay(value) {\n    if (this.xRay !== value) {\n      if (value) {\n        this.defines.set(\"X_RAY\", \"1\");\n      } else {\n        this.defines.delete(\"X_RAY\");\n      }\n      this.setChanged();\n    }\n  }\n  setPatternTexture(texture) {\n    if (texture !== null) {\n      texture.wrapS = texture.wrapT = RepeatWrapping2;\n      this.defines.set(\"USE_PATTERN\", \"1\");\n      this.uniforms.get(\"patternTexture\").value = texture;\n      this.setVertexShader(shader_default64);\n    } else {\n      this.defines.delete(\"USE_PATTERN\");\n      this.uniforms.get(\"patternTexture\").value = null;\n      this.setVertexShader(null);\n    }\n    this.setChanged();\n  }\n  getResolutionScale() {\n    return this.resolution.scale;\n  }\n  setResolutionScale(scale) {\n    this.resolution.scale = scale;\n  }\n  setSelection(objects) {\n    this.selection.set(objects);\n    return this;\n  }\n  clearSelection() {\n    this.selection.clear();\n    return this;\n  }\n  selectObject(object) {\n    this.selection.add(object);\n    return this;\n  }\n  deselectObject(object) {\n    this.selection.delete(object);\n    return this;\n  }\n  update(renderer, inputBuffer, deltaTime) {\n    const scene = this.scene;\n    const camera = this.camera;\n    const selection = this.selection;\n    const pulse = this.uniforms.get(\"pulse\");\n    const background = scene.background;\n    const mask = camera.layers.mask;\n    if (selection.size > 0) {\n      scene.background = null;\n      pulse.value = 1;\n      if (this.pulseSpeed > 0) {\n        pulse.value = 0.625 + Math.cos(this.time * this.pulseSpeed * 10) * 0.375;\n      }\n      this.time += deltaTime;\n      selection.setVisible(false);\n      this.depthPass.render(renderer);\n      selection.setVisible(true);\n      camera.layers.set(selection.layer);\n      this.maskPass.render(renderer, this.renderTargetMask);\n      camera.layers.mask = mask;\n      scene.background = background;\n      this.outlinePass.render(renderer, null, this.renderTargetOutline);\n      if (this.blur) {\n        this.blurPass.render(renderer, this.renderTargetOutline, this.renderTargetBlurredOutline);\n      }\n    } else if (this.time > 0) {\n      this.clearPass.render(renderer, this.renderTargetMask);\n      this.time = 0;\n    }\n  }\n  setSize(width, height) {\n    this.blurPass.setSize(width, height);\n    this.renderTargetMask.setSize(width, height);\n    const w = this.resolution.width;\n    const h = this.resolution.height;\n    this.depthPass.setSize(w, h);\n    this.renderTargetOutline.setSize(w, h);\n    this.renderTargetBlurredOutline.setSize(w, h);\n    this.outlinePass.getFullscreenMaterial().setTexelSize(1 / w, 1 / h);\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    this.blurPass.initialize(renderer, alpha, UnsignedByteType14);\n    if (frameBufferType !== void 0) {\n      this.depthPass.initialize(renderer, alpha, frameBufferType);\n      this.maskPass.initialize(renderer, alpha, frameBufferType);\n      this.outlinePass.initialize(renderer, alpha, frameBufferType);\n    }\n  }\n};\n\n// src/effects/PixelationEffect.js\nimport {Uniform as Uniform34, Vector2 as Vector219} from \"three\";\n\n// src/effects/glsl/pixelation/shader.frag\nvar shader_default65 = \"uniform bool active;uniform vec2 d;void mainUv(inout vec2 uv){if(active){uv=vec2(d.x*(floor(uv.x/d.x)+0.5),d.y*(floor(uv.y/d.y)+0.5));}}\";\n\n// src/effects/PixelationEffect.js\nvar PixelationEffect = class extends Effect {\n  constructor(granularity = 30) {\n    super(\"PixelationEffect\", shader_default65, {\n      uniforms: new Map([\n        [\"active\", new Uniform34(false)],\n        [\"d\", new Uniform34(new Vector219())]\n      ])\n    });\n    this.resolution = new Vector219();\n    this.granularity = granularity;\n  }\n  getGranularity() {\n    return this.granularity;\n  }\n  setGranularity(granularity) {\n    granularity = Math.floor(granularity);\n    if (granularity % 2 > 0) {\n      granularity += 1;\n    }\n    const uniforms = this.uniforms;\n    uniforms.get(\"active\").value = granularity > 0;\n    uniforms.get(\"d\").value.set(granularity, granularity).divide(this.resolution);\n    this.granularity = granularity;\n  }\n  setSize(width, height) {\n    this.resolution.set(width, height);\n    this.setGranularity(this.granularity);\n  }\n};\n\n// src/effects/RealisticBokehEffect.js\nimport {Uniform as Uniform35, Vector4 as Vector42} from \"three\";\n\n// src/effects/glsl/realistic-bokeh/shader.frag\nvar shader_default66 = \"uniform float focus;uniform float focalLength;uniform float fStop;uniform float maxBlur;uniform float luminanceThreshold;uniform float luminanceGain;uniform float bias;uniform float fringe;\\n#ifdef MANUAL_DOF\\nuniform vec4 dof;\\n#endif\\n#ifdef PENTAGON\\nfloat pentagon(const in vec2 coords){const vec4 HS0=vec4(1.0,0.0,0.0,1.0);const vec4 HS1=vec4(0.309016994,0.951056516,0.0,1.0);const vec4 HS2=vec4(-0.809016994,0.587785252,0.0,1.0);const vec4 HS3=vec4(-0.809016994,-0.587785252,0.0,1.0);const vec4 HS4=vec4(0.309016994,-0.951056516,0.0,1.0);const vec4 HS5=vec4(0.0,0.0,1.0,1.0);const vec4 ONE=vec4(1.0);const float P_FEATHER=0.4;const float N_FEATHER=-P_FEATHER;float inOrOut=-4.0;vec4 P=vec4(coords,vec2(RINGS_FLOAT-1.3));vec4 dist=vec4(dot(P,HS0),dot(P,HS1),dot(P,HS2),dot(P,HS3));dist=smoothstep(N_FEATHER,P_FEATHER,dist);inOrOut+=dot(dist,ONE);dist.x=dot(P,HS4);dist.y=HS5.w-abs(P.z);dist=smoothstep(N_FEATHER,P_FEATHER,dist);inOrOut+=dist.x;return clamp(inOrOut,0.0,1.0);}\\n#endif\\nvec3 processTexel(const in vec2 coords,const in float blur){vec2 scale=texelSize*fringe*blur;vec3 c=vec3(texture2D(inputBuffer,coords+vec2(0.0,1.0)*scale).r,texture2D(inputBuffer,coords+vec2(-0.866,-0.5)*scale).g,texture2D(inputBuffer,coords+vec2(0.866,-0.5)*scale).b);float luminance=linearToRelativeLuminance(c);float threshold=max((luminance-luminanceThreshold)*luminanceGain,0.0);return c+mix(vec3(0.0),c,threshold*blur);}float gather(const in float i,const in float j,const in float ringSamples,const in vec2 uv,const in vec2 blurFactor,const in float blur,inout vec3 color){float step=PI2/ringSamples;vec2 wh=vec2(cos(j*step)*i,sin(j*step)*i);\\n#ifdef PENTAGON\\nfloat p=pentagon(wh);\\n#else\\nfloat p=1.0;\\n#endif\\ncolor+=processTexel(wh*blurFactor+uv,blur)*mix(1.0,i/RINGS_FLOAT,bias)*p;return mix(1.0,i/RINGS_FLOAT,bias)*p;}void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){\\n#ifdef PERSPECTIVE_CAMERA\\nfloat viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);\\n#else\\nfloat linearDepth=depth;\\n#endif\\n#ifdef MANUAL_DOF\\nfloat focalPlane=linearDepth-focus;float farDoF=(focalPlane-dof.z)/dof.w;float nearDoF=(-focalPlane-dof.x)/dof.y;float blur=(focalPlane>0.0)? farDoF : nearDoF;\\n#else\\nconst float CIRCLE_OF_CONFUSION=0.03;float focalPlaneMM=focus*1000.0;float depthMM=linearDepth*1000.0;float focalPlane=(depthMM*focalLength)/(depthMM-focalLength);float farDoF=(focalPlaneMM*focalLength)/(focalPlaneMM-focalLength);float nearDoF=(focalPlaneMM-focalLength)/(focalPlaneMM*fStop*CIRCLE_OF_CONFUSION);float blur=abs(focalPlane-farDoF)*nearDoF;\\n#endif\\nconst int MAX_RING_SAMPLES=RINGS_INT*SAMPLES_INT;blur=clamp(blur,0.0,1.0);vec3 color=inputColor.rgb;if(blur>=0.05){vec2 blurFactor=blur*maxBlur*texelSize;float s=1.0;int ringSamples;for(int i=1;i<=RINGS_INT;i++){ringSamples=i*SAMPLES_INT;for(int j=0;j<MAX_RING_SAMPLES;j++){if(j>=ringSamples){break;}s+=gather(float(i),float(j),float(ringSamples),uv,blurFactor,blur,color);}}color/=s;}\\n#ifdef SHOW_FOCUS\\nfloat edge=0.002*linearDepth;float m=clamp(smoothstep(0.0,edge,blur),0.0,1.0);float e=clamp(smoothstep(1.0-edge,1.0,blur),0.0,1.0);color=mix(color,vec3(1.0,0.5,0.0),(1.0-m)*0.6);color=mix(color,vec3(0.0,0.5,1.0),((1.0-e)-(1.0-m))*0.2);\\n#endif\\noutputColor=vec4(color,inputColor.a);}\";\n\n// src/effects/RealisticBokehEffect.js\nvar RealisticBokehEffect = class extends Effect {\n  constructor({\n    blendFunction = BlendFunction.NORMAL,\n    focus = 1,\n    focalLength = 24,\n    fStop = 0.9,\n    luminanceThreshold = 0.5,\n    luminanceGain = 2,\n    bias = 0.5,\n    fringe = 0.7,\n    maxBlur = 1,\n    rings = 3,\n    samples = 2,\n    showFocus = false,\n    manualDoF = false,\n    pentagon = false\n  } = {}) {\n    super(\"RealisticBokehEffect\", shader_default66, {\n      blendFunction,\n      attributes: EffectAttribute.CONVOLUTION | EffectAttribute.DEPTH,\n      uniforms: new Map([\n        [\"focus\", new Uniform35(focus)],\n        [\"focalLength\", new Uniform35(focalLength)],\n        [\"fStop\", new Uniform35(fStop)],\n        [\"luminanceThreshold\", new Uniform35(luminanceThreshold)],\n        [\"luminanceGain\", new Uniform35(luminanceGain)],\n        [\"bias\", new Uniform35(bias)],\n        [\"fringe\", new Uniform35(fringe)],\n        [\"maxBlur\", new Uniform35(maxBlur)],\n        [\"dof\", new Uniform35(null)]\n      ])\n    });\n    this.rings = rings;\n    this.samples = samples;\n    this.showFocus = showFocus;\n    this.manualDoF = manualDoF;\n    this.pentagon = pentagon;\n  }\n  get rings() {\n    return Number.parseInt(this.defines.get(\"RINGS_INT\"));\n  }\n  set rings(value) {\n    const r = Math.floor(value);\n    this.defines.set(\"RINGS_INT\", r.toFixed(0));\n    this.defines.set(\"RINGS_FLOAT\", r.toFixed(1));\n    this.setChanged();\n  }\n  get samples() {\n    return Number.parseInt(this.defines.get(\"SAMPLES_INT\"));\n  }\n  set samples(value) {\n    const s = Math.floor(value);\n    this.defines.set(\"SAMPLES_INT\", s.toFixed(0));\n    this.defines.set(\"SAMPLES_FLOAT\", s.toFixed(1));\n    this.setChanged();\n  }\n  get showFocus() {\n    return this.defines.has(\"SHOW_FOCUS\");\n  }\n  set showFocus(value) {\n    if (this.showFocus !== value) {\n      if (value) {\n        this.defines.set(\"SHOW_FOCUS\", \"1\");\n      } else {\n        this.defines.delete(\"SHOW_FOCUS\");\n      }\n      this.setChanged();\n    }\n  }\n  get manualDoF() {\n    return this.defines.has(\"MANUAL_DOF\");\n  }\n  set manualDoF(value) {\n    if (this.manualDoF !== value) {\n      if (value) {\n        this.defines.set(\"MANUAL_DOF\", \"1\");\n        this.uniforms.get(\"dof\").value = new Vector42(0.2, 1, 0.2, 2);\n      } else {\n        this.defines.delete(\"MANUAL_DOF\");\n        this.uniforms.get(\"dof\").value = null;\n      }\n      this.setChanged();\n    }\n  }\n  get pentagon() {\n    return this.defines.has(\"PENTAGON\");\n  }\n  set pentagon(value) {\n    if (this.pentagon !== value) {\n      if (value) {\n        this.defines.set(\"PENTAGON\", \"1\");\n      } else {\n        this.defines.delete(\"PENTAGON\");\n      }\n      this.setChanged();\n    }\n  }\n};\n\n// src/effects/ScanlineEffect.js\nimport {Uniform as Uniform36, Vector2 as Vector220} from \"three\";\n\n// src/effects/glsl/scanlines/shader.frag\nvar shader_default67 = \"uniform float count;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 sl=vec2(sin(uv.y*count),cos(uv.y*count));vec3 scanlines=vec3(sl.x,sl.y,sl.x);outputColor=vec4(scanlines,inputColor.a);}\";\n\n// src/effects/ScanlineEffect.js\nvar ScanlineEffect = class extends Effect {\n  constructor({blendFunction = BlendFunction.OVERLAY, density = 1.25} = {}) {\n    super(\"ScanlineEffect\", shader_default67, {\n      blendFunction,\n      uniforms: new Map([\n        [\"count\", new Uniform36(0)]\n      ])\n    });\n    this.resolution = new Vector220();\n    this.density = density;\n  }\n  getDensity() {\n    return this.density;\n  }\n  setDensity(density) {\n    this.density = density;\n    this.setSize(this.resolution.x, this.resolution.y);\n  }\n  setSize(width, height) {\n    this.resolution.set(width, height);\n    this.uniforms.get(\"count\").value = Math.round(height * this.density);\n  }\n};\n\n// src/effects/ShockWaveEffect.js\nimport {Uniform as Uniform37, Vector2 as Vector221, Vector3 as Vector35} from \"three\";\n\n// src/effects/glsl/shock-wave/shader.frag\nvar shader_default68 = \"uniform bool active;uniform vec2 center;uniform float waveSize;uniform float radius;uniform float maxRadius;uniform float amplitude;varying float vSize;void mainUv(inout vec2 uv){if(active){vec2 aspectCorrection=vec2(aspect,1.0);vec2 difference=uv*aspectCorrection-center*aspectCorrection;float distance=sqrt(dot(difference,difference))*vSize;if(distance>radius){if(distance<radius+waveSize){float angle=(distance-radius)*PI2/waveSize;float cosSin=(1.0-cos(angle))*0.5;float extent=maxRadius+waveSize;float decay=max(extent-distance*distance,0.0)/extent;uv-=((cosSin*amplitude*difference)/distance)*decay;}}}}\";\n\n// src/effects/glsl/shock-wave/shader.vert\nvar shader_default69 = \"uniform float size;uniform float cameraDistance;varying float vSize;void mainSupport(){vSize=(0.1*cameraDistance)/size;}\";\n\n// src/effects/ShockWaveEffect.js\nvar HALF_PI = Math.PI * 0.5;\nvar v2 = new Vector35();\nvar ab = new Vector35();\nvar ShockWaveEffect = class extends Effect {\n  constructor(camera, epicenter = new Vector35(), {\n    speed = 2,\n    maxRadius = 1,\n    waveSize = 0.2,\n    amplitude = 0.05\n  } = {}) {\n    super(\"ShockWaveEffect\", shader_default68, {\n      vertexShader: shader_default69,\n      uniforms: new Map([\n        [\"active\", new Uniform37(false)],\n        [\"center\", new Uniform37(new Vector221(0.5, 0.5))],\n        [\"cameraDistance\", new Uniform37(1)],\n        [\"size\", new Uniform37(1)],\n        [\"radius\", new Uniform37(-waveSize)],\n        [\"maxRadius\", new Uniform37(maxRadius)],\n        [\"waveSize\", new Uniform37(waveSize)],\n        [\"amplitude\", new Uniform37(amplitude)]\n      ])\n    });\n    this.camera = camera;\n    this.epicenter = epicenter;\n    this.screenPosition = this.uniforms.get(\"center\").value;\n    this.speed = speed;\n    this.time = 0;\n    this.active = false;\n  }\n  explode() {\n    this.time = 0;\n    this.active = true;\n    this.uniforms.get(\"active\").value = true;\n  }\n  update(renderer, inputBuffer, delta) {\n    const epicenter = this.epicenter;\n    const camera = this.camera;\n    const uniforms = this.uniforms;\n    const uniformActive = uniforms.get(\"active\");\n    if (this.active) {\n      const waveSize = uniforms.get(\"waveSize\").value;\n      camera.getWorldDirection(v2);\n      ab.copy(camera.position).sub(epicenter);\n      uniformActive.value = v2.angleTo(ab) > HALF_PI;\n      if (uniformActive.value) {\n        uniforms.get(\"cameraDistance\").value = camera.position.distanceTo(epicenter);\n        v2.copy(epicenter).project(camera);\n        this.screenPosition.set((v2.x + 1) * 0.5, (v2.y + 1) * 0.5);\n      }\n      this.time += delta * this.speed;\n      const radius = this.time - waveSize;\n      uniforms.get(\"radius\").value = radius;\n      if (radius >= (uniforms.get(\"maxRadius\").value + waveSize) * 2) {\n        this.active = false;\n        uniformActive.value = false;\n      }\n    }\n  }\n};\n\n// src/effects/SelectiveBloomEffect.js\nimport {\n  BasicDepthPacking as BasicDepthPacking6,\n  Color as Color7,\n  LinearFilter as LinearFilter11,\n  NotEqualDepth as NotEqualDepth2,\n  EqualDepth as EqualDepth2,\n  RGBADepthPacking as RGBADepthPacking4,\n  RGBFormat as RGBFormat12,\n  UnsignedByteType as UnsignedByteType15,\n  WebGLRenderTarget as WebGLRenderTarget14\n} from \"three\";\nvar SelectiveBloomEffect = class extends BloomEffect {\n  constructor(scene, camera, options) {\n    super(options);\n    this.setAttributes(this.getAttributes() | EffectAttribute.DEPTH);\n    this.camera = camera;\n    this.depthPass = new DepthPass(scene, camera);\n    this.clearPass = new ClearPass(true, false, false);\n    this.clearPass.overrideClearColor = new Color7(0);\n    this.depthMaskPass = new ShaderPass(new DepthMaskMaterial());\n    const depthMaskMaterial = this.depthMaskMaterial;\n    depthMaskMaterial.uniforms.depthBuffer1.value = this.depthPass.texture;\n    depthMaskMaterial.defines.DEPTH_PACKING_1 = RGBADepthPacking4.toFixed(0);\n    depthMaskMaterial.setDepthMode(EqualDepth2);\n    this.renderTargetMasked = new WebGLRenderTarget14(1, 1, {\n      minFilter: LinearFilter11,\n      magFilter: LinearFilter11,\n      stencilBuffer: false,\n      depthBuffer: false\n    });\n    this.renderTargetMasked.texture.name = \"Bloom.Masked\";\n    this.renderTargetMasked.texture.generateMipmaps = false;\n    this.selection = new Selection();\n  }\n  get depthMaskMaterial() {\n    return this.depthMaskPass.getFullscreenMaterial();\n  }\n  get inverted() {\n    return this.depthMaskMaterial.getDepthMode() === NotEqualDepth2;\n  }\n  set inverted(value) {\n    this.depthMaskMaterial.setDepthMode(value ? NotEqualDepth2 : EqualDepth2);\n  }\n  get ignoreBackground() {\n    return !this.depthMaskMaterial.keepFar;\n  }\n  set ignoreBackground(value) {\n    this.depthMaskMaterial.keepFar = !value;\n  }\n  setDepthTexture(depthTexture, depthPacking = BasicDepthPacking6) {\n    const material = this.depthMaskPass.getFullscreenMaterial();\n    material.uniforms.depthBuffer0.value = depthTexture;\n    material.defines.DEPTH_PACKING_0 = depthPacking.toFixed(0);\n    material.needsUpdate = true;\n  }\n  update(renderer, inputBuffer, deltaTime) {\n    const camera = this.camera;\n    const selection = this.selection;\n    const renderTarget = this.renderTargetMasked;\n    const mask = camera.layers.mask;\n    camera.layers.set(selection.layer);\n    this.depthPass.render(renderer);\n    camera.layers.mask = mask;\n    this.clearPass.render(renderer, renderTarget);\n    this.depthMaskPass.render(renderer, inputBuffer, renderTarget);\n    super.update(renderer, renderTarget, deltaTime);\n  }\n  setSize(width, height) {\n    super.setSize(width, height);\n    this.clearPass.setSize(width, height);\n    this.depthPass.setSize(width, height);\n    this.depthMaskPass.setSize(width, height);\n    this.renderTargetMasked.setSize(width, height);\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    super.initialize(renderer, alpha, frameBufferType);\n    this.clearPass.initialize(renderer, alpha, frameBufferType);\n    this.depthPass.initialize(renderer, alpha, frameBufferType);\n    this.depthMaskPass.initialize(renderer, alpha, frameBufferType);\n    if (!alpha && frameBufferType === UnsignedByteType15) {\n      this.renderTargetMasked.texture.format = RGBFormat12;\n    }\n    if (frameBufferType !== void 0) {\n      this.renderTargetMasked.texture.type = frameBufferType;\n    }\n  }\n};\n\n// src/effects/SepiaEffect.js\nimport {Uniform as Uniform38} from \"three\";\n\n// src/effects/glsl/sepia/shader.frag\nvar shader_default70 = \"uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,vec3(1.0-0.607*intensity,0.769*intensity,0.189*intensity)),dot(inputColor.rgb,vec3(0.349*intensity,1.0-0.314*intensity,0.168*intensity)),dot(inputColor.rgb,vec3(0.272*intensity,0.534*intensity,1.0-0.869*intensity)));outputColor=vec4(color,inputColor.a);}\";\n\n// src/effects/SepiaEffect.js\nvar SepiaEffect = class extends Effect {\n  constructor({blendFunction = BlendFunction.NORMAL, intensity = 1} = {}) {\n    super(\"SepiaEffect\", shader_default70, {\n      blendFunction,\n      uniforms: new Map([\n        [\"intensity\", new Uniform38(intensity)]\n      ])\n    });\n  }\n};\n\n// src/effects/SMAAEffect.js\nimport {\n  BasicDepthPacking as BasicDepthPacking7,\n  Color as Color8,\n  LinearFilter as LinearFilter12,\n  NearestFilter as NearestFilter8,\n  RGBAFormat as RGBAFormat6,\n  RGBFormat as RGBFormat13,\n  Texture,\n  Uniform as Uniform39,\n  Vector2 as Vector222,\n  WebGLRenderTarget as WebGLRenderTarget15\n} from \"three\";\n\n// src/images/smaa/searchImageDataURL.js\nvar searchImageDataURL_default = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC\";\n\n// src/images/smaa/areaImageDataURL.js\nvar areaImageDataURL_default = \"data:image/png;base64,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\";\n\n// src/effects/glsl/smaa/shader.frag\nvar shader_default71 = \"uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}\";\n\n// src/effects/glsl/smaa/shader.vert\nvar shader_default72 = \"varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}\";\n\n// src/effects/SMAAEffect.js\nvar SMAAEffect = class extends Effect {\n  constructor(searchImage, areaImage, preset = SMAAPreset.HIGH, edgeDetectionMode = EdgeDetectionMode.COLOR) {\n    super(\"SMAAEffect\", shader_default71, {\n      vertexShader: shader_default72,\n      blendFunction: BlendFunction.NORMAL,\n      attributes: EffectAttribute.CONVOLUTION | EffectAttribute.DEPTH,\n      uniforms: new Map([\n        [\"weightMap\", new Uniform39(null)]\n      ])\n    });\n    this.renderTargetEdges = new WebGLRenderTarget15(1, 1, {\n      minFilter: LinearFilter12,\n      stencilBuffer: false,\n      depthBuffer: false,\n      format: RGBFormat13\n    });\n    this.renderTargetEdges.texture.name = \"SMAA.Edges\";\n    this.renderTargetWeights = this.renderTargetEdges.clone();\n    this.renderTargetWeights.texture.name = \"SMAA.Weights\";\n    this.renderTargetWeights.texture.format = RGBAFormat6;\n    this.uniforms.get(\"weightMap\").value = this.renderTargetWeights.texture;\n    this.clearPass = new ClearPass(true, false, false);\n    this.clearPass.overrideClearColor = new Color8(0);\n    this.clearPass.overrideClearAlpha = 1;\n    this.edgeDetectionPass = new ShaderPass(new EdgeDetectionMaterial(new Vector222(), edgeDetectionMode));\n    this.weightsPass = new ShaderPass(new SMAAWeightsMaterial());\n    const searchTexture = new Texture(searchImage);\n    searchTexture.name = \"SMAA.Search\";\n    searchTexture.magFilter = NearestFilter8;\n    searchTexture.minFilter = NearestFilter8;\n    searchTexture.format = RGBAFormat6;\n    searchTexture.generateMipmaps = false;\n    searchTexture.needsUpdate = true;\n    searchTexture.flipY = true;\n    const areaTexture = new Texture(areaImage);\n    areaTexture.name = \"SMAA.Area\";\n    areaTexture.magFilter = LinearFilter12;\n    areaTexture.minFilter = LinearFilter12;\n    areaTexture.format = RGBAFormat6;\n    areaTexture.generateMipmaps = false;\n    areaTexture.needsUpdate = true;\n    areaTexture.flipY = false;\n    const weightsMaterial = this.weightsPass.getFullscreenMaterial();\n    weightsMaterial.uniforms.searchTexture.value = searchTexture;\n    weightsMaterial.uniforms.areaTexture.value = areaTexture;\n    this.applyPreset(preset);\n  }\n  get edgeDetectionMaterial() {\n    return this.edgeDetectionPass.getFullscreenMaterial();\n  }\n  get colorEdgesMaterial() {\n    return this.edgeDetectionMaterial;\n  }\n  get weightsMaterial() {\n    return this.weightsPass.getFullscreenMaterial();\n  }\n  setEdgeDetectionThreshold(threshold) {\n    this.edgeDetectionPass.getFullscreenMaterial().setEdgeDetectionThreshold(threshold);\n  }\n  setOrthogonalSearchSteps(steps) {\n    this.weightsPass.getFullscreenMaterial().setOrthogonalSearchSteps(steps);\n  }\n  applyPreset(preset) {\n    const edgeDetectionMaterial = this.edgeDetectionMaterial;\n    const weightsMaterial = this.weightsMaterial;\n    switch (preset) {\n      case SMAAPreset.LOW:\n        edgeDetectionMaterial.setEdgeDetectionThreshold(0.15);\n        weightsMaterial.setOrthogonalSearchSteps(4);\n        weightsMaterial.diagonalDetection = false;\n        weightsMaterial.cornerRounding = false;\n        break;\n      case SMAAPreset.MEDIUM:\n        edgeDetectionMaterial.setEdgeDetectionThreshold(0.1);\n        weightsMaterial.setOrthogonalSearchSteps(8);\n        weightsMaterial.diagonalDetection = false;\n        weightsMaterial.cornerRounding = false;\n        break;\n      case SMAAPreset.HIGH:\n        edgeDetectionMaterial.setEdgeDetectionThreshold(0.1);\n        weightsMaterial.setOrthogonalSearchSteps(16);\n        weightsMaterial.setDiagonalSearchSteps(8);\n        weightsMaterial.setCornerRounding(25);\n        weightsMaterial.diagonalDetection = true;\n        weightsMaterial.cornerRounding = true;\n        break;\n      case SMAAPreset.ULTRA:\n        edgeDetectionMaterial.setEdgeDetectionThreshold(0.05);\n        weightsMaterial.setOrthogonalSearchSteps(32);\n        weightsMaterial.setDiagonalSearchSteps(16);\n        weightsMaterial.setCornerRounding(25);\n        weightsMaterial.diagonalDetection = true;\n        weightsMaterial.cornerRounding = true;\n        break;\n    }\n  }\n  setDepthTexture(depthTexture, depthPacking = BasicDepthPacking7) {\n    const material = this.edgeDetectionMaterial;\n    material.uniforms.depthBuffer.value = depthTexture;\n    material.depthPacking = depthPacking;\n  }\n  update(renderer, inputBuffer, deltaTime) {\n    this.clearPass.render(renderer, this.renderTargetEdges);\n    this.edgeDetectionPass.render(renderer, inputBuffer, this.renderTargetEdges);\n    this.weightsPass.render(renderer, this.renderTargetEdges, this.renderTargetWeights);\n  }\n  setSize(width, height) {\n    const edgeDetectionMaterial = this.edgeDetectionPass.getFullscreenMaterial();\n    const weightsMaterial = this.weightsPass.getFullscreenMaterial();\n    this.renderTargetEdges.setSize(width, height);\n    this.renderTargetWeights.setSize(width, height);\n    weightsMaterial.uniforms.resolution.value.set(width, height);\n    weightsMaterial.uniforms.texelSize.value.set(1 / width, 1 / height);\n    edgeDetectionMaterial.uniforms.texelSize.value.copy(weightsMaterial.uniforms.texelSize.value);\n  }\n  dispose() {\n    const uniforms = this.weightsPass.getFullscreenMaterial().uniforms;\n    uniforms.searchTexture.value.dispose();\n    uniforms.areaTexture.value.dispose();\n    super.dispose();\n  }\n  static get searchImageDataURL() {\n    return searchImageDataURL_default;\n  }\n  static get areaImageDataURL() {\n    return areaImageDataURL_default;\n  }\n};\nvar SMAAPreset = {\n  LOW: 0,\n  MEDIUM: 1,\n  HIGH: 2,\n  ULTRA: 3\n};\n\n// src/effects/SSAOEffect.js\nimport {\n  BasicDepthPacking as BasicDepthPacking8,\n  Color as Color9,\n  LinearFilter as LinearFilter13,\n  RepeatWrapping as RepeatWrapping3,\n  RGBFormat as RGBFormat14,\n  Uniform as Uniform40,\n  WebGLRenderTarget as WebGLRenderTarget16\n} from \"three\";\n\n// src/effects/glsl/ssao/shader.frag\nvar shader_default73 = \"uniform lowp sampler2D aoBuffer;uniform float luminanceInfluence;\\n#ifdef DEPTH_AWARE_UPSAMPLING\\n#ifdef GL_FRAGMENT_PRECISION_HIGH\\nuniform highp sampler2D normalDepthBuffer;\\n#else\\nuniform mediump sampler2D normalDepthBuffer;\\n#endif\\n#endif\\n#ifdef COLORIZE\\nuniform vec3 color;\\n#endif\\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){float aoLinear=texture2D(aoBuffer,uv).r;\\n#if defined(DEPTH_AWARE_UPSAMPLING) && __VERSION__ == 300\\nvec4 normalDepth[4];normalDepth[0]=textureOffset(normalDepthBuffer,uv,ivec2(0,0));normalDepth[1]=textureOffset(normalDepthBuffer,uv,ivec2(0,1));normalDepth[2]=textureOffset(normalDepthBuffer,uv,ivec2(1,0));normalDepth[3]=textureOffset(normalDepthBuffer,uv,ivec2(1,1));float dot01=dot(normalDepth[0].rgb,normalDepth[1].rgb);float dot02=dot(normalDepth[0].rgb,normalDepth[2].rgb);float dot03=dot(normalDepth[0].rgb,normalDepth[3].rgb);float minDot=min(dot01,min(dot02,dot03));float s=step(THRESHOLD,minDot);float smallestDistance=1.0;int index;for(int i=0;i<4;++i){float distance=abs(depth-normalDepth[i].a);if(distance<smallestDistance){smallestDistance=distance;index=i;}}ivec2 offsets[4];offsets[0]=ivec2(0,0);offsets[1]=ivec2(0,1);offsets[2]=ivec2(1,0);offsets[3]=ivec2(1,1);ivec2 coord=ivec2(uv*vec2(textureSize(aoBuffer,0)))+offsets[index];float aoNearest=texelFetch(aoBuffer,coord,0).r;float ao=mix(aoNearest,aoLinear,s);\\n#else\\nfloat ao=aoLinear;\\n#endif\\nfloat l=linearToRelativeLuminance(inputColor.rgb);ao=mix(ao,1.0,l*luminanceInfluence);\\n#ifdef COLORIZE\\noutputColor=vec4(1.0-(1.0-ao)*(1.0-color),inputColor.a);\\n#else\\noutputColor=vec4(vec3(ao),inputColor.a);\\n#endif\\n}\";\n\n// src/effects/SSAOEffect.js\nvar NOISE_TEXTURE_SIZE = 64;\nvar SSAOEffect = class extends Effect {\n  constructor(camera, normalBuffer, {\n    blendFunction = BlendFunction.MULTIPLY,\n    distanceScaling = true,\n    depthAwareUpsampling = true,\n    normalDepthBuffer = null,\n    samples = 9,\n    rings = 7,\n    distanceThreshold = 0.97,\n    distanceFalloff = 0.03,\n    rangeThreshold = 5e-4,\n    rangeFalloff = 1e-3,\n    minRadiusScale = 0.33,\n    luminanceInfluence = 0.7,\n    radius = 0.1825,\n    intensity = 1,\n    bias = 0.025,\n    fade = 0.01,\n    color: color2 = null,\n    resolutionScale = 1,\n    width = Resizer.AUTO_SIZE,\n    height = Resizer.AUTO_SIZE\n  } = {}) {\n    super(\"SSAOEffect\", shader_default73, {\n      blendFunction,\n      attributes: EffectAttribute.DEPTH,\n      defines: new Map([\n        [\"THRESHOLD\", \"0.997\"]\n      ]),\n      uniforms: new Map([\n        [\"aoBuffer\", new Uniform40(null)],\n        [\"normalDepthBuffer\", new Uniform40(null)],\n        [\"luminanceInfluence\", new Uniform40(luminanceInfluence)],\n        [\"color\", new Uniform40(null)],\n        [\"scale\", new Uniform40(0)]\n      ])\n    });\n    this.renderTargetAO = new WebGLRenderTarget16(1, 1, {\n      minFilter: LinearFilter13,\n      magFilter: LinearFilter13,\n      stencilBuffer: false,\n      depthBuffer: false,\n      format: RGBFormat14\n    });\n    this.renderTargetAO.texture.name = \"AO.Target\";\n    this.renderTargetAO.texture.generateMipmaps = false;\n    this.uniforms.get(\"aoBuffer\").value = this.renderTargetAO.texture;\n    this.resolution = new Resizer(this, width, height, resolutionScale);\n    this.r = 1;\n    this.camera = camera;\n    this.ssaoPass = new ShaderPass((() => {\n      const noiseTexture = new NoiseTexture(NOISE_TEXTURE_SIZE, NOISE_TEXTURE_SIZE);\n      noiseTexture.wrapS = noiseTexture.wrapT = RepeatWrapping3;\n      const material = new SSAOMaterial(camera);\n      material.uniforms.noiseTexture.value = noiseTexture;\n      material.uniforms.intensity.value = intensity;\n      material.uniforms.minRadiusScale.value = minRadiusScale;\n      material.uniforms.fade.value = fade;\n      material.uniforms.bias.value = bias;\n      if (normalDepthBuffer !== null) {\n        material.uniforms.normalDepthBuffer.value = normalDepthBuffer;\n        material.defines.NORMAL_DEPTH = \"1\";\n        if (depthAwareUpsampling) {\n          this.depthAwareUpsampling = depthAwareUpsampling;\n          this.uniforms.get(\"normalDepthBuffer\").value = normalDepthBuffer;\n        }\n      } else {\n        material.uniforms.normalBuffer.value = normalBuffer;\n      }\n      return material;\n    })());\n    this.distanceScaling = distanceScaling;\n    this.samples = samples;\n    this.rings = rings;\n    this.color = color2;\n    this.radius = radius > 1 ? radius / 100 : radius;\n    this.setDistanceCutoff(distanceThreshold, distanceFalloff);\n    this.setProximityCutoff(rangeThreshold, rangeFalloff);\n  }\n  get ssaoMaterial() {\n    return this.ssaoPass.getFullscreenMaterial();\n  }\n  get samples() {\n    return Number(this.ssaoMaterial.defines.SAMPLES_INT);\n  }\n  set samples(value) {\n    const material = this.ssaoMaterial;\n    material.defines.SAMPLES_INT = value.toFixed(0);\n    material.defines.SAMPLES_FLOAT = value.toFixed(1);\n    material.needsUpdate = true;\n  }\n  get rings() {\n    return Number(this.ssaoMaterial.defines.SPIRAL_TURNS);\n  }\n  set rings(value) {\n    const material = this.ssaoMaterial;\n    material.defines.SPIRAL_TURNS = value.toFixed(1);\n    material.needsUpdate = true;\n  }\n  get radius() {\n    return this.r;\n  }\n  set radius(value) {\n    this.r = Math.min(Math.max(value, 1e-6), 1);\n    const radius = this.r * this.resolution.height;\n    const material = this.ssaoMaterial;\n    material.defines.RADIUS = radius.toFixed(11);\n    material.defines.RADIUS_SQ = (radius * radius).toFixed(11);\n    material.needsUpdate = true;\n  }\n  get depthAwareUpsampling() {\n    return this.defines.has(\"DEPTH_AWARE_UPSAMPLING\");\n  }\n  set depthAwareUpsampling(value) {\n    if (this.depthAwareUpsampling !== value) {\n      if (value) {\n        this.defines.set(\"DEPTH_AWARE_UPSAMPLING\", \"1\");\n      } else {\n        this.defines.delete(\"DEPTH_AWARE_UPSAMPLING\");\n      }\n      this.setChanged();\n    }\n  }\n  get distanceScaling() {\n    return this.ssaoMaterial.defines.DISTANCE_SCALING !== void 0;\n  }\n  set distanceScaling(value) {\n    if (this.distanceScaling !== value) {\n      const material = this.ssaoMaterial;\n      if (value) {\n        material.defines.DISTANCE_SCALING = \"1\";\n      } else {\n        delete material.defines.DISTANCE_SCALING;\n      }\n      material.needsUpdate = true;\n    }\n  }\n  get color() {\n    return this.uniforms.get(\"color\").value;\n  }\n  set color(value) {\n    const uniforms = this.uniforms;\n    const defines = this.defines;\n    if (value !== null) {\n      if (defines.has(\"COLORIZE\")) {\n        uniforms.get(\"color\").value.set(value);\n      } else {\n        defines.set(\"COLORIZE\", \"1\");\n        uniforms.get(\"color\").value = new Color9(value);\n        this.setChanged();\n      }\n    } else if (defines.has(\"COLORIZE\")) {\n      defines.delete(\"COLORIZE\");\n      uniforms.get(\"color\").value = null;\n      this.setChanged();\n    }\n  }\n  setDistanceCutoff(threshold, falloff) {\n    this.ssaoMaterial.uniforms.distanceCutoff.value.set(Math.min(Math.max(threshold, 0), 1), Math.min(Math.max(threshold + falloff, 0), 1));\n  }\n  setProximityCutoff(threshold, falloff) {\n    this.ssaoMaterial.uniforms.proximityCutoff.value.set(Math.min(Math.max(threshold, 0), 1), Math.min(Math.max(threshold + falloff, 0), 1));\n  }\n  setDepthTexture(depthTexture, depthPacking = BasicDepthPacking8) {\n    const material = this.ssaoMaterial;\n    if (material.defines.NORMAL_DEPTH === void 0) {\n      material.uniforms.normalDepthBuffer.value = depthTexture;\n      material.depthPacking = depthPacking;\n    }\n  }\n  update(renderer, inputBuffer, deltaTime) {\n    this.ssaoPass.render(renderer, null, this.renderTargetAO);\n  }\n  setSize(width, height) {\n    const resolution = this.resolution;\n    resolution.base.set(width, height);\n    const w = resolution.width;\n    const h = resolution.height;\n    this.renderTargetAO.setSize(w, h);\n    this.ssaoMaterial.setTexelSize(1 / w, 1 / h);\n    const camera = this.camera;\n    const uniforms = this.ssaoMaterial.uniforms;\n    uniforms.noiseScale.value.set(w, h).divideScalar(NOISE_TEXTURE_SIZE);\n    uniforms.inverseProjectionMatrix.value.copy(camera.projectionMatrix).invert();\n    uniforms.projectionMatrix.value.copy(camera.projectionMatrix);\n    this.radius = this.r;\n  }\n};\n\n// src/effects/TextureEffect.js\nimport {\n  LinearEncoding as LinearEncoding3,\n  Matrix3,\n  sRGBEncoding as sRGBEncoding3,\n  Uniform as Uniform41,\n  UnsignedByteType as UnsignedByteType16\n} from \"three\";\n\n// src/effects/glsl/texture/shader.frag\nvar shader_default74 = \"#ifdef TEXTURE_PRECISION_HIGH\\nuniform mediump sampler2D map;\\n#else\\nuniform lowp sampler2D map;\\n#endif\\n#if defined(ASPECT_CORRECTION) || defined(UV_TRANSFORM)\\nvarying vec2 vUv2;\\n#endif\\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){\\n#if defined(ASPECT_CORRECTION) || defined(UV_TRANSFORM)\\nvec4 texel=texelToLinear(texture2D(map,vUv2));\\n#else\\nvec4 texel=texelToLinear(texture2D(map,uv));\\n#endif\\noutputColor=TEXEL;}\";\n\n// src/effects/glsl/texture/shader.vert\nvar shader_default75 = \"#ifdef ASPECT_CORRECTION\\nuniform float scale;\\n#else\\nuniform mat3 uvTransform;\\n#endif\\nvarying vec2 vUv2;void mainSupport(const in vec2 uv){\\n#ifdef ASPECT_CORRECTION\\nvUv2=uv*vec2(aspect,1.0)*scale;\\n#else\\nvUv2=(uvTransform*vec3(uv,1.0)).xy;\\n#endif\\n}\";\n\n// src/effects/TextureEffect.js\nvar TextureEffect = class extends Effect {\n  constructor({blendFunction = BlendFunction.NORMAL, texture = null, aspectCorrection = false} = {}) {\n    super(\"TextureEffect\", shader_default74, {\n      blendFunction,\n      defines: new Map([\n        [\"TEXEL\", \"texel\"]\n      ]),\n      uniforms: new Map([\n        [\"map\", new Uniform41(null)],\n        [\"scale\", new Uniform41(1)],\n        [\"uvTransform\", new Uniform41(null)]\n      ])\n    });\n    this.texture = texture;\n    this.aspectCorrection = aspectCorrection;\n  }\n  get texture() {\n    return this.uniforms.get(\"map\").value;\n  }\n  set texture(value) {\n    const currentTexture = this.texture;\n    if (currentTexture !== value) {\n      this.uniforms.get(\"map\").value = value;\n      this.defines.delete(\"TEXTURE_PRECISION_HIGH\");\n      if (value !== null) {\n        switch (value.encoding) {\n          case sRGBEncoding3:\n            this.defines.set(\"texelToLinear(texel)\", \"sRGBToLinear(texel)\");\n            break;\n          case LinearEncoding3:\n            this.defines.set(\"texelToLinear(texel)\", \"texel\");\n            break;\n          default:\n            console.error(\"Unsupported encoding:\", value.encoding);\n            break;\n        }\n        if (value.type !== UnsignedByteType16) {\n          this.defines.set(\"TEXTURE_PRECISION_HIGH\", \"1\");\n        }\n        if (currentTexture === null || currentTexture.type !== value.type || currentTexture.encoding !== value.encoding) {\n          this.setChanged();\n        }\n      }\n    }\n  }\n  get aspectCorrection() {\n    return this.defines.has(\"ASPECT_CORRECTION\");\n  }\n  set aspectCorrection(value) {\n    if (this.aspectCorrection !== value) {\n      if (value) {\n        if (this.uvTransform) {\n          this.uvTransform = false;\n        }\n        this.defines.set(\"ASPECT_CORRECTION\", \"1\");\n        this.setVertexShader(shader_default75);\n      } else {\n        this.defines.delete(\"ASPECT_CORRECTION\");\n        this.setVertexShader(null);\n      }\n      this.setChanged();\n    }\n  }\n  get uvTransform() {\n    return this.defines.has(\"UV_TRANSFORM\");\n  }\n  set uvTransform(value) {\n    if (this.uvTransform !== value) {\n      if (value) {\n        if (this.aspectCorrection) {\n          this.aspectCorrection = false;\n        }\n        this.defines.set(\"UV_TRANSFORM\", \"1\");\n        this.uniforms.get(\"uvTransform\").value = new Matrix3();\n        this.setVertexShader(shader_default75);\n      } else {\n        this.defines.delete(\"UV_TRANSFORM\");\n        this.uniforms.get(\"uvTransform\").value = null;\n        this.setVertexShader(null);\n      }\n      this.setChanged();\n    }\n  }\n  setTextureSwizzleRGBA(r, g = r, b = r, a = r) {\n    const rgba = \"rgba\";\n    let swizzle = \"\";\n    if (r !== ColorChannel.RED || g !== ColorChannel.GREEN || b !== ColorChannel.BLUE || a !== ColorChannel.ALPHA) {\n      swizzle = [\".\", rgba[r], rgba[g], rgba[b], rgba[a]].join(\"\");\n    }\n    this.defines.set(\"TEXEL\", \"texel\" + swizzle);\n    this.setChanged();\n  }\n  update(renderer, inputBuffer, deltaTime) {\n    const texture = this.uniforms.get(\"map\").value;\n    if (this.uvTransform && texture.matrixAutoUpdate) {\n      texture.updateMatrix();\n      this.uniforms.get(\"uvTransform\").value.copy(texture.matrix);\n    }\n  }\n};\n\n// src/effects/ToneMappingEffect.js\nimport {\n  LinearFilter as LinearFilter14,\n  LinearMipMapLinearFilter,\n  LinearMipmapLinearFilter,\n  RGBFormat as RGBFormat15,\n  Uniform as Uniform42,\n  WebGLRenderTarget as WebGLRenderTarget17\n} from \"three\";\n\n// src/effects/glsl/tone-mapping/shader.frag\nvar shader_default76 = \"#include <tonemapping_pars_fragment>\\nuniform lowp sampler2D luminanceBuffer;uniform float whitePoint;uniform float middleGrey;\\n#ifndef ADAPTIVE\\nuniform float averageLuminance;\\n#endif\\nvec3 Reinhard2ToneMapping(vec3 color){color*=toneMappingExposure;float l=linearToRelativeLuminance(color);\\n#ifdef ADAPTIVE\\nfloat lumAvg=texture2D(luminanceBuffer,vec2(0.5)).r;\\n#else\\nfloat lumAvg=averageLuminance;\\n#endif\\nfloat lumScaled=(l*middleGrey)/max(lumAvg,1e-6);float lumCompressed=lumScaled*(1.0+lumScaled/(whitePoint*whitePoint));lumCompressed/=(1.0+lumScaled);return clamp(lumCompressed*color,0.0,1.0);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){\\n#ifdef REINHARD2\\noutputColor=vec4(Reinhard2ToneMapping(inputColor.rgb),inputColor.a);\\n#else\\noutputColor=vec4(toneMapping(inputColor.rgb),inputColor.a);\\n#endif\\n}\";\n\n// src/effects/ToneMappingEffect.js\nvar ToneMappingEffect = class extends Effect {\n  constructor({\n    blendFunction = BlendFunction.NORMAL,\n    adaptive = true,\n    mode = adaptive ? ToneMappingMode.REINHARD2_ADAPTIVE : ToneMappingMode.REINHARD2,\n    resolution = 256,\n    maxLuminance = 16,\n    whitePoint = maxLuminance,\n    middleGrey = 0.6,\n    minLuminance = 0.01,\n    averageLuminance = 1,\n    adaptationRate = 1\n  } = {}) {\n    super(\"ToneMappingEffect\", shader_default76, {\n      blendFunction,\n      uniforms: new Map([\n        [\"luminanceBuffer\", new Uniform42(null)],\n        [\"maxLuminance\", new Uniform42(maxLuminance)],\n        [\"whitePoint\", new Uniform42(whitePoint)],\n        [\"middleGrey\", new Uniform42(middleGrey)],\n        [\"averageLuminance\", new Uniform42(averageLuminance)]\n      ])\n    });\n    this.renderTargetLuminance = new WebGLRenderTarget17(1, 1, {\n      minFilter: LinearMipmapLinearFilter !== void 0 ? LinearMipmapLinearFilter : LinearMipMapLinearFilter,\n      magFilter: LinearFilter14,\n      stencilBuffer: false,\n      depthBuffer: false,\n      format: RGBFormat15\n    });\n    this.renderTargetLuminance.texture.name = \"Luminance\";\n    this.renderTargetLuminance.texture.generateMipmaps = true;\n    this.luminancePass = new LuminancePass({\n      renderTarget: this.renderTargetLuminance\n    });\n    this.adaptiveLuminancePass = new AdaptiveLuminancePass(this.luminancePass.texture, {\n      minLuminance,\n      adaptationRate\n    });\n    this.uniforms.get(\"luminanceBuffer\").value = this.adaptiveLuminancePass.texture;\n    this.mode = null;\n    this.setMode(mode);\n    this.resolution = resolution;\n  }\n  getMode() {\n    return this.mode;\n  }\n  setMode(value) {\n    const currentMode = this.mode;\n    if (currentMode !== value) {\n      this.defines.clear();\n      switch (value) {\n        case ToneMappingMode.REINHARD:\n          this.defines.set(\"toneMapping(texel)\", \"ReinhardToneMapping(texel)\");\n          break;\n        case ToneMappingMode.OPTIMIZED_CINEON:\n          this.defines.set(\"toneMapping(texel)\", \"OptimizedCineonToneMapping(texel)\");\n          break;\n        case ToneMappingMode.ACES_FILMIC:\n          this.defines.set(\"toneMapping(texel)\", \"ACESFilmicToneMapping(texel)\");\n          break;\n        default:\n          this.defines.set(\"toneMapping(texel)\", \"texel\");\n          break;\n      }\n      if (value === ToneMappingMode.REINHARD2) {\n        this.defines.set(\"REINHARD2\", \"1\");\n      } else if (value === ToneMappingMode.REINHARD2_ADAPTIVE) {\n        this.defines.set(\"REINHARD2\", \"1\");\n        this.defines.set(\"ADAPTIVE\", \"1\");\n      }\n      this.mode = value;\n      this.setChanged();\n    }\n  }\n  get resolution() {\n    return this.luminancePass.resolution.width;\n  }\n  set resolution(value) {\n    const exponent = Math.max(0, Math.ceil(Math.log2(value)));\n    const size = Math.pow(2, exponent);\n    this.luminancePass.resolution.width = size;\n    this.luminancePass.resolution.height = size;\n    this.adaptiveLuminancePass.mipLevel1x1 = exponent;\n  }\n  get adaptive() {\n    return this.defines.has(\"ADAPTIVE\");\n  }\n  set adaptive(value) {\n    this.mode = value ? ToneMappingMode.REINHARD2_ADAPTIVE : ToneMappingMode.REINHARD2;\n  }\n  get adaptationRate() {\n    return this.adaptiveLuminancePass.adaptationRate;\n  }\n  set adaptationRate(value) {\n    this.adaptiveLuminancePass.adaptationRate = value;\n  }\n  get distinction() {\n    console.warn(this.name, \"The distinction field has been removed.\");\n    return 1;\n  }\n  set distinction(value) {\n    console.warn(this.name, \"The distinction field has been removed.\");\n  }\n  update(renderer, inputBuffer, deltaTime) {\n    if (this.mode === ToneMappingMode.REINHARD2_ADAPTIVE) {\n      this.luminancePass.render(renderer, inputBuffer);\n      this.adaptiveLuminancePass.render(renderer, null, null, deltaTime);\n    }\n  }\n  initialize(renderer, alpha, frameBufferType) {\n    this.adaptiveLuminancePass.initialize(renderer, alpha, frameBufferType);\n  }\n};\nvar ToneMappingMode = {\n  REINHARD: 0,\n  REINHARD2: 1,\n  REINHARD2_ADAPTIVE: 2,\n  OPTIMIZED_CINEON: 3,\n  ACES_FILMIC: 4\n};\n\n// src/effects/VignetteEffect.js\nimport {Uniform as Uniform43} from \"three\";\n\n// src/effects/glsl/vignette/shader.frag\nvar shader_default77 = \"uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;\\n#ifdef ESKIL\\nvec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));\\n#else\\nfloat d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));\\n#endif\\noutputColor=vec4(color,inputColor.a);}\";\n\n// src/effects/VignetteEffect.js\nvar VignetteEffect = class extends Effect {\n  constructor(options = {}) {\n    const settings = Object.assign({\n      blendFunction: BlendFunction.NORMAL,\n      eskil: false,\n      offset: 0.5,\n      darkness: 0.5\n    }, options);\n    super(\"VignetteEffect\", shader_default77, {\n      blendFunction: settings.blendFunction,\n      uniforms: new Map([\n        [\"offset\", new Uniform43(settings.offset)],\n        [\"darkness\", new Uniform43(settings.darkness)]\n      ])\n    });\n    this.eskil = settings.eskil;\n  }\n  get eskil() {\n    return this.defines.has(\"ESKIL\");\n  }\n  set eskil(value) {\n    if (this.eskil !== value) {\n      if (value) {\n        this.defines.set(\"ESKIL\", \"1\");\n      } else {\n        this.defines.delete(\"ESKIL\");\n      }\n      this.setChanged();\n    }\n  }\n};\n\n// src/images/lut/TetrahedralUpscaler.js\nvar P = [\n  new Float32Array(3),\n  new Float32Array(3)\n];\nvar C = [\n  new Float32Array(3),\n  new Float32Array(3),\n  new Float32Array(3),\n  new Float32Array(3)\n];\nvar T = [\n  [\n    new Float32Array([0, 0, 0]),\n    new Float32Array([1, 0, 0]),\n    new Float32Array([1, 1, 0]),\n    new Float32Array([1, 1, 1])\n  ],\n  [\n    new Float32Array([0, 0, 0]),\n    new Float32Array([1, 0, 0]),\n    new Float32Array([1, 0, 1]),\n    new Float32Array([1, 1, 1])\n  ],\n  [\n    new Float32Array([0, 0, 0]),\n    new Float32Array([0, 0, 1]),\n    new Float32Array([1, 0, 1]),\n    new Float32Array([1, 1, 1])\n  ],\n  [\n    new Float32Array([0, 0, 0]),\n    new Float32Array([0, 1, 0]),\n    new Float32Array([1, 1, 0]),\n    new Float32Array([1, 1, 1])\n  ],\n  [\n    new Float32Array([0, 0, 0]),\n    new Float32Array([0, 1, 0]),\n    new Float32Array([0, 1, 1]),\n    new Float32Array([1, 1, 1])\n  ],\n  [\n    new Float32Array([0, 0, 0]),\n    new Float32Array([0, 0, 1]),\n    new Float32Array([0, 1, 1]),\n    new Float32Array([1, 1, 1])\n  ]\n];\nfunction calculateTetrahedronVolume(a, b, c2, d) {\n  const bcX = c2[0] - b[0];\n  const bcY = c2[1] - b[1];\n  const bcZ = c2[2] - b[2];\n  const baX = a[0] - b[0];\n  const baY = a[1] - b[1];\n  const baZ = a[2] - b[2];\n  const crossX = bcY * baZ - bcZ * baY;\n  const crossY = bcZ * baX - bcX * baZ;\n  const crossZ = bcX * baY - bcY * baX;\n  const length = Math.sqrt(crossX * crossX + crossY * crossY + crossZ * crossZ);\n  const triangleArea = length * 0.5;\n  const normalX = crossX / length;\n  const normalY = crossY / length;\n  const normalZ = crossZ / length;\n  const constant = -(a[0] * normalX + a[1] * normalY + a[2] * normalZ);\n  const dot = d[0] * normalX + d[1] * normalY + d[2] * normalZ;\n  const height = Math.abs(dot + constant);\n  return height * triangleArea / 3;\n}\nfunction sample(data, size, x, y, z, color2) {\n  const i3 = (x + y * size + z * size * size) * 3;\n  color2[0] = data[i3 + 0];\n  color2[1] = data[i3 + 1];\n  color2[2] = data[i3 + 2];\n}\nfunction tetrahedralSample(data, size, u, v3, w, color2) {\n  const px = u * (size - 1);\n  const py = v3 * (size - 1);\n  const pz = w * (size - 1);\n  const minX = Math.floor(px);\n  const minY = Math.floor(py);\n  const minZ = Math.floor(pz);\n  const maxX = Math.ceil(px);\n  const maxY = Math.ceil(py);\n  const maxZ = Math.ceil(pz);\n  const su = px - minX;\n  const sv = py - minY;\n  const sw = pz - minZ;\n  if (minX === px && minY === py && minZ === pz) {\n    sample(data, size, px, py, pz, color2);\n  } else {\n    let vertices;\n    if (su >= sv && sv >= sw) {\n      vertices = T[0];\n    } else if (su >= sw && sw >= sv) {\n      vertices = T[1];\n    } else if (sw >= su && su >= sv) {\n      vertices = T[2];\n    } else if (sv >= su && su >= sw) {\n      vertices = T[3];\n    } else if (sv >= sw && sw >= su) {\n      vertices = T[4];\n    } else if (sw >= sv && sv >= su) {\n      vertices = T[5];\n    }\n    const [P0, P1, P2, P3] = vertices;\n    const coords = P[0];\n    coords[0] = su;\n    coords[1] = sv;\n    coords[2] = sw;\n    const tmp = P[1];\n    const diffX = maxX - minX;\n    const diffY = maxY - minY;\n    const diffZ = maxZ - minZ;\n    tmp[0] = diffX * P0[0] + minX;\n    tmp[1] = diffY * P0[1] + minY;\n    tmp[2] = diffZ * P0[2] + minZ;\n    sample(data, size, tmp[0], tmp[1], tmp[2], C[0]);\n    tmp[0] = diffX * P1[0] + minX;\n    tmp[1] = diffY * P1[1] + minY;\n    tmp[2] = diffZ * P1[2] + minZ;\n    sample(data, size, tmp[0], tmp[1], tmp[2], C[1]);\n    tmp[0] = diffX * P2[0] + minX;\n    tmp[1] = diffY * P2[1] + minY;\n    tmp[2] = diffZ * P2[2] + minZ;\n    sample(data, size, tmp[0], tmp[1], tmp[2], C[2]);\n    tmp[0] = diffX * P3[0] + minX;\n    tmp[1] = diffY * P3[1] + minY;\n    tmp[2] = diffZ * P3[2] + minZ;\n    sample(data, size, tmp[0], tmp[1], tmp[2], C[3]);\n    const V0 = calculateTetrahedronVolume(P1, P2, P3, coords) * 6;\n    const V1 = calculateTetrahedronVolume(P0, P2, P3, coords) * 6;\n    const V2 = calculateTetrahedronVolume(P0, P1, P3, coords) * 6;\n    const V3 = calculateTetrahedronVolume(P0, P1, P2, coords) * 6;\n    C[0][0] *= V0;\n    C[0][1] *= V0;\n    C[0][2] *= V0;\n    C[1][0] *= V1;\n    C[1][1] *= V1;\n    C[1][2] *= V1;\n    C[2][0] *= V2;\n    C[2][1] *= V2;\n    C[2][2] *= V2;\n    C[3][0] *= V3;\n    C[3][1] *= V3;\n    C[3][2] *= V3;\n    color2[0] = C[0][0] + C[1][0] + C[2][0] + C[3][0];\n    color2[1] = C[0][1] + C[1][1] + C[2][1] + C[3][1];\n    color2[2] = C[0][2] + C[1][2] + C[2][2] + C[3][2];\n  }\n}\nvar TetrahedralUpscaler = class {\n  static expand(data, size) {\n    const originalSize = Math.cbrt(data.length / 3);\n    const rgb = new Float32Array(3);\n    const array = new data.constructor(size ** 3 * 3);\n    const s = 1 / (size - 1);\n    for (let z = 0; z < size; ++z) {\n      for (let y = 0; y < size; ++y) {\n        for (let x = 0; x < size; ++x) {\n          const u = x * s;\n          const v3 = y * s;\n          const w = z * s;\n          const i3 = Math.round(x + y * size + z * size * size) * 3;\n          tetrahedralSample(data, originalSize, u, v3, w, rgb);\n          array[i3 + 0] = rgb[0];\n          array[i3 + 1] = rgb[1];\n          array[i3 + 2] = rgb[2];\n        }\n      }\n    }\n    return array;\n  }\n};\n\n// src/images/smaa/SMAAAreaImageData.js\nvar area = [\n  new Float32Array(2),\n  new Float32Array(2)\n];\nvar ORTHOGONAL_SIZE = 16;\nvar DIAGONAL_SIZE = 20;\nvar DIAGONAL_SAMPLES = 30;\nvar SMOOTH_MAX_DISTANCE = 32;\nvar orthogonalSubsamplingOffsets = new Float32Array([\n  0,\n  -0.25,\n  0.25,\n  -0.125,\n  0.125,\n  -0.375,\n  0.375\n]);\nvar diagonalSubsamplingOffsets = [\n  new Float32Array([0, 0]),\n  new Float32Array([0.25, -0.25]),\n  new Float32Array([-0.25, 0.25]),\n  new Float32Array([0.125, -0.125]),\n  new Float32Array([-0.125, 0.125])\n];\nvar orthogonalEdges = [\n  new Uint8Array([0, 0]),\n  new Uint8Array([3, 0]),\n  new Uint8Array([0, 3]),\n  new Uint8Array([3, 3]),\n  new Uint8Array([1, 0]),\n  new Uint8Array([4, 0]),\n  new Uint8Array([1, 3]),\n  new Uint8Array([4, 3]),\n  new Uint8Array([0, 1]),\n  new Uint8Array([3, 1]),\n  new Uint8Array([0, 4]),\n  new Uint8Array([3, 4]),\n  new Uint8Array([1, 1]),\n  new Uint8Array([4, 1]),\n  new Uint8Array([1, 4]),\n  new Uint8Array([4, 4])\n];\nvar diagonalEdges = [\n  new Uint8Array([0, 0]),\n  new Uint8Array([1, 0]),\n  new Uint8Array([0, 2]),\n  new Uint8Array([1, 2]),\n  new Uint8Array([2, 0]),\n  new Uint8Array([3, 0]),\n  new Uint8Array([2, 2]),\n  new Uint8Array([3, 2]),\n  new Uint8Array([0, 1]),\n  new Uint8Array([1, 1]),\n  new Uint8Array([0, 3]),\n  new Uint8Array([1, 3]),\n  new Uint8Array([2, 1]),\n  new Uint8Array([3, 1]),\n  new Uint8Array([2, 3]),\n  new Uint8Array([3, 3])\n];\nfunction lerp(a, b, p) {\n  return a + (b - a) * p;\n}\nfunction saturate(a) {\n  return Math.min(Math.max(a, 0), 1);\n}\nfunction smoothArea(d) {\n  const a1 = area[0];\n  const a2 = area[1];\n  const b1X = Math.sqrt(a1[0] * 2) * 0.5;\n  const b1Y = Math.sqrt(a1[1] * 2) * 0.5;\n  const b2X = Math.sqrt(a2[0] * 2) * 0.5;\n  const b2Y = Math.sqrt(a2[1] * 2) * 0.5;\n  const p = saturate(d / SMOOTH_MAX_DISTANCE);\n  a1[0] = lerp(b1X, a1[0], p);\n  a1[1] = lerp(b1Y, a1[1], p);\n  a2[0] = lerp(b2X, a2[0], p);\n  a2[1] = lerp(b2Y, a2[1], p);\n}\nfunction calculateOrthogonalArea(p1X, p1Y, p2X, p2Y, x, result) {\n  const dX = p2X - p1X;\n  const dY = p2Y - p1Y;\n  const x1 = x;\n  const x2 = x + 1;\n  const y1 = p1Y + dY * (x1 - p1X) / dX;\n  const y2 = p1Y + dY * (x2 - p1X) / dX;\n  if (x1 >= p1X && x1 < p2X || x2 > p1X && x2 <= p2X) {\n    if (Math.sign(y1) === Math.sign(y2) || Math.abs(y1) < 1e-4 || Math.abs(y2) < 1e-4) {\n      const a = (y1 + y2) / 2;\n      if (a < 0) {\n        result[0] = Math.abs(a);\n        result[1] = 0;\n      } else {\n        result[0] = 0;\n        result[1] = Math.abs(a);\n      }\n    } else {\n      const t = -p1Y * dX / dY + p1X;\n      const tInt = Math.trunc(t);\n      const a1 = t > p1X ? y1 * (t - tInt) / 2 : 0;\n      const a2 = t < p2X ? y2 * (1 - (t - tInt)) / 2 : 0;\n      const a = Math.abs(a1) > Math.abs(a2) ? a1 : -a2;\n      if (a < 0) {\n        result[0] = Math.abs(a1);\n        result[1] = Math.abs(a2);\n      } else {\n        result[0] = Math.abs(a2);\n        result[1] = Math.abs(a1);\n      }\n    }\n  } else {\n    result[0] = 0;\n    result[1] = 0;\n  }\n  return result;\n}\nfunction calculateOrthogonalAreaForPattern(pattern, left, right, offset, result) {\n  const a1 = area[0];\n  const a2 = area[1];\n  const o1 = 0.5 + offset;\n  const o2 = 0.5 + offset - 1;\n  const d = left + right + 1;\n  switch (pattern) {\n    case 0: {\n      result[0] = 0;\n      result[1] = 0;\n      break;\n    }\n    case 1: {\n      if (left <= right) {\n        calculateOrthogonalArea(0, o2, d / 2, 0, left, result);\n      } else {\n        result[0] = 0;\n        result[1] = 0;\n      }\n      break;\n    }\n    case 2: {\n      if (left >= right) {\n        calculateOrthogonalArea(d / 2, 0, d, o2, left, result);\n      } else {\n        result[0] = 0;\n        result[1] = 0;\n      }\n      break;\n    }\n    case 3: {\n      calculateOrthogonalArea(0, o2, d / 2, 0, left, a1);\n      calculateOrthogonalArea(d / 2, 0, d, o2, left, a2);\n      smoothArea(d, area);\n      result[0] = a1[0] + a2[0];\n      result[1] = a1[1] + a2[1];\n      break;\n    }\n    case 4: {\n      if (left <= right) {\n        calculateOrthogonalArea(0, o1, d / 2, 0, left, result);\n      } else {\n        result[0] = 0;\n        result[1] = 0;\n      }\n      break;\n    }\n    case 5: {\n      result[0] = 0;\n      result[1] = 0;\n      break;\n    }\n    case 6: {\n      if (Math.abs(offset) > 0) {\n        calculateOrthogonalArea(0, o1, d, o2, left, a1);\n        calculateOrthogonalArea(0, o1, d / 2, 0, left, a2);\n        calculateOrthogonalArea(d / 2, 0, d, o2, left, result);\n        a2[0] = a2[0] + result[0];\n        a2[1] = a2[1] + result[1];\n        result[0] = (a1[0] + a2[0]) / 2;\n        result[1] = (a1[1] + a2[1]) / 2;\n      } else {\n        calculateOrthogonalArea(0, o1, d, o2, left, result);\n      }\n      break;\n    }\n    case 7: {\n      calculateOrthogonalArea(0, o1, d, o2, left, result);\n      break;\n    }\n    case 8: {\n      if (left >= right) {\n        calculateOrthogonalArea(d / 2, 0, d, o1, left, result);\n      } else {\n        result[0] = 0;\n        result[1] = 0;\n      }\n      break;\n    }\n    case 9: {\n      if (Math.abs(offset) > 0) {\n        calculateOrthogonalArea(0, o2, d, o1, left, a1);\n        calculateOrthogonalArea(0, o2, d / 2, 0, left, a2);\n        calculateOrthogonalArea(d / 2, 0, d, o1, left, result);\n        a2[0] = a2[0] + result[0];\n        a2[1] = a2[1] + result[1];\n        result[0] = (a1[0] + a2[0]) / 2;\n        result[1] = (a1[1] + a2[1]) / 2;\n      } else {\n        calculateOrthogonalArea(0, o2, d, o1, left, result);\n      }\n      break;\n    }\n    case 10: {\n      result[0] = 0;\n      result[1] = 0;\n      break;\n    }\n    case 11: {\n      calculateOrthogonalArea(0, o2, d, o1, left, result);\n      break;\n    }\n    case 12: {\n      calculateOrthogonalArea(0, o1, d / 2, 0, left, a1);\n      calculateOrthogonalArea(d / 2, 0, d, o1, left, a2);\n      smoothArea(d, area);\n      result[0] = a1[0] + a2[0];\n      result[1] = a1[1] + a2[1];\n      break;\n    }\n    case 13: {\n      calculateOrthogonalArea(0, o2, d, o1, left, result);\n      break;\n    }\n    case 14: {\n      calculateOrthogonalArea(0, o1, d, o2, left, result);\n      break;\n    }\n    case 15: {\n      result[0] = 0;\n      result[1] = 0;\n      break;\n    }\n  }\n  return result;\n}\nfunction isInsideArea(a1X, a1Y, a2X, a2Y, x, y) {\n  let result = a1X === a2X && a1Y === a2Y;\n  if (!result) {\n    const xm = (a1X + a2X) / 2;\n    const ym = (a1Y + a2Y) / 2;\n    const a = a2Y - a1Y;\n    const b = a1X - a2X;\n    const c2 = a * (x - xm) + b * (y - ym);\n    result = c2 > 0;\n  }\n  return result;\n}\nfunction calculateDiagonalAreaForPixel(a1X, a1Y, a2X, a2Y, pX, pY) {\n  let n = 0;\n  for (let y = 0; y < DIAGONAL_SAMPLES; ++y) {\n    for (let x = 0; x < DIAGONAL_SAMPLES; ++x) {\n      const offsetX = x / (DIAGONAL_SAMPLES - 1);\n      const offsetY = y / (DIAGONAL_SAMPLES - 1);\n      if (isInsideArea(a1X, a1Y, a2X, a2Y, pX + offsetX, pY + offsetY)) {\n        ++n;\n      }\n    }\n  }\n  return n / (DIAGONAL_SAMPLES * DIAGONAL_SAMPLES);\n}\nfunction calculateDiagonalArea(pattern, a1X, a1Y, a2X, a2Y, left, offset, result) {\n  const e = diagonalEdges[pattern];\n  const e1 = e[0];\n  const e2 = e[1];\n  if (e1 > 0) {\n    a1X += offset[0];\n    a1Y += offset[1];\n  }\n  if (e2 > 0) {\n    a2X += offset[0];\n    a2Y += offset[1];\n  }\n  result[0] = 1 - calculateDiagonalAreaForPixel(a1X, a1Y, a2X, a2Y, 1 + left, 0 + left);\n  result[1] = calculateDiagonalAreaForPixel(a1X, a1Y, a2X, a2Y, 1 + left, 1 + left);\n  return result;\n}\nfunction calculateDiagonalAreaForPattern(pattern, left, right, offset, result) {\n  const a1 = area[0];\n  const a2 = area[1];\n  const d = left + right + 1;\n  switch (pattern) {\n    case 0: {\n      calculateDiagonalArea(pattern, 1, 1, 1 + d, 1 + d, left, offset, a1);\n      calculateDiagonalArea(pattern, 1, 0, 1 + d, 0 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n    case 1: {\n      calculateDiagonalArea(pattern, 1, 0, 0 + d, 0 + d, left, offset, a1);\n      calculateDiagonalArea(pattern, 1, 0, 1 + d, 0 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n    case 2: {\n      calculateDiagonalArea(pattern, 0, 0, 1 + d, 0 + d, left, offset, a1);\n      calculateDiagonalArea(pattern, 1, 0, 1 + d, 0 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n    case 3: {\n      calculateDiagonalArea(pattern, 1, 0, 1 + d, 0 + d, left, offset, result);\n      break;\n    }\n    case 4: {\n      calculateDiagonalArea(pattern, 1, 1, 0 + d, 0 + d, left, offset, a1);\n      calculateDiagonalArea(pattern, 1, 1, 1 + d, 0 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n    case 5: {\n      calculateDiagonalArea(pattern, 1, 1, 0 + d, 0 + d, left, offset, a1);\n      calculateDiagonalArea(pattern, 1, 0, 1 + d, 0 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n    case 6: {\n      calculateDiagonalArea(pattern, 1, 1, 1 + d, 0 + d, left, offset, result);\n      break;\n    }\n    case 7: {\n      calculateDiagonalArea(pattern, 1, 1, 1 + d, 0 + d, left, offset, a1);\n      calculateDiagonalArea(pattern, 1, 0, 1 + d, 0 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n    case 8: {\n      calculateDiagonalArea(pattern, 0, 0, 1 + d, 1 + d, left, offset, a1);\n      calculateDiagonalArea(pattern, 1, 0, 1 + d, 1 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n    case 9: {\n      calculateDiagonalArea(pattern, 1, 0, 1 + d, 1 + d, left, offset, result);\n      calculateDiagonalArea(pattern, 1, 0, 1 + d, 1 + d, left, offset, result);\n      break;\n    }\n    case 10: {\n      calculateDiagonalArea(pattern, 0, 0, 1 + d, 1 + d, left, offset, a1);\n      calculateDiagonalArea(pattern, 1, 0, 1 + d, 0 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n    case 11: {\n      calculateDiagonalArea(pattern, 1, 0, 1 + d, 1 + d, left, offset, a1);\n      calculateDiagonalArea(pattern, 1, 0, 1 + d, 0 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n    case 12: {\n      calculateDiagonalArea(pattern, 1, 1, 1 + d, 1 + d, left, offset, result);\n      break;\n    }\n    case 13: {\n      calculateDiagonalArea(pattern, 1, 1, 1 + d, 1 + d, left, offset, a1);\n      calculateDiagonalArea(pattern, 1, 0, 1 + d, 1 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n    case 14: {\n      calculateDiagonalArea(pattern, 1, 1, 1 + d, 1 + d, left, offset, a1);\n      calculateDiagonalArea(pattern, 1, 1, 1 + d, 0 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n    case 15: {\n      calculateDiagonalArea(pattern, 1, 1, 1 + d, 1 + d, left, offset, a1);\n      calculateDiagonalArea(pattern, 1, 0, 1 + d, 0 + d, left, offset, a2);\n      result[0] = (a1[0] + a2[0]) / 2;\n      result[1] = (a1[1] + a2[1]) / 2;\n      break;\n    }\n  }\n  return result;\n}\nfunction generatePatterns(patterns, offset, orthogonal) {\n  const result = new Float32Array(2);\n  for (let i = 0, l = patterns.length; i < l; ++i) {\n    const pattern = patterns[i];\n    const data = pattern.data;\n    const size = pattern.width;\n    for (let y = 0; y < size; ++y) {\n      for (let x = 0; x < size; ++x) {\n        if (orthogonal) {\n          calculateOrthogonalAreaForPattern(i, x, y, offset, result);\n        } else {\n          calculateDiagonalAreaForPattern(i, x, y, offset, result);\n        }\n        const c2 = (y * size + x) * 2;\n        data[c2] = result[0] * 255;\n        data[c2 + 1] = result[1] * 255;\n      }\n    }\n  }\n}\nfunction assemble(baseX, baseY, patterns, edges2, size, orthogonal, target) {\n  const dstData = target.data;\n  const dstWidth = target.width;\n  for (let i = 0, l = patterns.length; i < l; ++i) {\n    const edge = edges2[i];\n    const pattern = patterns[i];\n    const srcData = pattern.data;\n    const srcWidth = pattern.width;\n    for (let y = 0; y < size; ++y) {\n      for (let x = 0; x < size; ++x) {\n        const pX = edge[0] * size + baseX + x;\n        const pY = edge[1] * size + baseY + y;\n        const c2 = (pY * dstWidth + pX) * 4;\n        const d = orthogonal ? (y * y * srcWidth + x * x) * 2 : (y * srcWidth + x) * 2;\n        dstData[c2] = srcData[d];\n        dstData[c2 + 1] = srcData[d + 1];\n        dstData[c2 + 2] = 0;\n        dstData[c2 + 3] = 255;\n      }\n    }\n  }\n}\nvar SMAAAreaImageData = class {\n  static generate() {\n    const width = 2 * 5 * ORTHOGONAL_SIZE;\n    const height = orthogonalSubsamplingOffsets.length * 5 * ORTHOGONAL_SIZE;\n    const data = new Uint8ClampedArray(width * height * 4);\n    const result = new RawImageData(width, height, data);\n    const orthogonalPatternSize = Math.pow(ORTHOGONAL_SIZE - 1, 2) + 1;\n    const diagonalPatternSize = DIAGONAL_SIZE;\n    const orthogonalPatterns = [];\n    const diagonalPatterns = [];\n    for (let i = 3, l = data.length; i < l; i += 4) {\n      data[i] = 255;\n    }\n    for (let i = 0; i < 16; ++i) {\n      orthogonalPatterns.push(new RawImageData(orthogonalPatternSize, orthogonalPatternSize, new Uint8ClampedArray(orthogonalPatternSize * orthogonalPatternSize * 2), 2));\n      diagonalPatterns.push(new RawImageData(diagonalPatternSize, diagonalPatternSize, new Uint8ClampedArray(diagonalPatternSize * diagonalPatternSize * 2), 2));\n    }\n    for (let i = 0, l = orthogonalSubsamplingOffsets.length; i < l; ++i) {\n      generatePatterns(orthogonalPatterns, orthogonalSubsamplingOffsets[i], true);\n      assemble(0, 5 * ORTHOGONAL_SIZE * i, orthogonalPatterns, orthogonalEdges, ORTHOGONAL_SIZE, true, result);\n    }\n    for (let i = 0, l = diagonalSubsamplingOffsets.length; i < l; ++i) {\n      generatePatterns(diagonalPatterns, diagonalSubsamplingOffsets[i], false);\n      assemble(5 * ORTHOGONAL_SIZE, 4 * DIAGONAL_SIZE * i, diagonalPatterns, diagonalEdges, DIAGONAL_SIZE, false, result);\n    }\n    return result;\n  }\n};\n\n// src/images/smaa/SMAAImageGenerator.js\nimport {LoadingManager} from \"three\";\n\n// tmp/smaa/worker.txt\nvar worker_default2 = '(()=>{function q(t,a,s){let i=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\"),n=i.getContext(\"2d\");if(i.width=t,i.height=a,s instanceof Image)n.drawImage(s,0,0);else{let o=n.createImageData(t,a);o.data.set(s),n.putImageData(o,0,0)}return i}var k=class{constructor(a=0,s=0,i=null){this.width=a,this.height=s,this.data=i}toCanvas(){return typeof document==\"undefined\"?null:q(this.width,this.height,this.data)}static from(a){let{width:s,height:i}=a,n;if(a instanceof Image){let o=q(s,i,a);o!==null&&(n=o.getContext(\"2d\").getImageData(0,0,s,i).data)}else n=a.data;return new k(s,i,n)}};var F=[new Float32Array(2),new Float32Array(2)],I=16,P=20,x=30,z=32,E=new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),W=[new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125])],B=[new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4])],_=[new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3])];function O(t,a,s){return t+(a-t)*s}function J(t){return Math.min(Math.max(t,0),1)}function G(t){let a=F[0],s=F[1],i=Math.sqrt(a[0]*2)*.5,n=Math.sqrt(a[1]*2)*.5,o=Math.sqrt(s[0]*2)*.5,r=Math.sqrt(s[1]*2)*.5,c=J(t/z);a[0]=O(i,a[0],c),a[1]=O(n,a[1],c),s[0]=O(o,s[0],c),s[1]=O(r,s[1],c)}function y(t,a,s,i,n,o){let r=s-t,c=i-a,w=n,e=n+1,A=a+c*(w-t)/r,g=a+c*(e-t)/r;if(w>=t&&w<s||e>t&&e<=s)if(Math.sign(A)===Math.sign(g)||Math.abs(A)<1e-4||Math.abs(g)<1e-4){let b=(A+g)/2;b<0?(o[0]=Math.abs(b),o[1]=0):(o[0]=0,o[1]=Math.abs(b))}else{let b=-a*r/c+t,M=Math.trunc(b),U=b>t?A*(b-M)/2:0,m=b<s?g*(1-(b-M))/2:0;(Math.abs(U)>Math.abs(m)?U:-m)<0?(o[0]=Math.abs(U),o[1]=Math.abs(m)):(o[0]=Math.abs(m),o[1]=Math.abs(U))}else o[0]=0,o[1]=0;return o}function K(t,a,s,i,n){let o=F[0],r=F[1],c=.5+i,w=.5+i-1,e=a+s+1;switch(t){case 0:{n[0]=0,n[1]=0;break}case 1:{a<=s?y(0,w,e/2,0,a,n):(n[0]=0,n[1]=0);break}case 2:{a>=s?y(e/2,0,e,w,a,n):(n[0]=0,n[1]=0);break}case 3:{y(0,w,e/2,0,a,o),y(e/2,0,e,w,a,r),G(e,F),n[0]=o[0]+r[0],n[1]=o[1]+r[1];break}case 4:{a<=s?y(0,c,e/2,0,a,n):(n[0]=0,n[1]=0);break}case 5:{n[0]=0,n[1]=0;break}case 6:{Math.abs(i)>0?(y(0,c,e,w,a,o),y(0,c,e/2,0,a,r),y(e/2,0,e,w,a,n),r[0]=r[0]+n[0],r[1]=r[1]+n[1],n[0]=(o[0]+r[0])/2,n[1]=(o[1]+r[1])/2):y(0,c,e,w,a,n);break}case 7:{y(0,c,e,w,a,n);break}case 8:{a>=s?y(e/2,0,e,c,a,n):(n[0]=0,n[1]=0);break}case 9:{Math.abs(i)>0?(y(0,w,e,c,a,o),y(0,w,e/2,0,a,r),y(e/2,0,e,c,a,n),r[0]=r[0]+n[0],r[1]=r[1]+n[1],n[0]=(o[0]+r[0])/2,n[1]=(o[1]+r[1])/2):y(0,w,e,c,a,n);break}case 10:{n[0]=0,n[1]=0;break}case 11:{y(0,w,e,c,a,n);break}case 12:{y(0,c,e/2,0,a,o),y(e/2,0,e,c,a,r),G(e,F),n[0]=o[0]+r[0],n[1]=o[1]+r[1];break}case 13:{y(0,w,e,c,a,n);break}case 14:{y(0,c,e,w,a,n);break}case 15:{n[0]=0,n[1]=0;break}}return n}function Q(t,a,s,i,n,o){let r=t===s&&a===i;if(!r){let c=(t+s)/2,w=(a+i)/2,e=i-a,A=t-s;r=e*(n-c)+A*(o-w)>0}return r}function H(t,a,s,i,n,o){let r=0;for(let c=0;c<x;++c)for(let w=0;w<x;++w){let e=w/(x-1),A=c/(x-1);Q(t,a,s,i,n+e,o+A)&&++r}return r/(x*x)}function h(t,a,s,i,n,o,r,c){let w=_[t],e=w[0],A=w[1];return e>0&&(a+=r[0],s+=r[1]),A>0&&(i+=r[0],n+=r[1]),c[0]=1-H(a,s,i,n,1+o,0+o),c[1]=H(a,s,i,n,1+o,1+o),c}function V(t,a,s,i,n){let o=F[0],r=F[1],c=a+s+1;switch(t){case 0:{h(t,1,1,1+c,1+c,a,i,o),h(t,1,0,1+c,0+c,a,i,r),n[0]=(o[0]+r[0])/2,n[1]=(o[1]+r[1])/2;break}case 1:{h(t,1,0,0+c,0+c,a,i,o),h(t,1,0,1+c,0+c,a,i,r),n[0]=(o[0]+r[0])/2,n[1]=(o[1]+r[1])/2;break}case 2:{h(t,0,0,1+c,0+c,a,i,o),h(t,1,0,1+c,0+c,a,i,r),n[0]=(o[0]+r[0])/2,n[1]=(o[1]+r[1])/2;break}case 3:{h(t,1,0,1+c,0+c,a,i,n);break}case 4:{h(t,1,1,0+c,0+c,a,i,o),h(t,1,1,1+c,0+c,a,i,r),n[0]=(o[0]+r[0])/2,n[1]=(o[1]+r[1])/2;break}case 5:{h(t,1,1,0+c,0+c,a,i,o),h(t,1,0,1+c,0+c,a,i,r),n[0]=(o[0]+r[0])/2,n[1]=(o[1]+r[1])/2;break}case 6:{h(t,1,1,1+c,0+c,a,i,n);break}case 7:{h(t,1,1,1+c,0+c,a,i,o),h(t,1,0,1+c,0+c,a,i,r),n[0]=(o[0]+r[0])/2,n[1]=(o[1]+r[1])/2;break}case 8:{h(t,0,0,1+c,1+c,a,i,o),h(t,1,0,1+c,1+c,a,i,r),n[0]=(o[0]+r[0])/2,n[1]=(o[1]+r[1])/2;break}case 9:{h(t,1,0,1+c,1+c,a,i,n),h(t,1,0,1+c,1+c,a,i,n);break}case 10:{h(t,0,0,1+c,1+c,a,i,o),h(t,1,0,1+c,0+c,a,i,r),n[0]=(o[0]+r[0])/2,n[1]=(o[1]+r[1])/2;break}case 11:{h(t,1,0,1+c,1+c,a,i,o),h(t,1,0,1+c,0+c,a,i,r),n[0]=(o[0]+r[0])/2,n[1]=(o[1]+r[1])/2;break}case 12:{h(t,1,1,1+c,1+c,a,i,n);break}case 13:{h(t,1,1,1+c,1+c,a,i,o),h(t,1,0,1+c,1+c,a,i,r),n[0]=(o[0]+r[0])/2,n[1]=(o[1]+r[1])/2;break}case 14:{h(t,1,1,1+c,1+c,a,i,o),h(t,1,1,1+c,0+c,a,i,r),n[0]=(o[0]+r[0])/2,n[1]=(o[1]+r[1])/2;break}case 15:{h(t,1,1,1+c,1+c,a,i,o),h(t,1,0,1+c,0+c,a,i,r),n[0]=(o[0]+r[0])/2,n[1]=(o[1]+r[1])/2;break}}return n}function T(t,a,s){let i=new Float32Array(2);for(let n=0,o=t.length;n<o;++n){let r=t[n],c=r.data,w=r.width;for(let e=0;e<w;++e)for(let A=0;A<w;++A){s?K(n,A,e,a,i):V(n,A,e,a,i);let g=(e*w+A)*2;c[g]=i[0]*255,c[g+1]=i[1]*255}}}function Z(t,a,s,i,n,o,r){let c=r.data,w=r.width;for(let e=0,A=s.length;e<A;++e){let g=i[e],b=s[e],M=b.data,U=b.width;for(let m=0;m<n;++m)for(let D=0;D<n;++D){let j=g[0]*n+t+D,S=((g[1]*n+a+m)*w+j)*4,R=o?(m*m*U+D*D)*2:(m*U+D)*2;c[S]=M[R],c[S+1]=M[R+1],c[S+2]=0,c[S+3]=255}}}var v=class{static generate(){let a=2*5*I,s=E.length*5*I,i=new Uint8ClampedArray(a*s*4),n=new k(a,s,i),o=Math.pow(I-1,2)+1,r=P,c=[],w=[];for(let e=3,A=i.length;e<A;e+=4)i[e]=255;for(let e=0;e<16;++e)c.push(new k(o,o,new Uint8ClampedArray(o*o*2),2)),w.push(new k(r,r,new Uint8ClampedArray(r*r*2),2));for(let e=0,A=E.length;e<A;++e)T(c,E[e],!0),Z(0,5*I*e,c,B,I,!0,n);for(let e=0,A=W.length;e<A;++e)T(w,W[e],!1),Z(5*I,4*P*e,w,_,P,!1,n);return n}};var C=new Map([[d(0,0,0,0),new Float32Array([0,0,0,0])],[d(0,0,0,1),new Float32Array([0,0,0,1])],[d(0,0,1,0),new Float32Array([0,0,1,0])],[d(0,0,1,1),new Float32Array([0,0,1,1])],[d(0,1,0,0),new Float32Array([0,1,0,0])],[d(0,1,0,1),new Float32Array([0,1,0,1])],[d(0,1,1,0),new Float32Array([0,1,1,0])],[d(0,1,1,1),new Float32Array([0,1,1,1])],[d(1,0,0,0),new Float32Array([1,0,0,0])],[d(1,0,0,1),new Float32Array([1,0,0,1])],[d(1,0,1,0),new Float32Array([1,0,1,0])],[d(1,0,1,1),new Float32Array([1,0,1,1])],[d(1,1,0,0),new Float32Array([1,1,0,0])],[d(1,1,0,1),new Float32Array([1,1,0,1])],[d(1,1,1,0),new Float32Array([1,1,1,0])],[d(1,1,1,1),new Float32Array([1,1,1,1])]]);function L(t,a,s){return t+(a-t)*s}function d(t,a,s,i){let n=L(t,a,1-.25),o=L(s,i,1-.25);return L(n,o,1-.125)}function $(t,a){let s=0;return a[3]===1&&(s+=1),s===1&&a[2]===1&&t[1]!==1&&t[3]!==1&&(s+=1),s}function Y(t,a){let s=0;return a[3]===1&&t[1]!==1&&t[3]!==1&&(s+=1),s===1&&a[2]===1&&t[0]!==1&&t[2]!==1&&(s+=1),s}var N=class{static generate(){let a=66,s=33,i=a/2,n=64,o=16,r=new Uint8ClampedArray(a*s),c=new Uint8ClampedArray(n*o*4);for(let w=0;w<s;++w)for(let e=0;e<a;++e){let A=.03125*e,g=.03125*w;if(C.has(A)&&C.has(g)){let b=C.get(A),M=C.get(g),U=w*a+e;r[U]=127*$(b,M),r[U+i]=127*Y(b,M)}}for(let w=0,e=s-o;e<s;++e)for(let A=0;A<n;++A,w+=4)c[w]=r[e*a+A],c[w+3]=255;return new k(n,o,c)}};self.addEventListener(\"message\",t=>{let a=v.generate(),s=N.generate();postMessage({areaImageData:a,searchImageData:s},[a.data.buffer,s.data.buffer]),close()});})();\\n';\n\n// src/images/smaa/SMAAImageGenerator.js\nfunction generate(useCache = true) {\n  const workerURL = URL.createObjectURL(new Blob([worker_default2], {\n    type: \"text/javascript\"\n  }));\n  const worker = new Worker(workerURL);\n  URL.revokeObjectURL(workerURL);\n  return new Promise((resolve, reject) => {\n    worker.addEventListener(\"error\", (event) => reject(event.error));\n    worker.addEventListener(\"message\", (event) => {\n      const searchImageData = RawImageData.from(event.data.searchImageData);\n      const areaImageData = RawImageData.from(event.data.areaImageData);\n      const urls = [\n        searchImageData.toCanvas().toDataURL(\"image/png\", 1),\n        areaImageData.toCanvas().toDataURL(\"image/png\", 1)\n      ];\n      if (useCache) {\n        localStorage.setItem(\"smaa-search\", urls[0]);\n        localStorage.setItem(\"smaa-area\", urls[1]);\n      }\n      resolve(urls);\n    });\n    worker.postMessage(null);\n  });\n}\nvar SMAAImageGenerator = class {\n  constructor() {\n    this.disableCache = false;\n  }\n  generate() {\n    const useCache = !this.disableCache && window.localStorage !== void 0;\n    const cachedURLs = useCache ? [\n      localStorage.getItem(\"smaa-search\"),\n      localStorage.getItem(\"smaa-area\")\n    ] : [null, null];\n    const promise = cachedURLs[0] !== null && cachedURLs[1] !== null ? Promise.resolve(cachedURLs) : generate(useCache);\n    return promise.then((urls) => {\n      return new Promise((resolve, reject) => {\n        const searchImage = new Image();\n        const areaImage = new Image();\n        const manager = new LoadingManager();\n        manager.onLoad = () => resolve([searchImage, areaImage]);\n        manager.onError = reject;\n        searchImage.addEventListener(\"error\", (e) => manager.itemError(\"smaa-search\"));\n        areaImage.addEventListener(\"error\", (e) => manager.itemError(\"smaa-area\"));\n        searchImage.addEventListener(\"load\", () => manager.itemEnd(\"smaa-search\"));\n        areaImage.addEventListener(\"load\", () => manager.itemEnd(\"smaa-area\"));\n        manager.itemStart(\"smaa-search\");\n        manager.itemStart(\"smaa-area\");\n        searchImage.src = urls[0];\n        areaImage.src = urls[1];\n      });\n    });\n  }\n};\n\n// src/images/smaa/SMAASearchImageData.js\nvar edges = new Map([\n  [bilinear(0, 0, 0, 0), new Float32Array([0, 0, 0, 0])],\n  [bilinear(0, 0, 0, 1), new Float32Array([0, 0, 0, 1])],\n  [bilinear(0, 0, 1, 0), new Float32Array([0, 0, 1, 0])],\n  [bilinear(0, 0, 1, 1), new Float32Array([0, 0, 1, 1])],\n  [bilinear(0, 1, 0, 0), new Float32Array([0, 1, 0, 0])],\n  [bilinear(0, 1, 0, 1), new Float32Array([0, 1, 0, 1])],\n  [bilinear(0, 1, 1, 0), new Float32Array([0, 1, 1, 0])],\n  [bilinear(0, 1, 1, 1), new Float32Array([0, 1, 1, 1])],\n  [bilinear(1, 0, 0, 0), new Float32Array([1, 0, 0, 0])],\n  [bilinear(1, 0, 0, 1), new Float32Array([1, 0, 0, 1])],\n  [bilinear(1, 0, 1, 0), new Float32Array([1, 0, 1, 0])],\n  [bilinear(1, 0, 1, 1), new Float32Array([1, 0, 1, 1])],\n  [bilinear(1, 1, 0, 0), new Float32Array([1, 1, 0, 0])],\n  [bilinear(1, 1, 0, 1), new Float32Array([1, 1, 0, 1])],\n  [bilinear(1, 1, 1, 0), new Float32Array([1, 1, 1, 0])],\n  [bilinear(1, 1, 1, 1), new Float32Array([1, 1, 1, 1])]\n]);\nfunction lerp2(a, b, p) {\n  return a + (b - a) * p;\n}\nfunction bilinear(e0, e1, e2, e3) {\n  const a = lerp2(e0, e1, 1 - 0.25);\n  const b = lerp2(e2, e3, 1 - 0.25);\n  return lerp2(a, b, 1 - 0.125);\n}\nfunction deltaLeft(left, top) {\n  let d = 0;\n  if (top[3] === 1) {\n    d += 1;\n  }\n  if (d === 1 && top[2] === 1 && left[1] !== 1 && left[3] !== 1) {\n    d += 1;\n  }\n  return d;\n}\nfunction deltaRight(left, top) {\n  let d = 0;\n  if (top[3] === 1 && left[1] !== 1 && left[3] !== 1) {\n    d += 1;\n  }\n  if (d === 1 && top[2] === 1 && left[0] !== 1 && left[2] !== 1) {\n    d += 1;\n  }\n  return d;\n}\nvar SMAASearchImageData = class {\n  static generate() {\n    const width = 66;\n    const height = 33;\n    const halfWidth = width / 2;\n    const croppedWidth = 64;\n    const croppedHeight = 16;\n    const data = new Uint8ClampedArray(width * height);\n    const croppedData = new Uint8ClampedArray(croppedWidth * croppedHeight * 4);\n    for (let y = 0; y < height; ++y) {\n      for (let x = 0; x < width; ++x) {\n        const s = 0.03125 * x;\n        const t = 0.03125 * y;\n        if (edges.has(s) && edges.has(t)) {\n          const e1 = edges.get(s);\n          const e2 = edges.get(t);\n          const i = y * width + x;\n          data[i] = 127 * deltaLeft(e1, e2);\n          data[i + halfWidth] = 127 * deltaRight(e1, e2);\n        }\n      }\n    }\n    for (let i = 0, y = height - croppedHeight; y < height; ++y) {\n      for (let x = 0; x < croppedWidth; ++x, i += 4) {\n        croppedData[i] = data[y * width + x];\n        croppedData[i + 3] = 255;\n      }\n    }\n    return new RawImageData(croppedWidth, croppedHeight, croppedData);\n  }\n};\n\n// src/loaders/LUT3dlLoader.js\nimport {FileLoader, Loader, LoadingManager as LoadingManager2, sRGBEncoding as sRGBEncoding4} from \"three\";\nvar LUT3dlLoader = class extends Loader {\n  load(url, onLoad = () => {\n  }, onProgress = () => {\n  }, onError = null) {\n    const externalManager = this.manager;\n    const internalManager = new LoadingManager2();\n    const loader = new FileLoader(internalManager);\n    loader.setPath(this.path);\n    loader.setResponseType(\"text\");\n    return new Promise((resolve, reject) => {\n      internalManager.onError = (url2) => {\n        externalManager.itemError(url2);\n        if (onError !== null) {\n          onError(`Failed to load ${url2}`);\n          resolve();\n        } else {\n          reject(`Failed to load ${url2}`);\n        }\n      };\n      externalManager.itemStart(url);\n      loader.load(url, (data) => {\n        try {\n          const result = this.parse(data);\n          externalManager.itemEnd(url);\n          onLoad(result);\n          resolve(result);\n        } catch (e) {\n          console.error(e);\n          internalManager.onError(url);\n        }\n      }, onProgress);\n    });\n  }\n  parse(input) {\n    const regExpGridInfo = /^[\\d ]+$/m;\n    const regExpDataPoints = /^([\\d.]+) +([\\d.]+) +([\\d.]+) *$/gm;\n    let result = regExpGridInfo.exec(input);\n    if (result === null) {\n      throw new Error(\"Missing grid information\");\n    }\n    const gridLines = result[0].trim().split(/\\s+/g).map((n) => Number(n));\n    const gridStep = gridLines[1] - gridLines[0];\n    const size = gridLines.length;\n    for (let i = 1, l = gridLines.length; i < l; ++i) {\n      if (gridStep !== gridLines[i] - gridLines[i - 1]) {\n        throw new Error(\"Inconsistent grid size\");\n      }\n    }\n    const data = new Float32Array(size ** 3 * 3);\n    let maxValue = 0;\n    let index = 0;\n    while ((result = regExpDataPoints.exec(input)) !== null) {\n      const r = Number(result[1]);\n      const g = Number(result[2]);\n      const b = Number(result[3]);\n      maxValue = Math.max(maxValue, r, g, b);\n      const bLayer = index % size;\n      const gLayer = Math.floor(index / size) % size;\n      const rLayer = Math.floor(index / (size * size)) % size;\n      const d3 = (bLayer * size * size + gLayer * size + rLayer) * 3;\n      data[d3 + 0] = r;\n      data[d3 + 1] = g;\n      data[d3 + 2] = b;\n      ++index;\n    }\n    const bits = Math.ceil(Math.log2(maxValue));\n    const maxBitValue = Math.pow(2, bits);\n    for (let i = 0, l = data.length; i < l; ++i) {\n      data[i] /= maxBitValue;\n    }\n    const lut = new LookupTexture3D(data, size, size, size);\n    lut.encoding = sRGBEncoding4;\n    return lut;\n  }\n};\n\n// src/loaders/LUTCubeLoader.js\nimport {FileLoader as FileLoader2, Loader as Loader2, LoadingManager as LoadingManager3, sRGBEncoding as sRGBEncoding5, Vector3 as Vector36} from \"three\";\nvar LUTCubeLoader = class extends Loader2 {\n  load(url, onLoad = () => {\n  }, onProgress = () => {\n  }, onError = null) {\n    const externalManager = this.manager;\n    const internalManager = new LoadingManager3();\n    const loader = new FileLoader2(internalManager);\n    loader.setPath(this.path);\n    loader.setResponseType(\"text\");\n    return new Promise((resolve, reject) => {\n      internalManager.onError = (url2) => {\n        externalManager.itemError(url2);\n        if (onError !== null) {\n          onError(`Failed to load ${url2}`);\n          resolve();\n        } else {\n          reject(`Failed to load ${url2}`);\n        }\n      };\n      externalManager.itemStart(url);\n      loader.load(url, (data) => {\n        try {\n          const result = this.parse(data);\n          externalManager.itemEnd(url);\n          onLoad(result);\n          resolve(result);\n        } catch (e) {\n          console.error(e);\n          internalManager.onError(url);\n        }\n      }, onProgress);\n    });\n  }\n  parse(input) {\n    const regExpTitle = /TITLE +\"([^\"]*)\"/;\n    const regExpSize = /LUT_3D_SIZE +(\\d+)/;\n    const regExpDomainMin = /DOMAIN_MIN +([\\d.]+) +([\\d.]+) +([\\d.]+)/;\n    const regExpDomainMax = /DOMAIN_MAX +([\\d.]+) +([\\d.]+) +([\\d.]+)/;\n    const regExpDataPoints = /^([\\d.]+) +([\\d.]+) +([\\d.]+) *$/gm;\n    let result = regExpTitle.exec(input);\n    const title = result !== null ? result[1] : null;\n    result = regExpSize.exec(input);\n    if (result === null) {\n      throw new Error(\"Missing LUT_3D_SIZE information\");\n    }\n    const size = Number(result[1]);\n    const data = new Float32Array(size ** 3 * 3);\n    const domainMin = new Vector36(0, 0, 0);\n    const domainMax = new Vector36(1, 1, 1);\n    result = regExpDomainMin.exec(input);\n    if (result !== null) {\n      domainMin.set(Number(result[1]), Number(result[2]), Number(result[3]));\n    }\n    result = regExpDomainMax.exec(input);\n    if (result !== null) {\n      domainMax.set(Number(result[1]), Number(result[2]), Number(result[3]));\n    }\n    if (domainMin.x > domainMax.x || domainMin.y > domainMax.y || domainMin.z > domainMax.z) {\n      domainMin.set(0, 0, 0);\n      domainMax.set(1, 1, 1);\n      throw new Error(\"Invalid input domain\");\n    }\n    let i = 0;\n    while ((result = regExpDataPoints.exec(input)) !== null) {\n      data[i++] = Number(result[1]);\n      data[i++] = Number(result[2]);\n      data[i++] = Number(result[3]);\n    }\n    const lut = new LookupTexture3D(data, size, size, size);\n    lut.encoding = sRGBEncoding5;\n    lut.domainMin.copy(domainMin);\n    lut.domainMax.copy(domainMax);\n    if (title !== null) {\n      lut.name = title;\n    }\n    return lut;\n  }\n};\n\n// src/loaders/SMAAImageLoader.js\nimport {Loader as Loader3, LoadingManager as LoadingManager4} from \"three\";\nvar SMAAImageLoader = class extends Loader3 {\n  load(onLoad = () => {\n  }, onError = null) {\n    if (arguments.length === 4) {\n      onLoad = arguments[1];\n      onError = arguments[3];\n    } else if (arguments.length === 3 || typeof arguments[0] !== \"function\") {\n      onLoad = arguments[1];\n      onError = null;\n    }\n    const externalManager = this.manager;\n    const internalManager = new LoadingManager4();\n    return new Promise((resolve, reject) => {\n      const searchImage = new Image();\n      const areaImage = new Image();\n      internalManager.onError = (url) => {\n        externalManager.itemError(url);\n        if (onError !== null) {\n          onError(`Failed to load ${url}`);\n          resolve();\n        } else {\n          reject(`Failed to load ${url}`);\n        }\n      };\n      internalManager.onLoad = () => {\n        const result = [searchImage, areaImage];\n        onLoad(result);\n        resolve(result);\n      };\n      searchImage.addEventListener(\"error\", (e) => {\n        internalManager.itemError(\"smaa-search\");\n      });\n      areaImage.addEventListener(\"error\", (e) => {\n        internalManager.itemError(\"smaa-area\");\n      });\n      searchImage.addEventListener(\"load\", () => {\n        externalManager.itemEnd(\"smaa-search\");\n        internalManager.itemEnd(\"smaa-search\");\n      });\n      areaImage.addEventListener(\"load\", () => {\n        externalManager.itemEnd(\"smaa-area\");\n        internalManager.itemEnd(\"smaa-area\");\n      });\n      externalManager.itemStart(\"smaa-search\");\n      externalManager.itemStart(\"smaa-area\");\n      internalManager.itemStart(\"smaa-search\");\n      internalManager.itemStart(\"smaa-area\");\n      searchImage.src = searchImageDataURL_default;\n      areaImage.src = areaImageDataURL_default;\n    });\n  }\n};\nexport {\n  AdaptiveLuminanceMaterial,\n  AdaptiveLuminancePass,\n  BlendFunction,\n  BlendMode,\n  BloomEffect,\n  BlurPass,\n  BokehEffect,\n  BokehMaterial,\n  BrightnessContrastEffect,\n  ChromaticAberrationEffect,\n  CircleOfConfusionMaterial,\n  ClearMaskPass,\n  ClearPass,\n  ColorAverageEffect,\n  ColorChannel,\n  ColorDepthEffect,\n  ColorEdgesMaterial,\n  ConvolutionMaterial,\n  CopyMaterial,\n  DepthComparisonMaterial,\n  DepthCopyMaterial,\n  DepthCopyMode,\n  DepthDownsamplingMaterial,\n  DepthDownsamplingPass,\n  DepthEffect,\n  DepthMaskMaterial,\n  DepthOfFieldEffect,\n  DepthPass,\n  DepthPickingPass,\n  DepthSavePass,\n  Disposable,\n  DotScreenEffect,\n  EdgeDetectionMaterial,\n  EdgeDetectionMode,\n  Effect,\n  EffectAttribute,\n  EffectComposer,\n  EffectMaterial,\n  EffectPass,\n  GammaCorrectionEffect,\n  GlitchEffect,\n  GlitchMode,\n  GodRaysEffect,\n  GodRaysMaterial,\n  GridEffect,\n  HueSaturationEffect,\n  Initializable,\n  KernelSize,\n  LUT3dlLoader,\n  LUTCubeLoader,\n  LUTEffect,\n  LUTOperation,\n  LambdaPass,\n  LookupTexture3D,\n  LuminanceMaterial,\n  LuminancePass,\n  MaskFunction,\n  MaskMaterial,\n  MaskPass,\n  NoiseEffect,\n  NoiseTexture,\n  NormalPass,\n  OutlineEdgesMaterial,\n  OutlineEffect,\n  OutlineMaterial,\n  OverrideMaterialManager,\n  Pass,\n  PixelationEffect,\n  PredicationMode,\n  RawImageData,\n  RealisticBokehEffect,\n  RenderPass,\n  Resizable,\n  Resizer,\n  SMAAAreaImageData,\n  SMAAEffect,\n  SMAAImageGenerator,\n  SMAAImageLoader,\n  SMAAPreset,\n  SMAASearchImageData,\n  SMAAWeightsMaterial,\n  SSAOEffect,\n  SSAOMaterial,\n  SavePass,\n  ScanlineEffect,\n  Section,\n  Selection,\n  SelectiveBloomEffect,\n  SepiaEffect,\n  ShaderPass,\n  ShockWaveEffect,\n  TetrahedralUpscaler,\n  TextureEffect,\n  ToneMappingEffect,\n  ToneMappingMode,\n  VignetteEffect,\n  WebGLExtension\n};\n","import{BlendFunction as e,BloomEffect as t,BrightnessContrastEffect as n,ChromaticAberrationEffect as r,ColorAverageEffect as i,ColorDepthEffect as o,DepthEffect as c,EffectComposer as l,RenderPass as s,NormalPass as a,EffectPass as u,DepthOfFieldEffect as d,DotScreenEffect as m,GlitchEffect as f,GlitchMode as p,GodRaysEffect as h,GridEffect as g,HueSaturationEffect as b,NoiseEffect as w,OutlineEffect as E,PixelationEffect as y,ScanlineEffect as v,SelectiveBloomEffect as S,SepiaEffect as x,SSAOEffect as C,SMAAPreset as j,EdgeDetectionMode as T,SMAAImageLoader as P,SMAAEffect as A,TextureEffect as L,ToneMappingEffect as R,VignetteEffect as O,ShockWaveEffect as z}from\"postprocessing\";import F,{forwardRef as B,useMemo as D,useLayoutEffect as M,createContext as k,useEffect as N,useRef as I,useImperativeHandle as _,useContext as G}from\"react\";import{Vector2 as H,Vector3 as Y,TextureLoader as q,sRGBEncoding as U,RepeatWrapping as V}from\"three\";import{useThree as W,useFrame as J,useLoader as K}from\"@react-three/fiber\";const Q=(t,n=e.NORMAL)=>B((function({blendFunction:e,opacity:r,...i},o){const c=D((()=>new t(i)),[i]);return M((()=>{c.blendMode.blendFunction=e||n,void 0!==r&&(c.blendMode.opacity.value=r)}),[e,c.blendMode,r]),F.createElement(\"primitive\",{ref:o,object:c,dispose:null})})),X=(e,t)=>{const n=e[t];return D((()=>{if(n instanceof H)return(new H).set(n.x,n.y);if(Array.isArray(n)){const[e,t]=n;return(new H).set(e,t)}}),[n])},Z=()=>{try{const e=document.createElement(\"canvas\");return!(!window.WebGL2RenderingContext||!e.getContext(\"webgl2\"))}catch(e){return!1}},$=Q(t,e.SCREEN),ee=Q(n),te=B((function(e,t){const n=X(e,\"offset\"),i=D((()=>new r({...e,offset:n})),[n,e]);return F.createElement(\"primitive\",{ref:t,object:i,dispose:null})})),ne=B((function({blendFunction:t=e.NORMAL},n){const r=D((()=>new i(t)),[t]);return F.createElement(\"primitive\",{ref:n,object:r,dispose:null})})),re=Q(o),ie=Q(c),oe=k(null),ce=F.memo(B((({children:e,camera:t,scene:n,renderPriority:r=1,autoClear:i=!0,depthBuffer:o,disableNormalPass:c,stencilBuffer:d,multisampling:m=8,frameBufferType:f},p)=>{const{gl:h,scene:g,camera:b,size:w}=W();n=n||g,t=t||b;const[E,y]=D((()=>{const e=new l(h,{depthBuffer:o,stencilBuffer:d,multisampling:Z()?m:0,frameBufferType:f});e.addPass(new s(n,t));const r=c?null:new a(n,t);return r&&e.addPass(r),[e,r]}),[t,h,o,d,m,f,n,c]);N((()=>null==E?void 0:E.setSize(w.width,w.height)),[E,w]),J(((e,t)=>(h.autoClear=i,void E.render(t))),r);const v=I(null);N((()=>{let e;return v.current&&v.current.__r3f&&E&&(e=new u(t,...v.current.__r3f.objects),E.addPass(e),e.renderToScreen=!0),()=>{e&&(null==E||E.removePass(e))}}),[E,e,t]);const S=D((()=>({composer:E,normalPass:y,camera:t,scene:n})),[E,y,t,n]);return _(p,(()=>E),[E]),F.createElement(oe.Provider,{value:S},F.createElement(\"group\",{ref:v},e))}))),le=B((function({target:e,depthTexture:t,...n},r){const{camera:i}=G(oe),o=D((()=>new d(i,n)),[i,n]);return M((()=>{if(e){const t=e instanceof Y?(new Y).set(e.x,e.y,e.z):(new Y).set(e[0],e[1],e[2]);o.target=t}t&&o.setDepthTexture(t.texture,t.packing)}),[e,t,o]),F.createElement(\"primitive\",{ref:r,object:o,dispose:null})})),se=Q(m),ae=B((function({active:e=!0,...t},n){const r=X(t,\"delay\"),i=X(t,\"duration\"),o=X(t,\"strength\"),c=D((()=>new f({...t,delay:r,duration:i,strength:o})),[r,i,t,o]);return M((()=>{c.mode=e?t.mode||p.SPORADIC:p.DISABLED}),[e,c,t.mode]),F.createElement(\"primitive\",{ref:n,object:c,dispose:null})})),ue=B((function(e,t){const{camera:n}=G(oe),r=D((()=>new h(n,e.sun,e)),[n,e]);return F.createElement(\"primitive\",{ref:t,object:r,dispose:null})})),de=B((function({size:e,...t},n){const r=D((()=>new g(t)),[t]);return M((()=>{e&&r.setSize(e.width,e.height)}),[r,e]),F.createElement(\"primitive\",{ref:n,object:r,dispose:null})})),me=Q(b),fe=Q(w,e.COLOR_DODGE),pe=B((function({selection:e=[],selectionLayer:t=10,blendFunction:n,patternTexture:r,edgeStrength:i,pulseSpeed:o,visibleEdgeColor:c,hiddenEdgeColor:l,width:s,height:a,kernelSize:u,blur:d,xRay:m,...f},p){const{scene:h,camera:g}=G(oe),b=D((()=>new E(h,g,{blendFunction:n,patternTexture:r,edgeStrength:i,pulseSpeed:o,visibleEdgeColor:c,hiddenEdgeColor:l,width:s,height:a,kernelSize:u,blur:d,xRay:m})),[n,d,g,i,a,l,u,r,o,h,c,s,m]);return N((()=>{b.clearSelection(),b.setSelection(Array.isArray(e)?e.map((e=>e.current)):[e.current])}),[b,e]),N((()=>{b.selectionLayer=t}),[b,t]),F.createElement(\"primitive\",{ref:p,object:b,dispose:null})})),he=B((function({granularity:e=5},t){const n=D((()=>new y(e)),[e]);return F.createElement(\"primitive\",{ref:t,object:n,dispose:null})})),ge=Q(v,e.OVERLAY),be=B((function({selection:t=[],selectionLayer:n=10,lights:r=[],luminanceThreshold:i,luminanceSmoothing:o,intensity:c,width:l,height:s,kernelSize:a},u){0===r.length&&console.warn(\"SelectiveBloom requires lights to work.\");const{scene:d,camera:m}=G(oe),f=D((()=>new S(d,m,{blendFunction:e.SCREEN,luminanceThreshold:i,luminanceSmoothing:o,intensity:c,width:l,height:s,kernelSize:a})),[m,s,c,a,o,i,d,l]);return N((()=>{f.selection.set(Array.isArray(t)?t.map((e=>e.current)):[t.current])}),[f,t]),N((()=>{f.selection.layer=n}),[f,n]),N((()=>(r.forEach((e=>((e,t)=>{e.current&&e.current.layers.enable(t.selection.layer)})(e,f))),()=>r.forEach((e=>((e,t)=>{e.current&&e.current.layers.disable(t.selection.layer)})(e,f))))),[f,r,n]),F.createElement(\"primitive\",{ref:u,object:f,dispose:null})})),we=Q(x),Ee=B((function(t,n){const{camera:r,normalPass:i}=G(oe),o=D((()=>null===i?(console.error(\"Please enable the NormalPass in the EffectComposer in order to use SSAO.\"),null):new C(r,i.renderTarget.texture,{blendFunction:e.MULTIPLY,samples:30,rings:4,distanceThreshold:1,distanceFalloff:0,rangeThreshold:.5,rangeFalloff:.1,luminanceInfluence:.9,radius:20,scale:.5,bias:.5,...t})),[r,i,t]);return F.createElement(\"primitive\",{ref:n,object:o,dispose:null})})),ye=B((function({preset:e=j.HIGH,edgeDetectionMode:t=T.COLOR},n){const r=K(P,\"\"),i=D((()=>new A(...r,e,t)),[r,e,t]);return F.createElement(\"primitive\",{ref:n,object:i,dispose:null})})),ve=B((function({textureSrc:e,texture:t,...n},r){const i=K(q,e);M((()=>{i.encoding=U,i.wrapS=i.wrapT=V}),[i]);const o=D((()=>new L({...n,texture:i||t})),[n,i,t]);return F.createElement(\"primitive\",{ref:r,object:o,dispose:null})})),Se=Q(R),xe=Q(O),Ce=Q(z);export{$ as Bloom,ee as BrightnessContrast,te as ChromaticAberration,ne as ColorAverage,re as ColorDepth,ie as Depth,le as DepthOfField,se as DotScreen,ce as EffectComposer,oe as EffectComposerContext,ae as Glitch,ue as GodRays,de as Grid,me as HueSaturation,fe as Noise,pe as Outline,he as Pixelation,ye as SMAA,Ee as SSAO,ge as Scanline,be as SelectiveBloom,we as Sepia,Ce as ShockWave,ve as Texture,Se as ToneMapping,xe as Vignette};\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import { useReducer, useRef, useEffect, useLayoutEffect } from 'react';\n\nfunction create$1(createState) {\n  let state;\n  const listeners = new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (nextState !== state) {\n      const previousState = state;\n      state = replace ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const subscribeWithSelector = (listener, selector = getState, equalityFn = Object.is) => {\n    let currentSlice = selector(state);\n    function listenerToAdd() {\n      const nextSlice = selector(state);\n      if (!equalityFn(currentSlice, nextSlice)) {\n        const previousSlice = currentSlice;\n        listener(currentSlice = nextSlice, previousSlice);\n      }\n    }\n    listeners.add(listenerToAdd);\n    return () => listeners.delete(listenerToAdd);\n  };\n  const subscribe = (listener, selector, equalityFn) => {\n    if (selector || equalityFn) {\n      return subscribeWithSelector(listener, selector, equalityFn);\n    }\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => listeners.clear();\n  const api = {setState, getState, subscribe, destroy};\n  state = createState(setState, getState, api);\n  return api;\n}\n\nconst isSSR = typeof window === \"undefined\" || !window.navigator || /ServerSideRendering|^Deno\\//.test(window.navigator.userAgent);\nconst useIsomorphicLayoutEffect = isSSR ? useEffect : useLayoutEffect;\nfunction create(createState) {\n  const api = typeof createState === \"function\" ? create$1(createState) : createState;\n  const useStore = (selector = api.getState, equalityFn = Object.is) => {\n    const [, forceUpdate] = useReducer((c) => c + 1, 0);\n    const state = api.getState();\n    const stateRef = useRef(state);\n    const selectorRef = useRef(selector);\n    const equalityFnRef = useRef(equalityFn);\n    const erroredRef = useRef(false);\n    const currentSliceRef = useRef();\n    if (currentSliceRef.current === void 0) {\n      currentSliceRef.current = selector(state);\n    }\n    let newStateSlice;\n    let hasNewStateSlice = false;\n    if (stateRef.current !== state || selectorRef.current !== selector || equalityFnRef.current !== equalityFn || erroredRef.current) {\n      newStateSlice = selector(state);\n      hasNewStateSlice = !equalityFn(currentSliceRef.current, newStateSlice);\n    }\n    useIsomorphicLayoutEffect(() => {\n      if (hasNewStateSlice) {\n        currentSliceRef.current = newStateSlice;\n      }\n      stateRef.current = state;\n      selectorRef.current = selector;\n      equalityFnRef.current = equalityFn;\n      erroredRef.current = false;\n    });\n    const stateBeforeSubscriptionRef = useRef(state);\n    useIsomorphicLayoutEffect(() => {\n      const listener = () => {\n        try {\n          const nextState = api.getState();\n          const nextStateSlice = selectorRef.current(nextState);\n          if (!equalityFnRef.current(currentSliceRef.current, nextStateSlice)) {\n            stateRef.current = nextState;\n            currentSliceRef.current = nextStateSlice;\n            forceUpdate();\n          }\n        } catch (error) {\n          erroredRef.current = true;\n          forceUpdate();\n        }\n      };\n      const unsubscribe = api.subscribe(listener);\n      if (api.getState() !== stateBeforeSubscriptionRef.current) {\n        listener();\n      }\n      return unsubscribe;\n    }, []);\n    return hasNewStateSlice ? newStateSlice : currentSliceRef.current;\n  };\n  Object.assign(useStore, api);\n  useStore[Symbol.iterator] = function* () {\n    console.warn(\"[useStore, api] = create() is deprecated and will be removed in v4\");\n    yield useStore;\n    yield api;\n  };\n  return useStore;\n}\n\nexport default create;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// Used for setting prototype methods that IE8 chokes on.\nvar DELETE = 'delete';\n\n// Constants describing the size of trie nodes.\nvar SHIFT = 5; // Resulted in best performance after ______?\nvar SIZE = 1 << SHIFT;\nvar MASK = SIZE - 1;\n\n// A consistent shared value representing \"not set\" which equals nothing other\n// than itself, and nothing that could be provided externally.\nvar NOT_SET = {};\n\n// Boolean references, Rough equivalent of `bool &`.\nfunction MakeRef() {\n  return { value: false };\n}\n\nfunction SetRef(ref) {\n  if (ref) {\n    ref.value = true;\n  }\n}\n\n// A function which returns a value representing an \"owner\" for transient writes\n// to tries. The return value will only ever equal itself, and will not equal\n// the return of any subsequent call of this function.\nfunction OwnerID() {}\n\nfunction ensureSize(iter) {\n  if (iter.size === undefined) {\n    iter.size = iter.__iterate(returnTrue);\n  }\n  return iter.size;\n}\n\nfunction wrapIndex(iter, index) {\n  // This implements \"is array index\" which the ECMAString spec defines as:\n  //\n  //     A String property name P is an array index if and only if\n  //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n  //     to 2^32−1.\n  //\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n  if (typeof index !== 'number') {\n    var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n    if ('' + uint32Index !== index || uint32Index === 4294967295) {\n      return NaN;\n    }\n    index = uint32Index;\n  }\n  return index < 0 ? ensureSize(iter) + index : index;\n}\n\nfunction returnTrue() {\n  return true;\n}\n\nfunction wholeSlice(begin, end, size) {\n  return (\n    ((begin === 0 && !isNeg(begin)) ||\n      (size !== undefined && begin <= -size)) &&\n    (end === undefined || (size !== undefined && end >= size))\n  );\n}\n\nfunction resolveBegin(begin, size) {\n  return resolveIndex(begin, size, 0);\n}\n\nfunction resolveEnd(end, size) {\n  return resolveIndex(end, size, size);\n}\n\nfunction resolveIndex(index, size, defaultIndex) {\n  // Sanitize indices using this shorthand for ToInt32(argument)\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n  return index === undefined\n    ? defaultIndex\n    : isNeg(index)\n      ? size === Infinity\n        ? size\n        : Math.max(0, size + index) | 0\n      : size === undefined || size === index\n        ? index\n        : Math.min(size, index) | 0;\n}\n\nfunction isNeg(value) {\n  // Account for -0 which is negative, but not less than 0.\n  return value < 0 || (value === 0 && 1 / value === -Infinity);\n}\n\n// Note: value is unchanged to not break immutable-devtools.\nvar IS_COLLECTION_SYMBOL = '@@__IMMUTABLE_ITERABLE__@@';\n\nfunction isCollection(maybeCollection) {\n  return Boolean(maybeCollection && maybeCollection[IS_COLLECTION_SYMBOL]);\n}\n\nvar IS_KEYED_SYMBOL = '@@__IMMUTABLE_KEYED__@@';\n\nfunction isKeyed(maybeKeyed) {\n  return Boolean(maybeKeyed && maybeKeyed[IS_KEYED_SYMBOL]);\n}\n\nvar IS_INDEXED_SYMBOL = '@@__IMMUTABLE_INDEXED__@@';\n\nfunction isIndexed(maybeIndexed) {\n  return Boolean(maybeIndexed && maybeIndexed[IS_INDEXED_SYMBOL]);\n}\n\nfunction isAssociative(maybeAssociative) {\n  return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n}\n\nvar Collection = function Collection(value) {\n  return isCollection(value) ? value : Seq(value);\n};\n\nvar KeyedCollection = /*@__PURE__*/(function (Collection) {\n  function KeyedCollection(value) {\n    return isKeyed(value) ? value : KeyedSeq(value);\n  }\n\n  if ( Collection ) KeyedCollection.__proto__ = Collection;\n  KeyedCollection.prototype = Object.create( Collection && Collection.prototype );\n  KeyedCollection.prototype.constructor = KeyedCollection;\n\n  return KeyedCollection;\n}(Collection));\n\nvar IndexedCollection = /*@__PURE__*/(function (Collection) {\n  function IndexedCollection(value) {\n    return isIndexed(value) ? value : IndexedSeq(value);\n  }\n\n  if ( Collection ) IndexedCollection.__proto__ = Collection;\n  IndexedCollection.prototype = Object.create( Collection && Collection.prototype );\n  IndexedCollection.prototype.constructor = IndexedCollection;\n\n  return IndexedCollection;\n}(Collection));\n\nvar SetCollection = /*@__PURE__*/(function (Collection) {\n  function SetCollection(value) {\n    return isCollection(value) && !isAssociative(value) ? value : SetSeq(value);\n  }\n\n  if ( Collection ) SetCollection.__proto__ = Collection;\n  SetCollection.prototype = Object.create( Collection && Collection.prototype );\n  SetCollection.prototype.constructor = SetCollection;\n\n  return SetCollection;\n}(Collection));\n\nCollection.Keyed = KeyedCollection;\nCollection.Indexed = IndexedCollection;\nCollection.Set = SetCollection;\n\nvar IS_SEQ_SYMBOL = '@@__IMMUTABLE_SEQ__@@';\n\nfunction isSeq(maybeSeq) {\n  return Boolean(maybeSeq && maybeSeq[IS_SEQ_SYMBOL]);\n}\n\nvar IS_RECORD_SYMBOL = '@@__IMMUTABLE_RECORD__@@';\n\nfunction isRecord(maybeRecord) {\n  return Boolean(maybeRecord && maybeRecord[IS_RECORD_SYMBOL]);\n}\n\nfunction isImmutable(maybeImmutable) {\n  return isCollection(maybeImmutable) || isRecord(maybeImmutable);\n}\n\nvar IS_ORDERED_SYMBOL = '@@__IMMUTABLE_ORDERED__@@';\n\nfunction isOrdered(maybeOrdered) {\n  return Boolean(maybeOrdered && maybeOrdered[IS_ORDERED_SYMBOL]);\n}\n\nvar ITERATE_KEYS = 0;\nvar ITERATE_VALUES = 1;\nvar ITERATE_ENTRIES = 2;\n\nvar REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nvar ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\nvar Iterator = function Iterator(next) {\n  this.next = next;\n};\n\nIterator.prototype.toString = function toString () {\n  return '[Iterator]';\n};\n\nIterator.KEYS = ITERATE_KEYS;\nIterator.VALUES = ITERATE_VALUES;\nIterator.ENTRIES = ITERATE_ENTRIES;\n\nIterator.prototype.inspect = Iterator.prototype.toSource = function() {\n  return this.toString();\n};\nIterator.prototype[ITERATOR_SYMBOL] = function() {\n  return this;\n};\n\nfunction iteratorValue(type, k, v, iteratorResult) {\n  var value = type === 0 ? k : type === 1 ? v : [k, v];\n  iteratorResult\n    ? (iteratorResult.value = value)\n    : (iteratorResult = {\n        value: value,\n        done: false,\n      });\n  return iteratorResult;\n}\n\nfunction iteratorDone() {\n  return { value: undefined, done: true };\n}\n\nfunction hasIterator(maybeIterable) {\n  return !!getIteratorFn(maybeIterable);\n}\n\nfunction isIterator(maybeIterator) {\n  return maybeIterator && typeof maybeIterator.next === 'function';\n}\n\nfunction getIterator(iterable) {\n  var iteratorFn = getIteratorFn(iterable);\n  return iteratorFn && iteratorFn.call(iterable);\n}\n\nfunction getIteratorFn(iterable) {\n  var iteratorFn =\n    iterable &&\n    ((REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]);\n  if (typeof iteratorFn === 'function') {\n    return iteratorFn;\n  }\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isArrayLike(value) {\n  if (Array.isArray(value) || typeof value === 'string') {\n    return true;\n  }\n\n  return (\n    value &&\n    typeof value === 'object' &&\n    Number.isInteger(value.length) &&\n    value.length >= 0 &&\n    (value.length === 0\n      ? // Only {length: 0} is considered Array-like.\n        Object.keys(value).length === 1\n      : // An object is only Array-like if it has a property where the last value\n        // in the array-like may be found (which could be undefined).\n        value.hasOwnProperty(value.length - 1))\n  );\n}\n\nvar Seq = /*@__PURE__*/(function (Collection$$1) {\n  function Seq(value) {\n    return value === null || value === undefined\n      ? emptySequence()\n      : isImmutable(value)\n        ? value.toSeq()\n        : seqFromValue(value);\n  }\n\n  if ( Collection$$1 ) Seq.__proto__ = Collection$$1;\n  Seq.prototype = Object.create( Collection$$1 && Collection$$1.prototype );\n  Seq.prototype.constructor = Seq;\n\n  Seq.prototype.toSeq = function toSeq () {\n    return this;\n  };\n\n  Seq.prototype.toString = function toString () {\n    return this.__toString('Seq {', '}');\n  };\n\n  Seq.prototype.cacheResult = function cacheResult () {\n    if (!this._cache && this.__iterateUncached) {\n      this._cache = this.entrySeq().toArray();\n      this.size = this._cache.length;\n    }\n    return this;\n  };\n\n  // abstract __iterateUncached(fn, reverse)\n\n  Seq.prototype.__iterate = function __iterate (fn, reverse) {\n    var cache = this._cache;\n    if (cache) {\n      var size = cache.length;\n      var i = 0;\n      while (i !== size) {\n        var entry = cache[reverse ? size - ++i : i++];\n        if (fn(entry[1], entry[0], this) === false) {\n          break;\n        }\n      }\n      return i;\n    }\n    return this.__iterateUncached(fn, reverse);\n  };\n\n  // abstract __iteratorUncached(type, reverse)\n\n  Seq.prototype.__iterator = function __iterator (type, reverse) {\n    var cache = this._cache;\n    if (cache) {\n      var size = cache.length;\n      var i = 0;\n      return new Iterator(function () {\n        if (i === size) {\n          return iteratorDone();\n        }\n        var entry = cache[reverse ? size - ++i : i++];\n        return iteratorValue(type, entry[0], entry[1]);\n      });\n    }\n    return this.__iteratorUncached(type, reverse);\n  };\n\n  return Seq;\n}(Collection));\n\nvar KeyedSeq = /*@__PURE__*/(function (Seq) {\n  function KeyedSeq(value) {\n    return value === null || value === undefined\n      ? emptySequence().toKeyedSeq()\n      : isCollection(value)\n        ? isKeyed(value)\n          ? value.toSeq()\n          : value.fromEntrySeq()\n        : isRecord(value)\n          ? value.toSeq()\n          : keyedSeqFromValue(value);\n  }\n\n  if ( Seq ) KeyedSeq.__proto__ = Seq;\n  KeyedSeq.prototype = Object.create( Seq && Seq.prototype );\n  KeyedSeq.prototype.constructor = KeyedSeq;\n\n  KeyedSeq.prototype.toKeyedSeq = function toKeyedSeq () {\n    return this;\n  };\n\n  return KeyedSeq;\n}(Seq));\n\nvar IndexedSeq = /*@__PURE__*/(function (Seq) {\n  function IndexedSeq(value) {\n    return value === null || value === undefined\n      ? emptySequence()\n      : isCollection(value)\n        ? isKeyed(value)\n          ? value.entrySeq()\n          : value.toIndexedSeq()\n        : isRecord(value)\n          ? value.toSeq().entrySeq()\n          : indexedSeqFromValue(value);\n  }\n\n  if ( Seq ) IndexedSeq.__proto__ = Seq;\n  IndexedSeq.prototype = Object.create( Seq && Seq.prototype );\n  IndexedSeq.prototype.constructor = IndexedSeq;\n\n  IndexedSeq.of = function of (/*...values*/) {\n    return IndexedSeq(arguments);\n  };\n\n  IndexedSeq.prototype.toIndexedSeq = function toIndexedSeq () {\n    return this;\n  };\n\n  IndexedSeq.prototype.toString = function toString () {\n    return this.__toString('Seq [', ']');\n  };\n\n  return IndexedSeq;\n}(Seq));\n\nvar SetSeq = /*@__PURE__*/(function (Seq) {\n  function SetSeq(value) {\n    return (isCollection(value) && !isAssociative(value)\n      ? value\n      : IndexedSeq(value)\n    ).toSetSeq();\n  }\n\n  if ( Seq ) SetSeq.__proto__ = Seq;\n  SetSeq.prototype = Object.create( Seq && Seq.prototype );\n  SetSeq.prototype.constructor = SetSeq;\n\n  SetSeq.of = function of (/*...values*/) {\n    return SetSeq(arguments);\n  };\n\n  SetSeq.prototype.toSetSeq = function toSetSeq () {\n    return this;\n  };\n\n  return SetSeq;\n}(Seq));\n\nSeq.isSeq = isSeq;\nSeq.Keyed = KeyedSeq;\nSeq.Set = SetSeq;\nSeq.Indexed = IndexedSeq;\n\nSeq.prototype[IS_SEQ_SYMBOL] = true;\n\n// #pragma Root Sequences\n\nvar ArraySeq = /*@__PURE__*/(function (IndexedSeq) {\n  function ArraySeq(array) {\n    this._array = array;\n    this.size = array.length;\n  }\n\n  if ( IndexedSeq ) ArraySeq.__proto__ = IndexedSeq;\n  ArraySeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  ArraySeq.prototype.constructor = ArraySeq;\n\n  ArraySeq.prototype.get = function get (index, notSetValue) {\n    return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n  };\n\n  ArraySeq.prototype.__iterate = function __iterate (fn, reverse) {\n    var array = this._array;\n    var size = array.length;\n    var i = 0;\n    while (i !== size) {\n      var ii = reverse ? size - ++i : i++;\n      if (fn(array[ii], ii, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  ArraySeq.prototype.__iterator = function __iterator (type, reverse) {\n    var array = this._array;\n    var size = array.length;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var ii = reverse ? size - ++i : i++;\n      return iteratorValue(type, ii, array[ii]);\n    });\n  };\n\n  return ArraySeq;\n}(IndexedSeq));\n\nvar ObjectSeq = /*@__PURE__*/(function (KeyedSeq) {\n  function ObjectSeq(object) {\n    var keys = Object.keys(object);\n    this._object = object;\n    this._keys = keys;\n    this.size = keys.length;\n  }\n\n  if ( KeyedSeq ) ObjectSeq.__proto__ = KeyedSeq;\n  ObjectSeq.prototype = Object.create( KeyedSeq && KeyedSeq.prototype );\n  ObjectSeq.prototype.constructor = ObjectSeq;\n\n  ObjectSeq.prototype.get = function get (key, notSetValue) {\n    if (notSetValue !== undefined && !this.has(key)) {\n      return notSetValue;\n    }\n    return this._object[key];\n  };\n\n  ObjectSeq.prototype.has = function has (key) {\n    return hasOwnProperty.call(this._object, key);\n  };\n\n  ObjectSeq.prototype.__iterate = function __iterate (fn, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var size = keys.length;\n    var i = 0;\n    while (i !== size) {\n      var key = keys[reverse ? size - ++i : i++];\n      if (fn(object[key], key, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  ObjectSeq.prototype.__iterator = function __iterator (type, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var size = keys.length;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var key = keys[reverse ? size - ++i : i++];\n      return iteratorValue(type, key, object[key]);\n    });\n  };\n\n  return ObjectSeq;\n}(KeyedSeq));\nObjectSeq.prototype[IS_ORDERED_SYMBOL] = true;\n\nvar CollectionSeq = /*@__PURE__*/(function (IndexedSeq) {\n  function CollectionSeq(collection) {\n    this._collection = collection;\n    this.size = collection.length || collection.size;\n  }\n\n  if ( IndexedSeq ) CollectionSeq.__proto__ = IndexedSeq;\n  CollectionSeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  CollectionSeq.prototype.constructor = CollectionSeq;\n\n  CollectionSeq.prototype.__iterateUncached = function __iterateUncached (fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var collection = this._collection;\n    var iterator = getIterator(collection);\n    var iterations = 0;\n    if (isIterator(iterator)) {\n      var step;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n    }\n    return iterations;\n  };\n\n  CollectionSeq.prototype.__iteratorUncached = function __iteratorUncached (type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var collection = this._collection;\n    var iterator = getIterator(collection);\n    if (!isIterator(iterator)) {\n      return new Iterator(iteratorDone);\n    }\n    var iterations = 0;\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, iterations++, step.value);\n    });\n  };\n\n  return CollectionSeq;\n}(IndexedSeq));\n\n// # pragma Helper functions\n\nvar EMPTY_SEQ;\n\nfunction emptySequence() {\n  return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n}\n\nfunction keyedSeqFromValue(value) {\n  var seq = Array.isArray(value)\n    ? new ArraySeq(value)\n    : hasIterator(value)\n      ? new CollectionSeq(value)\n      : undefined;\n  if (seq) {\n    return seq.fromEntrySeq();\n  }\n  if (typeof value === 'object') {\n    return new ObjectSeq(value);\n  }\n  throw new TypeError(\n    'Expected Array or collection object of [k, v] entries, or keyed object: ' +\n      value\n  );\n}\n\nfunction indexedSeqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return seq;\n  }\n  throw new TypeError(\n    'Expected Array or collection object of values: ' + value\n  );\n}\n\nfunction seqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return seq;\n  }\n  if (typeof value === 'object') {\n    return new ObjectSeq(value);\n  }\n  throw new TypeError(\n    'Expected Array or collection object of values, or keyed object: ' + value\n  );\n}\n\nfunction maybeIndexedSeqFromValue(value) {\n  return isArrayLike(value)\n    ? new ArraySeq(value)\n    : hasIterator(value)\n      ? new CollectionSeq(value)\n      : undefined;\n}\n\nvar IS_MAP_SYMBOL = '@@__IMMUTABLE_MAP__@@';\n\nfunction isMap(maybeMap) {\n  return Boolean(maybeMap && maybeMap[IS_MAP_SYMBOL]);\n}\n\nfunction isOrderedMap(maybeOrderedMap) {\n  return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n}\n\nfunction isValueObject(maybeValue) {\n  return Boolean(\n    maybeValue &&\n      typeof maybeValue.equals === 'function' &&\n      typeof maybeValue.hashCode === 'function'\n  );\n}\n\n/**\n * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n *\n * NaN is considered the same as NaN, however -0 and 0 are considered the same\n * value, which is different from the algorithm described by\n * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n *\n * This is extended further to allow Objects to describe the values they\n * represent, by way of `valueOf` or `equals` (and `hashCode`).\n *\n * Note: because of this extension, the key equality of Immutable.Map and the\n * value equality of Immutable.Set will differ from ES6 Map and Set.\n *\n * ### Defining custom values\n *\n * The easiest way to describe the value an object represents is by implementing\n * `valueOf`. For example, `Date` represents a value by returning a unix\n * timestamp for `valueOf`:\n *\n *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n *     var date2 = new Date(1234567890000);\n *     date1.valueOf(); // 1234567890000\n *     assert( date1 !== date2 );\n *     assert( Immutable.is( date1, date2 ) );\n *\n * Note: overriding `valueOf` may have other implications if you use this object\n * where JavaScript expects a primitive, such as implicit string coercion.\n *\n * For more complex types, especially collections, implementing `valueOf` may\n * not be performant. An alternative is to implement `equals` and `hashCode`.\n *\n * `equals` takes another object, presumably of similar type, and returns true\n * if it is equal. Equality is symmetrical, so the same result should be\n * returned if this and the argument are flipped.\n *\n *     assert( a.equals(b) === b.equals(a) );\n *\n * `hashCode` returns a 32bit integer number representing the object which will\n * be used to determine how to store the value object in a Map or Set. You must\n * provide both or neither methods, one must not exist without the other.\n *\n * Also, an important relationship between these methods must be upheld: if two\n * values are equal, they *must* return the same hashCode. If the values are not\n * equal, they might have the same hashCode; this is called a hash collision,\n * and while undesirable for performance reasons, it is acceptable.\n *\n *     if (a.equals(b)) {\n *       assert( a.hashCode() === b.hashCode() );\n *     }\n *\n * All Immutable collections are Value Objects: they implement `equals()`\n * and `hashCode()`.\n */\nfunction is(valueA, valueB) {\n  if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n    return true;\n  }\n  if (!valueA || !valueB) {\n    return false;\n  }\n  if (\n    typeof valueA.valueOf === 'function' &&\n    typeof valueB.valueOf === 'function'\n  ) {\n    valueA = valueA.valueOf();\n    valueB = valueB.valueOf();\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n  }\n  return !!(\n    isValueObject(valueA) &&\n    isValueObject(valueB) &&\n    valueA.equals(valueB)\n  );\n}\n\nvar imul =\n  typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2\n    ? Math.imul\n    : function imul(a, b) {\n        a |= 0; // int\n        b |= 0; // int\n        var c = a & 0xffff;\n        var d = b & 0xffff;\n        // Shift by 0 fixes the sign on the high part.\n        return (c * d + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0)) | 0; // int\n      };\n\n// v8 has an optimization for storing 31-bit signed numbers.\n// Values which have either 00 or 11 as the high order bits qualify.\n// This function drops the highest order bit in a signed number, maintaining\n// the sign bit.\nfunction smi(i32) {\n  return ((i32 >>> 1) & 0x40000000) | (i32 & 0xbfffffff);\n}\n\nvar defaultValueOf = Object.prototype.valueOf;\n\nfunction hash(o) {\n  switch (typeof o) {\n    case 'boolean':\n      // The hash values for built-in constants are a 1 value for each 5-byte\n      // shift region expect for the first, which encodes the value. This\n      // reduces the odds of a hash collision for these common values.\n      return o ? 0x42108421 : 0x42108420;\n    case 'number':\n      return hashNumber(o);\n    case 'string':\n      return o.length > STRING_HASH_CACHE_MIN_STRLEN\n        ? cachedHashString(o)\n        : hashString(o);\n    case 'object':\n    case 'function':\n      if (o === null) {\n        return 0x42108422;\n      }\n      if (typeof o.hashCode === 'function') {\n        // Drop any high bits from accidentally long hash codes.\n        return smi(o.hashCode(o));\n      }\n      if (o.valueOf !== defaultValueOf && typeof o.valueOf === 'function') {\n        o = o.valueOf(o);\n      }\n      return hashJSObj(o);\n    case 'undefined':\n      return 0x42108423;\n    default:\n      if (typeof o.toString === 'function') {\n        return hashString(o.toString());\n      }\n      throw new Error('Value type ' + typeof o + ' cannot be hashed.');\n  }\n}\n\n// Compress arbitrarily large numbers into smi hashes.\nfunction hashNumber(n) {\n  if (n !== n || n === Infinity) {\n    return 0;\n  }\n  var hash = n | 0;\n  if (hash !== n) {\n    hash ^= n * 0xffffffff;\n  }\n  while (n > 0xffffffff) {\n    n /= 0xffffffff;\n    hash ^= n;\n  }\n  return smi(hash);\n}\n\nfunction cachedHashString(string) {\n  var hashed = stringHashCache[string];\n  if (hashed === undefined) {\n    hashed = hashString(string);\n    if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n      STRING_HASH_CACHE_SIZE = 0;\n      stringHashCache = {};\n    }\n    STRING_HASH_CACHE_SIZE++;\n    stringHashCache[string] = hashed;\n  }\n  return hashed;\n}\n\n// http://jsperf.com/hashing-strings\nfunction hashString(string) {\n  // This is the hash from JVM\n  // The hash code for a string is computed as\n  // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n  // where s[i] is the ith character of the string and n is the length of\n  // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n  // (exclusive) by dropping high bits.\n  var hashed = 0;\n  for (var ii = 0; ii < string.length; ii++) {\n    hashed = (31 * hashed + string.charCodeAt(ii)) | 0;\n  }\n  return smi(hashed);\n}\n\nfunction hashJSObj(obj) {\n  var hashed;\n  if (usingWeakMap) {\n    hashed = weakMap.get(obj);\n    if (hashed !== undefined) {\n      return hashed;\n    }\n  }\n\n  hashed = obj[UID_HASH_KEY];\n  if (hashed !== undefined) {\n    return hashed;\n  }\n\n  if (!canDefineProperty) {\n    hashed = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n    if (hashed !== undefined) {\n      return hashed;\n    }\n\n    hashed = getIENodeHash(obj);\n    if (hashed !== undefined) {\n      return hashed;\n    }\n  }\n\n  hashed = ++objHashUID;\n  if (objHashUID & 0x40000000) {\n    objHashUID = 0;\n  }\n\n  if (usingWeakMap) {\n    weakMap.set(obj, hashed);\n  } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n    throw new Error('Non-extensible objects are not allowed as keys.');\n  } else if (canDefineProperty) {\n    Object.defineProperty(obj, UID_HASH_KEY, {\n      enumerable: false,\n      configurable: false,\n      writable: false,\n      value: hashed,\n    });\n  } else if (\n    obj.propertyIsEnumerable !== undefined &&\n    obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable\n  ) {\n    // Since we can't define a non-enumerable property on the object\n    // we'll hijack one of the less-used non-enumerable properties to\n    // save our hash on it. Since this is a function it will not show up in\n    // `JSON.stringify` which is what we want.\n    obj.propertyIsEnumerable = function() {\n      return this.constructor.prototype.propertyIsEnumerable.apply(\n        this,\n        arguments\n      );\n    };\n    obj.propertyIsEnumerable[UID_HASH_KEY] = hashed;\n  } else if (obj.nodeType !== undefined) {\n    // At this point we couldn't get the IE `uniqueID` to use as a hash\n    // and we couldn't use a non-enumerable property to exploit the\n    // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n    // itself.\n    obj[UID_HASH_KEY] = hashed;\n  } else {\n    throw new Error('Unable to set a non-enumerable property on object.');\n  }\n\n  return hashed;\n}\n\n// Get references to ES5 object methods.\nvar isExtensible = Object.isExtensible;\n\n// True if Object.defineProperty works as expected. IE8 fails this test.\nvar canDefineProperty = (function() {\n  try {\n    Object.defineProperty({}, '@', {});\n    return true;\n  } catch (e) {\n    return false;\n  }\n})();\n\n// IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n// and avoid memory leaks from the IE cloneNode bug.\nfunction getIENodeHash(node) {\n  if (node && node.nodeType > 0) {\n    switch (node.nodeType) {\n      case 1: // Element\n        return node.uniqueID;\n      case 9: // Document\n        return node.documentElement && node.documentElement.uniqueID;\n    }\n  }\n}\n\n// If possible, use a WeakMap.\nvar usingWeakMap = typeof WeakMap === 'function';\nvar weakMap;\nif (usingWeakMap) {\n  weakMap = new WeakMap();\n}\n\nvar objHashUID = 0;\n\nvar UID_HASH_KEY = '__immutablehash__';\nif (typeof Symbol === 'function') {\n  UID_HASH_KEY = Symbol(UID_HASH_KEY);\n}\n\nvar STRING_HASH_CACHE_MIN_STRLEN = 16;\nvar STRING_HASH_CACHE_MAX_SIZE = 255;\nvar STRING_HASH_CACHE_SIZE = 0;\nvar stringHashCache = {};\n\nvar ToKeyedSequence = /*@__PURE__*/(function (KeyedSeq$$1) {\n  function ToKeyedSequence(indexed, useKeys) {\n    this._iter = indexed;\n    this._useKeys = useKeys;\n    this.size = indexed.size;\n  }\n\n  if ( KeyedSeq$$1 ) ToKeyedSequence.__proto__ = KeyedSeq$$1;\n  ToKeyedSequence.prototype = Object.create( KeyedSeq$$1 && KeyedSeq$$1.prototype );\n  ToKeyedSequence.prototype.constructor = ToKeyedSequence;\n\n  ToKeyedSequence.prototype.get = function get (key, notSetValue) {\n    return this._iter.get(key, notSetValue);\n  };\n\n  ToKeyedSequence.prototype.has = function has (key) {\n    return this._iter.has(key);\n  };\n\n  ToKeyedSequence.prototype.valueSeq = function valueSeq () {\n    return this._iter.valueSeq();\n  };\n\n  ToKeyedSequence.prototype.reverse = function reverse () {\n    var this$1 = this;\n\n    var reversedSequence = reverseFactory(this, true);\n    if (!this._useKeys) {\n      reversedSequence.valueSeq = function () { return this$1._iter.toSeq().reverse(); };\n    }\n    return reversedSequence;\n  };\n\n  ToKeyedSequence.prototype.map = function map (mapper, context) {\n    var this$1 = this;\n\n    var mappedSequence = mapFactory(this, mapper, context);\n    if (!this._useKeys) {\n      mappedSequence.valueSeq = function () { return this$1._iter.toSeq().map(mapper, context); };\n    }\n    return mappedSequence;\n  };\n\n  ToKeyedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(function (v, k) { return fn(v, k, this$1); }, reverse);\n  };\n\n  ToKeyedSequence.prototype.__iterator = function __iterator (type, reverse) {\n    return this._iter.__iterator(type, reverse);\n  };\n\n  return ToKeyedSequence;\n}(KeyedSeq));\nToKeyedSequence.prototype[IS_ORDERED_SYMBOL] = true;\n\nvar ToIndexedSequence = /*@__PURE__*/(function (IndexedSeq$$1) {\n  function ToIndexedSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  if ( IndexedSeq$$1 ) ToIndexedSequence.__proto__ = IndexedSeq$$1;\n  ToIndexedSequence.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  ToIndexedSequence.prototype.constructor = ToIndexedSequence;\n\n  ToIndexedSequence.prototype.includes = function includes (value) {\n    return this._iter.includes(value);\n  };\n\n  ToIndexedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var i = 0;\n    reverse && ensureSize(this);\n    return this._iter.__iterate(\n      function (v) { return fn(v, reverse ? this$1.size - ++i : i++, this$1); },\n      reverse\n    );\n  };\n\n  ToIndexedSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var this$1 = this;\n\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    var i = 0;\n    reverse && ensureSize(this);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done\n        ? step\n        : iteratorValue(\n            type,\n            reverse ? this$1.size - ++i : i++,\n            step.value,\n            step\n          );\n    });\n  };\n\n  return ToIndexedSequence;\n}(IndexedSeq));\n\nvar ToSetSequence = /*@__PURE__*/(function (SetSeq$$1) {\n  function ToSetSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  if ( SetSeq$$1 ) ToSetSequence.__proto__ = SetSeq$$1;\n  ToSetSequence.prototype = Object.create( SetSeq$$1 && SetSeq$$1.prototype );\n  ToSetSequence.prototype.constructor = ToSetSequence;\n\n  ToSetSequence.prototype.has = function has (key) {\n    return this._iter.includes(key);\n  };\n\n  ToSetSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(function (v) { return fn(v, v, this$1); }, reverse);\n  };\n\n  ToSetSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done\n        ? step\n        : iteratorValue(type, step.value, step.value, step);\n    });\n  };\n\n  return ToSetSequence;\n}(SetSeq));\n\nvar FromEntriesSequence = /*@__PURE__*/(function (KeyedSeq$$1) {\n  function FromEntriesSequence(entries) {\n    this._iter = entries;\n    this.size = entries.size;\n  }\n\n  if ( KeyedSeq$$1 ) FromEntriesSequence.__proto__ = KeyedSeq$$1;\n  FromEntriesSequence.prototype = Object.create( KeyedSeq$$1 && KeyedSeq$$1.prototype );\n  FromEntriesSequence.prototype.constructor = FromEntriesSequence;\n\n  FromEntriesSequence.prototype.entrySeq = function entrySeq () {\n    return this._iter.toSeq();\n  };\n\n  FromEntriesSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(function (entry) {\n      // Check if entry exists first so array access doesn't throw for holes\n      // in the parent iteration.\n      if (entry) {\n        validateEntry(entry);\n        var indexedCollection = isCollection(entry);\n        return fn(\n          indexedCollection ? entry.get(1) : entry[1],\n          indexedCollection ? entry.get(0) : entry[0],\n          this$1\n        );\n      }\n    }, reverse);\n  };\n\n  FromEntriesSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedCollection = isCollection(entry);\n          return iteratorValue(\n            type,\n            indexedCollection ? entry.get(0) : entry[0],\n            indexedCollection ? entry.get(1) : entry[1],\n            step\n          );\n        }\n      }\n    });\n  };\n\n  return FromEntriesSequence;\n}(KeyedSeq));\n\nToIndexedSequence.prototype.cacheResult = ToKeyedSequence.prototype.cacheResult = ToSetSequence.prototype.cacheResult = FromEntriesSequence.prototype.cacheResult = cacheResultThrough;\n\nfunction flipFactory(collection) {\n  var flipSequence = makeSequence(collection);\n  flipSequence._iter = collection;\n  flipSequence.size = collection.size;\n  flipSequence.flip = function () { return collection; };\n  flipSequence.reverse = function() {\n    var reversedSequence = collection.reverse.apply(this); // super.reverse()\n    reversedSequence.flip = function () { return collection.reverse(); };\n    return reversedSequence;\n  };\n  flipSequence.has = function (key) { return collection.includes(key); };\n  flipSequence.includes = function (key) { return collection.has(key); };\n  flipSequence.cacheResult = cacheResultThrough;\n  flipSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    return collection.__iterate(function (v, k) { return fn(k, v, this$1) !== false; }, reverse);\n  };\n  flipSequence.__iteratorUncached = function(type, reverse) {\n    if (type === ITERATE_ENTRIES) {\n      var iterator = collection.__iterator(type, reverse);\n      return new Iterator(function () {\n        var step = iterator.next();\n        if (!step.done) {\n          var k = step.value[0];\n          step.value[0] = step.value[1];\n          step.value[1] = k;\n        }\n        return step;\n      });\n    }\n    return collection.__iterator(\n      type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n      reverse\n    );\n  };\n  return flipSequence;\n}\n\nfunction mapFactory(collection, mapper, context) {\n  var mappedSequence = makeSequence(collection);\n  mappedSequence.size = collection.size;\n  mappedSequence.has = function (key) { return collection.has(key); };\n  mappedSequence.get = function (key, notSetValue) {\n    var v = collection.get(key, NOT_SET);\n    return v === NOT_SET\n      ? notSetValue\n      : mapper.call(context, v, key, collection);\n  };\n  mappedSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    return collection.__iterate(\n      function (v, k, c) { return fn(mapper.call(context, v, k, c), k, this$1) !== false; },\n      reverse\n    );\n  };\n  mappedSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var key = entry[0];\n      return iteratorValue(\n        type,\n        key,\n        mapper.call(context, entry[1], key, collection),\n        step\n      );\n    });\n  };\n  return mappedSequence;\n}\n\nfunction reverseFactory(collection, useKeys) {\n  var this$1 = this;\n\n  var reversedSequence = makeSequence(collection);\n  reversedSequence._iter = collection;\n  reversedSequence.size = collection.size;\n  reversedSequence.reverse = function () { return collection; };\n  if (collection.flip) {\n    reversedSequence.flip = function() {\n      var flipSequence = flipFactory(collection);\n      flipSequence.reverse = function () { return collection.flip(); };\n      return flipSequence;\n    };\n  }\n  reversedSequence.get = function (key, notSetValue) { return collection.get(useKeys ? key : -1 - key, notSetValue); };\n  reversedSequence.has = function (key) { return collection.has(useKeys ? key : -1 - key); };\n  reversedSequence.includes = function (value) { return collection.includes(value); };\n  reversedSequence.cacheResult = cacheResultThrough;\n  reversedSequence.__iterate = function(fn, reverse) {\n    var this$1 = this;\n\n    var i = 0;\n    reverse && ensureSize(collection);\n    return collection.__iterate(\n      function (v, k) { return fn(v, useKeys ? k : reverse ? this$1.size - ++i : i++, this$1); },\n      !reverse\n    );\n  };\n  reversedSequence.__iterator = function (type, reverse) {\n    var i = 0;\n    reverse && ensureSize(collection);\n    var iterator = collection.__iterator(ITERATE_ENTRIES, !reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      return iteratorValue(\n        type,\n        useKeys ? entry[0] : reverse ? this$1.size - ++i : i++,\n        entry[1],\n        step\n      );\n    });\n  };\n  return reversedSequence;\n}\n\nfunction filterFactory(collection, predicate, context, useKeys) {\n  var filterSequence = makeSequence(collection);\n  if (useKeys) {\n    filterSequence.has = function (key) {\n      var v = collection.get(key, NOT_SET);\n      return v !== NOT_SET && !!predicate.call(context, v, key, collection);\n    };\n    filterSequence.get = function (key, notSetValue) {\n      var v = collection.get(key, NOT_SET);\n      return v !== NOT_SET && predicate.call(context, v, key, collection)\n        ? v\n        : notSetValue;\n    };\n  }\n  filterSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    collection.__iterate(function (v, k, c) {\n      if (predicate.call(context, v, k, c)) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, this$1);\n      }\n    }, reverse);\n    return iterations;\n  };\n  filterSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var iterations = 0;\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        var value = entry[1];\n        if (predicate.call(context, value, key, collection)) {\n          return iteratorValue(type, useKeys ? key : iterations++, value, step);\n        }\n      }\n    });\n  };\n  return filterSequence;\n}\n\nfunction countByFactory(collection, grouper, context) {\n  var groups = Map().asMutable();\n  collection.__iterate(function (v, k) {\n    groups.update(grouper.call(context, v, k, collection), 0, function (a) { return a + 1; });\n  });\n  return groups.asImmutable();\n}\n\nfunction groupByFactory(collection, grouper, context) {\n  var isKeyedIter = isKeyed(collection);\n  var groups = (isOrdered(collection) ? OrderedMap() : Map()).asMutable();\n  collection.__iterate(function (v, k) {\n    groups.update(\n      grouper.call(context, v, k, collection),\n      function (a) { return ((a = a || []), a.push(isKeyedIter ? [k, v] : v), a); }\n    );\n  });\n  var coerce = collectionClass(collection);\n  return groups.map(function (arr) { return reify(collection, coerce(arr)); }).asImmutable();\n}\n\nfunction sliceFactory(collection, begin, end, useKeys) {\n  var originalSize = collection.size;\n\n  if (wholeSlice(begin, end, originalSize)) {\n    return collection;\n  }\n\n  var resolvedBegin = resolveBegin(begin, originalSize);\n  var resolvedEnd = resolveEnd(end, originalSize);\n\n  // begin or end will be NaN if they were provided as negative numbers and\n  // this collection's size is unknown. In that case, cache first so there is\n  // a known size and these do not resolve to NaN.\n  if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n    return sliceFactory(collection.toSeq().cacheResult(), begin, end, useKeys);\n  }\n\n  // Note: resolvedEnd is undefined when the original sequence's length is\n  // unknown and this slice did not supply an end and should contain all\n  // elements after resolvedBegin.\n  // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n  var resolvedSize = resolvedEnd - resolvedBegin;\n  var sliceSize;\n  if (resolvedSize === resolvedSize) {\n    sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n  }\n\n  var sliceSeq = makeSequence(collection);\n\n  // If collection.size is undefined, the size of the realized sliceSeq is\n  // unknown at this point unless the number of items to slice is 0\n  sliceSeq.size =\n    sliceSize === 0 ? sliceSize : (collection.size && sliceSize) || undefined;\n\n  if (!useKeys && isSeq(collection) && sliceSize >= 0) {\n    sliceSeq.get = function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return index >= 0 && index < sliceSize\n        ? collection.get(index + resolvedBegin, notSetValue)\n        : notSetValue;\n    };\n  }\n\n  sliceSeq.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (sliceSize === 0) {\n      return 0;\n    }\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var skipped = 0;\n    var isSkipping = true;\n    var iterations = 0;\n    collection.__iterate(function (v, k) {\n      if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n        iterations++;\n        return (\n          fn(v, useKeys ? k : iterations - 1, this$1) !== false &&\n          iterations !== sliceSize\n        );\n      }\n    });\n    return iterations;\n  };\n\n  sliceSeq.__iteratorUncached = function(type, reverse) {\n    if (sliceSize !== 0 && reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    // Don't bother instantiating parent iterator if taking 0.\n    if (sliceSize === 0) {\n      return new Iterator(iteratorDone);\n    }\n    var iterator = collection.__iterator(type, reverse);\n    var skipped = 0;\n    var iterations = 0;\n    return new Iterator(function () {\n      while (skipped++ < resolvedBegin) {\n        iterator.next();\n      }\n      if (++iterations > sliceSize) {\n        return iteratorDone();\n      }\n      var step = iterator.next();\n      if (useKeys || type === ITERATE_VALUES || step.done) {\n        return step;\n      }\n      if (type === ITERATE_KEYS) {\n        return iteratorValue(type, iterations - 1, undefined, step);\n      }\n      return iteratorValue(type, iterations - 1, step.value[1], step);\n    });\n  };\n\n  return sliceSeq;\n}\n\nfunction takeWhileFactory(collection, predicate, context) {\n  var takeSequence = makeSequence(collection);\n  takeSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    collection.__iterate(\n      function (v, k, c) { return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$1); }\n    );\n    return iterations;\n  };\n  takeSequence.__iteratorUncached = function(type, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var iterating = true;\n    return new Iterator(function () {\n      if (!iterating) {\n        return iteratorDone();\n      }\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var k = entry[0];\n      var v = entry[1];\n      if (!predicate.call(context, v, k, this$1)) {\n        iterating = false;\n        return iteratorDone();\n      }\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    });\n  };\n  return takeSequence;\n}\n\nfunction skipWhileFactory(collection, predicate, context, useKeys) {\n  var skipSequence = makeSequence(collection);\n  skipSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var isSkipping = true;\n    var iterations = 0;\n    collection.__iterate(function (v, k, c) {\n      if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, this$1);\n      }\n    });\n    return iterations;\n  };\n  skipSequence.__iteratorUncached = function(type, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var skipping = true;\n    var iterations = 0;\n    return new Iterator(function () {\n      var step;\n      var k;\n      var v;\n      do {\n        step = iterator.next();\n        if (step.done) {\n          if (useKeys || type === ITERATE_VALUES) {\n            return step;\n          }\n          if (type === ITERATE_KEYS) {\n            return iteratorValue(type, iterations++, undefined, step);\n          }\n          return iteratorValue(type, iterations++, step.value[1], step);\n        }\n        var entry = step.value;\n        k = entry[0];\n        v = entry[1];\n        skipping && (skipping = predicate.call(context, v, k, this$1));\n      } while (skipping);\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    });\n  };\n  return skipSequence;\n}\n\nfunction concatFactory(collection, values) {\n  var isKeyedCollection = isKeyed(collection);\n  var iters = [collection]\n    .concat(values)\n    .map(function (v) {\n      if (!isCollection(v)) {\n        v = isKeyedCollection\n          ? keyedSeqFromValue(v)\n          : indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedCollection) {\n        v = KeyedCollection(v);\n      }\n      return v;\n    })\n    .filter(function (v) { return v.size !== 0; });\n\n  if (iters.length === 0) {\n    return collection;\n  }\n\n  if (iters.length === 1) {\n    var singleton = iters[0];\n    if (\n      singleton === collection ||\n      (isKeyedCollection && isKeyed(singleton)) ||\n      (isIndexed(collection) && isIndexed(singleton))\n    ) {\n      return singleton;\n    }\n  }\n\n  var concatSeq = new ArraySeq(iters);\n  if (isKeyedCollection) {\n    concatSeq = concatSeq.toKeyedSeq();\n  } else if (!isIndexed(collection)) {\n    concatSeq = concatSeq.toSetSeq();\n  }\n  concatSeq = concatSeq.flatten(true);\n  concatSeq.size = iters.reduce(function (sum, seq) {\n    if (sum !== undefined) {\n      var size = seq.size;\n      if (size !== undefined) {\n        return sum + size;\n      }\n    }\n  }, 0);\n  return concatSeq;\n}\n\nfunction flattenFactory(collection, depth, useKeys) {\n  var flatSequence = makeSequence(collection);\n  flatSequence.__iterateUncached = function(fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    var stopped = false;\n    function flatDeep(iter, currentDepth) {\n      iter.__iterate(function (v, k) {\n        if ((!depth || currentDepth < depth) && isCollection(v)) {\n          flatDeep(v, currentDepth + 1);\n        } else {\n          iterations++;\n          if (fn(v, useKeys ? k : iterations - 1, flatSequence) === false) {\n            stopped = true;\n          }\n        }\n        return !stopped;\n      }, reverse);\n    }\n    flatDeep(collection, 0);\n    return iterations;\n  };\n  flatSequence.__iteratorUncached = function(type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(type, reverse);\n    var stack = [];\n    var iterations = 0;\n    return new Iterator(function () {\n      while (iterator) {\n        var step = iterator.next();\n        if (step.done !== false) {\n          iterator = stack.pop();\n          continue;\n        }\n        var v = step.value;\n        if (type === ITERATE_ENTRIES) {\n          v = v[1];\n        }\n        if ((!depth || stack.length < depth) && isCollection(v)) {\n          stack.push(iterator);\n          iterator = v.__iterator(type, reverse);\n        } else {\n          return useKeys ? step : iteratorValue(type, iterations++, v, step);\n        }\n      }\n      return iteratorDone();\n    });\n  };\n  return flatSequence;\n}\n\nfunction flatMapFactory(collection, mapper, context) {\n  var coerce = collectionClass(collection);\n  return collection\n    .toSeq()\n    .map(function (v, k) { return coerce(mapper.call(context, v, k, collection)); })\n    .flatten(true);\n}\n\nfunction interposeFactory(collection, separator) {\n  var interposedSequence = makeSequence(collection);\n  interposedSequence.size = collection.size && collection.size * 2 - 1;\n  interposedSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    collection.__iterate(\n      function (v) { return (!iterations || fn(separator, iterations++, this$1) !== false) &&\n        fn(v, iterations++, this$1) !== false; },\n      reverse\n    );\n    return iterations;\n  };\n  interposedSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_VALUES, reverse);\n    var iterations = 0;\n    var step;\n    return new Iterator(function () {\n      if (!step || iterations % 2) {\n        step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n      }\n      return iterations % 2\n        ? iteratorValue(type, iterations++, separator)\n        : iteratorValue(type, iterations++, step.value, step);\n    });\n  };\n  return interposedSequence;\n}\n\nfunction sortFactory(collection, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  var isKeyedCollection = isKeyed(collection);\n  var index = 0;\n  var entries = collection\n    .toSeq()\n    .map(function (v, k) { return [k, v, index++, mapper ? mapper(v, k, collection) : v]; })\n    .valueSeq()\n    .toArray();\n  entries.sort(function (a, b) { return comparator(a[3], b[3]) || a[2] - b[2]; }).forEach(\n    isKeyedCollection\n      ? function (v, i) {\n          entries[i].length = 2;\n        }\n      : function (v, i) {\n          entries[i] = v[1];\n        }\n  );\n  return isKeyedCollection\n    ? KeyedSeq(entries)\n    : isIndexed(collection)\n      ? IndexedSeq(entries)\n      : SetSeq(entries);\n}\n\nfunction maxFactory(collection, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  if (mapper) {\n    var entry = collection\n      .toSeq()\n      .map(function (v, k) { return [v, mapper(v, k, collection)]; })\n      .reduce(function (a, b) { return (maxCompare(comparator, a[1], b[1]) ? b : a); });\n    return entry && entry[0];\n  }\n  return collection.reduce(function (a, b) { return (maxCompare(comparator, a, b) ? b : a); });\n}\n\nfunction maxCompare(comparator, a, b) {\n  var comp = comparator(b, a);\n  // b is considered the new max if the comparator declares them equal, but\n  // they are not equal and b is in fact a nullish value.\n  return (\n    (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) ||\n    comp > 0\n  );\n}\n\nfunction zipWithFactory(keyIter, zipper, iters, zipAll) {\n  var zipSequence = makeSequence(keyIter);\n  var sizes = new ArraySeq(iters).map(function (i) { return i.size; });\n  zipSequence.size = zipAll ? sizes.max() : sizes.min();\n  // Note: this a generic base implementation of __iterate in terms of\n  // __iterator which may be more generically useful in the future.\n  zipSequence.__iterate = function(fn, reverse) {\n    /* generic:\n    var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n    var step;\n    var iterations = 0;\n    while (!(step = iterator.next()).done) {\n      iterations++;\n      if (fn(step.value[1], step.value[0], this) === false) {\n        break;\n      }\n    }\n    return iterations;\n    */\n    // indexed:\n    var iterator = this.__iterator(ITERATE_VALUES, reverse);\n    var step;\n    var iterations = 0;\n    while (!(step = iterator.next()).done) {\n      if (fn(step.value, iterations++, this) === false) {\n        break;\n      }\n    }\n    return iterations;\n  };\n  zipSequence.__iteratorUncached = function(type, reverse) {\n    var iterators = iters.map(\n      function (i) { return ((i = Collection(i)), getIterator(reverse ? i.reverse() : i)); }\n    );\n    var iterations = 0;\n    var isDone = false;\n    return new Iterator(function () {\n      var steps;\n      if (!isDone) {\n        steps = iterators.map(function (i) { return i.next(); });\n        isDone = zipAll ? steps.every(function (s) { return s.done; }) : steps.some(function (s) { return s.done; });\n      }\n      if (isDone) {\n        return iteratorDone();\n      }\n      return iteratorValue(\n        type,\n        iterations++,\n        zipper.apply(null, steps.map(function (s) { return s.value; }))\n      );\n    });\n  };\n  return zipSequence;\n}\n\n// #pragma Helper Functions\n\nfunction reify(iter, seq) {\n  return iter === seq ? iter : isSeq(iter) ? seq : iter.constructor(seq);\n}\n\nfunction validateEntry(entry) {\n  if (entry !== Object(entry)) {\n    throw new TypeError('Expected [K, V] tuple: ' + entry);\n  }\n}\n\nfunction collectionClass(collection) {\n  return isKeyed(collection)\n    ? KeyedCollection\n    : isIndexed(collection)\n      ? IndexedCollection\n      : SetCollection;\n}\n\nfunction makeSequence(collection) {\n  return Object.create(\n    (isKeyed(collection)\n      ? KeyedSeq\n      : isIndexed(collection)\n        ? IndexedSeq\n        : SetSeq\n    ).prototype\n  );\n}\n\nfunction cacheResultThrough() {\n  if (this._iter.cacheResult) {\n    this._iter.cacheResult();\n    this.size = this._iter.size;\n    return this;\n  }\n  return Seq.prototype.cacheResult.call(this);\n}\n\nfunction defaultComparator(a, b) {\n  if (a === undefined && b === undefined) {\n    return 0;\n  }\n\n  if (a === undefined) {\n    return 1;\n  }\n\n  if (b === undefined) {\n    return -1;\n  }\n\n  return a > b ? 1 : a < b ? -1 : 0;\n}\n\n// http://jsperf.com/copy-array-inline\nfunction arrCopy(arr, offset) {\n  offset = offset || 0;\n  var len = Math.max(0, arr.length - offset);\n  var newArr = new Array(len);\n  for (var ii = 0; ii < len; ii++) {\n    newArr[ii] = arr[ii + offset];\n  }\n  return newArr;\n}\n\nfunction invariant(condition, error) {\n  if (!condition) { throw new Error(error); }\n}\n\nfunction assertNotInfinite(size) {\n  invariant(\n    size !== Infinity,\n    'Cannot perform this action with an infinite size.'\n  );\n}\n\nfunction coerceKeyPath(keyPath) {\n  if (isArrayLike(keyPath) && typeof keyPath !== 'string') {\n    return keyPath;\n  }\n  if (isOrdered(keyPath)) {\n    return keyPath.toArray();\n  }\n  throw new TypeError(\n    'Invalid keyPath: expected Ordered Collection or Array: ' + keyPath\n  );\n}\n\nfunction isPlainObj(value) {\n  return (\n    value &&\n    (typeof value.constructor !== 'function' ||\n      value.constructor.name === 'Object')\n  );\n}\n\n/**\n * Returns true if the value is a potentially-persistent data structure, either\n * provided by Immutable.js or a plain Array or Object.\n */\nfunction isDataStructure(value) {\n  return (\n    typeof value === 'object' &&\n    (isImmutable(value) || Array.isArray(value) || isPlainObj(value))\n  );\n}\n\n/**\n * Converts a value to a string, adding quotes if a string was provided.\n */\nfunction quoteString(value) {\n  try {\n    return typeof value === 'string' ? JSON.stringify(value) : String(value);\n  } catch (_ignoreError) {\n    return JSON.stringify(value);\n  }\n}\n\nfunction has(collection, key) {\n  return isImmutable(collection)\n    ? collection.has(key)\n    : isDataStructure(collection) && hasOwnProperty.call(collection, key);\n}\n\nfunction get(collection, key, notSetValue) {\n  return isImmutable(collection)\n    ? collection.get(key, notSetValue)\n    : !has(collection, key)\n      ? notSetValue\n      : typeof collection.get === 'function'\n        ? collection.get(key)\n        : collection[key];\n}\n\nfunction shallowCopy(from) {\n  if (Array.isArray(from)) {\n    return arrCopy(from);\n  }\n  var to = {};\n  for (var key in from) {\n    if (hasOwnProperty.call(from, key)) {\n      to[key] = from[key];\n    }\n  }\n  return to;\n}\n\nfunction remove(collection, key) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot update non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    if (!collection.remove) {\n      throw new TypeError(\n        'Cannot update immutable value without .remove() method: ' + collection\n      );\n    }\n    return collection.remove(key);\n  }\n  if (!hasOwnProperty.call(collection, key)) {\n    return collection;\n  }\n  var collectionCopy = shallowCopy(collection);\n  if (Array.isArray(collectionCopy)) {\n    collectionCopy.splice(key, 1);\n  } else {\n    delete collectionCopy[key];\n  }\n  return collectionCopy;\n}\n\nfunction set(collection, key, value) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot update non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    if (!collection.set) {\n      throw new TypeError(\n        'Cannot update immutable value without .set() method: ' + collection\n      );\n    }\n    return collection.set(key, value);\n  }\n  if (hasOwnProperty.call(collection, key) && value === collection[key]) {\n    return collection;\n  }\n  var collectionCopy = shallowCopy(collection);\n  collectionCopy[key] = value;\n  return collectionCopy;\n}\n\nfunction updateIn(collection, keyPath, notSetValue, updater) {\n  if (!updater) {\n    updater = notSetValue;\n    notSetValue = undefined;\n  }\n  var updatedValue = updateInDeeply(\n    isImmutable(collection),\n    collection,\n    coerceKeyPath(keyPath),\n    0,\n    notSetValue,\n    updater\n  );\n  return updatedValue === NOT_SET ? notSetValue : updatedValue;\n}\n\nfunction updateInDeeply(\n  inImmutable,\n  existing,\n  keyPath,\n  i,\n  notSetValue,\n  updater\n) {\n  var wasNotSet = existing === NOT_SET;\n  if (i === keyPath.length) {\n    var existingValue = wasNotSet ? notSetValue : existing;\n    var newValue = updater(existingValue);\n    return newValue === existingValue ? existing : newValue;\n  }\n  if (!wasNotSet && !isDataStructure(existing)) {\n    throw new TypeError(\n      'Cannot update within non-data-structure value in path [' +\n        keyPath.slice(0, i).map(quoteString) +\n        ']: ' +\n        existing\n    );\n  }\n  var key = keyPath[i];\n  var nextExisting = wasNotSet ? NOT_SET : get(existing, key, NOT_SET);\n  var nextUpdated = updateInDeeply(\n    nextExisting === NOT_SET ? inImmutable : isImmutable(nextExisting),\n    nextExisting,\n    keyPath,\n    i + 1,\n    notSetValue,\n    updater\n  );\n  return nextUpdated === nextExisting\n    ? existing\n    : nextUpdated === NOT_SET\n      ? remove(existing, key)\n      : set(\n          wasNotSet ? (inImmutable ? emptyMap() : {}) : existing,\n          key,\n          nextUpdated\n        );\n}\n\nfunction setIn(collection, keyPath, value) {\n  return updateIn(collection, keyPath, NOT_SET, function () { return value; });\n}\n\nfunction setIn$1(keyPath, v) {\n  return setIn(this, keyPath, v);\n}\n\nfunction removeIn(collection, keyPath) {\n  return updateIn(collection, keyPath, function () { return NOT_SET; });\n}\n\nfunction deleteIn(keyPath) {\n  return removeIn(this, keyPath);\n}\n\nfunction update(collection, key, notSetValue, updater) {\n  return updateIn(collection, [key], notSetValue, updater);\n}\n\nfunction update$1(key, notSetValue, updater) {\n  return arguments.length === 1\n    ? key(this)\n    : update(this, key, notSetValue, updater);\n}\n\nfunction updateIn$1(keyPath, notSetValue, updater) {\n  return updateIn(this, keyPath, notSetValue, updater);\n}\n\nfunction merge() {\n  var iters = [], len = arguments.length;\n  while ( len-- ) iters[ len ] = arguments[ len ];\n\n  return mergeIntoKeyedWith(this, iters);\n}\n\nfunction mergeWith(merger) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  if (typeof merger !== 'function') {\n    throw new TypeError('Invalid merger function: ' + merger);\n  }\n  return mergeIntoKeyedWith(this, iters, merger);\n}\n\nfunction mergeIntoKeyedWith(collection, collections, merger) {\n  var iters = [];\n  for (var ii = 0; ii < collections.length; ii++) {\n    var collection$1 = KeyedCollection(collections[ii]);\n    if (collection$1.size !== 0) {\n      iters.push(collection$1);\n    }\n  }\n  if (iters.length === 0) {\n    return collection;\n  }\n  if (\n    collection.toSeq().size === 0 &&\n    !collection.__ownerID &&\n    iters.length === 1\n  ) {\n    return collection.constructor(iters[0]);\n  }\n  return collection.withMutations(function (collection) {\n    var mergeIntoCollection = merger\n      ? function (value, key) {\n          update(\n            collection,\n            key,\n            NOT_SET,\n            function (oldVal) { return (oldVal === NOT_SET ? value : merger(oldVal, value, key)); }\n          );\n        }\n      : function (value, key) {\n          collection.set(key, value);\n        };\n    for (var ii = 0; ii < iters.length; ii++) {\n      iters[ii].forEach(mergeIntoCollection);\n    }\n  });\n}\n\nfunction merge$1(collection) {\n  var sources = [], len = arguments.length - 1;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 1 ];\n\n  return mergeWithSources(collection, sources);\n}\n\nfunction mergeWith$1(merger, collection) {\n  var sources = [], len = arguments.length - 2;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 2 ];\n\n  return mergeWithSources(collection, sources, merger);\n}\n\nfunction mergeDeep(collection) {\n  var sources = [], len = arguments.length - 1;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 1 ];\n\n  return mergeDeepWithSources(collection, sources);\n}\n\nfunction mergeDeepWith(merger, collection) {\n  var sources = [], len = arguments.length - 2;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 2 ];\n\n  return mergeDeepWithSources(collection, sources, merger);\n}\n\nfunction mergeDeepWithSources(collection, sources, merger) {\n  return mergeWithSources(collection, sources, deepMergerWith(merger));\n}\n\nfunction mergeWithSources(collection, sources, merger) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot merge into non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    return typeof merger === 'function' && collection.mergeWith\n      ? collection.mergeWith.apply(collection, [ merger ].concat( sources ))\n      : collection.merge\n        ? collection.merge.apply(collection, sources)\n        : collection.concat.apply(collection, sources);\n  }\n  var isArray = Array.isArray(collection);\n  var merged = collection;\n  var Collection$$1 = isArray ? IndexedCollection : KeyedCollection;\n  var mergeItem = isArray\n    ? function (value) {\n        // Copy on write\n        if (merged === collection) {\n          merged = shallowCopy(merged);\n        }\n        merged.push(value);\n      }\n    : function (value, key) {\n        var hasVal = hasOwnProperty.call(merged, key);\n        var nextVal =\n          hasVal && merger ? merger(merged[key], value, key) : value;\n        if (!hasVal || nextVal !== merged[key]) {\n          // Copy on write\n          if (merged === collection) {\n            merged = shallowCopy(merged);\n          }\n          merged[key] = nextVal;\n        }\n      };\n  for (var i = 0; i < sources.length; i++) {\n    Collection$$1(sources[i]).forEach(mergeItem);\n  }\n  return merged;\n}\n\nfunction deepMergerWith(merger) {\n  function deepMerger(oldValue, newValue, key) {\n    return isDataStructure(oldValue) && isDataStructure(newValue)\n      ? mergeWithSources(oldValue, [newValue], deepMerger)\n      : merger\n        ? merger(oldValue, newValue, key)\n        : newValue;\n  }\n  return deepMerger;\n}\n\nfunction mergeDeep$1() {\n  var iters = [], len = arguments.length;\n  while ( len-- ) iters[ len ] = arguments[ len ];\n\n  return mergeDeepWithSources(this, iters);\n}\n\nfunction mergeDeepWith$1(merger) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return mergeDeepWithSources(this, iters, merger);\n}\n\nfunction mergeIn(keyPath) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return updateIn(this, keyPath, emptyMap(), function (m) { return mergeWithSources(m, iters); });\n}\n\nfunction mergeDeepIn(keyPath) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return updateIn(this, keyPath, emptyMap(), function (m) { return mergeDeepWithSources(m, iters); }\n  );\n}\n\nfunction withMutations(fn) {\n  var mutable = this.asMutable();\n  fn(mutable);\n  return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n}\n\nfunction asMutable() {\n  return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n}\n\nfunction asImmutable() {\n  return this.__ensureOwner();\n}\n\nfunction wasAltered() {\n  return this.__altered;\n}\n\nvar Map = /*@__PURE__*/(function (KeyedCollection$$1) {\n  function Map(value) {\n    return value === null || value === undefined\n      ? emptyMap()\n      : isMap(value) && !isOrdered(value)\n        ? value\n        : emptyMap().withMutations(function (map) {\n            var iter = KeyedCollection$$1(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v, k) { return map.set(k, v); });\n          });\n  }\n\n  if ( KeyedCollection$$1 ) Map.__proto__ = KeyedCollection$$1;\n  Map.prototype = Object.create( KeyedCollection$$1 && KeyedCollection$$1.prototype );\n  Map.prototype.constructor = Map;\n\n  Map.of = function of () {\n    var keyValues = [], len = arguments.length;\n    while ( len-- ) keyValues[ len ] = arguments[ len ];\n\n    return emptyMap().withMutations(function (map) {\n      for (var i = 0; i < keyValues.length; i += 2) {\n        if (i + 1 >= keyValues.length) {\n          throw new Error('Missing value for key: ' + keyValues[i]);\n        }\n        map.set(keyValues[i], keyValues[i + 1]);\n      }\n    });\n  };\n\n  Map.prototype.toString = function toString () {\n    return this.__toString('Map {', '}');\n  };\n\n  // @pragma Access\n\n  Map.prototype.get = function get (k, notSetValue) {\n    return this._root\n      ? this._root.get(0, undefined, k, notSetValue)\n      : notSetValue;\n  };\n\n  // @pragma Modification\n\n  Map.prototype.set = function set (k, v) {\n    return updateMap(this, k, v);\n  };\n\n  Map.prototype.remove = function remove (k) {\n    return updateMap(this, k, NOT_SET);\n  };\n\n  Map.prototype.deleteAll = function deleteAll (keys) {\n    var collection = Collection(keys);\n\n    if (collection.size === 0) {\n      return this;\n    }\n\n    return this.withMutations(function (map) {\n      collection.forEach(function (key) { return map.remove(key); });\n    });\n  };\n\n  Map.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._root = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyMap();\n  };\n\n  // @pragma Composition\n\n  Map.prototype.sort = function sort (comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator));\n  };\n\n  Map.prototype.sortBy = function sortBy (mapper, comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator, mapper));\n  };\n\n  Map.prototype.map = function map (mapper, context) {\n    return this.withMutations(function (map) {\n      map.forEach(function (value, key) {\n        map.set(key, mapper.call(context, value, key, map));\n      });\n    });\n  };\n\n  // @pragma Mutability\n\n  Map.prototype.__iterator = function __iterator (type, reverse) {\n    return new MapIterator(this, type, reverse);\n  };\n\n  Map.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    this._root &&\n      this._root.iterate(function (entry) {\n        iterations++;\n        return fn(entry[1], entry[0], this$1);\n      }, reverse);\n    return iterations;\n  };\n\n  Map.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyMap();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeMap(this.size, this._root, ownerID, this.__hash);\n  };\n\n  return Map;\n}(KeyedCollection));\n\nMap.isMap = isMap;\n\nvar MapPrototype = Map.prototype;\nMapPrototype[IS_MAP_SYMBOL] = true;\nMapPrototype[DELETE] = MapPrototype.remove;\nMapPrototype.removeAll = MapPrototype.deleteAll;\nMapPrototype.setIn = setIn$1;\nMapPrototype.removeIn = MapPrototype.deleteIn = deleteIn;\nMapPrototype.update = update$1;\nMapPrototype.updateIn = updateIn$1;\nMapPrototype.merge = MapPrototype.concat = merge;\nMapPrototype.mergeWith = mergeWith;\nMapPrototype.mergeDeep = mergeDeep$1;\nMapPrototype.mergeDeepWith = mergeDeepWith$1;\nMapPrototype.mergeIn = mergeIn;\nMapPrototype.mergeDeepIn = mergeDeepIn;\nMapPrototype.withMutations = withMutations;\nMapPrototype.wasAltered = wasAltered;\nMapPrototype.asImmutable = asImmutable;\nMapPrototype['@@transducer/init'] = MapPrototype.asMutable = asMutable;\nMapPrototype['@@transducer/step'] = function(result, arr) {\n  return result.set(arr[0], arr[1]);\n};\nMapPrototype['@@transducer/result'] = function(obj) {\n  return obj.asImmutable();\n};\n\n// #pragma Trie Nodes\n\nvar ArrayMapNode = function ArrayMapNode(ownerID, entries) {\n  this.ownerID = ownerID;\n  this.entries = entries;\n};\n\nArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  var entries = this.entries;\n  for (var ii = 0, len = entries.length; ii < len; ii++) {\n    if (is(key, entries[ii][0])) {\n      return entries[ii][1];\n    }\n  }\n  return notSetValue;\n};\n\nArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  var removed = value === NOT_SET;\n\n  var entries = this.entries;\n  var idx = 0;\n  var len = entries.length;\n  for (; idx < len; idx++) {\n    if (is(key, entries[idx][0])) {\n      break;\n    }\n  }\n  var exists = idx < len;\n\n  if (exists ? entries[idx][1] === value : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n  (removed || !exists) && SetRef(didChangeSize);\n\n  if (removed && entries.length === 1) {\n    return; // undefined\n  }\n\n  if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n    return createNodes(ownerID, entries, key, value);\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newEntries = isEditable ? entries : arrCopy(entries);\n\n  if (exists) {\n    if (removed) {\n      idx === len - 1\n        ? newEntries.pop()\n        : (newEntries[idx] = newEntries.pop());\n    } else {\n      newEntries[idx] = [key, value];\n    }\n  } else {\n    newEntries.push([key, value]);\n  }\n\n  if (isEditable) {\n    this.entries = newEntries;\n    return this;\n  }\n\n  return new ArrayMapNode(ownerID, newEntries);\n};\n\nvar BitmapIndexedNode = function BitmapIndexedNode(ownerID, bitmap, nodes) {\n  this.ownerID = ownerID;\n  this.bitmap = bitmap;\n  this.nodes = nodes;\n};\n\nBitmapIndexedNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var bit = 1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK);\n  var bitmap = this.bitmap;\n  return (bitmap & bit) === 0\n    ? notSetValue\n    : this.nodes[popCount(bitmap & (bit - 1))].get(\n        shift + SHIFT,\n        keyHash,\n        key,\n        notSetValue\n      );\n};\n\nBitmapIndexedNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var bit = 1 << keyHashFrag;\n  var bitmap = this.bitmap;\n  var exists = (bitmap & bit) !== 0;\n\n  if (!exists && value === NOT_SET) {\n    return this;\n  }\n\n  var idx = popCount(bitmap & (bit - 1));\n  var nodes = this.nodes;\n  var node = exists ? nodes[idx] : undefined;\n  var newNode = updateNode(\n    node,\n    ownerID,\n    shift + SHIFT,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n\n  if (newNode === node) {\n    return this;\n  }\n\n  if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n    return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n  }\n\n  if (\n    exists &&\n    !newNode &&\n    nodes.length === 2 &&\n    isLeafNode(nodes[idx ^ 1])\n  ) {\n    return nodes[idx ^ 1];\n  }\n\n  if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n    return newNode;\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newBitmap = exists ? (newNode ? bitmap : bitmap ^ bit) : bitmap | bit;\n  var newNodes = exists\n    ? newNode\n      ? setAt(nodes, idx, newNode, isEditable)\n      : spliceOut(nodes, idx, isEditable)\n    : spliceIn(nodes, idx, newNode, isEditable);\n\n  if (isEditable) {\n    this.bitmap = newBitmap;\n    this.nodes = newNodes;\n    return this;\n  }\n\n  return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n};\n\nvar HashArrayMapNode = function HashArrayMapNode(ownerID, count, nodes) {\n  this.ownerID = ownerID;\n  this.count = count;\n  this.nodes = nodes;\n};\n\nHashArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var node = this.nodes[idx];\n  return node\n    ? node.get(shift + SHIFT, keyHash, key, notSetValue)\n    : notSetValue;\n};\n\nHashArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var removed = value === NOT_SET;\n  var nodes = this.nodes;\n  var node = nodes[idx];\n\n  if (removed && !node) {\n    return this;\n  }\n\n  var newNode = updateNode(\n    node,\n    ownerID,\n    shift + SHIFT,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n  if (newNode === node) {\n    return this;\n  }\n\n  var newCount = this.count;\n  if (!node) {\n    newCount++;\n  } else if (!newNode) {\n    newCount--;\n    if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n      return packNodes(ownerID, nodes, newCount, idx);\n    }\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newNodes = setAt(nodes, idx, newNode, isEditable);\n\n  if (isEditable) {\n    this.count = newCount;\n    this.nodes = newNodes;\n    return this;\n  }\n\n  return new HashArrayMapNode(ownerID, newCount, newNodes);\n};\n\nvar HashCollisionNode = function HashCollisionNode(ownerID, keyHash, entries) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entries = entries;\n};\n\nHashCollisionNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  var entries = this.entries;\n  for (var ii = 0, len = entries.length; ii < len; ii++) {\n    if (is(key, entries[ii][0])) {\n      return entries[ii][1];\n    }\n  }\n  return notSetValue;\n};\n\nHashCollisionNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n\n  var removed = value === NOT_SET;\n\n  if (keyHash !== this.keyHash) {\n    if (removed) {\n      return this;\n    }\n    SetRef(didAlter);\n    SetRef(didChangeSize);\n    return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n  }\n\n  var entries = this.entries;\n  var idx = 0;\n  var len = entries.length;\n  for (; idx < len; idx++) {\n    if (is(key, entries[idx][0])) {\n      break;\n    }\n  }\n  var exists = idx < len;\n\n  if (exists ? entries[idx][1] === value : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n  (removed || !exists) && SetRef(didChangeSize);\n\n  if (removed && len === 2) {\n    return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newEntries = isEditable ? entries : arrCopy(entries);\n\n  if (exists) {\n    if (removed) {\n      idx === len - 1\n        ? newEntries.pop()\n        : (newEntries[idx] = newEntries.pop());\n    } else {\n      newEntries[idx] = [key, value];\n    }\n  } else {\n    newEntries.push([key, value]);\n  }\n\n  if (isEditable) {\n    this.entries = newEntries;\n    return this;\n  }\n\n  return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n};\n\nvar ValueNode = function ValueNode(ownerID, keyHash, entry) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entry = entry;\n};\n\nValueNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n};\n\nValueNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  var removed = value === NOT_SET;\n  var keyMatch = is(key, this.entry[0]);\n  if (keyMatch ? value === this.entry[1] : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n\n  if (removed) {\n    SetRef(didChangeSize);\n    return; // undefined\n  }\n\n  if (keyMatch) {\n    if (ownerID && ownerID === this.ownerID) {\n      this.entry[1] = value;\n      return this;\n    }\n    return new ValueNode(ownerID, this.keyHash, [key, value]);\n  }\n\n  SetRef(didChangeSize);\n  return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n};\n\n// #pragma Iterators\n\nArrayMapNode.prototype.iterate = HashCollisionNode.prototype.iterate = function(\n  fn,\n  reverse\n) {\n  var entries = this.entries;\n  for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n    if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n      return false;\n    }\n  }\n};\n\nBitmapIndexedNode.prototype.iterate = HashArrayMapNode.prototype.iterate = function(\n  fn,\n  reverse\n) {\n  var nodes = this.nodes;\n  for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n    var node = nodes[reverse ? maxIndex - ii : ii];\n    if (node && node.iterate(fn, reverse) === false) {\n      return false;\n    }\n  }\n};\n\n// eslint-disable-next-line no-unused-vars\nValueNode.prototype.iterate = function(fn, reverse) {\n  return fn(this.entry);\n};\n\nvar MapIterator = /*@__PURE__*/(function (Iterator$$1) {\n  function MapIterator(map, type, reverse) {\n    this._type = type;\n    this._reverse = reverse;\n    this._stack = map._root && mapIteratorFrame(map._root);\n  }\n\n  if ( Iterator$$1 ) MapIterator.__proto__ = Iterator$$1;\n  MapIterator.prototype = Object.create( Iterator$$1 && Iterator$$1.prototype );\n  MapIterator.prototype.constructor = MapIterator;\n\n  MapIterator.prototype.next = function next () {\n    var type = this._type;\n    var stack = this._stack;\n    while (stack) {\n      var node = stack.node;\n      var index = stack.index++;\n      var maxIndex = (void 0);\n      if (node.entry) {\n        if (index === 0) {\n          return mapIteratorValue(type, node.entry);\n        }\n      } else if (node.entries) {\n        maxIndex = node.entries.length - 1;\n        if (index <= maxIndex) {\n          return mapIteratorValue(\n            type,\n            node.entries[this._reverse ? maxIndex - index : index]\n          );\n        }\n      } else {\n        maxIndex = node.nodes.length - 1;\n        if (index <= maxIndex) {\n          var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n          if (subNode) {\n            if (subNode.entry) {\n              return mapIteratorValue(type, subNode.entry);\n            }\n            stack = this._stack = mapIteratorFrame(subNode, stack);\n          }\n          continue;\n        }\n      }\n      stack = this._stack = this._stack.__prev;\n    }\n    return iteratorDone();\n  };\n\n  return MapIterator;\n}(Iterator));\n\nfunction mapIteratorValue(type, entry) {\n  return iteratorValue(type, entry[0], entry[1]);\n}\n\nfunction mapIteratorFrame(node, prev) {\n  return {\n    node: node,\n    index: 0,\n    __prev: prev,\n  };\n}\n\nfunction makeMap(size, root, ownerID, hash$$1) {\n  var map = Object.create(MapPrototype);\n  map.size = size;\n  map._root = root;\n  map.__ownerID = ownerID;\n  map.__hash = hash$$1;\n  map.__altered = false;\n  return map;\n}\n\nvar EMPTY_MAP;\nfunction emptyMap() {\n  return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n}\n\nfunction updateMap(map, k, v) {\n  var newRoot;\n  var newSize;\n  if (!map._root) {\n    if (v === NOT_SET) {\n      return map;\n    }\n    newSize = 1;\n    newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n  } else {\n    var didChangeSize = MakeRef();\n    var didAlter = MakeRef();\n    newRoot = updateNode(\n      map._root,\n      map.__ownerID,\n      0,\n      undefined,\n      k,\n      v,\n      didChangeSize,\n      didAlter\n    );\n    if (!didAlter.value) {\n      return map;\n    }\n    newSize = map.size + (didChangeSize.value ? (v === NOT_SET ? -1 : 1) : 0);\n  }\n  if (map.__ownerID) {\n    map.size = newSize;\n    map._root = newRoot;\n    map.__hash = undefined;\n    map.__altered = true;\n    return map;\n  }\n  return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n}\n\nfunction updateNode(\n  node,\n  ownerID,\n  shift,\n  keyHash,\n  key,\n  value,\n  didChangeSize,\n  didAlter\n) {\n  if (!node) {\n    if (value === NOT_SET) {\n      return node;\n    }\n    SetRef(didAlter);\n    SetRef(didChangeSize);\n    return new ValueNode(ownerID, keyHash, [key, value]);\n  }\n  return node.update(\n    ownerID,\n    shift,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n}\n\nfunction isLeafNode(node) {\n  return (\n    node.constructor === ValueNode || node.constructor === HashCollisionNode\n  );\n}\n\nfunction mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n  if (node.keyHash === keyHash) {\n    return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n  }\n\n  var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n  var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n  var newNode;\n  var nodes =\n    idx1 === idx2\n      ? [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)]\n      : ((newNode = new ValueNode(ownerID, keyHash, entry)),\n        idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n  return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n}\n\nfunction createNodes(ownerID, entries, key, value) {\n  if (!ownerID) {\n    ownerID = new OwnerID();\n  }\n  var node = new ValueNode(ownerID, hash(key), [key, value]);\n  for (var ii = 0; ii < entries.length; ii++) {\n    var entry = entries[ii];\n    node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n  }\n  return node;\n}\n\nfunction packNodes(ownerID, nodes, count, excluding) {\n  var bitmap = 0;\n  var packedII = 0;\n  var packedNodes = new Array(count);\n  for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n    var node = nodes[ii];\n    if (node !== undefined && ii !== excluding) {\n      bitmap |= bit;\n      packedNodes[packedII++] = node;\n    }\n  }\n  return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n}\n\nfunction expandNodes(ownerID, nodes, bitmap, including, node) {\n  var count = 0;\n  var expandedNodes = new Array(SIZE);\n  for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n    expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n  }\n  expandedNodes[including] = node;\n  return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n}\n\nfunction popCount(x) {\n  x -= (x >> 1) & 0x55555555;\n  x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n  x = (x + (x >> 4)) & 0x0f0f0f0f;\n  x += x >> 8;\n  x += x >> 16;\n  return x & 0x7f;\n}\n\nfunction setAt(array, idx, val, canEdit) {\n  var newArray = canEdit ? array : arrCopy(array);\n  newArray[idx] = val;\n  return newArray;\n}\n\nfunction spliceIn(array, idx, val, canEdit) {\n  var newLen = array.length + 1;\n  if (canEdit && idx + 1 === newLen) {\n    array[idx] = val;\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      newArray[ii] = val;\n      after = -1;\n    } else {\n      newArray[ii] = array[ii + after];\n    }\n  }\n  return newArray;\n}\n\nfunction spliceOut(array, idx, canEdit) {\n  var newLen = array.length - 1;\n  if (canEdit && idx === newLen) {\n    array.pop();\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      after = 1;\n    }\n    newArray[ii] = array[ii + after];\n  }\n  return newArray;\n}\n\nvar MAX_ARRAY_MAP_SIZE = SIZE / 4;\nvar MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\nvar MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\nvar IS_LIST_SYMBOL = '@@__IMMUTABLE_LIST__@@';\n\nfunction isList(maybeList) {\n  return Boolean(maybeList && maybeList[IS_LIST_SYMBOL]);\n}\n\nvar List = /*@__PURE__*/(function (IndexedCollection$$1) {\n  function List(value) {\n    var empty = emptyList();\n    if (value === null || value === undefined) {\n      return empty;\n    }\n    if (isList(value)) {\n      return value;\n    }\n    var iter = IndexedCollection$$1(value);\n    var size = iter.size;\n    if (size === 0) {\n      return empty;\n    }\n    assertNotInfinite(size);\n    if (size > 0 && size < SIZE) {\n      return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n    }\n    return empty.withMutations(function (list) {\n      list.setSize(size);\n      iter.forEach(function (v, i) { return list.set(i, v); });\n    });\n  }\n\n  if ( IndexedCollection$$1 ) List.__proto__ = IndexedCollection$$1;\n  List.prototype = Object.create( IndexedCollection$$1 && IndexedCollection$$1.prototype );\n  List.prototype.constructor = List;\n\n  List.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  List.prototype.toString = function toString () {\n    return this.__toString('List [', ']');\n  };\n\n  // @pragma Access\n\n  List.prototype.get = function get (index, notSetValue) {\n    index = wrapIndex(this, index);\n    if (index >= 0 && index < this.size) {\n      index += this._origin;\n      var node = listNodeFor(this, index);\n      return node && node.array[index & MASK];\n    }\n    return notSetValue;\n  };\n\n  // @pragma Modification\n\n  List.prototype.set = function set (index, value) {\n    return updateList(this, index, value);\n  };\n\n  List.prototype.remove = function remove (index) {\n    return !this.has(index)\n      ? this\n      : index === 0\n        ? this.shift()\n        : index === this.size - 1\n          ? this.pop()\n          : this.splice(index, 1);\n  };\n\n  List.prototype.insert = function insert (index, value) {\n    return this.splice(index, 0, value);\n  };\n\n  List.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = this._origin = this._capacity = 0;\n      this._level = SHIFT;\n      this._root = this._tail = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyList();\n  };\n\n  List.prototype.push = function push (/*...values*/) {\n    var values = arguments;\n    var oldSize = this.size;\n    return this.withMutations(function (list) {\n      setListBounds(list, 0, oldSize + values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(oldSize + ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.pop = function pop () {\n    return setListBounds(this, 0, -1);\n  };\n\n  List.prototype.unshift = function unshift (/*...values*/) {\n    var values = arguments;\n    return this.withMutations(function (list) {\n      setListBounds(list, -values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.shift = function shift () {\n    return setListBounds(this, 1);\n  };\n\n  // @pragma Composition\n\n  List.prototype.concat = function concat (/*...collections*/) {\n    var arguments$1 = arguments;\n\n    var seqs = [];\n    for (var i = 0; i < arguments.length; i++) {\n      var argument = arguments$1[i];\n      var seq = IndexedCollection$$1(\n        typeof argument !== 'string' && hasIterator(argument)\n          ? argument\n          : [argument]\n      );\n      if (seq.size !== 0) {\n        seqs.push(seq);\n      }\n    }\n    if (seqs.length === 0) {\n      return this;\n    }\n    if (this.size === 0 && !this.__ownerID && seqs.length === 1) {\n      return this.constructor(seqs[0]);\n    }\n    return this.withMutations(function (list) {\n      seqs.forEach(function (seq) { return seq.forEach(function (value) { return list.push(value); }); });\n    });\n  };\n\n  List.prototype.setSize = function setSize (size) {\n    return setListBounds(this, 0, size);\n  };\n\n  List.prototype.map = function map (mapper, context) {\n    var this$1 = this;\n\n    return this.withMutations(function (list) {\n      for (var i = 0; i < this$1.size; i++) {\n        list.set(i, mapper.call(context, list.get(i), i, list));\n      }\n    });\n  };\n\n  // @pragma Iteration\n\n  List.prototype.slice = function slice (begin, end) {\n    var size = this.size;\n    if (wholeSlice(begin, end, size)) {\n      return this;\n    }\n    return setListBounds(\n      this,\n      resolveBegin(begin, size),\n      resolveEnd(end, size)\n    );\n  };\n\n  List.prototype.__iterator = function __iterator (type, reverse) {\n    var index = reverse ? this.size : 0;\n    var values = iterateList(this, reverse);\n    return new Iterator(function () {\n      var value = values();\n      return value === DONE\n        ? iteratorDone()\n        : iteratorValue(type, reverse ? --index : index++, value);\n    });\n  };\n\n  List.prototype.__iterate = function __iterate (fn, reverse) {\n    var index = reverse ? this.size : 0;\n    var values = iterateList(this, reverse);\n    var value;\n    while ((value = values()) !== DONE) {\n      if (fn(value, reverse ? --index : index++, this) === false) {\n        break;\n      }\n    }\n    return index;\n  };\n\n  List.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyList();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeList(\n      this._origin,\n      this._capacity,\n      this._level,\n      this._root,\n      this._tail,\n      ownerID,\n      this.__hash\n    );\n  };\n\n  return List;\n}(IndexedCollection));\n\nList.isList = isList;\n\nvar ListPrototype = List.prototype;\nListPrototype[IS_LIST_SYMBOL] = true;\nListPrototype[DELETE] = ListPrototype.remove;\nListPrototype.merge = ListPrototype.concat;\nListPrototype.setIn = setIn$1;\nListPrototype.deleteIn = ListPrototype.removeIn = deleteIn;\nListPrototype.update = update$1;\nListPrototype.updateIn = updateIn$1;\nListPrototype.mergeIn = mergeIn;\nListPrototype.mergeDeepIn = mergeDeepIn;\nListPrototype.withMutations = withMutations;\nListPrototype.wasAltered = wasAltered;\nListPrototype.asImmutable = asImmutable;\nListPrototype['@@transducer/init'] = ListPrototype.asMutable = asMutable;\nListPrototype['@@transducer/step'] = function(result, arr) {\n  return result.push(arr);\n};\nListPrototype['@@transducer/result'] = function(obj) {\n  return obj.asImmutable();\n};\n\nvar VNode = function VNode(array, ownerID) {\n  this.array = array;\n  this.ownerID = ownerID;\n};\n\n// TODO: seems like these methods are very similar\n\nVNode.prototype.removeBefore = function removeBefore (ownerID, level, index) {\n  if (index === level ? 1 << level : this.array.length === 0) {\n    return this;\n  }\n  var originIndex = (index >>> level) & MASK;\n  if (originIndex >= this.array.length) {\n    return new VNode([], ownerID);\n  }\n  var removingFirst = originIndex === 0;\n  var newChild;\n  if (level > 0) {\n    var oldChild = this.array[originIndex];\n    newChild =\n      oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n    if (newChild === oldChild && removingFirst) {\n      return this;\n    }\n  }\n  if (removingFirst && !newChild) {\n    return this;\n  }\n  var editable = editableVNode(this, ownerID);\n  if (!removingFirst) {\n    for (var ii = 0; ii < originIndex; ii++) {\n      editable.array[ii] = undefined;\n    }\n  }\n  if (newChild) {\n    editable.array[originIndex] = newChild;\n  }\n  return editable;\n};\n\nVNode.prototype.removeAfter = function removeAfter (ownerID, level, index) {\n  if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n    return this;\n  }\n  var sizeIndex = ((index - 1) >>> level) & MASK;\n  if (sizeIndex >= this.array.length) {\n    return this;\n  }\n\n  var newChild;\n  if (level > 0) {\n    var oldChild = this.array[sizeIndex];\n    newChild =\n      oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n    if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n      return this;\n    }\n  }\n\n  var editable = editableVNode(this, ownerID);\n  editable.array.splice(sizeIndex + 1);\n  if (newChild) {\n    editable.array[sizeIndex] = newChild;\n  }\n  return editable;\n};\n\nvar DONE = {};\n\nfunction iterateList(list, reverse) {\n  var left = list._origin;\n  var right = list._capacity;\n  var tailPos = getTailOffset(right);\n  var tail = list._tail;\n\n  return iterateNodeOrLeaf(list._root, list._level, 0);\n\n  function iterateNodeOrLeaf(node, level, offset) {\n    return level === 0\n      ? iterateLeaf(node, offset)\n      : iterateNode(node, level, offset);\n  }\n\n  function iterateLeaf(node, offset) {\n    var array = offset === tailPos ? tail && tail.array : node && node.array;\n    var from = offset > left ? 0 : left - offset;\n    var to = right - offset;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return function () {\n      if (from === to) {\n        return DONE;\n      }\n      var idx = reverse ? --to : from++;\n      return array && array[idx];\n    };\n  }\n\n  function iterateNode(node, level, offset) {\n    var values;\n    var array = node && node.array;\n    var from = offset > left ? 0 : (left - offset) >> level;\n    var to = ((right - offset) >> level) + 1;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return function () {\n      while (true) {\n        if (values) {\n          var value = values();\n          if (value !== DONE) {\n            return value;\n          }\n          values = null;\n        }\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        values = iterateNodeOrLeaf(\n          array && array[idx],\n          level - SHIFT,\n          offset + (idx << level)\n        );\n      }\n    };\n  }\n}\n\nfunction makeList(origin, capacity, level, root, tail, ownerID, hash) {\n  var list = Object.create(ListPrototype);\n  list.size = capacity - origin;\n  list._origin = origin;\n  list._capacity = capacity;\n  list._level = level;\n  list._root = root;\n  list._tail = tail;\n  list.__ownerID = ownerID;\n  list.__hash = hash;\n  list.__altered = false;\n  return list;\n}\n\nvar EMPTY_LIST;\nfunction emptyList() {\n  return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n}\n\nfunction updateList(list, index, value) {\n  index = wrapIndex(list, index);\n\n  if (index !== index) {\n    return list;\n  }\n\n  if (index >= list.size || index < 0) {\n    return list.withMutations(function (list) {\n      index < 0\n        ? setListBounds(list, index).set(0, value)\n        : setListBounds(list, 0, index + 1).set(index, value);\n    });\n  }\n\n  index += list._origin;\n\n  var newTail = list._tail;\n  var newRoot = list._root;\n  var didAlter = MakeRef();\n  if (index >= getTailOffset(list._capacity)) {\n    newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n  } else {\n    newRoot = updateVNode(\n      newRoot,\n      list.__ownerID,\n      list._level,\n      index,\n      value,\n      didAlter\n    );\n  }\n\n  if (!didAlter.value) {\n    return list;\n  }\n\n  if (list.__ownerID) {\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n}\n\nfunction updateVNode(node, ownerID, level, index, value, didAlter) {\n  var idx = (index >>> level) & MASK;\n  var nodeHas = node && idx < node.array.length;\n  if (!nodeHas && value === undefined) {\n    return node;\n  }\n\n  var newNode;\n\n  if (level > 0) {\n    var lowerNode = node && node.array[idx];\n    var newLowerNode = updateVNode(\n      lowerNode,\n      ownerID,\n      level - SHIFT,\n      index,\n      value,\n      didAlter\n    );\n    if (newLowerNode === lowerNode) {\n      return node;\n    }\n    newNode = editableVNode(node, ownerID);\n    newNode.array[idx] = newLowerNode;\n    return newNode;\n  }\n\n  if (nodeHas && node.array[idx] === value) {\n    return node;\n  }\n\n  if (didAlter) {\n    SetRef(didAlter);\n  }\n\n  newNode = editableVNode(node, ownerID);\n  if (value === undefined && idx === newNode.array.length - 1) {\n    newNode.array.pop();\n  } else {\n    newNode.array[idx] = value;\n  }\n  return newNode;\n}\n\nfunction editableVNode(node, ownerID) {\n  if (ownerID && node && ownerID === node.ownerID) {\n    return node;\n  }\n  return new VNode(node ? node.array.slice() : [], ownerID);\n}\n\nfunction listNodeFor(list, rawIndex) {\n  if (rawIndex >= getTailOffset(list._capacity)) {\n    return list._tail;\n  }\n  if (rawIndex < 1 << (list._level + SHIFT)) {\n    var node = list._root;\n    var level = list._level;\n    while (node && level > 0) {\n      node = node.array[(rawIndex >>> level) & MASK];\n      level -= SHIFT;\n    }\n    return node;\n  }\n}\n\nfunction setListBounds(list, begin, end) {\n  // Sanitize begin & end using this shorthand for ToInt32(argument)\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n  if (begin !== undefined) {\n    begin |= 0;\n  }\n  if (end !== undefined) {\n    end |= 0;\n  }\n  var owner = list.__ownerID || new OwnerID();\n  var oldOrigin = list._origin;\n  var oldCapacity = list._capacity;\n  var newOrigin = oldOrigin + begin;\n  var newCapacity =\n    end === undefined\n      ? oldCapacity\n      : end < 0\n        ? oldCapacity + end\n        : oldOrigin + end;\n  if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n    return list;\n  }\n\n  // If it's going to end after it starts, it's empty.\n  if (newOrigin >= newCapacity) {\n    return list.clear();\n  }\n\n  var newLevel = list._level;\n  var newRoot = list._root;\n\n  // New origin might need creating a higher root.\n  var offsetShift = 0;\n  while (newOrigin + offsetShift < 0) {\n    newRoot = new VNode(\n      newRoot && newRoot.array.length ? [undefined, newRoot] : [],\n      owner\n    );\n    newLevel += SHIFT;\n    offsetShift += 1 << newLevel;\n  }\n  if (offsetShift) {\n    newOrigin += offsetShift;\n    oldOrigin += offsetShift;\n    newCapacity += offsetShift;\n    oldCapacity += offsetShift;\n  }\n\n  var oldTailOffset = getTailOffset(oldCapacity);\n  var newTailOffset = getTailOffset(newCapacity);\n\n  // New size might need creating a higher root.\n  while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n    newRoot = new VNode(\n      newRoot && newRoot.array.length ? [newRoot] : [],\n      owner\n    );\n    newLevel += SHIFT;\n  }\n\n  // Locate or create the new tail.\n  var oldTail = list._tail;\n  var newTail =\n    newTailOffset < oldTailOffset\n      ? listNodeFor(list, newCapacity - 1)\n      : newTailOffset > oldTailOffset\n        ? new VNode([], owner)\n        : oldTail;\n\n  // Merge Tail into tree.\n  if (\n    oldTail &&\n    newTailOffset > oldTailOffset &&\n    newOrigin < oldCapacity &&\n    oldTail.array.length\n  ) {\n    newRoot = editableVNode(newRoot, owner);\n    var node = newRoot;\n    for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n      var idx = (oldTailOffset >>> level) & MASK;\n      node = node.array[idx] = editableVNode(node.array[idx], owner);\n    }\n    node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n  }\n\n  // If the size has been reduced, there's a chance the tail needs to be trimmed.\n  if (newCapacity < oldCapacity) {\n    newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n  }\n\n  // If the new origin is within the tail, then we do not need a root.\n  if (newOrigin >= newTailOffset) {\n    newOrigin -= newTailOffset;\n    newCapacity -= newTailOffset;\n    newLevel = SHIFT;\n    newRoot = null;\n    newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n  } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n    offsetShift = 0;\n\n    // Identify the new top root node of the subtree of the old root.\n    while (newRoot) {\n      var beginIndex = (newOrigin >>> newLevel) & MASK;\n      if ((beginIndex !== newTailOffset >>> newLevel) & MASK) {\n        break;\n      }\n      if (beginIndex) {\n        offsetShift += (1 << newLevel) * beginIndex;\n      }\n      newLevel -= SHIFT;\n      newRoot = newRoot.array[beginIndex];\n    }\n\n    // Trim the new sides of the new root.\n    if (newRoot && newOrigin > oldOrigin) {\n      newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n    }\n    if (newRoot && newTailOffset < oldTailOffset) {\n      newRoot = newRoot.removeAfter(\n        owner,\n        newLevel,\n        newTailOffset - offsetShift\n      );\n    }\n    if (offsetShift) {\n      newOrigin -= offsetShift;\n      newCapacity -= offsetShift;\n    }\n  }\n\n  if (list.__ownerID) {\n    list.size = newCapacity - newOrigin;\n    list._origin = newOrigin;\n    list._capacity = newCapacity;\n    list._level = newLevel;\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n}\n\nfunction getTailOffset(size) {\n  return size < SIZE ? 0 : ((size - 1) >>> SHIFT) << SHIFT;\n}\n\nvar OrderedMap = /*@__PURE__*/(function (Map$$1) {\n  function OrderedMap(value) {\n    return value === null || value === undefined\n      ? emptyOrderedMap()\n      : isOrderedMap(value)\n        ? value\n        : emptyOrderedMap().withMutations(function (map) {\n            var iter = KeyedCollection(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v, k) { return map.set(k, v); });\n          });\n  }\n\n  if ( Map$$1 ) OrderedMap.__proto__ = Map$$1;\n  OrderedMap.prototype = Object.create( Map$$1 && Map$$1.prototype );\n  OrderedMap.prototype.constructor = OrderedMap;\n\n  OrderedMap.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  OrderedMap.prototype.toString = function toString () {\n    return this.__toString('OrderedMap {', '}');\n  };\n\n  // @pragma Access\n\n  OrderedMap.prototype.get = function get (k, notSetValue) {\n    var index = this._map.get(k);\n    return index !== undefined ? this._list.get(index)[1] : notSetValue;\n  };\n\n  // @pragma Modification\n\n  OrderedMap.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._map.clear();\n      this._list.clear();\n      return this;\n    }\n    return emptyOrderedMap();\n  };\n\n  OrderedMap.prototype.set = function set (k, v) {\n    return updateOrderedMap(this, k, v);\n  };\n\n  OrderedMap.prototype.remove = function remove (k) {\n    return updateOrderedMap(this, k, NOT_SET);\n  };\n\n  OrderedMap.prototype.wasAltered = function wasAltered () {\n    return this._map.wasAltered() || this._list.wasAltered();\n  };\n\n  OrderedMap.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._list.__iterate(\n      function (entry) { return entry && fn(entry[1], entry[0], this$1); },\n      reverse\n    );\n  };\n\n  OrderedMap.prototype.__iterator = function __iterator (type, reverse) {\n    return this._list.fromEntrySeq().__iterator(type, reverse);\n  };\n\n  OrderedMap.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    var newList = this._list.__ensureOwner(ownerID);\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyOrderedMap();\n      }\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      this._list = newList;\n      return this;\n    }\n    return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n  };\n\n  return OrderedMap;\n}(Map));\n\nOrderedMap.isOrderedMap = isOrderedMap;\n\nOrderedMap.prototype[IS_ORDERED_SYMBOL] = true;\nOrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\nfunction makeOrderedMap(map, list, ownerID, hash) {\n  var omap = Object.create(OrderedMap.prototype);\n  omap.size = map ? map.size : 0;\n  omap._map = map;\n  omap._list = list;\n  omap.__ownerID = ownerID;\n  omap.__hash = hash;\n  return omap;\n}\n\nvar EMPTY_ORDERED_MAP;\nfunction emptyOrderedMap() {\n  return (\n    EMPTY_ORDERED_MAP ||\n    (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()))\n  );\n}\n\nfunction updateOrderedMap(omap, k, v) {\n  var map = omap._map;\n  var list = omap._list;\n  var i = map.get(k);\n  var has = i !== undefined;\n  var newMap;\n  var newList;\n  if (v === NOT_SET) {\n    // removed\n    if (!has) {\n      return omap;\n    }\n    if (list.size >= SIZE && list.size >= map.size * 2) {\n      newList = list.filter(function (entry, idx) { return entry !== undefined && i !== idx; });\n      newMap = newList\n        .toKeyedSeq()\n        .map(function (entry) { return entry[0]; })\n        .flip()\n        .toMap();\n      if (omap.__ownerID) {\n        newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n      }\n    } else {\n      newMap = map.remove(k);\n      newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n    }\n  } else if (has) {\n    if (v === list.get(i)[1]) {\n      return omap;\n    }\n    newMap = map;\n    newList = list.set(i, [k, v]);\n  } else {\n    newMap = map.set(k, list.size);\n    newList = list.set(list.size, [k, v]);\n  }\n  if (omap.__ownerID) {\n    omap.size = newMap.size;\n    omap._map = newMap;\n    omap._list = newList;\n    omap.__hash = undefined;\n    return omap;\n  }\n  return makeOrderedMap(newMap, newList);\n}\n\nvar IS_STACK_SYMBOL = '@@__IMMUTABLE_STACK__@@';\n\nfunction isStack(maybeStack) {\n  return Boolean(maybeStack && maybeStack[IS_STACK_SYMBOL]);\n}\n\nvar Stack = /*@__PURE__*/(function (IndexedCollection$$1) {\n  function Stack(value) {\n    return value === null || value === undefined\n      ? emptyStack()\n      : isStack(value)\n        ? value\n        : emptyStack().pushAll(value);\n  }\n\n  if ( IndexedCollection$$1 ) Stack.__proto__ = IndexedCollection$$1;\n  Stack.prototype = Object.create( IndexedCollection$$1 && IndexedCollection$$1.prototype );\n  Stack.prototype.constructor = Stack;\n\n  Stack.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  Stack.prototype.toString = function toString () {\n    return this.__toString('Stack [', ']');\n  };\n\n  // @pragma Access\n\n  Stack.prototype.get = function get (index, notSetValue) {\n    var head = this._head;\n    index = wrapIndex(this, index);\n    while (head && index--) {\n      head = head.next;\n    }\n    return head ? head.value : notSetValue;\n  };\n\n  Stack.prototype.peek = function peek () {\n    return this._head && this._head.value;\n  };\n\n  // @pragma Modification\n\n  Stack.prototype.push = function push (/*...values*/) {\n    var arguments$1 = arguments;\n\n    if (arguments.length === 0) {\n      return this;\n    }\n    var newSize = this.size + arguments.length;\n    var head = this._head;\n    for (var ii = arguments.length - 1; ii >= 0; ii--) {\n      head = {\n        value: arguments$1[ii],\n        next: head,\n      };\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pushAll = function pushAll (iter) {\n    iter = IndexedCollection$$1(iter);\n    if (iter.size === 0) {\n      return this;\n    }\n    if (this.size === 0 && isStack(iter)) {\n      return iter;\n    }\n    assertNotInfinite(iter.size);\n    var newSize = this.size;\n    var head = this._head;\n    iter.__iterate(function (value) {\n      newSize++;\n      head = {\n        value: value,\n        next: head,\n      };\n    }, /* reverse */ true);\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pop = function pop () {\n    return this.slice(1);\n  };\n\n  Stack.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._head = undefined;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyStack();\n  };\n\n  Stack.prototype.slice = function slice (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    var resolvedBegin = resolveBegin(begin, this.size);\n    var resolvedEnd = resolveEnd(end, this.size);\n    if (resolvedEnd !== this.size) {\n      // super.slice(begin, end);\n      return IndexedCollection$$1.prototype.slice.call(this, begin, end);\n    }\n    var newSize = this.size - resolvedBegin;\n    var head = this._head;\n    while (resolvedBegin--) {\n      head = head.next;\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  // @pragma Mutability\n\n  Stack.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyStack();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeStack(this.size, this._head, ownerID, this.__hash);\n  };\n\n  // @pragma Iteration\n\n  Stack.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return new ArraySeq(this.toArray()).__iterate(\n        function (v, k) { return fn(v, k, this$1); },\n        reverse\n      );\n    }\n    var iterations = 0;\n    var node = this._head;\n    while (node) {\n      if (fn(node.value, iterations++, this) === false) {\n        break;\n      }\n      node = node.next;\n    }\n    return iterations;\n  };\n\n  Stack.prototype.__iterator = function __iterator (type, reverse) {\n    if (reverse) {\n      return new ArraySeq(this.toArray()).__iterator(type, reverse);\n    }\n    var iterations = 0;\n    var node = this._head;\n    return new Iterator(function () {\n      if (node) {\n        var value = node.value;\n        node = node.next;\n        return iteratorValue(type, iterations++, value);\n      }\n      return iteratorDone();\n    });\n  };\n\n  return Stack;\n}(IndexedCollection));\n\nStack.isStack = isStack;\n\nvar StackPrototype = Stack.prototype;\nStackPrototype[IS_STACK_SYMBOL] = true;\nStackPrototype.shift = StackPrototype.pop;\nStackPrototype.unshift = StackPrototype.push;\nStackPrototype.unshiftAll = StackPrototype.pushAll;\nStackPrototype.withMutations = withMutations;\nStackPrototype.wasAltered = wasAltered;\nStackPrototype.asImmutable = asImmutable;\nStackPrototype['@@transducer/init'] = StackPrototype.asMutable = asMutable;\nStackPrototype['@@transducer/step'] = function(result, arr) {\n  return result.unshift(arr);\n};\nStackPrototype['@@transducer/result'] = function(obj) {\n  return obj.asImmutable();\n};\n\nfunction makeStack(size, head, ownerID, hash) {\n  var map = Object.create(StackPrototype);\n  map.size = size;\n  map._head = head;\n  map.__ownerID = ownerID;\n  map.__hash = hash;\n  map.__altered = false;\n  return map;\n}\n\nvar EMPTY_STACK;\nfunction emptyStack() {\n  return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n}\n\nvar IS_SET_SYMBOL = '@@__IMMUTABLE_SET__@@';\n\nfunction isSet(maybeSet) {\n  return Boolean(maybeSet && maybeSet[IS_SET_SYMBOL]);\n}\n\nfunction isOrderedSet(maybeOrderedSet) {\n  return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n}\n\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (\n    !isCollection(b) ||\n    (a.size !== undefined && b.size !== undefined && a.size !== b.size) ||\n    (a.__hash !== undefined &&\n      b.__hash !== undefined &&\n      a.__hash !== b.__hash) ||\n    isKeyed(a) !== isKeyed(b) ||\n    isIndexed(a) !== isIndexed(b) ||\n    isOrdered(a) !== isOrdered(b)\n  ) {\n    return false;\n  }\n\n  if (a.size === 0 && b.size === 0) {\n    return true;\n  }\n\n  var notAssociative = !isAssociative(a);\n\n  if (isOrdered(a)) {\n    var entries = a.entries();\n    return (\n      b.every(function (v, k) {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done\n    );\n  }\n\n  var flipped = false;\n\n  if (a.size === undefined) {\n    if (b.size === undefined) {\n      if (typeof a.cacheResult === 'function') {\n        a.cacheResult();\n      }\n    } else {\n      flipped = true;\n      var _ = a;\n      a = b;\n      b = _;\n    }\n  }\n\n  var allEqual = true;\n  var bSize = b.__iterate(function (v, k) {\n    if (\n      notAssociative\n        ? !a.has(v)\n        : flipped\n          ? !is(v, a.get(k, NOT_SET))\n          : !is(a.get(k, NOT_SET), v)\n    ) {\n      allEqual = false;\n      return false;\n    }\n  });\n\n  return allEqual && a.size === bSize;\n}\n\n/**\n * Contributes additional methods to a constructor\n */\nfunction mixin(ctor, methods) {\n  var keyCopier = function (key) {\n    ctor.prototype[key] = methods[key];\n  };\n  Object.keys(methods).forEach(keyCopier);\n  Object.getOwnPropertySymbols &&\n    Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n  return ctor;\n}\n\nfunction toJS(value) {\n  if (!value || typeof value !== 'object') {\n    return value;\n  }\n  if (!isCollection(value)) {\n    if (!isDataStructure(value)) {\n      return value;\n    }\n    value = Seq(value);\n  }\n  if (isKeyed(value)) {\n    var result$1 = {};\n    value.__iterate(function (v, k) {\n      result$1[k] = toJS(v);\n    });\n    return result$1;\n  }\n  var result = [];\n  value.__iterate(function (v) {\n    result.push(toJS(v));\n  });\n  return result;\n}\n\nvar Set = /*@__PURE__*/(function (SetCollection$$1) {\n  function Set(value) {\n    return value === null || value === undefined\n      ? emptySet()\n      : isSet(value) && !isOrdered(value)\n        ? value\n        : emptySet().withMutations(function (set) {\n            var iter = SetCollection$$1(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v) { return set.add(v); });\n          });\n  }\n\n  if ( SetCollection$$1 ) Set.__proto__ = SetCollection$$1;\n  Set.prototype = Object.create( SetCollection$$1 && SetCollection$$1.prototype );\n  Set.prototype.constructor = Set;\n\n  Set.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  Set.fromKeys = function fromKeys (value) {\n    return this(KeyedCollection(value).keySeq());\n  };\n\n  Set.intersect = function intersect (sets) {\n    sets = Collection(sets).toArray();\n    return sets.length\n      ? SetPrototype.intersect.apply(Set(sets.pop()), sets)\n      : emptySet();\n  };\n\n  Set.union = function union (sets) {\n    sets = Collection(sets).toArray();\n    return sets.length\n      ? SetPrototype.union.apply(Set(sets.pop()), sets)\n      : emptySet();\n  };\n\n  Set.prototype.toString = function toString () {\n    return this.__toString('Set {', '}');\n  };\n\n  // @pragma Access\n\n  Set.prototype.has = function has (value) {\n    return this._map.has(value);\n  };\n\n  // @pragma Modification\n\n  Set.prototype.add = function add (value) {\n    return updateSet(this, this._map.set(value, value));\n  };\n\n  Set.prototype.remove = function remove (value) {\n    return updateSet(this, this._map.remove(value));\n  };\n\n  Set.prototype.clear = function clear () {\n    return updateSet(this, this._map.clear());\n  };\n\n  // @pragma Composition\n\n  Set.prototype.map = function map (mapper, context) {\n    var this$1 = this;\n\n    var removes = [];\n    var adds = [];\n    this.forEach(function (value) {\n      var mapped = mapper.call(context, value, value, this$1);\n      if (mapped !== value) {\n        removes.push(value);\n        adds.push(mapped);\n      }\n    });\n    return this.withMutations(function (set) {\n      removes.forEach(function (value) { return set.remove(value); });\n      adds.forEach(function (value) { return set.add(value); });\n    });\n  };\n\n  Set.prototype.union = function union () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    iters = iters.filter(function (x) { return x.size !== 0; });\n    if (iters.length === 0) {\n      return this;\n    }\n    if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n      return this.constructor(iters[0]);\n    }\n    return this.withMutations(function (set) {\n      for (var ii = 0; ii < iters.length; ii++) {\n        SetCollection$$1(iters[ii]).forEach(function (value) { return set.add(value); });\n      }\n    });\n  };\n\n  Set.prototype.intersect = function intersect () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map(function (iter) { return SetCollection$$1(iter); });\n    var toRemove = [];\n    this.forEach(function (value) {\n      if (!iters.every(function (iter) { return iter.includes(value); })) {\n        toRemove.push(value);\n      }\n    });\n    return this.withMutations(function (set) {\n      toRemove.forEach(function (value) {\n        set.remove(value);\n      });\n    });\n  };\n\n  Set.prototype.subtract = function subtract () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map(function (iter) { return SetCollection$$1(iter); });\n    var toRemove = [];\n    this.forEach(function (value) {\n      if (iters.some(function (iter) { return iter.includes(value); })) {\n        toRemove.push(value);\n      }\n    });\n    return this.withMutations(function (set) {\n      toRemove.forEach(function (value) {\n        set.remove(value);\n      });\n    });\n  };\n\n  Set.prototype.sort = function sort (comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator));\n  };\n\n  Set.prototype.sortBy = function sortBy (mapper, comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator, mapper));\n  };\n\n  Set.prototype.wasAltered = function wasAltered () {\n    return this._map.wasAltered();\n  };\n\n  Set.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._map.__iterate(function (k) { return fn(k, k, this$1); }, reverse);\n  };\n\n  Set.prototype.__iterator = function __iterator (type, reverse) {\n    return this._map.__iterator(type, reverse);\n  };\n\n  Set.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    if (!ownerID) {\n      if (this.size === 0) {\n        return this.__empty();\n      }\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      return this;\n    }\n    return this.__make(newMap, ownerID);\n  };\n\n  return Set;\n}(SetCollection));\n\nSet.isSet = isSet;\n\nvar SetPrototype = Set.prototype;\nSetPrototype[IS_SET_SYMBOL] = true;\nSetPrototype[DELETE] = SetPrototype.remove;\nSetPrototype.merge = SetPrototype.concat = SetPrototype.union;\nSetPrototype.withMutations = withMutations;\nSetPrototype.asImmutable = asImmutable;\nSetPrototype['@@transducer/init'] = SetPrototype.asMutable = asMutable;\nSetPrototype['@@transducer/step'] = function(result, arr) {\n  return result.add(arr);\n};\nSetPrototype['@@transducer/result'] = function(obj) {\n  return obj.asImmutable();\n};\n\nSetPrototype.__empty = emptySet;\nSetPrototype.__make = makeSet;\n\nfunction updateSet(set, newMap) {\n  if (set.__ownerID) {\n    set.size = newMap.size;\n    set._map = newMap;\n    return set;\n  }\n  return newMap === set._map\n    ? set\n    : newMap.size === 0\n      ? set.__empty()\n      : set.__make(newMap);\n}\n\nfunction makeSet(map, ownerID) {\n  var set = Object.create(SetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\n\nvar EMPTY_SET;\nfunction emptySet() {\n  return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n}\n\n/**\n * Returns a lazy seq of nums from start (inclusive) to end\n * (exclusive), by step, where start defaults to 0, step to 1, and end to\n * infinity. When start is equal to end, returns empty list.\n */\nvar Range = /*@__PURE__*/(function (IndexedSeq$$1) {\n  function Range(start, end, step) {\n    if (!(this instanceof Range)) {\n      return new Range(start, end, step);\n    }\n    invariant(step !== 0, 'Cannot step a Range by 0');\n    start = start || 0;\n    if (end === undefined) {\n      end = Infinity;\n    }\n    step = step === undefined ? 1 : Math.abs(step);\n    if (end < start) {\n      step = -step;\n    }\n    this._start = start;\n    this._end = end;\n    this._step = step;\n    this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n    if (this.size === 0) {\n      if (EMPTY_RANGE) {\n        return EMPTY_RANGE;\n      }\n      EMPTY_RANGE = this;\n    }\n  }\n\n  if ( IndexedSeq$$1 ) Range.__proto__ = IndexedSeq$$1;\n  Range.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  Range.prototype.constructor = Range;\n\n  Range.prototype.toString = function toString () {\n    if (this.size === 0) {\n      return 'Range []';\n    }\n    return (\n      'Range [ ' +\n      this._start +\n      '...' +\n      this._end +\n      (this._step !== 1 ? ' by ' + this._step : '') +\n      ' ]'\n    );\n  };\n\n  Range.prototype.get = function get (index, notSetValue) {\n    return this.has(index)\n      ? this._start + wrapIndex(this, index) * this._step\n      : notSetValue;\n  };\n\n  Range.prototype.includes = function includes (searchValue) {\n    var possibleIndex = (searchValue - this._start) / this._step;\n    return (\n      possibleIndex >= 0 &&\n      possibleIndex < this.size &&\n      possibleIndex === Math.floor(possibleIndex)\n    );\n  };\n\n  Range.prototype.slice = function slice (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    begin = resolveBegin(begin, this.size);\n    end = resolveEnd(end, this.size);\n    if (end <= begin) {\n      return new Range(0, 0);\n    }\n    return new Range(\n      this.get(begin, this._end),\n      this.get(end, this._end),\n      this._step\n    );\n  };\n\n  Range.prototype.indexOf = function indexOf (searchValue) {\n    var offsetValue = searchValue - this._start;\n    if (offsetValue % this._step === 0) {\n      var index = offsetValue / this._step;\n      if (index >= 0 && index < this.size) {\n        return index;\n      }\n    }\n    return -1;\n  };\n\n  Range.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n    return this.indexOf(searchValue);\n  };\n\n  Range.prototype.__iterate = function __iterate (fn, reverse) {\n    var size = this.size;\n    var step = this._step;\n    var value = reverse ? this._start + (size - 1) * step : this._start;\n    var i = 0;\n    while (i !== size) {\n      if (fn(value, reverse ? size - ++i : i++, this) === false) {\n        break;\n      }\n      value += reverse ? -step : step;\n    }\n    return i;\n  };\n\n  Range.prototype.__iterator = function __iterator (type, reverse) {\n    var size = this.size;\n    var step = this._step;\n    var value = reverse ? this._start + (size - 1) * step : this._start;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var v = value;\n      value += reverse ? -step : step;\n      return iteratorValue(type, reverse ? size - ++i : i++, v);\n    });\n  };\n\n  Range.prototype.equals = function equals (other) {\n    return other instanceof Range\n      ? this._start === other._start &&\n          this._end === other._end &&\n          this._step === other._step\n      : deepEqual(this, other);\n  };\n\n  return Range;\n}(IndexedSeq));\n\nvar EMPTY_RANGE;\n\nfunction getIn(collection, searchKeyPath, notSetValue) {\n  var keyPath = coerceKeyPath(searchKeyPath);\n  var i = 0;\n  while (i !== keyPath.length) {\n    collection = get(collection, keyPath[i++], NOT_SET);\n    if (collection === NOT_SET) {\n      return notSetValue;\n    }\n  }\n  return collection;\n}\n\nfunction getIn$1(searchKeyPath, notSetValue) {\n  return getIn(this, searchKeyPath, notSetValue);\n}\n\nfunction hasIn(collection, keyPath) {\n  return getIn(collection, keyPath, NOT_SET) !== NOT_SET;\n}\n\nfunction hasIn$1(searchKeyPath) {\n  return hasIn(this, searchKeyPath);\n}\n\nfunction toObject() {\n  assertNotInfinite(this.size);\n  var object = {};\n  this.__iterate(function (v, k) {\n    object[k] = v;\n  });\n  return object;\n}\n\n// Note: all of these methods are deprecated.\nCollection.isIterable = isCollection;\nCollection.isKeyed = isKeyed;\nCollection.isIndexed = isIndexed;\nCollection.isAssociative = isAssociative;\nCollection.isOrdered = isOrdered;\n\nCollection.Iterator = Iterator;\n\nmixin(Collection, {\n  // ### Conversion to other types\n\n  toArray: function toArray() {\n    assertNotInfinite(this.size);\n    var array = new Array(this.size || 0);\n    var useTuples = isKeyed(this);\n    var i = 0;\n    this.__iterate(function (v, k) {\n      // Keyed collections produce an array of tuples.\n      array[i++] = useTuples ? [k, v] : v;\n    });\n    return array;\n  },\n\n  toIndexedSeq: function toIndexedSeq() {\n    return new ToIndexedSequence(this);\n  },\n\n  toJS: function toJS$1() {\n    return toJS(this);\n  },\n\n  toKeyedSeq: function toKeyedSeq() {\n    return new ToKeyedSequence(this, true);\n  },\n\n  toMap: function toMap() {\n    // Use Late Binding here to solve the circular dependency.\n    return Map(this.toKeyedSeq());\n  },\n\n  toObject: toObject,\n\n  toOrderedMap: function toOrderedMap() {\n    // Use Late Binding here to solve the circular dependency.\n    return OrderedMap(this.toKeyedSeq());\n  },\n\n  toOrderedSet: function toOrderedSet() {\n    // Use Late Binding here to solve the circular dependency.\n    return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toSet: function toSet() {\n    // Use Late Binding here to solve the circular dependency.\n    return Set(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toSetSeq: function toSetSeq() {\n    return new ToSetSequence(this);\n  },\n\n  toSeq: function toSeq() {\n    return isIndexed(this)\n      ? this.toIndexedSeq()\n      : isKeyed(this)\n        ? this.toKeyedSeq()\n        : this.toSetSeq();\n  },\n\n  toStack: function toStack() {\n    // Use Late Binding here to solve the circular dependency.\n    return Stack(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toList: function toList() {\n    // Use Late Binding here to solve the circular dependency.\n    return List(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  // ### Common JavaScript methods and properties\n\n  toString: function toString() {\n    return '[Collection]';\n  },\n\n  __toString: function __toString(head, tail) {\n    if (this.size === 0) {\n      return head + tail;\n    }\n    return (\n      head +\n      ' ' +\n      this.toSeq()\n        .map(this.__toStringMapper)\n        .join(', ') +\n      ' ' +\n      tail\n    );\n  },\n\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  concat: function concat() {\n    var values = [], len = arguments.length;\n    while ( len-- ) values[ len ] = arguments[ len ];\n\n    return reify(this, concatFactory(this, values));\n  },\n\n  includes: function includes(searchValue) {\n    return this.some(function (value) { return is(value, searchValue); });\n  },\n\n  entries: function entries() {\n    return this.__iterator(ITERATE_ENTRIES);\n  },\n\n  every: function every(predicate, context) {\n    assertNotInfinite(this.size);\n    var returnValue = true;\n    this.__iterate(function (v, k, c) {\n      if (!predicate.call(context, v, k, c)) {\n        returnValue = false;\n        return false;\n      }\n    });\n    return returnValue;\n  },\n\n  filter: function filter(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, true));\n  },\n\n  find: function find(predicate, context, notSetValue) {\n    var entry = this.findEntry(predicate, context);\n    return entry ? entry[1] : notSetValue;\n  },\n\n  forEach: function forEach(sideEffect, context) {\n    assertNotInfinite(this.size);\n    return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n  },\n\n  join: function join(separator) {\n    assertNotInfinite(this.size);\n    separator = separator !== undefined ? '' + separator : ',';\n    var joined = '';\n    var isFirst = true;\n    this.__iterate(function (v) {\n      isFirst ? (isFirst = false) : (joined += separator);\n      joined += v !== null && v !== undefined ? v.toString() : '';\n    });\n    return joined;\n  },\n\n  keys: function keys() {\n    return this.__iterator(ITERATE_KEYS);\n  },\n\n  map: function map(mapper, context) {\n    return reify(this, mapFactory(this, mapper, context));\n  },\n\n  reduce: function reduce$1(reducer, initialReduction, context) {\n    return reduce(\n      this,\n      reducer,\n      initialReduction,\n      context,\n      arguments.length < 2,\n      false\n    );\n  },\n\n  reduceRight: function reduceRight(reducer, initialReduction, context) {\n    return reduce(\n      this,\n      reducer,\n      initialReduction,\n      context,\n      arguments.length < 2,\n      true\n    );\n  },\n\n  reverse: function reverse() {\n    return reify(this, reverseFactory(this, true));\n  },\n\n  slice: function slice(begin, end) {\n    return reify(this, sliceFactory(this, begin, end, true));\n  },\n\n  some: function some(predicate, context) {\n    return !this.every(not(predicate), context);\n  },\n\n  sort: function sort(comparator) {\n    return reify(this, sortFactory(this, comparator));\n  },\n\n  values: function values() {\n    return this.__iterator(ITERATE_VALUES);\n  },\n\n  // ### More sequential methods\n\n  butLast: function butLast() {\n    return this.slice(0, -1);\n  },\n\n  isEmpty: function isEmpty() {\n    return this.size !== undefined ? this.size === 0 : !this.some(function () { return true; });\n  },\n\n  count: function count(predicate, context) {\n    return ensureSize(\n      predicate ? this.toSeq().filter(predicate, context) : this\n    );\n  },\n\n  countBy: function countBy(grouper, context) {\n    return countByFactory(this, grouper, context);\n  },\n\n  equals: function equals(other) {\n    return deepEqual(this, other);\n  },\n\n  entrySeq: function entrySeq() {\n    var collection = this;\n    if (collection._cache) {\n      // We cache as an entries array, so we can just return the cache!\n      return new ArraySeq(collection._cache);\n    }\n    var entriesSequence = collection\n      .toSeq()\n      .map(entryMapper)\n      .toIndexedSeq();\n    entriesSequence.fromEntrySeq = function () { return collection.toSeq(); };\n    return entriesSequence;\n  },\n\n  filterNot: function filterNot(predicate, context) {\n    return this.filter(not(predicate), context);\n  },\n\n  findEntry: function findEntry(predicate, context, notSetValue) {\n    var found = notSetValue;\n    this.__iterate(function (v, k, c) {\n      if (predicate.call(context, v, k, c)) {\n        found = [k, v];\n        return false;\n      }\n    });\n    return found;\n  },\n\n  findKey: function findKey(predicate, context) {\n    var entry = this.findEntry(predicate, context);\n    return entry && entry[0];\n  },\n\n  findLast: function findLast(predicate, context, notSetValue) {\n    return this.toKeyedSeq()\n      .reverse()\n      .find(predicate, context, notSetValue);\n  },\n\n  findLastEntry: function findLastEntry(predicate, context, notSetValue) {\n    return this.toKeyedSeq()\n      .reverse()\n      .findEntry(predicate, context, notSetValue);\n  },\n\n  findLastKey: function findLastKey(predicate, context) {\n    return this.toKeyedSeq()\n      .reverse()\n      .findKey(predicate, context);\n  },\n\n  first: function first(notSetValue) {\n    return this.find(returnTrue, null, notSetValue);\n  },\n\n  flatMap: function flatMap(mapper, context) {\n    return reify(this, flatMapFactory(this, mapper, context));\n  },\n\n  flatten: function flatten(depth) {\n    return reify(this, flattenFactory(this, depth, true));\n  },\n\n  fromEntrySeq: function fromEntrySeq() {\n    return new FromEntriesSequence(this);\n  },\n\n  get: function get(searchKey, notSetValue) {\n    return this.find(function (_, key) { return is(key, searchKey); }, undefined, notSetValue);\n  },\n\n  getIn: getIn$1,\n\n  groupBy: function groupBy(grouper, context) {\n    return groupByFactory(this, grouper, context);\n  },\n\n  has: function has(searchKey) {\n    return this.get(searchKey, NOT_SET) !== NOT_SET;\n  },\n\n  hasIn: hasIn$1,\n\n  isSubset: function isSubset(iter) {\n    iter = typeof iter.includes === 'function' ? iter : Collection(iter);\n    return this.every(function (value) { return iter.includes(value); });\n  },\n\n  isSuperset: function isSuperset(iter) {\n    iter = typeof iter.isSubset === 'function' ? iter : Collection(iter);\n    return iter.isSubset(this);\n  },\n\n  keyOf: function keyOf(searchValue) {\n    return this.findKey(function (value) { return is(value, searchValue); });\n  },\n\n  keySeq: function keySeq() {\n    return this.toSeq()\n      .map(keyMapper)\n      .toIndexedSeq();\n  },\n\n  last: function last(notSetValue) {\n    return this.toSeq()\n      .reverse()\n      .first(notSetValue);\n  },\n\n  lastKeyOf: function lastKeyOf(searchValue) {\n    return this.toKeyedSeq()\n      .reverse()\n      .keyOf(searchValue);\n  },\n\n  max: function max(comparator) {\n    return maxFactory(this, comparator);\n  },\n\n  maxBy: function maxBy(mapper, comparator) {\n    return maxFactory(this, comparator, mapper);\n  },\n\n  min: function min(comparator) {\n    return maxFactory(\n      this,\n      comparator ? neg(comparator) : defaultNegComparator\n    );\n  },\n\n  minBy: function minBy(mapper, comparator) {\n    return maxFactory(\n      this,\n      comparator ? neg(comparator) : defaultNegComparator,\n      mapper\n    );\n  },\n\n  rest: function rest() {\n    return this.slice(1);\n  },\n\n  skip: function skip(amount) {\n    return amount === 0 ? this : this.slice(Math.max(0, amount));\n  },\n\n  skipLast: function skipLast(amount) {\n    return amount === 0 ? this : this.slice(0, -Math.max(0, amount));\n  },\n\n  skipWhile: function skipWhile(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, true));\n  },\n\n  skipUntil: function skipUntil(predicate, context) {\n    return this.skipWhile(not(predicate), context);\n  },\n\n  sortBy: function sortBy(mapper, comparator) {\n    return reify(this, sortFactory(this, comparator, mapper));\n  },\n\n  take: function take(amount) {\n    return this.slice(0, Math.max(0, amount));\n  },\n\n  takeLast: function takeLast(amount) {\n    return this.slice(-Math.max(0, amount));\n  },\n\n  takeWhile: function takeWhile(predicate, context) {\n    return reify(this, takeWhileFactory(this, predicate, context));\n  },\n\n  takeUntil: function takeUntil(predicate, context) {\n    return this.takeWhile(not(predicate), context);\n  },\n\n  update: function update(fn) {\n    return fn(this);\n  },\n\n  valueSeq: function valueSeq() {\n    return this.toIndexedSeq();\n  },\n\n  // ### Hashable Object\n\n  hashCode: function hashCode() {\n    return this.__hash || (this.__hash = hashCollection(this));\n  },\n\n  // ### Internal\n\n  // abstract __iterate(fn, reverse)\n\n  // abstract __iterator(type, reverse)\n});\n\nvar CollectionPrototype = Collection.prototype;\nCollectionPrototype[IS_COLLECTION_SYMBOL] = true;\nCollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.values;\nCollectionPrototype.toJSON = CollectionPrototype.toArray;\nCollectionPrototype.__toStringMapper = quoteString;\nCollectionPrototype.inspect = CollectionPrototype.toSource = function() {\n  return this.toString();\n};\nCollectionPrototype.chain = CollectionPrototype.flatMap;\nCollectionPrototype.contains = CollectionPrototype.includes;\n\nmixin(KeyedCollection, {\n  // ### More sequential methods\n\n  flip: function flip() {\n    return reify(this, flipFactory(this));\n  },\n\n  mapEntries: function mapEntries(mapper, context) {\n    var this$1 = this;\n\n    var iterations = 0;\n    return reify(\n      this,\n      this.toSeq()\n        .map(function (v, k) { return mapper.call(context, [k, v], iterations++, this$1); })\n        .fromEntrySeq()\n    );\n  },\n\n  mapKeys: function mapKeys(mapper, context) {\n    var this$1 = this;\n\n    return reify(\n      this,\n      this.toSeq()\n        .flip()\n        .map(function (k, v) { return mapper.call(context, k, v, this$1); })\n        .flip()\n    );\n  },\n});\n\nvar KeyedCollectionPrototype = KeyedCollection.prototype;\nKeyedCollectionPrototype[IS_KEYED_SYMBOL] = true;\nKeyedCollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.entries;\nKeyedCollectionPrototype.toJSON = toObject;\nKeyedCollectionPrototype.__toStringMapper = function (v, k) { return quoteString(k) + ': ' + quoteString(v); };\n\nmixin(IndexedCollection, {\n  // ### Conversion to other types\n\n  toKeyedSeq: function toKeyedSeq() {\n    return new ToKeyedSequence(this, false);\n  },\n\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  filter: function filter(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, false));\n  },\n\n  findIndex: function findIndex(predicate, context) {\n    var entry = this.findEntry(predicate, context);\n    return entry ? entry[0] : -1;\n  },\n\n  indexOf: function indexOf(searchValue) {\n    var key = this.keyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n\n  lastIndexOf: function lastIndexOf(searchValue) {\n    var key = this.lastKeyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n\n  reverse: function reverse() {\n    return reify(this, reverseFactory(this, false));\n  },\n\n  slice: function slice(begin, end) {\n    return reify(this, sliceFactory(this, begin, end, false));\n  },\n\n  splice: function splice(index, removeNum /*, ...values*/) {\n    var numArgs = arguments.length;\n    removeNum = Math.max(removeNum || 0, 0);\n    if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n      return this;\n    }\n    // If index is negative, it should resolve relative to the size of the\n    // collection. However size may be expensive to compute if not cached, so\n    // only call count() if the number is in fact negative.\n    index = resolveBegin(index, index < 0 ? this.count() : this.size);\n    var spliced = this.slice(0, index);\n    return reify(\n      this,\n      numArgs === 1\n        ? spliced\n        : spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n    );\n  },\n\n  // ### More collection methods\n\n  findLastIndex: function findLastIndex(predicate, context) {\n    var entry = this.findLastEntry(predicate, context);\n    return entry ? entry[0] : -1;\n  },\n\n  first: function first(notSetValue) {\n    return this.get(0, notSetValue);\n  },\n\n  flatten: function flatten(depth) {\n    return reify(this, flattenFactory(this, depth, false));\n  },\n\n  get: function get(index, notSetValue) {\n    index = wrapIndex(this, index);\n    return index < 0 ||\n      (this.size === Infinity || (this.size !== undefined && index > this.size))\n      ? notSetValue\n      : this.find(function (_, key) { return key === index; }, undefined, notSetValue);\n  },\n\n  has: function has(index) {\n    index = wrapIndex(this, index);\n    return (\n      index >= 0 &&\n      (this.size !== undefined\n        ? this.size === Infinity || index < this.size\n        : this.indexOf(index) !== -1)\n    );\n  },\n\n  interpose: function interpose(separator) {\n    return reify(this, interposeFactory(this, separator));\n  },\n\n  interleave: function interleave(/*...collections*/) {\n    var collections = [this].concat(arrCopy(arguments));\n    var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, collections);\n    var interleaved = zipped.flatten(true);\n    if (zipped.size) {\n      interleaved.size = zipped.size * collections.length;\n    }\n    return reify(this, interleaved);\n  },\n\n  keySeq: function keySeq() {\n    return Range(0, this.size);\n  },\n\n  last: function last(notSetValue) {\n    return this.get(-1, notSetValue);\n  },\n\n  skipWhile: function skipWhile(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, false));\n  },\n\n  zip: function zip(/*, ...collections */) {\n    var collections = [this].concat(arrCopy(arguments));\n    return reify(this, zipWithFactory(this, defaultZipper, collections));\n  },\n\n  zipAll: function zipAll(/*, ...collections */) {\n    var collections = [this].concat(arrCopy(arguments));\n    return reify(this, zipWithFactory(this, defaultZipper, collections, true));\n  },\n\n  zipWith: function zipWith(zipper /*, ...collections */) {\n    var collections = arrCopy(arguments);\n    collections[0] = this;\n    return reify(this, zipWithFactory(this, zipper, collections));\n  },\n});\n\nvar IndexedCollectionPrototype = IndexedCollection.prototype;\nIndexedCollectionPrototype[IS_INDEXED_SYMBOL] = true;\nIndexedCollectionPrototype[IS_ORDERED_SYMBOL] = true;\n\nmixin(SetCollection, {\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  get: function get(value, notSetValue) {\n    return this.has(value) ? value : notSetValue;\n  },\n\n  includes: function includes(value) {\n    return this.has(value);\n  },\n\n  // ### More sequential methods\n\n  keySeq: function keySeq() {\n    return this.valueSeq();\n  },\n});\n\nSetCollection.prototype.has = CollectionPrototype.includes;\nSetCollection.prototype.contains = SetCollection.prototype.includes;\n\n// Mixin subclasses\n\nmixin(KeyedSeq, KeyedCollection.prototype);\nmixin(IndexedSeq, IndexedCollection.prototype);\nmixin(SetSeq, SetCollection.prototype);\n\n// #pragma Helper functions\n\nfunction reduce(collection, reducer, reduction, context, useFirst, reverse) {\n  assertNotInfinite(collection.size);\n  collection.__iterate(function (v, k, c) {\n    if (useFirst) {\n      useFirst = false;\n      reduction = v;\n    } else {\n      reduction = reducer.call(context, reduction, v, k, c);\n    }\n  }, reverse);\n  return reduction;\n}\n\nfunction keyMapper(v, k) {\n  return k;\n}\n\nfunction entryMapper(v, k) {\n  return [k, v];\n}\n\nfunction not(predicate) {\n  return function() {\n    return !predicate.apply(this, arguments);\n  };\n}\n\nfunction neg(predicate) {\n  return function() {\n    return -predicate.apply(this, arguments);\n  };\n}\n\nfunction defaultZipper() {\n  return arrCopy(arguments);\n}\n\nfunction defaultNegComparator(a, b) {\n  return a < b ? 1 : a > b ? -1 : 0;\n}\n\nfunction hashCollection(collection) {\n  if (collection.size === Infinity) {\n    return 0;\n  }\n  var ordered = isOrdered(collection);\n  var keyed = isKeyed(collection);\n  var h = ordered ? 1 : 0;\n  var size = collection.__iterate(\n    keyed\n      ? ordered\n        ? function (v, k) {\n            h = (31 * h + hashMerge(hash(v), hash(k))) | 0;\n          }\n        : function (v, k) {\n            h = (h + hashMerge(hash(v), hash(k))) | 0;\n          }\n      : ordered\n        ? function (v) {\n            h = (31 * h + hash(v)) | 0;\n          }\n        : function (v) {\n            h = (h + hash(v)) | 0;\n          }\n  );\n  return murmurHashOfSize(size, h);\n}\n\nfunction murmurHashOfSize(size, h) {\n  h = imul(h, 0xcc9e2d51);\n  h = imul((h << 15) | (h >>> -15), 0x1b873593);\n  h = imul((h << 13) | (h >>> -13), 5);\n  h = ((h + 0xe6546b64) | 0) ^ size;\n  h = imul(h ^ (h >>> 16), 0x85ebca6b);\n  h = imul(h ^ (h >>> 13), 0xc2b2ae35);\n  h = smi(h ^ (h >>> 16));\n  return h;\n}\n\nfunction hashMerge(a, b) {\n  return (a ^ (b + 0x9e3779b9 + (a << 6) + (a >> 2))) | 0; // int\n}\n\nvar OrderedSet = /*@__PURE__*/(function (Set$$1) {\n  function OrderedSet(value) {\n    return value === null || value === undefined\n      ? emptyOrderedSet()\n      : isOrderedSet(value)\n        ? value\n        : emptyOrderedSet().withMutations(function (set) {\n            var iter = SetCollection(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v) { return set.add(v); });\n          });\n  }\n\n  if ( Set$$1 ) OrderedSet.__proto__ = Set$$1;\n  OrderedSet.prototype = Object.create( Set$$1 && Set$$1.prototype );\n  OrderedSet.prototype.constructor = OrderedSet;\n\n  OrderedSet.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  OrderedSet.fromKeys = function fromKeys (value) {\n    return this(KeyedCollection(value).keySeq());\n  };\n\n  OrderedSet.prototype.toString = function toString () {\n    return this.__toString('OrderedSet {', '}');\n  };\n\n  return OrderedSet;\n}(Set));\n\nOrderedSet.isOrderedSet = isOrderedSet;\n\nvar OrderedSetPrototype = OrderedSet.prototype;\nOrderedSetPrototype[IS_ORDERED_SYMBOL] = true;\nOrderedSetPrototype.zip = IndexedCollectionPrototype.zip;\nOrderedSetPrototype.zipWith = IndexedCollectionPrototype.zipWith;\n\nOrderedSetPrototype.__empty = emptyOrderedSet;\nOrderedSetPrototype.__make = makeOrderedSet;\n\nfunction makeOrderedSet(map, ownerID) {\n  var set = Object.create(OrderedSetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\n\nvar EMPTY_ORDERED_SET;\nfunction emptyOrderedSet() {\n  return (\n    EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()))\n  );\n}\n\nvar Record = function Record(defaultValues, name) {\n  var hasInitialized;\n\n  var RecordType = function Record(values) {\n    var this$1 = this;\n\n    if (values instanceof RecordType) {\n      return values;\n    }\n    if (!(this instanceof RecordType)) {\n      return new RecordType(values);\n    }\n    if (!hasInitialized) {\n      hasInitialized = true;\n      var keys = Object.keys(defaultValues);\n      var indices = (RecordTypePrototype._indices = {});\n      // Deprecated: left to attempt not to break any external code which\n      // relies on a ._name property existing on record instances.\n      // Use Record.getDescriptiveName() instead\n      RecordTypePrototype._name = name;\n      RecordTypePrototype._keys = keys;\n      RecordTypePrototype._defaultValues = defaultValues;\n      for (var i = 0; i < keys.length; i++) {\n        var propName = keys[i];\n        indices[propName] = i;\n        if (RecordTypePrototype[propName]) {\n          /* eslint-disable no-console */\n          typeof console === 'object' &&\n            console.warn &&\n            console.warn(\n              'Cannot define ' +\n                recordName(this) +\n                ' with property \"' +\n                propName +\n                '\" since that property name is part of the Record API.'\n            );\n          /* eslint-enable no-console */\n        } else {\n          setProp(RecordTypePrototype, propName);\n        }\n      }\n    }\n    this.__ownerID = undefined;\n    this._values = List().withMutations(function (l) {\n      l.setSize(this$1._keys.length);\n      KeyedCollection(values).forEach(function (v, k) {\n        l.set(this$1._indices[k], v === this$1._defaultValues[k] ? undefined : v);\n      });\n    });\n  };\n\n  var RecordTypePrototype = (RecordType.prototype = Object.create(\n    RecordPrototype\n  ));\n  RecordTypePrototype.constructor = RecordType;\n\n  if (name) {\n    RecordType.displayName = name;\n  }\n\n  return RecordType;\n};\n\nRecord.prototype.toString = function toString () {\n  var str = recordName(this) + ' { ';\n  var keys = this._keys;\n  var k;\n  for (var i = 0, l = keys.length; i !== l; i++) {\n    k = keys[i];\n    str += (i ? ', ' : '') + k + ': ' + quoteString(this.get(k));\n  }\n  return str + ' }';\n};\n\nRecord.prototype.equals = function equals (other) {\n  return (\n    this === other ||\n    (other &&\n      this._keys === other._keys &&\n      recordSeq(this).equals(recordSeq(other)))\n  );\n};\n\nRecord.prototype.hashCode = function hashCode () {\n  return recordSeq(this).hashCode();\n};\n\n// @pragma Access\n\nRecord.prototype.has = function has (k) {\n  return this._indices.hasOwnProperty(k);\n};\n\nRecord.prototype.get = function get (k, notSetValue) {\n  if (!this.has(k)) {\n    return notSetValue;\n  }\n  var index = this._indices[k];\n  var value = this._values.get(index);\n  return value === undefined ? this._defaultValues[k] : value;\n};\n\n// @pragma Modification\n\nRecord.prototype.set = function set (k, v) {\n  if (this.has(k)) {\n    var newValues = this._values.set(\n      this._indices[k],\n      v === this._defaultValues[k] ? undefined : v\n    );\n    if (newValues !== this._values && !this.__ownerID) {\n      return makeRecord(this, newValues);\n    }\n  }\n  return this;\n};\n\nRecord.prototype.remove = function remove (k) {\n  return this.set(k);\n};\n\nRecord.prototype.clear = function clear () {\n  var newValues = this._values.clear().setSize(this._keys.length);\n  return this.__ownerID ? this : makeRecord(this, newValues);\n};\n\nRecord.prototype.wasAltered = function wasAltered () {\n  return this._values.wasAltered();\n};\n\nRecord.prototype.toSeq = function toSeq () {\n  return recordSeq(this);\n};\n\nRecord.prototype.toJS = function toJS$1 () {\n  return toJS(this);\n};\n\nRecord.prototype.entries = function entries () {\n  return this.__iterator(ITERATE_ENTRIES);\n};\n\nRecord.prototype.__iterator = function __iterator (type, reverse) {\n  return recordSeq(this).__iterator(type, reverse);\n};\n\nRecord.prototype.__iterate = function __iterate (fn, reverse) {\n  return recordSeq(this).__iterate(fn, reverse);\n};\n\nRecord.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n  if (ownerID === this.__ownerID) {\n    return this;\n  }\n  var newValues = this._values.__ensureOwner(ownerID);\n  if (!ownerID) {\n    this.__ownerID = ownerID;\n    this._values = newValues;\n    return this;\n  }\n  return makeRecord(this, newValues, ownerID);\n};\n\nRecord.isRecord = isRecord;\nRecord.getDescriptiveName = recordName;\nvar RecordPrototype = Record.prototype;\nRecordPrototype[IS_RECORD_SYMBOL] = true;\nRecordPrototype[DELETE] = RecordPrototype.remove;\nRecordPrototype.deleteIn = RecordPrototype.removeIn = deleteIn;\nRecordPrototype.getIn = getIn$1;\nRecordPrototype.hasIn = CollectionPrototype.hasIn;\nRecordPrototype.merge = merge;\nRecordPrototype.mergeWith = mergeWith;\nRecordPrototype.mergeIn = mergeIn;\nRecordPrototype.mergeDeep = mergeDeep$1;\nRecordPrototype.mergeDeepWith = mergeDeepWith$1;\nRecordPrototype.mergeDeepIn = mergeDeepIn;\nRecordPrototype.setIn = setIn$1;\nRecordPrototype.update = update$1;\nRecordPrototype.updateIn = updateIn$1;\nRecordPrototype.withMutations = withMutations;\nRecordPrototype.asMutable = asMutable;\nRecordPrototype.asImmutable = asImmutable;\nRecordPrototype[ITERATOR_SYMBOL] = RecordPrototype.entries;\nRecordPrototype.toJSON = RecordPrototype.toObject =\n  CollectionPrototype.toObject;\nRecordPrototype.inspect = RecordPrototype.toSource = function() {\n  return this.toString();\n};\n\nfunction makeRecord(likeRecord, values, ownerID) {\n  var record = Object.create(Object.getPrototypeOf(likeRecord));\n  record._values = values;\n  record.__ownerID = ownerID;\n  return record;\n}\n\nfunction recordName(record) {\n  return record.constructor.displayName || record.constructor.name || 'Record';\n}\n\nfunction recordSeq(record) {\n  return keyedSeqFromValue(record._keys.map(function (k) { return [k, record.get(k)]; }));\n}\n\nfunction setProp(prototype, name) {\n  try {\n    Object.defineProperty(prototype, name, {\n      get: function() {\n        return this.get(name);\n      },\n      set: function(value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      },\n    });\n  } catch (error) {\n    // Object.defineProperty failed. Probably IE8.\n  }\n}\n\n/**\n * Returns a lazy Seq of `value` repeated `times` times. When `times` is\n * undefined, returns an infinite sequence of `value`.\n */\nvar Repeat = /*@__PURE__*/(function (IndexedSeq$$1) {\n  function Repeat(value, times) {\n    if (!(this instanceof Repeat)) {\n      return new Repeat(value, times);\n    }\n    this._value = value;\n    this.size = times === undefined ? Infinity : Math.max(0, times);\n    if (this.size === 0) {\n      if (EMPTY_REPEAT) {\n        return EMPTY_REPEAT;\n      }\n      EMPTY_REPEAT = this;\n    }\n  }\n\n  if ( IndexedSeq$$1 ) Repeat.__proto__ = IndexedSeq$$1;\n  Repeat.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  Repeat.prototype.constructor = Repeat;\n\n  Repeat.prototype.toString = function toString () {\n    if (this.size === 0) {\n      return 'Repeat []';\n    }\n    return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n  };\n\n  Repeat.prototype.get = function get (index, notSetValue) {\n    return this.has(index) ? this._value : notSetValue;\n  };\n\n  Repeat.prototype.includes = function includes (searchValue) {\n    return is(this._value, searchValue);\n  };\n\n  Repeat.prototype.slice = function slice (begin, end) {\n    var size = this.size;\n    return wholeSlice(begin, end, size)\n      ? this\n      : new Repeat(\n          this._value,\n          resolveEnd(end, size) - resolveBegin(begin, size)\n        );\n  };\n\n  Repeat.prototype.reverse = function reverse () {\n    return this;\n  };\n\n  Repeat.prototype.indexOf = function indexOf (searchValue) {\n    if (is(this._value, searchValue)) {\n      return 0;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n    if (is(this._value, searchValue)) {\n      return this.size;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.__iterate = function __iterate (fn, reverse) {\n    var size = this.size;\n    var i = 0;\n    while (i !== size) {\n      if (fn(this._value, reverse ? size - ++i : i++, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  Repeat.prototype.__iterator = function __iterator (type, reverse) {\n    var this$1 = this;\n\n    var size = this.size;\n    var i = 0;\n    return new Iterator(\n      function () { return i === size\n          ? iteratorDone()\n          : iteratorValue(type, reverse ? size - ++i : i++, this$1._value); }\n    );\n  };\n\n  Repeat.prototype.equals = function equals (other) {\n    return other instanceof Repeat\n      ? is(this._value, other._value)\n      : deepEqual(other);\n  };\n\n  return Repeat;\n}(IndexedSeq));\n\nvar EMPTY_REPEAT;\n\nfunction fromJS(value, converter) {\n  return fromJSWith(\n    [],\n    converter || defaultConverter,\n    value,\n    '',\n    converter && converter.length > 2 ? [] : undefined,\n    { '': value }\n  );\n}\n\nfunction fromJSWith(stack, converter, value, key, keyPath, parentValue) {\n  var toSeq = Array.isArray(value)\n    ? IndexedSeq\n    : isPlainObj(value)\n      ? KeyedSeq\n      : null;\n  if (toSeq) {\n    if (~stack.indexOf(value)) {\n      throw new TypeError('Cannot convert circular structure to Immutable');\n    }\n    stack.push(value);\n    keyPath && key !== '' && keyPath.push(key);\n    var converted = converter.call(\n      parentValue,\n      key,\n      toSeq(value).map(function (v, k) { return fromJSWith(stack, converter, v, k, keyPath, value); }\n      ),\n      keyPath && keyPath.slice()\n    );\n    stack.pop();\n    keyPath && keyPath.pop();\n    return converted;\n  }\n  return value;\n}\n\nfunction defaultConverter(k, v) {\n  return isKeyed(v) ? v.toMap() : v.toList();\n}\n\nvar version = \"4.0.0-rc.11\";\n\nvar Immutable = {\n  version: version,\n\n  Collection: Collection,\n  // Note: Iterable is deprecated\n  Iterable: Collection,\n\n  Seq: Seq,\n  Map: Map,\n  OrderedMap: OrderedMap,\n  List: List,\n  Stack: Stack,\n  Set: Set,\n  OrderedSet: OrderedSet,\n\n  Record: Record,\n  Range: Range,\n  Repeat: Repeat,\n\n  is: is,\n  fromJS: fromJS,\n  hash: hash,\n\n  isImmutable: isImmutable,\n  isCollection: isCollection,\n  isKeyed: isKeyed,\n  isIndexed: isIndexed,\n  isAssociative: isAssociative,\n  isOrdered: isOrdered,\n  isValueObject: isValueObject,\n  isSeq: isSeq,\n  isList: isList,\n  isMap: isMap,\n  isOrderedMap: isOrderedMap,\n  isStack: isStack,\n  isSet: isSet,\n  isOrderedSet: isOrderedSet,\n  isRecord: isRecord,\n\n  get: get,\n  getIn: getIn,\n  has: has,\n  hasIn: hasIn,\n  merge: merge$1,\n  mergeDeep: mergeDeep,\n  mergeWith: mergeWith$1,\n  mergeDeepWith: mergeDeepWith,\n  remove: remove,\n  removeIn: removeIn,\n  set: set,\n  setIn: setIn,\n  update: update,\n  updateIn: updateIn,\n};\n\n// Note: Iterable is deprecated\nvar Iterable = Collection;\n\nexport default Immutable;\nexport { version, Collection, Iterable, Seq, Map, OrderedMap, List, Stack, Set, OrderedSet, Record, Range, Repeat, is, fromJS, hash, isImmutable, isCollection, isKeyed, isIndexed, isAssociative, isOrdered, isValueObject, get, getIn, has, hasIn, merge$1 as merge, mergeDeep, mergeWith$1 as mergeWith, mergeDeepWith, remove, removeIn, set, setIn, update, updateIn };\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-reconciler.production.min.js');\n} else {\n  module.exports = require('./cjs/react-reconciler.development.js');\n}\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction shallow(objA, objB) {\n  if (Object.is(objA, objB)) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n\n  if (keysA.length !== Object.keys(objB).length) {\n    return false;\n  }\n\n  for (var i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !Object.is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexports.default = shallow;\n","// stats.js - http://github.com/mrdoob/stats.js\nvar Stats=function(){function h(a){c.appendChild(a.dom);return a}function k(a){for(var d=0;d<c.children.length;d++)c.children[d].style.display=d===a?\"block\":\"none\";l=a}var l=0,c=document.createElement(\"div\");c.style.cssText=\"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\";c.addEventListener(\"click\",function(a){a.preventDefault();k(++l%c.children.length)},!1);var g=(performance||Date).now(),e=g,a=0,r=h(new Stats.Panel(\"FPS\",\"#0ff\",\"#002\")),f=h(new Stats.Panel(\"MS\",\"#0f0\",\"#020\"));\nif(self.performance&&self.performance.memory)var t=h(new Stats.Panel(\"MB\",\"#f08\",\"#201\"));k(0);return{REVISION:16,dom:c,addPanel:h,showPanel:k,begin:function(){g=(performance||Date).now()},end:function(){a++;var c=(performance||Date).now();f.update(c-g,200);if(c>e+1E3&&(r.update(1E3*a/(c-e),100),e=c,a=0,t)){var d=performance.memory;t.update(d.usedJSHeapSize/1048576,d.jsHeapSizeLimit/1048576)}return c},update:function(){g=this.end()},domElement:c,setMode:k}};\nStats.Panel=function(h,k,l){var c=Infinity,g=0,e=Math.round,a=e(window.devicePixelRatio||1),r=80*a,f=48*a,t=3*a,u=2*a,d=3*a,m=15*a,n=74*a,p=30*a,q=document.createElement(\"canvas\");q.width=r;q.height=f;q.style.cssText=\"width:80px;height:48px\";var b=q.getContext(\"2d\");b.font=\"bold \"+9*a+\"px Helvetica,Arial,sans-serif\";b.textBaseline=\"top\";b.fillStyle=l;b.fillRect(0,0,r,f);b.fillStyle=k;b.fillText(h,t,u);b.fillRect(d,m,n,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d,m,n,p);return{dom:q,update:function(f,\nv){c=Math.min(c,f);g=Math.max(g,f);b.fillStyle=l;b.globalAlpha=1;b.fillRect(0,0,r,m);b.fillStyle=k;b.fillText(e(f)+\" \"+h+\" (\"+e(c)+\"-\"+e(g)+\")\",t,u);b.drawImage(q,d+a,m,n-a,p,d,m,n-a,p);b.fillRect(d+n-a,m,a,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d+n-a,m,a,e((1-f/v)*p))}}};\"object\"===typeof module&&(module.exports=Stats);\n","/** @license React v17.0.2\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=require(\"object-assign\"),n=60103,p=60106;exports.Fragment=60107;exports.StrictMode=60108;exports.Profiler=60114;var q=60109,r=60110,t=60112;exports.Suspense=60113;var u=60115,v=60116;\nif(\"function\"===typeof Symbol&&Symbol.for){var w=Symbol.for;n=w(\"react.element\");p=w(\"react.portal\");exports.Fragment=w(\"react.fragment\");exports.StrictMode=w(\"react.strict_mode\");exports.Profiler=w(\"react.profiler\");q=w(\"react.provider\");r=w(\"react.context\");t=w(\"react.forward_ref\");exports.Suspense=w(\"react.suspense\");u=w(\"react.memo\");v=w(\"react.lazy\")}var x=\"function\"===typeof Symbol&&Symbol.iterator;\nfunction y(a){if(null===a||\"object\"!==typeof a)return null;a=x&&a[x]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}function z(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}\nvar A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B={};function C(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}C.prototype.isReactComponent={};C.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(z(85));this.updater.enqueueSetState(this,a,b,\"setState\")};C.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};\nfunction D(){}D.prototype=C.prototype;function E(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}var F=E.prototype=new D;F.constructor=E;l(F,C.prototype);F.isPureReactComponent=!0;var G={current:null},H=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};\nfunction J(a,b,c){var e,d={},k=null,h=null;if(null!=b)for(e in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)H.call(b,e)&&!I.hasOwnProperty(e)&&(d[e]=b[e]);var g=arguments.length-2;if(1===g)d.children=c;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];d.children=f}if(a&&a.defaultProps)for(e in g=a.defaultProps,g)void 0===d[e]&&(d[e]=g[e]);return{$$typeof:n,type:a,key:k,ref:h,props:d,_owner:G.current}}\nfunction K(a,b){return{$$typeof:n,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function L(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===n}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var M=/\\/+/g;function N(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction O(a,b,c,e,d){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case n:case p:h=!0}}if(h)return h=a,d=d(h),a=\"\"===e?\".\"+N(h,0):e,Array.isArray(d)?(c=\"\",null!=a&&(c=a.replace(M,\"$&/\")+\"/\"),O(d,b,c,\"\",function(a){return a})):null!=d&&(L(d)&&(d=K(d,c+(!d.key||h&&h.key===d.key?\"\":(\"\"+d.key).replace(M,\"$&/\")+\"/\")+a)),b.push(d)),1;h=0;e=\"\"===e?\".\":e+\":\";if(Array.isArray(a))for(var g=\n0;g<a.length;g++){k=a[g];var f=e+N(k,g);h+=O(k,b,c,f,d)}else if(f=y(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=e+N(k,g++),h+=O(k,b,c,f,d);else if(\"object\"===k)throw b=\"\"+a,Error(z(31,\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b));return h}function P(a,b,c){if(null==a)return a;var e=[],d=0;O(a,e,\"\",\"\",function(a){return b.call(c,a,d++)});return e}\nfunction Q(a){if(-1===a._status){var b=a._result;b=b();a._status=0;a._result=b;b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}if(1===a._status)return a._result;throw a._result;}var R={current:null};function S(){var a=R.current;if(null===a)throw Error(z(321));return a}var T={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G,IsSomeRendererActing:{current:!1},assign:l};\nexports.Children={map:P,forEach:function(a,b,c){P(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;P(a,function(){b++});return b},toArray:function(a){return P(a,function(a){return a})||[]},only:function(a){if(!L(a))throw Error(z(143));return a}};exports.Component=C;exports.PureComponent=E;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T;\nexports.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(z(267,a));var e=l({},a.props),d=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=G.current);void 0!==b.key&&(d=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)H.call(b,f)&&!I.hasOwnProperty(f)&&(e[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)e.children=c;else if(1<f){g=Array(f);for(var m=0;m<f;m++)g[m]=arguments[m+2];e.children=g}return{$$typeof:n,type:a.type,\nkey:d,ref:k,props:e,_owner:h}};exports.createContext=function(a,b){void 0===b&&(b=null);a={$$typeof:r,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:q,_context:a};return a.Consumer=a};exports.createElement=J;exports.createFactory=function(a){var b=J.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};exports.forwardRef=function(a){return{$$typeof:t,render:a}};exports.isValidElement=L;\nexports.lazy=function(a){return{$$typeof:v,_payload:{_status:-1,_result:a},_init:Q}};exports.memo=function(a,b){return{$$typeof:u,type:a,compare:void 0===b?null:b}};exports.useCallback=function(a,b){return S().useCallback(a,b)};exports.useContext=function(a,b){return S().useContext(a,b)};exports.useDebugValue=function(){};exports.useEffect=function(a,b){return S().useEffect(a,b)};exports.useImperativeHandle=function(a,b,c){return S().useImperativeHandle(a,b,c)};\nexports.useLayoutEffect=function(a,b){return S().useLayoutEffect(a,b)};exports.useMemo=function(a,b){return S().useMemo(a,b)};exports.useReducer=function(a,b,c){return S().useReducer(a,b,c)};exports.useRef=function(a){return S().useRef(a)};exports.useState=function(a){return S().useState(a)};exports.version=\"17.0.2\";\n","/** @license React v17.0.2\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),m=require(\"object-assign\"),r=require(\"scheduler\");function y(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}if(!aa)throw Error(y(227));var ba=new Set,ca={};function da(a,b){ea(a,b);ea(a+\"Capture\",b)}\nfunction ea(a,b){ca[a]=b;for(a=0;a<b.length;a++)ba.add(b[a])}\nvar fa=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ha=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,ia=Object.prototype.hasOwnProperty,\nja={},ka={};function la(a){if(ia.call(ka,a))return!0;if(ia.call(ja,a))return!1;if(ha.test(a))return ka[a]=!0;ja[a]=!0;return!1}function ma(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction na(a,b,c,d){if(null===b||\"undefined\"===typeof b||ma(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function B(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var D={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){D[a]=new B(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];D[b]=new B(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){D[a]=new B(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){D[a]=new B(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){D[a]=new B(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){D[a]=new B(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){D[a]=new B(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){D[a]=new B(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){D[a]=new B(a,5,!1,a.toLowerCase(),null,!1,!1)});var oa=/[\\-:]([a-z])/g;function pa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(oa,\npa);D[b]=new B(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!1,!1)});\nD.xlinkHref=new B(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction qa(a,b,c,d){var e=D.hasOwnProperty(b)?D[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1]?!1:!0;f||(na(b,c,e,d)&&(c=null),d||null===e?la(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}\nvar ra=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa=60103,ta=60106,ua=60107,wa=60108,xa=60114,ya=60109,za=60110,Aa=60112,Ba=60113,Ca=60120,Da=60115,Ea=60116,Fa=60121,Ga=60128,Ha=60129,Ia=60130,Ja=60131;\nif(\"function\"===typeof Symbol&&Symbol.for){var E=Symbol.for;sa=E(\"react.element\");ta=E(\"react.portal\");ua=E(\"react.fragment\");wa=E(\"react.strict_mode\");xa=E(\"react.profiler\");ya=E(\"react.provider\");za=E(\"react.context\");Aa=E(\"react.forward_ref\");Ba=E(\"react.suspense\");Ca=E(\"react.suspense_list\");Da=E(\"react.memo\");Ea=E(\"react.lazy\");Fa=E(\"react.block\");E(\"react.scope\");Ga=E(\"react.opaque.id\");Ha=E(\"react.debug_trace_mode\");Ia=E(\"react.offscreen\");Ja=E(\"react.legacy_hidden\")}\nvar Ka=\"function\"===typeof Symbol&&Symbol.iterator;function La(a){if(null===a||\"object\"!==typeof a)return null;a=Ka&&a[Ka]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var Ma;function Na(a){if(void 0===Ma)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);Ma=b&&b[1]||\"\"}return\"\\n\"+Ma+a}var Oa=!1;\nfunction Pa(a,b){if(!a||Oa)return\"\";Oa=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(k){var d=k}Reflect.construct(a,[],b)}else{try{b.call()}catch(k){d=k}a.call(b.prototype)}else{try{throw Error();}catch(k){d=k}a()}}catch(k){if(k&&d&&\"string\"===typeof k.stack){for(var e=k.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h])return\"\\n\"+e[g].replace(\" at new \",\" at \");while(1<=g&&0<=h)}break}}}finally{Oa=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Na(a):\"\"}\nfunction Qa(a){switch(a.tag){case 5:return Na(a.type);case 16:return Na(\"Lazy\");case 13:return Na(\"Suspense\");case 19:return Na(\"SuspenseList\");case 0:case 2:case 15:return a=Pa(a.type,!1),a;case 11:return a=Pa(a.type.render,!1),a;case 22:return a=Pa(a.type._render,!1),a;case 1:return a=Pa(a.type,!0),a;default:return\"\"}}\nfunction Ra(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ua:return\"Fragment\";case ta:return\"Portal\";case xa:return\"Profiler\";case wa:return\"StrictMode\";case Ba:return\"Suspense\";case Ca:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case za:return(a.displayName||\"Context\")+\".Consumer\";case ya:return(a._context.displayName||\"Context\")+\".Provider\";case Aa:var b=a.render;b=b.displayName||b.name||\"\";\nreturn a.displayName||(\"\"!==b?\"ForwardRef(\"+b+\")\":\"ForwardRef\");case Da:return Ra(a.type);case Fa:return Ra(a._render);case Ea:b=a._payload;a=a._init;try{return Ra(a(b))}catch(c){}}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"object\":case \"string\":case \"undefined\":return a;default:return\"\"}}function Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return m({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function $a(a,b){b=b.checked;null!=b&&qa(a,\"checked\",b,!1)}\nfunction ab(a,b){$a(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?bb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&bb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction cb(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction bb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}function db(a){var b=\"\";aa.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}function eb(a,b){a=m({children:void 0},b);if(b=db(b.children))a.children=b;return a}\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(y(91));return m({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(y(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(y(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}var kb={html:\"http://www.w3.org/1999/xhtml\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\"};\nfunction lb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function mb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?lb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar nb,ob=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(a.namespaceURI!==kb.svg||\"innerHTML\"in a)a.innerHTML=b;else{nb=nb||document.createElement(\"div\");nb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=nb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction pb(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar qb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,\nfloodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(qb).forEach(function(a){rb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);qb[b]=qb[a]})});function sb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||qb.hasOwnProperty(a)&&qb[a]?(\"\"+b).trim():b+\"px\"}\nfunction tb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=sb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var ub=m({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction vb(a,b){if(b){if(ub[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(y(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(y(60));if(!(\"object\"===typeof b.dangerouslySetInnerHTML&&\"__html\"in b.dangerouslySetInnerHTML))throw Error(y(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(y(62));}}\nfunction wb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(y(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(a,b,c,d,e){return a(b,c,d,e)}function Ib(){}var Jb=Gb,Kb=!1,Lb=!1;function Mb(){if(null!==zb||null!==Ab)Ib(),Fb()}\nfunction Nb(a,b,c){if(Lb)return a(b,c);Lb=!0;try{return Jb(a,b,c)}finally{Lb=!1,Mb()}}\nfunction Ob(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(y(231,b,typeof c));return c}var Pb=!1;if(fa)try{var Qb={};Object.defineProperty(Qb,\"passive\",{get:function(){Pb=!0}});window.addEventListener(\"test\",Qb,Qb);window.removeEventListener(\"test\",Qb,Qb)}catch(a){Pb=!1}function Rb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(n){this.onError(n)}}var Sb=!1,Tb=null,Ub=!1,Vb=null,Wb={onError:function(a){Sb=!0;Tb=a}};function Xb(a,b,c,d,e,f,g,h,k){Sb=!1;Tb=null;Rb.apply(Wb,arguments)}\nfunction Yb(a,b,c,d,e,f,g,h,k){Xb.apply(this,arguments);if(Sb){if(Sb){var l=Tb;Sb=!1;Tb=null}else throw Error(y(198));Ub||(Ub=!0,Vb=l)}}function Zb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&1026)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function $b(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function ac(a){if(Zb(a)!==a)throw Error(y(188));}\nfunction bc(a){var b=a.alternate;if(!b){b=Zb(a);if(null===b)throw Error(y(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return ac(e),a;if(f===d)return ac(e),b;f=f.sibling}throw Error(y(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(y(189));}}if(c.alternate!==d)throw Error(y(190));}if(3!==c.tag)throw Error(y(188));return c.stateNode.current===c?a:b}function cc(a){a=bc(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}\nfunction dc(a,b){for(var c=a.alternate;null!==b;){if(b===a||b===c)return!0;b=b.return}return!1}var ec,fc,gc,hc,ic=!1,jc=[],kc=null,lc=null,mc=null,nc=new Map,oc=new Map,pc=[],qc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction rc(a,b,c,d,e){return{blockedOn:a,domEventName:b,eventSystemFlags:c|16,nativeEvent:e,targetContainers:[d]}}function sc(a,b){switch(a){case \"focusin\":case \"focusout\":kc=null;break;case \"dragenter\":case \"dragleave\":lc=null;break;case \"mouseover\":case \"mouseout\":mc=null;break;case \"pointerover\":case \"pointerout\":nc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":oc.delete(b.pointerId)}}\nfunction tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a=rc(b,c,d,e,f),null!==b&&(b=Cb(b),null!==b&&fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction uc(a,b,c,d,e){switch(b){case \"focusin\":return kc=tc(kc,a,b,c,d,e),!0;case \"dragenter\":return lc=tc(lc,a,b,c,d,e),!0;case \"mouseover\":return mc=tc(mc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;nc.set(f,tc(nc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,oc.set(f,tc(oc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction vc(a){var b=wc(a.target);if(null!==b){var c=Zb(b);if(null!==c)if(b=c.tag,13===b){if(b=$b(c),null!==b){a.blockedOn=b;hc(a.lanePriority,function(){r.unstable_runWithPriority(a.priority,function(){gc(c)})});return}}else if(3===b&&c.stateNode.hydrate){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c)return b=Cb(c),null!==b&&fc(b),a.blockedOn=c,!1;b.shift()}return!0}function zc(a,b,c){xc(a)&&c.delete(b)}\nfunction Ac(){for(ic=!1;0<jc.length;){var a=jc[0];if(null!==a.blockedOn){a=Cb(a.blockedOn);null!==a&&ec(a);break}for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c){a.blockedOn=c;break}b.shift()}null===a.blockedOn&&jc.shift()}null!==kc&&xc(kc)&&(kc=null);null!==lc&&xc(lc)&&(lc=null);null!==mc&&xc(mc)&&(mc=null);nc.forEach(zc);oc.forEach(zc)}\nfunction Bc(a,b){a.blockedOn===b&&(a.blockedOn=null,ic||(ic=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ac)))}\nfunction Cc(a){function b(b){return Bc(b,a)}if(0<jc.length){Bc(jc[0],a);for(var c=1;c<jc.length;c++){var d=jc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==kc&&Bc(kc,a);null!==lc&&Bc(lc,a);null!==mc&&Bc(mc,a);nc.forEach(b);oc.forEach(b);for(c=0;c<pc.length;c++)d=pc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<pc.length&&(c=pc[0],null===c.blockedOn);)vc(c),null===c.blockedOn&&pc.shift()}\nfunction Dc(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var Ec={animationend:Dc(\"Animation\",\"AnimationEnd\"),animationiteration:Dc(\"Animation\",\"AnimationIteration\"),animationstart:Dc(\"Animation\",\"AnimationStart\"),transitionend:Dc(\"Transition\",\"TransitionEnd\")},Fc={},Gc={};\nfa&&(Gc=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),\"TransitionEvent\"in window||delete Ec.transitionend.transition);function Hc(a){if(Fc[a])return Fc[a];if(!Ec[a])return a;var b=Ec[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Gc)return Fc[a]=b[c];return a}\nvar Ic=Hc(\"animationend\"),Jc=Hc(\"animationiteration\"),Kc=Hc(\"animationstart\"),Lc=Hc(\"transitionend\"),Mc=new Map,Nc=new Map,Oc=[\"abort\",\"abort\",Ic,\"animationEnd\",Jc,\"animationIteration\",Kc,\"animationStart\",\"canplay\",\"canPlay\",\"canplaythrough\",\"canPlayThrough\",\"durationchange\",\"durationChange\",\"emptied\",\"emptied\",\"encrypted\",\"encrypted\",\"ended\",\"ended\",\"error\",\"error\",\"gotpointercapture\",\"gotPointerCapture\",\"load\",\"load\",\"loadeddata\",\"loadedData\",\"loadedmetadata\",\"loadedMetadata\",\"loadstart\",\"loadStart\",\n\"lostpointercapture\",\"lostPointerCapture\",\"playing\",\"playing\",\"progress\",\"progress\",\"seeking\",\"seeking\",\"stalled\",\"stalled\",\"suspend\",\"suspend\",\"timeupdate\",\"timeUpdate\",Lc,\"transitionEnd\",\"waiting\",\"waiting\"];function Pc(a,b){for(var c=0;c<a.length;c+=2){var d=a[c],e=a[c+1];e=\"on\"+(e[0].toUpperCase()+e.slice(1));Nc.set(d,b);Mc.set(d,e);da(e,[d])}}var Qc=r.unstable_now;Qc();var F=8;\nfunction Rc(a){if(0!==(1&a))return F=15,1;if(0!==(2&a))return F=14,2;if(0!==(4&a))return F=13,4;var b=24&a;if(0!==b)return F=12,b;if(0!==(a&32))return F=11,32;b=192&a;if(0!==b)return F=10,b;if(0!==(a&256))return F=9,256;b=3584&a;if(0!==b)return F=8,b;if(0!==(a&4096))return F=7,4096;b=4186112&a;if(0!==b)return F=6,b;b=62914560&a;if(0!==b)return F=5,b;if(a&67108864)return F=4,67108864;if(0!==(a&134217728))return F=3,134217728;b=805306368&a;if(0!==b)return F=2,b;if(0!==(1073741824&a))return F=1,1073741824;\nF=8;return a}function Sc(a){switch(a){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Tc(a){switch(a){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y(358,a));}}\nfunction Uc(a,b){var c=a.pendingLanes;if(0===c)return F=0;var d=0,e=0,f=a.expiredLanes,g=a.suspendedLanes,h=a.pingedLanes;if(0!==f)d=f,e=F=15;else if(f=c&134217727,0!==f){var k=f&~g;0!==k?(d=Rc(k),e=F):(h&=f,0!==h&&(d=Rc(h),e=F))}else f=c&~g,0!==f?(d=Rc(f),e=F):0!==h&&(d=Rc(h),e=F);if(0===d)return 0;d=31-Vc(d);d=c&((0>d?0:1<<d)<<1)-1;if(0!==b&&b!==d&&0===(b&g)){Rc(b);if(e<=F)return b;F=e}b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-Vc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction Wc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function Xc(a,b){switch(a){case 15:return 1;case 14:return 2;case 12:return a=Yc(24&~b),0===a?Xc(10,b):a;case 10:return a=Yc(192&~b),0===a?Xc(8,b):a;case 8:return a=Yc(3584&~b),0===a&&(a=Yc(4186112&~b),0===a&&(a=512)),a;case 2:return b=Yc(805306368&~b),0===b&&(b=268435456),b}throw Error(y(358,a));}function Yc(a){return a&-a}function Zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction $c(a,b,c){a.pendingLanes|=b;var d=b-1;a.suspendedLanes&=d;a.pingedLanes&=d;a=a.eventTimes;b=31-Vc(b);a[b]=c}var Vc=Math.clz32?Math.clz32:ad,bd=Math.log,cd=Math.LN2;function ad(a){return 0===a?32:31-(bd(a)/cd|0)|0}var dd=r.unstable_UserBlockingPriority,ed=r.unstable_runWithPriority,fd=!0;function gd(a,b,c,d){Kb||Ib();var e=hd,f=Kb;Kb=!0;try{Hb(e,a,b,c,d)}finally{(Kb=f)||Mb()}}function id(a,b,c,d){ed(dd,hd.bind(null,a,b,c,d))}\nfunction hd(a,b,c,d){if(fd){var e;if((e=0===(b&4))&&0<jc.length&&-1<qc.indexOf(a))a=rc(null,a,b,c,d),jc.push(a);else{var f=yc(a,b,c,d);if(null===f)e&&sc(a,d);else{if(e){if(-1<qc.indexOf(a)){a=rc(f,a,b,c,d);jc.push(a);return}if(uc(f,a,b,c,d))return;sc(a,d)}jd(a,b,d,null,c)}}}}\nfunction yc(a,b,c,d){var e=xb(d);e=wc(e);if(null!==e){var f=Zb(e);if(null===f)e=null;else{var g=f.tag;if(13===g){e=$b(f);if(null!==e)return e;e=null}else if(3===g){if(f.stateNode.hydrate)return 3===f.tag?f.stateNode.containerInfo:null;e=null}else f!==e&&(e=null)}}jd(a,b,d,e,c);return null}var kd=null,ld=null,md=null;\nfunction nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}function od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}m(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=m({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=m({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=m({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=m({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=m({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=m({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=m({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=m({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=m({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=m({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=m({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=m({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=fa&&\"CompositionEvent\"in window,be=null;fa&&\"documentMode\"in document&&(be=document.documentMode);var ce=fa&&\"TextEvent\"in window&&!be,de=fa&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(fa){var xe;if(fa){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));a=re;if(Kb)a(b);else{Kb=!0;try{Gb(a,b)}finally{Kb=!1,Mb()}}}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge,Ie=Object.prototype.hasOwnProperty;\nfunction Je(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!Ie.call(b,c[d])||!He(a[c[d]],b[c[d]]))return!1;return!0}function Ke(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Le(a,b){var c=Ke(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Ke(c)}}function Me(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Me(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Ne(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Oe(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nvar Pe=fa&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Oe(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Je(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nPc(\"cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange\".split(\" \"),\n0);Pc(\"drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel\".split(\" \"),1);Pc(Oc,2);for(var Ve=\"change selectionchange textInput compositionstart compositionend compositionupdate\".split(\" \"),We=0;We<Ve.length;We++)Nc.set(Ve[We],0);ea(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);\nea(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ea(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);ea(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);da(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));da(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));da(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);da(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));\nda(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));da(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var Xe=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),Ye=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(Xe));\nfunction Ze(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Yb(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}}}if(Ub)throw a=Vb,Ub=!1,Vb=null,a;}\nfunction G(a,b){var c=$e(b),d=a+\"__bubble\";c.has(d)||(af(b,a,2,!1),c.add(d))}var bf=\"_reactListening\"+Math.random().toString(36).slice(2);function cf(a){a[bf]||(a[bf]=!0,ba.forEach(function(b){Ye.has(b)||df(b,!1,a,null);df(b,!0,a,null)}))}\nfunction df(a,b,c,d){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,f=c;\"selectionchange\"===a&&9!==c.nodeType&&(f=c.ownerDocument);if(null!==d&&!b&&Ye.has(a)){if(\"scroll\"!==a)return;e|=2;f=d}var g=$e(f),h=a+\"__\"+(b?\"capture\":\"bubble\");g.has(h)||(b&&(e|=4),af(f,a,e,b),g.add(h))}\nfunction af(a,b,c,d){var e=Nc.get(b);switch(void 0===e?2:e){case 0:e=gd;break;case 1:e=id;break;default:e=hd}c=e.bind(null,b,c,a);e=void 0;!Pb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction jd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Nb(function(){var d=f,e=xb(c),g=[];\na:{var h=Mc.get(a);if(void 0!==h){var k=td,x=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":x=\"focus\";k=Fd;break;case \"focusout\":x=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case Ic:case Jc:case Kc:k=Hd;break;case Lc:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var w=0!==(b&4),z=!w&&\"scroll\"===a,u=w?null!==h?h+\"Capture\":null:h;w=[];for(var t=d,q;null!==\nt;){q=t;var v=q.stateNode;5===q.tag&&null!==v&&(q=v,null!==u&&(v=Ob(t,u),null!=v&&w.push(ef(t,v,q))));if(z)break;t=t.return}0<w.length&&(h=new k(h,x,null,c,e),g.push({event:h,listeners:w}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&0===(b&16)&&(x=c.relatedTarget||c.fromElement)&&(wc(x)||x[ff]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(x=c.relatedTarget||c.toElement,k=d,x=x?wc(x):null,null!==\nx&&(z=Zb(x),x!==z||5!==x.tag&&6!==x.tag))x=null}else k=null,x=d;if(k!==x){w=Bd;v=\"onMouseLeave\";u=\"onMouseEnter\";t=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)w=Td,v=\"onPointerLeave\",u=\"onPointerEnter\",t=\"pointer\";z=null==k?h:ue(k);q=null==x?h:ue(x);h=new w(v,t+\"leave\",k,c,e);h.target=z;h.relatedTarget=q;v=null;wc(e)===d&&(w=new w(u,t+\"enter\",x,c,e),w.target=q,w.relatedTarget=z,v=w);z=v;if(k&&x)b:{w=k;u=x;t=0;for(q=w;q;q=gf(q))t++;q=0;for(v=u;v;v=gf(v))q++;for(;0<t-q;)w=gf(w),t--;for(;0<q-t;)u=\ngf(u),q--;for(;t--;){if(w===u||null!==u&&w===u.alternate)break b;w=gf(w);u=gf(u)}w=null}else w=null;null!==k&&hf(g,h,k,w,!1);null!==x&&null!==z&&hf(g,z,x,w,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var J=ve;else if(me(h))if(we)J=Fe;else{J=De;var K=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(J=Ee);if(J&&(J=J(a,d))){ne(g,J,c,e);break a}K&&K(a,h,d);\"focusout\"===a&&(K=h._wrapperState)&&\nK.controlled&&\"number\"===h.type&&bb(h,\"number\",h.value)}K=d?ue(d):window;switch(a){case \"focusin\":if(me(K)||\"true\"===K.contentEditable)Qe=K,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var Q;if(ae)b:{switch(a){case \"compositionstart\":var L=\"onCompositionStart\";break b;case \"compositionend\":L=\"onCompositionEnd\";break b;\ncase \"compositionupdate\":L=\"onCompositionUpdate\";break b}L=void 0}else ie?ge(a,c)&&(L=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(L=\"onCompositionStart\");L&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==L?\"onCompositionEnd\"===L&&ie&&(Q=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),K=oe(d,L),0<K.length&&(L=new Ld(L,a,null,c,e),g.push({event:L,listeners:K}),Q?L.data=Q:(Q=he(c),null!==Q&&(L.data=Q))));if(Q=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),0<d.length&&(e=new Ld(\"onBeforeInput\",\n\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=Q)}se(g,b)})}function ef(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Ob(a,c),null!=f&&d.unshift(ef(a,f,e)),f=Ob(a,b),null!=f&&d.push(ef(a,f,e)));a=a.return}return d}function gf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction hf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Ob(c,f),null!=k&&g.unshift(ef(c,k,h))):e||(k=Ob(c,f),null!=k&&g.push(ef(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}function jf(){}var kf=null,lf=null;function mf(a,b){switch(a){case \"button\":case \"input\":case \"select\":case \"textarea\":return!!b.autoFocus}return!1}\nfunction nf(a,b){return\"textarea\"===a||\"option\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}var of=\"function\"===typeof setTimeout?setTimeout:void 0,pf=\"function\"===typeof clearTimeout?clearTimeout:void 0;function qf(a){1===a.nodeType?a.textContent=\"\":9===a.nodeType&&(a=a.body,null!=a&&(a.textContent=\"\"))}\nfunction rf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break}return a}function sf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var tf=0;function uf(a){return{$$typeof:Ga,toString:a,valueOf:a}}var vf=Math.random().toString(36).slice(2),wf=\"__reactFiber$\"+vf,xf=\"__reactProps$\"+vf,ff=\"__reactContainer$\"+vf,yf=\"__reactEvents$\"+vf;\nfunction wc(a){var b=a[wf];if(b)return b;for(var c=a.parentNode;c;){if(b=c[ff]||c[wf]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=sf(a);null!==a;){if(c=a[wf])return c;a=sf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[wf]||a[ff];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(y(33));}function Db(a){return a[xf]||null}\nfunction $e(a){var b=a[yf];void 0===b&&(b=a[yf]=new Set);return b}var zf=[],Af=-1;function Bf(a){return{current:a}}function H(a){0>Af||(a.current=zf[Af],zf[Af]=null,Af--)}function I(a,b){Af++;zf[Af]=a.current;a.current=b}var Cf={},M=Bf(Cf),N=Bf(!1),Df=Cf;\nfunction Ef(a,b){var c=a.type.contextTypes;if(!c)return Cf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function Ff(a){a=a.childContextTypes;return null!==a&&void 0!==a}function Gf(){H(N);H(M)}function Hf(a,b,c){if(M.current!==Cf)throw Error(y(168));I(M,b);I(N,c)}\nfunction If(a,b,c){var d=a.stateNode;a=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in a))throw Error(y(108,Ra(b)||\"Unknown\",e));return m({},c,d)}function Jf(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Cf;Df=M.current;I(M,a);I(N,N.current);return!0}function Kf(a,b,c){var d=a.stateNode;if(!d)throw Error(y(169));c?(a=If(a,b,Df),d.__reactInternalMemoizedMergedChildContext=a,H(N),H(M),I(M,a)):H(N);I(N,c)}\nvar Lf=null,Mf=null,Nf=r.unstable_runWithPriority,Of=r.unstable_scheduleCallback,Pf=r.unstable_cancelCallback,Qf=r.unstable_shouldYield,Rf=r.unstable_requestPaint,Sf=r.unstable_now,Tf=r.unstable_getCurrentPriorityLevel,Uf=r.unstable_ImmediatePriority,Vf=r.unstable_UserBlockingPriority,Wf=r.unstable_NormalPriority,Xf=r.unstable_LowPriority,Yf=r.unstable_IdlePriority,Zf={},$f=void 0!==Rf?Rf:function(){},ag=null,bg=null,cg=!1,dg=Sf(),O=1E4>dg?Sf:function(){return Sf()-dg};\nfunction eg(){switch(Tf()){case Uf:return 99;case Vf:return 98;case Wf:return 97;case Xf:return 96;case Yf:return 95;default:throw Error(y(332));}}function fg(a){switch(a){case 99:return Uf;case 98:return Vf;case 97:return Wf;case 96:return Xf;case 95:return Yf;default:throw Error(y(332));}}function gg(a,b){a=fg(a);return Nf(a,b)}function hg(a,b,c){a=fg(a);return Of(a,b,c)}function ig(){if(null!==bg){var a=bg;bg=null;Pf(a)}jg()}\nfunction jg(){if(!cg&&null!==ag){cg=!0;var a=0;try{var b=ag;gg(99,function(){for(;a<b.length;a++){var c=b[a];do c=c(!0);while(null!==c)}});ag=null}catch(c){throw null!==ag&&(ag=ag.slice(a+1)),Of(Uf,ig),c;}finally{cg=!1}}}var kg=ra.ReactCurrentBatchConfig;function lg(a,b){if(a&&a.defaultProps){b=m({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}var mg=Bf(null),ng=null,og=null,pg=null;function qg(){pg=og=ng=null}\nfunction rg(a){var b=mg.current;H(mg);a.type._context._currentValue=b}function sg(a,b){for(;null!==a;){var c=a.alternate;if((a.childLanes&b)===b)if(null===c||(c.childLanes&b)===b)break;else c.childLanes|=b;else a.childLanes|=b,null!==c&&(c.childLanes|=b);a=a.return}}function tg(a,b){ng=a;pg=og=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(ug=!0),a.firstContext=null)}\nfunction vg(a,b){if(pg!==a&&!1!==b&&0!==b){if(\"number\"!==typeof b||1073741823===b)pg=a,b=1073741823;b={context:a,observedBits:b,next:null};if(null===og){if(null===ng)throw Error(y(308));og=b;ng.dependencies={lanes:0,firstContext:b,responders:null}}else og=og.next=b}return a._currentValue}var wg=!1;function xg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}\nfunction yg(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function zg(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}function Ag(a,b){a=a.updateQueue;if(null!==a){a=a.shared;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}}\nfunction Bg(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction Cg(a,b,c,d){var e=a.updateQueue;wg=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var n=a.alternate;if(null!==n){n=n.updateQueue;var A=n.lastBaseUpdate;A!==g&&(null===A?n.firstBaseUpdate=l:A.next=l,n.lastBaseUpdate=k)}}if(null!==f){A=e.baseState;g=0;n=l=k=null;do{h=f.lane;var p=f.eventTime;if((d&h)===h){null!==n&&(n=n.next={eventTime:p,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,\nnext:null});a:{var C=a,x=f;h=b;p=c;switch(x.tag){case 1:C=x.payload;if(\"function\"===typeof C){A=C.call(p,A,h);break a}A=C;break a;case 3:C.flags=C.flags&-4097|64;case 0:C=x.payload;h=\"function\"===typeof C?C.call(p,A,h):C;if(null===h||void 0===h)break a;A=m({},A,h);break a;case 2:wg=!0}}null!==f.callback&&(a.flags|=32,h=e.effects,null===h?e.effects=[f]:h.push(f))}else p={eventTime:p,lane:h,tag:f.tag,payload:f.payload,callback:f.callback,next:null},null===n?(l=n=p,k=A):n=n.next=p,g|=h;f=f.next;if(null===\nf)if(h=e.shared.pending,null===h)break;else f=h.next,h.next=null,e.lastBaseUpdate=h,e.shared.pending=null}while(1);null===n&&(k=A);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=n;Dg|=g;a.lanes=g;a.memoizedState=A}}function Eg(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(y(191,e));e.call(d)}}}var Fg=(new aa.Component).refs;\nfunction Gg(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:m({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar Kg={isMounted:function(a){return(a=a._reactInternals)?Zb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=Hg(),d=Ig(a),e=zg(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=\nb);Ag(a,e);Jg(a,d,c)}};function Lg(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Je(c,d)||!Je(e,f):!0}\nfunction Mg(a,b,c){var d=!1,e=Cf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=vg(f):(e=Ff(b)?Df:M.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Ef(a,e):Cf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Kg;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Ng(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Kg.enqueueReplaceState(b,b.state,null)}\nfunction Og(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=Fg;xg(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=vg(f):(f=Ff(b)?Df:M.current,e.context=Ef(a,f));Cg(a,c,e,d);e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Gg(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||\n(b=e.state,\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Kg.enqueueReplaceState(e,e.state,null),Cg(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4)}var Pg=Array.isArray;\nfunction Qg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(y(309));var d=c.stateNode}if(!d)throw Error(y(147,a));var e=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===Fg&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}if(\"string\"!==typeof a)throw Error(y(284));if(!c._owner)throw Error(y(290,a));}return a}\nfunction Rg(a,b){if(\"textarea\"!==a.type)throw Error(y(31,\"[object Object]\"===Object.prototype.toString.call(b)?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":b));}\nfunction Sg(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.flags=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Tg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags=2,\nc):d;b.flags=2;return c}function g(b){a&&null===b.alternate&&(b.flags=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Ug(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props),d.ref=Qg(a,b,c),d.return=a,d;d=Vg(c.type,c.key,c.props,null,a.mode,d);d.ref=Qg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=\nWg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function n(a,b,c,d,f){if(null===b||7!==b.tag)return b=Xg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function A(a,b,c){if(\"string\"===typeof b||\"number\"===typeof b)return b=Ug(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case sa:return c=Vg(b.type,b.key,b.props,null,a.mode,c),c.ref=Qg(a,null,b),c.return=a,c;case ta:return b=Wg(b,a.mode,c),b.return=a,b}if(Pg(b)||La(b))return b=Xg(b,\na.mode,c,null),b.return=a,b;Rg(a,b)}return null}function p(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case sa:return c.key===e?c.type===ua?n(a,b,c.props.children,d,e):k(a,b,c,d):null;case ta:return c.key===e?l(a,b,c,d):null}if(Pg(c)||La(c))return null!==e?null:n(a,b,c,d,null);Rg(a,c)}return null}function C(a,b,c,d,e){if(\"string\"===typeof d||\"number\"===typeof d)return a=a.get(c)||\nnull,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case sa:return a=a.get(null===d.key?c:d.key)||null,d.type===ua?n(b,a,d.props.children,e,d.key):k(b,a,d,e);case ta:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e)}if(Pg(d)||La(d))return a=a.get(c)||null,n(b,a,d,e,null);Rg(b,d)}return null}function x(e,g,h,k){for(var l=null,t=null,u=g,z=g=0,q=null;null!==u&&z<h.length;z++){u.index>z?(q=u,u=null):q=u.sibling;var n=p(e,u,h[z],k);if(null===n){null===u&&(u=q);break}a&&u&&null===\nn.alternate&&b(e,u);g=f(n,g,z);null===t?l=n:t.sibling=n;t=n;u=q}if(z===h.length)return c(e,u),l;if(null===u){for(;z<h.length;z++)u=A(e,h[z],k),null!==u&&(g=f(u,g,z),null===t?l=u:t.sibling=u,t=u);return l}for(u=d(e,u);z<h.length;z++)q=C(u,e,z,h[z],k),null!==q&&(a&&null!==q.alternate&&u.delete(null===q.key?z:q.key),g=f(q,g,z),null===t?l=q:t.sibling=q,t=q);a&&u.forEach(function(a){return b(e,a)});return l}function w(e,g,h,k){var l=La(h);if(\"function\"!==typeof l)throw Error(y(150));h=l.call(h);if(null==\nh)throw Error(y(151));for(var t=l=null,u=g,z=g=0,q=null,n=h.next();null!==u&&!n.done;z++,n=h.next()){u.index>z?(q=u,u=null):q=u.sibling;var w=p(e,u,n.value,k);if(null===w){null===u&&(u=q);break}a&&u&&null===w.alternate&&b(e,u);g=f(w,g,z);null===t?l=w:t.sibling=w;t=w;u=q}if(n.done)return c(e,u),l;if(null===u){for(;!n.done;z++,n=h.next())n=A(e,n.value,k),null!==n&&(g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);return l}for(u=d(e,u);!n.done;z++,n=h.next())n=C(u,e,z,n.value,k),null!==n&&(a&&null!==n.alternate&&\nu.delete(null===n.key?z:n.key),g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);a&&u.forEach(function(a){return b(e,a)});return l}return function(a,d,f,h){var k=\"object\"===typeof f&&null!==f&&f.type===ua&&null===f.key;k&&(f=f.props.children);var l=\"object\"===typeof f&&null!==f;if(l)switch(f.$$typeof){case sa:a:{l=f.key;for(k=d;null!==k;){if(k.key===l){switch(k.tag){case 7:if(f.type===ua){c(a,k.sibling);d=e(k,f.props.children);d.return=a;a=d;break a}break;default:if(k.elementType===f.type){c(a,k.sibling);\nd=e(k,f.props);d.ref=Qg(a,k,f);d.return=a;a=d;break a}}c(a,k);break}else b(a,k);k=k.sibling}f.type===ua?(d=Xg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Vg(f.type,f.key,f.props,null,a.mode,h),h.ref=Qg(a,d,f),h.return=a,a=h)}return g(a);case ta:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=\nWg(f,a.mode,h);d.return=a;a=d}return g(a)}if(\"string\"===typeof f||\"number\"===typeof f)return f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):(c(a,d),d=Ug(f,a.mode,h),d.return=a,a=d),g(a);if(Pg(f))return x(a,d,f,h);if(La(f))return w(a,d,f,h);l&&Rg(a,f);if(\"undefined\"===typeof f&&!k)switch(a.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y(152,Ra(a.type)||\"Component\"));}return c(a,d)}}var Yg=Sg(!0),Zg=Sg(!1),$g={},ah=Bf($g),bh=Bf($g),ch=Bf($g);\nfunction dh(a){if(a===$g)throw Error(y(174));return a}function eh(a,b){I(ch,b);I(bh,a);I(ah,$g);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:mb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=mb(b,a)}H(ah);I(ah,b)}function fh(){H(ah);H(bh);H(ch)}function gh(a){dh(ch.current);var b=dh(ah.current);var c=mb(b,a.type);b!==c&&(I(bh,a),I(ah,c))}function hh(a){bh.current===a&&(H(ah),H(bh))}var P=Bf(0);\nfunction ih(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&64))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var jh=null,kh=null,lh=!1;\nfunction mh(a,b){var c=nh(5,null,null,0);c.elementType=\"DELETED\";c.type=\"DELETED\";c.stateNode=b;c.return=a;c.flags=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function oh(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}\nfunction ph(a){if(lh){var b=kh;if(b){var c=b;if(!oh(a,b)){b=rf(c.nextSibling);if(!b||!oh(a,b)){a.flags=a.flags&-1025|2;lh=!1;jh=a;return}mh(jh,c)}jh=a;kh=rf(b.firstChild)}else a.flags=a.flags&-1025|2,lh=!1,jh=a}}function qh(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;jh=a}\nfunction rh(a){if(a!==jh)return!1;if(!lh)return qh(a),lh=!0,!1;var b=a.type;if(5!==a.tag||\"head\"!==b&&\"body\"!==b&&!nf(b,a.memoizedProps))for(b=kh;b;)mh(a,b),b=rf(b.nextSibling);qh(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(y(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){kh=rf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}kh=null}}else kh=jh?rf(a.stateNode.nextSibling):null;return!0}\nfunction sh(){kh=jh=null;lh=!1}var th=[];function uh(){for(var a=0;a<th.length;a++)th[a]._workInProgressVersionPrimary=null;th.length=0}var vh=ra.ReactCurrentDispatcher,wh=ra.ReactCurrentBatchConfig,xh=0,R=null,S=null,T=null,yh=!1,zh=!1;function Ah(){throw Error(y(321));}function Bh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Ch(a,b,c,d,e,f){xh=f;R=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;vh.current=null===a||null===a.memoizedState?Dh:Eh;a=c(d,e);if(zh){f=0;do{zh=!1;if(!(25>f))throw Error(y(301));f+=1;T=S=null;b.updateQueue=null;vh.current=Fh;a=c(d,e)}while(zh)}vh.current=Gh;b=null!==S&&null!==S.next;xh=0;T=S=R=null;yh=!1;if(b)throw Error(y(300));return a}function Hh(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===T?R.memoizedState=T=a:T=T.next=a;return T}\nfunction Ih(){if(null===S){var a=R.alternate;a=null!==a?a.memoizedState:null}else a=S.next;var b=null===T?R.memoizedState:T.next;if(null!==b)T=b,S=a;else{if(null===a)throw Error(y(310));S=a;a={memoizedState:S.memoizedState,baseState:S.baseState,baseQueue:S.baseQueue,queue:S.queue,next:null};null===T?R.memoizedState=T=a:T=T.next=a}return T}function Jh(a,b){return\"function\"===typeof b?b(a):b}\nfunction Kh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=S,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){e=e.next;d=d.baseState;var h=g=f=null,k=e;do{var l=k.lane;if((xh&l)===l)null!==h&&(h=h.next={lane:0,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null}),d=k.eagerReducer===a?k.eagerState:a(d,k.action);else{var n={lane:l,action:k.action,eagerReducer:k.eagerReducer,\neagerState:k.eagerState,next:null};null===h?(g=h=n,f=d):h=h.next=n;R.lanes|=l;Dg|=l}k=k.next}while(null!==k&&k!==e);null===h?f=d:h.next=g;He(d,b.memoizedState)||(ug=!0);b.memoizedState=d;b.baseState=f;b.baseQueue=h;c.lastRenderedState=d}return[b.memoizedState,c.dispatch]}\nfunction Lh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(ug=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}\nfunction Mh(a,b,c){var d=b._getVersion;d=d(b._source);var e=b._workInProgressVersionPrimary;if(null!==e)a=e===d;else if(a=a.mutableReadLanes,a=(xh&a)===a)b._workInProgressVersionPrimary=d,th.push(b);if(a)return c(b._source);th.push(b);throw Error(y(350));}\nfunction Nh(a,b,c,d){var e=U;if(null===e)throw Error(y(349));var f=b._getVersion,g=f(b._source),h=vh.current,k=h.useState(function(){return Mh(e,b,c)}),l=k[1],n=k[0];k=T;var A=a.memoizedState,p=A.refs,C=p.getSnapshot,x=A.source;A=A.subscribe;var w=R;a.memoizedState={refs:p,source:b,subscribe:d};h.useEffect(function(){p.getSnapshot=c;p.setSnapshot=l;var a=f(b._source);if(!He(g,a)){a=c(b._source);He(n,a)||(l(a),a=Ig(w),e.mutableReadLanes|=a&e.pendingLanes);a=e.mutableReadLanes;e.entangledLanes|=a;for(var d=\ne.entanglements,h=a;0<h;){var k=31-Vc(h),v=1<<k;d[k]|=a;h&=~v}}},[c,b,d]);h.useEffect(function(){return d(b._source,function(){var a=p.getSnapshot,c=p.setSnapshot;try{c(a(b._source));var d=Ig(w);e.mutableReadLanes|=d&e.pendingLanes}catch(q){c(function(){throw q;})}})},[b,d]);He(C,c)&&He(x,b)&&He(A,d)||(a={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:n},a.dispatch=l=Oh.bind(null,R,a),k.queue=a,k.baseQueue=null,n=Mh(e,b,c),k.memoizedState=k.baseState=n);return n}\nfunction Ph(a,b,c){var d=Ih();return Nh(d,a,b,c)}function Qh(a){var b=Hh();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a=b.queue={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:a};a=a.dispatch=Oh.bind(null,R,a);return[b.memoizedState,a]}\nfunction Rh(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=R.updateQueue;null===b?(b={lastEffect:null},R.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function Sh(a){var b=Hh();a={current:a};return b.memoizedState=a}function Th(){return Ih().memoizedState}function Uh(a,b,c,d){var e=Hh();R.flags|=a;e.memoizedState=Rh(1|b,c,void 0,void 0===d?null:d)}\nfunction Vh(a,b,c,d){var e=Ih();d=void 0===d?null:d;var f=void 0;if(null!==S){var g=S.memoizedState;f=g.destroy;if(null!==d&&Bh(d,g.deps)){Rh(b,c,f,d);return}}R.flags|=a;e.memoizedState=Rh(1|b,c,f,d)}function Wh(a,b){return Uh(516,4,a,b)}function Xh(a,b){return Vh(516,4,a,b)}function Yh(a,b){return Vh(4,2,a,b)}function Zh(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}\nfunction $h(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Vh(4,2,Zh.bind(null,b,a),c)}function ai(){}function bi(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}function ci(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}\nfunction di(a,b){var c=eg();gg(98>c?98:c,function(){a(!0)});gg(97<c?97:c,function(){var c=wh.transition;wh.transition=1;try{a(!1),b()}finally{wh.transition=c}})}\nfunction Oh(a,b,c){var d=Hg(),e=Ig(a),f={lane:e,action:c,eagerReducer:null,eagerState:null,next:null},g=b.pending;null===g?f.next=f:(f.next=g.next,g.next=f);b.pending=f;g=a.alternate;if(a===R||null!==g&&g===R)zh=yh=!0;else{if(0===a.lanes&&(null===g||0===g.lanes)&&(g=b.lastRenderedReducer,null!==g))try{var h=b.lastRenderedState,k=g(h,c);f.eagerReducer=g;f.eagerState=k;if(He(k,h))return}catch(l){}finally{}Jg(a,e,d)}}\nvar Gh={readContext:vg,useCallback:Ah,useContext:Ah,useEffect:Ah,useImperativeHandle:Ah,useLayoutEffect:Ah,useMemo:Ah,useReducer:Ah,useRef:Ah,useState:Ah,useDebugValue:Ah,useDeferredValue:Ah,useTransition:Ah,useMutableSource:Ah,useOpaqueIdentifier:Ah,unstable_isNewReconciler:!1},Dh={readContext:vg,useCallback:function(a,b){Hh().memoizedState=[a,void 0===b?null:b];return a},useContext:vg,useEffect:Wh,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Uh(4,2,Zh.bind(null,\nb,a),c)},useLayoutEffect:function(a,b){return Uh(4,2,a,b)},useMemo:function(a,b){var c=Hh();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Hh();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};a=a.dispatch=Oh.bind(null,R,a);return[d.memoizedState,a]},useRef:Sh,useState:Qh,useDebugValue:ai,useDeferredValue:function(a){var b=Qh(a),c=b[0],d=b[1];Wh(function(){var b=wh.transition;\nwh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Qh(!1),b=a[0];a=di.bind(null,a[1]);Sh(a);return[a,b]},useMutableSource:function(a,b,c){var d=Hh();d.memoizedState={refs:{getSnapshot:b,setSnapshot:null},source:a,subscribe:c};return Nh(d,a,b,c)},useOpaqueIdentifier:function(){if(lh){var a=!1,b=uf(function(){a||(a=!0,c(\"r:\"+(tf++).toString(36)));throw Error(y(355));}),c=Qh(b)[1];0===(R.mode&2)&&(R.flags|=516,Rh(5,function(){c(\"r:\"+(tf++).toString(36))},\nvoid 0,null));return b}b=\"r:\"+(tf++).toString(36);Qh(b);return b},unstable_isNewReconciler:!1},Eh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Kh,useRef:Th,useState:function(){return Kh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Kh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Kh(Jh)[0];return[Th().current,\na]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Kh(Jh)[0]},unstable_isNewReconciler:!1},Fh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Lh,useRef:Th,useState:function(){return Lh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Lh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Lh(Jh)[0];return[Th().current,\na]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Lh(Jh)[0]},unstable_isNewReconciler:!1},ei=ra.ReactCurrentOwner,ug=!1;function fi(a,b,c,d){b.child=null===a?Zg(b,null,c,d):Yg(b,a.child,c,d)}function gi(a,b,c,d,e){c=c.render;var f=b.ref;tg(b,e);d=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,d,e);return b.child}\nfunction ii(a,b,c,d,e,f){if(null===a){var g=c.type;if(\"function\"===typeof g&&!ji(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,ki(a,b,g,d,e,f);a=Vg(c.type,null,d,b,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(0===(e&f)&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:Je,c(e,d)&&a.ref===b.ref))return hi(a,b,f);b.flags|=1;a=Tg(g,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction ki(a,b,c,d,e,f){if(null!==a&&Je(a.memoizedProps,d)&&a.ref===b.ref)if(ug=!1,0!==(f&e))0!==(a.flags&16384)&&(ug=!0);else return b.lanes=a.lanes,hi(a,b,f);return li(a,b,c,d,f)}\nfunction mi(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode||\"unstable-defer-without-hiding\"===d.mode)if(0===(b.mode&4))b.memoizedState={baseLanes:0},ni(b,c);else if(0!==(c&1073741824))b.memoizedState={baseLanes:0},ni(b,null!==f?f.baseLanes:c);else return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a},ni(b,a),null;else null!==f?(d=f.baseLanes|c,b.memoizedState=null):d=c,ni(b,d);fi(a,b,e,c);return b.child}\nfunction oi(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=128}function li(a,b,c,d,e){var f=Ff(c)?Df:M.current;f=Ef(b,f);tg(b,e);c=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,c,e);return b.child}\nfunction pi(a,b,c,d,e){if(Ff(c)){var f=!0;Jf(b)}else f=!1;tg(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),Mg(b,c,d),Og(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=vg(l):(l=Ff(c)?Df:M.current,l=Ef(b,l));var n=c.getDerivedStateFromProps,A=\"function\"===typeof n||\"function\"===typeof g.getSnapshotBeforeUpdate;A||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\n\"function\"!==typeof g.componentWillReceiveProps||(h!==d||k!==l)&&Ng(b,g,d,l);wg=!1;var p=b.memoizedState;g.state=p;Cg(b,d,g,e);k=b.memoizedState;h!==d||p!==k||N.current||wg?(\"function\"===typeof n&&(Gg(b,c,n,d),k=b.memoizedState),(h=wg||Lg(b,c,h,d,p,k,l))?(A||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===\ntypeof g.componentDidMount&&(b.flags|=4)):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),d=!1)}else{g=b.stateNode;yg(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:lg(b.type,h);g.props=l;A=b.pendingProps;p=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=vg(k):(k=Ff(c)?Df:M.current,k=Ef(b,k));var C=c.getDerivedStateFromProps;(n=\"function\"===typeof C||\n\"function\"===typeof g.getSnapshotBeforeUpdate)||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==A||p!==k)&&Ng(b,g,d,k);wg=!1;p=b.memoizedState;g.state=p;Cg(b,d,g,e);var x=b.memoizedState;h!==A||p!==x||N.current||wg?(\"function\"===typeof C&&(Gg(b,c,C,d),x=b.memoizedState),(l=wg||Lg(b,c,l,d,p,x,k))?(n||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,\nx,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,x,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=256)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),b.memoizedProps=d,b.memoizedState=x),g.props=d,g.state=x,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||\nh===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),d=!1)}return qi(a,b,c,d,f,e)}\nfunction qi(a,b,c,d,e,f){oi(a,b);var g=0!==(b.flags&64);if(!d&&!g)return e&&Kf(b,c,!1),hi(a,b,f);d=b.stateNode;ei.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Yg(b,a.child,null,f),b.child=Yg(b,null,h,f)):fi(a,b,h,f);b.memoizedState=d.state;e&&Kf(b,c,!0);return b.child}function ri(a){var b=a.stateNode;b.pendingContext?Hf(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Hf(a,b.context,!1);eh(a,b.containerInfo)}\nvar si={dehydrated:null,retryLane:0};\nfunction ti(a,b,c){var d=b.pendingProps,e=P.current,f=!1,g;(g=0!==(b.flags&64))||(g=null!==a&&null===a.memoizedState?!1:0!==(e&2));g?(f=!0,b.flags&=-65):null!==a&&null===a.memoizedState||void 0===d.fallback||!0===d.unstable_avoidThisFallback||(e|=1);I(P,e&1);if(null===a){void 0!==d.fallback&&ph(b);a=d.children;e=d.fallback;if(f)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},b.memoizedState=si,a;if(\"number\"===typeof d.unstable_expectedLoadTime)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},\nb.memoizedState=si,b.lanes=33554432,a;c=vi({mode:\"visible\",children:a},b.mode,c,null);c.return=b;return b.child=c}if(null!==a.memoizedState){if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:\n{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}function ui(a,b,c,d){var e=a.mode,f=a.child;b={mode:\"hidden\",children:b};0===(e&2)&&null!==f?(f.childLanes=0,f.pendingProps=b):f=vi(b,e,0,null);c=Xg(c,e,d,null);f.return=a;c.return=a;f.sibling=c;a.child=f;return c}\nfunction xi(a,b,c,d){var e=a.child;a=e.sibling;c=Tg(e,{mode:\"visible\",children:c});0===(b.mode&2)&&(c.lanes=d);c.return=b;c.sibling=null;null!==a&&(a.nextEffect=null,a.flags=8,b.firstEffect=b.lastEffect=a);return b.child=c}\nfunction wi(a,b,c,d,e){var f=b.mode,g=a.child;a=g.sibling;var h={mode:\"hidden\",children:c};0===(f&2)&&b.child!==g?(c=b.child,c.childLanes=0,c.pendingProps=h,g=c.lastEffect,null!==g?(b.firstEffect=c.firstEffect,b.lastEffect=g,g.nextEffect=null):b.firstEffect=b.lastEffect=null):c=Tg(g,h);null!==a?d=Tg(a,d):(d=Xg(d,f,e,null),d.flags|=2);d.return=b;c.return=b;c.sibling=d;b.child=c;return d}function yi(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);sg(a.return,b)}\nfunction zi(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e,lastEffect:f}:(g.isBackwards=b,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailMode=e,g.lastEffect=f)}\nfunction Ai(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;fi(a,b,d.children,c);d=P.current;if(0!==(d&2))d=d&1|2,b.flags|=64;else{if(null!==a&&0!==(a.flags&64))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&yi(a,c);else if(19===a.tag)yi(a,c);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}I(P,d);if(0===(b.mode&2))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===ih(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);zi(b,!1,e,c,f,b.lastEffect);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===ih(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}zi(b,!0,c,null,f,b.lastEffect);break;case \"together\":zi(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}\nfunction hi(a,b,c){null!==a&&(b.dependencies=a.dependencies);Dg|=b.lanes;if(0!==(c&b.childLanes)){if(null!==a&&b.child!==a.child)throw Error(y(153));if(null!==b.child){a=b.child;c=Tg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Tg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}return null}var Bi,Ci,Di,Ei;\nBi=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Ci=function(){};\nDi=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;dh(ah.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"option\":e=eb(a,e);d=eb(a,d);f=[];break;case \"select\":e=m({},e,{value:void 0});d=m({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=jf)}vb(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===\nl){var h=e[l];for(g in h)h.hasOwnProperty(g)&&(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ca.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||\n(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,c)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ca.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&G(\"scroll\",a),f||h===k||(f=[])):\"object\"===typeof k&&null!==k&&k.$$typeof===Ga?k.toString():(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",\nc);var l=f;if(b.updateQueue=l)b.flags|=4}};Ei=function(a,b,c,d){c!==d&&(b.flags|=4)};function Fi(a,b){if(!lh)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction Gi(a,b,c){var d=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ff(b.type)&&Gf(),null;case 3:fh();H(N);H(M);uh();d=b.stateNode;d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)rh(b)?b.flags|=4:d.hydrate||(b.flags|=256);Ci(b);return null;case 5:hh(b);var e=dh(ch.current);c=b.type;if(null!==a&&null!=b.stateNode)Di(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=128);else{if(!d){if(null===\nb.stateNode)throw Error(y(166));return null}a=dh(ah.current);if(rh(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[wf]=b;d[xf]=f;switch(c){case \"dialog\":G(\"cancel\",d);G(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":G(\"load\",d);break;case \"video\":case \"audio\":for(a=0;a<Xe.length;a++)G(Xe[a],d);break;case \"source\":G(\"error\",d);break;case \"img\":case \"image\":case \"link\":G(\"error\",d);G(\"load\",d);break;case \"details\":G(\"toggle\",d);break;case \"input\":Za(d,f);G(\"invalid\",d);break;case \"select\":d._wrapperState=\n{wasMultiple:!!f.multiple};G(\"invalid\",d);break;case \"textarea\":hb(d,f),G(\"invalid\",d)}vb(c,f);a=null;for(var g in f)f.hasOwnProperty(g)&&(e=f[g],\"children\"===g?\"string\"===typeof e?d.textContent!==e&&(a=[\"children\",e]):\"number\"===typeof e&&d.textContent!==\"\"+e&&(a=[\"children\",\"\"+e]):ca.hasOwnProperty(g)&&null!=e&&\"onScroll\"===g&&G(\"scroll\",d));switch(c){case \"input\":Va(d);cb(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=\njf)}d=a;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;a===kb.html&&(a=lb(c));a===kb.html?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[wf]=b;a[xf]=d;Bi(a,b,!1,!1);b.stateNode=a;g=wb(c,d);switch(c){case \"dialog\":G(\"cancel\",a);G(\"close\",a);\ne=d;break;case \"iframe\":case \"object\":case \"embed\":G(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<Xe.length;e++)G(Xe[e],a);e=d;break;case \"source\":G(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":G(\"error\",a);G(\"load\",a);e=d;break;case \"details\":G(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);G(\"invalid\",a);break;case \"option\":e=eb(a,d);break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=m({},d,{value:void 0});G(\"invalid\",a);break;case \"textarea\":hb(a,d);e=\ngb(a,d);G(\"invalid\",a);break;default:e=d}vb(c,e);var h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?tb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&ob(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==c||\"\"!==k)&&pb(a,k):\"number\"===typeof k&&pb(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ca.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&G(\"scroll\",a):null!=k&&qa(a,f,k,g))}switch(c){case \"input\":Va(a);cb(a,d,!1);\nbreak;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=jf)}mf(c,d)&&(b.flags|=4)}null!==b.ref&&(b.flags|=128)}return null;case 6:if(a&&null!=b.stateNode)Ei(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(y(166));\nc=dh(ch.current);dh(ah.current);rh(b)?(d=b.stateNode,c=b.memoizedProps,d[wf]=b,d.nodeValue!==c&&(b.flags|=4)):(d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[wf]=b,b.stateNode=d)}return null;case 13:H(P);d=b.memoizedState;if(0!==(b.flags&64))return b.lanes=c,b;d=null!==d;c=!1;null===a?void 0!==b.memoizedProps.fallback&&rh(b):c=null!==a.memoizedState;if(d&&!c&&0!==(b.mode&2))if(null===a&&!0!==b.memoizedProps.unstable_avoidThisFallback||0!==(P.current&1))0===V&&(V=3);else{if(0===V||3===V)V=\n4;null===U||0===(Dg&134217727)&&0===(Hi&134217727)||Ii(U,W)}if(d||c)b.flags|=4;return null;case 4:return fh(),Ci(b),null===a&&cf(b.stateNode.containerInfo),null;case 10:return rg(b),null;case 17:return Ff(b.type)&&Gf(),null;case 19:H(P);d=b.memoizedState;if(null===d)return null;f=0!==(b.flags&64);g=d.rendering;if(null===g)if(f)Fi(d,!1);else{if(0!==V||null!==a&&0!==(a.flags&64))for(a=b.child;null!==a;){g=ih(a);if(null!==g){b.flags|=64;Fi(d,!1);f=g.updateQueue;null!==f&&(b.updateQueue=f,b.flags|=4);\nnull===d.lastEffect&&(b.firstEffect=null);b.lastEffect=d.lastEffect;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=2,f.nextEffect=null,f.firstEffect=null,f.lastEffect=null,g=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,\nf.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;I(P,P.current&1|2);return b.child}a=a.sibling}null!==d.tail&&O()>Ji&&(b.flags|=64,f=!0,Fi(d,!1),b.lanes=33554432)}else{if(!f)if(a=ih(g),null!==a){if(b.flags|=64,f=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Fi(d,!0),null===d.tail&&\"hidden\"===d.tailMode&&!g.alternate&&!lh)return b=b.lastEffect=d.lastEffect,null!==b&&(b.nextEffect=null),null}else 2*O()-d.renderingStartTime>Ji&&1073741824!==c&&(b.flags|=\n64,f=!0,Fi(d,!1),b.lanes=33554432);d.isBackwards?(g.sibling=b.child,b.child=g):(c=d.last,null!==c?c.sibling=g:b.child=g,d.last=g)}return null!==d.tail?(c=d.tail,d.rendering=c,d.tail=c.sibling,d.lastEffect=b.lastEffect,d.renderingStartTime=O(),c.sibling=null,b=P.current,I(P,f?b&1|2:b&1),c):null;case 23:case 24:return Ki(),null!==a&&null!==a.memoizedState!==(null!==b.memoizedState)&&\"unstable-defer-without-hiding\"!==d.mode&&(b.flags|=4),null}throw Error(y(156,b.tag));}\nfunction Li(a){switch(a.tag){case 1:Ff(a.type)&&Gf();var b=a.flags;return b&4096?(a.flags=b&-4097|64,a):null;case 3:fh();H(N);H(M);uh();b=a.flags;if(0!==(b&64))throw Error(y(285));a.flags=b&-4097|64;return a;case 5:return hh(a),null;case 13:return H(P),b=a.flags,b&4096?(a.flags=b&-4097|64,a):null;case 19:return H(P),null;case 4:return fh(),null;case 10:return rg(a),null;case 23:case 24:return Ki(),null;default:return null}}\nfunction Mi(a,b){try{var c=\"\",d=b;do c+=Qa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e}}function Ni(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Oi=\"function\"===typeof WeakMap?WeakMap:Map;function Pi(a,b,c){c=zg(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Qi||(Qi=!0,Ri=d);Ni(a,b)};return c}\nfunction Si(a,b,c){c=zg(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){Ni(a,b);return d(e)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){\"function\"!==typeof d&&(null===Ti?Ti=new Set([this]):Ti.add(this),Ni(a,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}var Ui=\"function\"===typeof WeakSet?WeakSet:Set;\nfunction Vi(a){var b=a.ref;if(null!==b)if(\"function\"===typeof b)try{b(null)}catch(c){Wi(a,c)}else b.current=null}function Xi(a,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(b.flags&256&&null!==a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;b=a.getSnapshotBeforeUpdate(b.elementType===b.type?c:lg(b.type,c),d);a.__reactInternalSnapshotBeforeUpdate=b}return;case 3:b.flags&256&&qf(b.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(y(163));}\nfunction Yi(a,b,c){switch(c.tag){case 0:case 11:case 15:case 22:b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{if(3===(a.tag&3)){var d=a.create;a.destroy=d()}a=a.next}while(a!==b)}b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{var e=a;d=e.next;e=e.tag;0!==(e&4)&&0!==(e&1)&&(Zi(c,a),$i(c,a));a=d}while(a!==b)}return;case 1:a=c.stateNode;c.flags&4&&(null===b?a.componentDidMount():(d=c.elementType===c.type?b.memoizedProps:lg(c.type,b.memoizedProps),a.componentDidUpdate(d,\nb.memoizedState,a.__reactInternalSnapshotBeforeUpdate)));b=c.updateQueue;null!==b&&Eg(c,b,a);return;case 3:b=c.updateQueue;if(null!==b){a=null;if(null!==c.child)switch(c.child.tag){case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}Eg(c,b,a)}return;case 5:a=c.stateNode;null===b&&c.flags&4&&mf(c.type,c.memoizedProps)&&a.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===c.memoizedState&&(c=c.alternate,null!==c&&(c=c.memoizedState,null!==c&&(c=c.dehydrated,null!==c&&Cc(c))));\nreturn;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(y(163));}\nfunction aj(a,b){for(var c=a;;){if(5===c.tag){var d=c.stateNode;if(b)d=d.style,\"function\"===typeof d.setProperty?d.setProperty(\"display\",\"none\",\"important\"):d.display=\"none\";else{d=c.stateNode;var e=c.memoizedProps.style;e=void 0!==e&&null!==e&&e.hasOwnProperty(\"display\")?e.display:null;d.style.display=sb(\"display\",e)}}else if(6===c.tag)c.stateNode.nodeValue=b?\"\":c.memoizedProps;else if((23!==c.tag&&24!==c.tag||null===c.memoizedState||c===a)&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===\na)break;for(;null===c.sibling;){if(null===c.return||c.return===a)return;c=c.return}c.sibling.return=c.return;c=c.sibling}}\nfunction bj(a,b){if(Mf&&\"function\"===typeof Mf.onCommitFiberUnmount)try{Mf.onCommitFiberUnmount(Lf,b)}catch(f){}switch(b.tag){case 0:case 11:case 14:case 15:case 22:a=b.updateQueue;if(null!==a&&(a=a.lastEffect,null!==a)){var c=a=a.next;do{var d=c,e=d.destroy;d=d.tag;if(void 0!==e)if(0!==(d&4))Zi(b,c);else{d=b;try{e()}catch(f){Wi(d,f)}}c=c.next}while(c!==a)}break;case 1:Vi(b);a=b.stateNode;if(\"function\"===typeof a.componentWillUnmount)try{a.props=b.memoizedProps,a.state=b.memoizedState,a.componentWillUnmount()}catch(f){Wi(b,\nf)}break;case 5:Vi(b);break;case 4:cj(a,b)}}function dj(a){a.alternate=null;a.child=null;a.dependencies=null;a.firstEffect=null;a.lastEffect=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.return=null;a.updateQueue=null}function ej(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction fj(a){a:{for(var b=a.return;null!==b;){if(ej(b))break a;b=b.return}throw Error(y(160));}var c=b;b=c.stateNode;switch(c.tag){case 5:var d=!1;break;case 3:b=b.containerInfo;d=!0;break;case 4:b=b.containerInfo;d=!0;break;default:throw Error(y(161));}c.flags&16&&(pb(b,\"\"),c.flags&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||ej(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.flags&2)continue b;if(null===\nc.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.flags&2)){c=c.stateNode;break a}}d?gj(a,c,b):hj(a,c,b)}\nfunction gj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=jf));else if(4!==d&&(a=a.child,null!==a))for(gj(a,b,c),a=a.sibling;null!==a;)gj(a,b,c),a=a.sibling}\nfunction hj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(hj(a,b,c),a=a.sibling;null!==a;)hj(a,b,c),a=a.sibling}\nfunction cj(a,b){for(var c=b,d=!1,e,f;;){if(!d){d=c.return;a:for(;;){if(null===d)throw Error(y(160));e=d.stateNode;switch(d.tag){case 5:f=!1;break a;case 3:e=e.containerInfo;f=!0;break a;case 4:e=e.containerInfo;f=!0;break a}d=d.return}d=!0}if(5===c.tag||6===c.tag){a:for(var g=a,h=c,k=h;;)if(bj(g,k),null!==k.child&&4!==k.tag)k.child.return=k,k=k.child;else{if(k===h)break a;for(;null===k.sibling;){if(null===k.return||k.return===h)break a;k=k.return}k.sibling.return=k.return;k=k.sibling}f?(g=e,h=c.stateNode,\n8===g.nodeType?g.parentNode.removeChild(h):g.removeChild(h)):e.removeChild(c.stateNode)}else if(4===c.tag){if(null!==c.child){e=c.stateNode.containerInfo;f=!0;c.child.return=c;c=c.child;continue}}else if(bj(a,c),null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return;4===c.tag&&(d=!1)}c.sibling.return=c.return;c=c.sibling}}\nfunction ij(a,b){switch(b.tag){case 0:case 11:case 14:case 15:case 22:var c=b.updateQueue;c=null!==c?c.lastEffect:null;if(null!==c){var d=c=c.next;do 3===(d.tag&3)&&(a=d.destroy,d.destroy=void 0,void 0!==a&&a()),d=d.next;while(d!==c)}return;case 1:return;case 5:c=b.stateNode;if(null!=c){d=b.memoizedProps;var e=null!==a?a.memoizedProps:d;a=b.type;var f=b.updateQueue;b.updateQueue=null;if(null!==f){c[xf]=d;\"input\"===a&&\"radio\"===d.type&&null!=d.name&&$a(c,d);wb(a,e);b=wb(a,d);for(e=0;e<f.length;e+=\n2){var g=f[e],h=f[e+1];\"style\"===g?tb(c,h):\"dangerouslySetInnerHTML\"===g?ob(c,h):\"children\"===g?pb(c,h):qa(c,g,h,b)}switch(a){case \"input\":ab(c,d);break;case \"textarea\":ib(c,d);break;case \"select\":a=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!d.multiple,f=d.value,null!=f?fb(c,!!d.multiple,f,!1):a!==!!d.multiple&&(null!=d.defaultValue?fb(c,!!d.multiple,d.defaultValue,!0):fb(c,!!d.multiple,d.multiple?[]:\"\",!1))}}}return;case 6:if(null===b.stateNode)throw Error(y(162));b.stateNode.nodeValue=\nb.memoizedProps;return;case 3:c=b.stateNode;c.hydrate&&(c.hydrate=!1,Cc(c.containerInfo));return;case 12:return;case 13:null!==b.memoizedState&&(jj=O(),aj(b.child,!0));kj(b);return;case 19:kj(b);return;case 17:return;case 23:case 24:aj(b,null!==b.memoizedState);return}throw Error(y(163));}function kj(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Ui);b.forEach(function(b){var d=lj.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction mj(a,b){return null!==a&&(a=a.memoizedState,null===a||null!==a.dehydrated)?(b=b.memoizedState,null!==b&&null===b.dehydrated):!1}var nj=Math.ceil,oj=ra.ReactCurrentDispatcher,pj=ra.ReactCurrentOwner,X=0,U=null,Y=null,W=0,qj=0,rj=Bf(0),V=0,sj=null,tj=0,Dg=0,Hi=0,uj=0,vj=null,jj=0,Ji=Infinity;function wj(){Ji=O()+500}var Z=null,Qi=!1,Ri=null,Ti=null,xj=!1,yj=null,zj=90,Aj=[],Bj=[],Cj=null,Dj=0,Ej=null,Fj=-1,Gj=0,Hj=0,Ij=null,Jj=!1;function Hg(){return 0!==(X&48)?O():-1!==Fj?Fj:Fj=O()}\nfunction Ig(a){a=a.mode;if(0===(a&2))return 1;if(0===(a&4))return 99===eg()?1:2;0===Gj&&(Gj=tj);if(0!==kg.transition){0!==Hj&&(Hj=null!==vj?vj.pendingLanes:0);a=Gj;var b=4186112&~Hj;b&=-b;0===b&&(a=4186112&~a,b=a&-a,0===b&&(b=8192));return b}a=eg();0!==(X&4)&&98===a?a=Xc(12,Gj):(a=Sc(a),a=Xc(a,Gj));return a}\nfunction Jg(a,b,c){if(50<Dj)throw Dj=0,Ej=null,Error(y(185));a=Kj(a,b);if(null===a)return null;$c(a,b,c);a===U&&(Hi|=b,4===V&&Ii(a,W));var d=eg();1===b?0!==(X&8)&&0===(X&48)?Lj(a):(Mj(a,c),0===X&&(wj(),ig())):(0===(X&4)||98!==d&&99!==d||(null===Cj?Cj=new Set([a]):Cj.add(a)),Mj(a,c));vj=a}function Kj(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}\nfunction Mj(a,b){for(var c=a.callbackNode,d=a.suspendedLanes,e=a.pingedLanes,f=a.expirationTimes,g=a.pendingLanes;0<g;){var h=31-Vc(g),k=1<<h,l=f[h];if(-1===l){if(0===(k&d)||0!==(k&e)){l=b;Rc(k);var n=F;f[h]=10<=n?l+250:6<=n?l+5E3:-1}}else l<=b&&(a.expiredLanes|=k);g&=~k}d=Uc(a,a===U?W:0);b=F;if(0===d)null!==c&&(c!==Zf&&Pf(c),a.callbackNode=null,a.callbackPriority=0);else{if(null!==c){if(a.callbackPriority===b)return;c!==Zf&&Pf(c)}15===b?(c=Lj.bind(null,a),null===ag?(ag=[c],bg=Of(Uf,jg)):ag.push(c),\nc=Zf):14===b?c=hg(99,Lj.bind(null,a)):(c=Tc(b),c=hg(c,Nj.bind(null,a)));a.callbackPriority=b;a.callbackNode=c}}\nfunction Nj(a){Fj=-1;Hj=Gj=0;if(0!==(X&48))throw Error(y(327));var b=a.callbackNode;if(Oj()&&a.callbackNode!==b)return null;var c=Uc(a,a===U?W:0);if(0===c)return null;var d=c;var e=X;X|=16;var f=Pj();if(U!==a||W!==d)wj(),Qj(a,d);do try{Rj();break}catch(h){Sj(a,h)}while(1);qg();oj.current=f;X=e;null!==Y?d=0:(U=null,W=0,d=V);if(0!==(tj&Hi))Qj(a,0);else if(0!==d){2===d&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),c=Wc(a),0!==c&&(d=Tj(a,c)));if(1===d)throw b=sj,Qj(a,0),Ii(a,c),Mj(a,O()),b;a.finishedWork=\na.current.alternate;a.finishedLanes=c;switch(d){case 0:case 1:throw Error(y(345));case 2:Uj(a);break;case 3:Ii(a,c);if((c&62914560)===c&&(d=jj+500-O(),10<d)){if(0!==Uc(a,0))break;e=a.suspendedLanes;if((e&c)!==c){Hg();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=of(Uj.bind(null,a),d);break}Uj(a);break;case 4:Ii(a,c);if((c&4186112)===c)break;d=a.eventTimes;for(e=-1;0<c;){var g=31-Vc(c);f=1<<g;g=d[g];g>e&&(e=g);c&=~f}c=e;c=O()-c;c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3E3>c?3E3:4320>\nc?4320:1960*nj(c/1960))-c;if(10<c){a.timeoutHandle=of(Uj.bind(null,a),c);break}Uj(a);break;case 5:Uj(a);break;default:throw Error(y(329));}}Mj(a,O());return a.callbackNode===b?Nj.bind(null,a):null}function Ii(a,b){b&=~uj;b&=~Hi;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-Vc(b),d=1<<c;a[c]=-1;b&=~d}}\nfunction Lj(a){if(0!==(X&48))throw Error(y(327));Oj();if(a===U&&0!==(a.expiredLanes&W)){var b=W;var c=Tj(a,b);0!==(tj&Hi)&&(b=Uc(a,b),c=Tj(a,b))}else b=Uc(a,0),c=Tj(a,b);0!==a.tag&&2===c&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),b=Wc(a),0!==b&&(c=Tj(a,b)));if(1===c)throw c=sj,Qj(a,0),Ii(a,b),Mj(a,O()),c;a.finishedWork=a.current.alternate;a.finishedLanes=b;Uj(a);Mj(a,O());return null}\nfunction Vj(){if(null!==Cj){var a=Cj;Cj=null;a.forEach(function(a){a.expiredLanes|=24&a.pendingLanes;Mj(a,O())})}ig()}function Wj(a,b){var c=X;X|=1;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function Xj(a,b){var c=X;X&=-2;X|=8;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function ni(a,b){I(rj,qj);qj|=b;tj|=b}function Ki(){qj=rj.current;H(rj)}\nfunction Qj(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,pf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&Gf();break;case 3:fh();H(N);H(M);uh();break;case 5:hh(d);break;case 4:fh();break;case 13:H(P);break;case 19:H(P);break;case 10:rg(d);break;case 23:case 24:Ki()}c=c.return}U=a;Y=Tg(a.current,null);W=qj=tj=b;V=0;sj=null;uj=Hi=Dg=0}\nfunction Sj(a,b){do{var c=Y;try{qg();vh.current=Gh;if(yh){for(var d=R.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}yh=!1}xh=0;T=S=R=null;zh=!1;pj.current=null;if(null===c||null===c.return){V=1;sj=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=W;h.flags|=2048;h.firstEffect=h.lastEffect=null;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k;if(0===(h.mode&2)){var n=h.alternate;n?(h.updateQueue=n.updateQueue,h.memoizedState=n.memoizedState,h.lanes=n.lanes):\n(h.updateQueue=null,h.memoizedState=null)}var A=0!==(P.current&1),p=g;do{var C;if(C=13===p.tag){var x=p.memoizedState;if(null!==x)C=null!==x.dehydrated?!0:!1;else{var w=p.memoizedProps;C=void 0===w.fallback?!1:!0!==w.unstable_avoidThisFallback?!0:A?!1:!0}}if(C){var z=p.updateQueue;if(null===z){var u=new Set;u.add(l);p.updateQueue=u}else z.add(l);if(0===(p.mode&2)){p.flags|=64;h.flags|=16384;h.flags&=-2981;if(1===h.tag)if(null===h.alternate)h.tag=17;else{var t=zg(-1,1);t.tag=2;Ag(h,t)}h.lanes|=1;break a}k=\nvoid 0;h=b;var q=f.pingCache;null===q?(q=f.pingCache=new Oi,k=new Set,q.set(l,k)):(k=q.get(l),void 0===k&&(k=new Set,q.set(l,k)));if(!k.has(h)){k.add(h);var v=Yj.bind(null,f,l,h);l.then(v,v)}p.flags|=4096;p.lanes=b;break a}p=p.return}while(null!==p);k=Error((Ra(h.type)||\"A React component\")+\" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\")}5!==V&&(V=2);k=Mi(k,h);p=\ng;do{switch(p.tag){case 3:f=k;p.flags|=4096;b&=-b;p.lanes|=b;var J=Pi(p,f,b);Bg(p,J);break a;case 1:f=k;var K=p.type,Q=p.stateNode;if(0===(p.flags&64)&&(\"function\"===typeof K.getDerivedStateFromError||null!==Q&&\"function\"===typeof Q.componentDidCatch&&(null===Ti||!Ti.has(Q)))){p.flags|=4096;b&=-b;p.lanes|=b;var L=Si(p,f,b);Bg(p,L);break a}}p=p.return}while(null!==p)}Zj(c)}catch(va){b=va;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}\nfunction Pj(){var a=oj.current;oj.current=Gh;return null===a?Gh:a}function Tj(a,b){var c=X;X|=16;var d=Pj();U===a&&W===b||Qj(a,b);do try{ak();break}catch(e){Sj(a,e)}while(1);qg();X=c;oj.current=d;if(null!==Y)throw Error(y(261));U=null;W=0;return V}function ak(){for(;null!==Y;)bk(Y)}function Rj(){for(;null!==Y&&!Qf();)bk(Y)}function bk(a){var b=ck(a.alternate,a,qj);a.memoizedProps=a.pendingProps;null===b?Zj(a):Y=b;pj.current=null}\nfunction Zj(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&2048)){c=Gi(c,b,qj);if(null!==c){Y=c;return}c=b;if(24!==c.tag&&23!==c.tag||null===c.memoizedState||0!==(qj&1073741824)||0===(c.mode&4)){for(var d=0,e=c.child;null!==e;)d|=e.lanes|e.childLanes,e=e.sibling;c.childLanes=d}null!==a&&0===(a.flags&2048)&&(null===a.firstEffect&&(a.firstEffect=b.firstEffect),null!==b.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=b.firstEffect),a.lastEffect=b.lastEffect),1<b.flags&&(null!==\na.lastEffect?a.lastEffect.nextEffect=b:a.firstEffect=b,a.lastEffect=b))}else{c=Li(b);if(null!==c){c.flags&=2047;Y=c;return}null!==a&&(a.firstEffect=a.lastEffect=null,a.flags|=2048)}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===V&&(V=5)}function Uj(a){var b=eg();gg(99,dk.bind(null,a,b));return null}\nfunction dk(a,b){do Oj();while(null!==yj);if(0!==(X&48))throw Error(y(327));var c=a.finishedWork;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(y(177));a.callbackNode=null;var d=c.lanes|c.childLanes,e=d,f=a.pendingLanes&~e;a.pendingLanes=e;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=e;a.mutableReadLanes&=e;a.entangledLanes&=e;e=a.entanglements;for(var g=a.eventTimes,h=a.expirationTimes;0<f;){var k=31-Vc(f),l=1<<k;e[k]=0;g[k]=-1;h[k]=-1;f&=~l}null!==\nCj&&0===(d&24)&&Cj.has(a)&&Cj.delete(a);a===U&&(Y=U=null,W=0);1<c.flags?null!==c.lastEffect?(c.lastEffect.nextEffect=c,d=c.firstEffect):d=c:d=c.firstEffect;if(null!==d){e=X;X|=32;pj.current=null;kf=fd;g=Ne();if(Oe(g)){if(\"selectionStart\"in g)h={start:g.selectionStart,end:g.selectionEnd};else a:if(h=(h=g.ownerDocument)&&h.defaultView||window,(l=h.getSelection&&h.getSelection())&&0!==l.rangeCount){h=l.anchorNode;f=l.anchorOffset;k=l.focusNode;l=l.focusOffset;try{h.nodeType,k.nodeType}catch(va){h=null;\nbreak a}var n=0,A=-1,p=-1,C=0,x=0,w=g,z=null;b:for(;;){for(var u;;){w!==h||0!==f&&3!==w.nodeType||(A=n+f);w!==k||0!==l&&3!==w.nodeType||(p=n+l);3===w.nodeType&&(n+=w.nodeValue.length);if(null===(u=w.firstChild))break;z=w;w=u}for(;;){if(w===g)break b;z===h&&++C===f&&(A=n);z===k&&++x===l&&(p=n);if(null!==(u=w.nextSibling))break;w=z;z=w.parentNode}w=u}h=-1===A||-1===p?null:{start:A,end:p}}else h=null;h=h||{start:0,end:0}}else h=null;lf={focusedElem:g,selectionRange:h};fd=!1;Ij=null;Jj=!1;Z=d;do try{ek()}catch(va){if(null===\nZ)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Ij=null;Z=d;do try{for(g=a;null!==Z;){var t=Z.flags;t&16&&pb(Z.stateNode,\"\");if(t&128){var q=Z.alternate;if(null!==q){var v=q.ref;null!==v&&(\"function\"===typeof v?v(null):v.current=null)}}switch(t&1038){case 2:fj(Z);Z.flags&=-3;break;case 6:fj(Z);Z.flags&=-3;ij(Z.alternate,Z);break;case 1024:Z.flags&=-1025;break;case 1028:Z.flags&=-1025;ij(Z.alternate,Z);break;case 4:ij(Z.alternate,Z);break;case 8:h=Z;cj(g,h);var J=h.alternate;dj(h);null!==\nJ&&dj(J)}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);v=lf;q=Ne();t=v.focusedElem;g=v.selectionRange;if(q!==t&&t&&t.ownerDocument&&Me(t.ownerDocument.documentElement,t)){null!==g&&Oe(t)&&(q=g.start,v=g.end,void 0===v&&(v=q),\"selectionStart\"in t?(t.selectionStart=q,t.selectionEnd=Math.min(v,t.value.length)):(v=(q=t.ownerDocument||document)&&q.defaultView||window,v.getSelection&&(v=v.getSelection(),h=t.textContent.length,J=Math.min(g.start,h),g=void 0===\ng.end?J:Math.min(g.end,h),!v.extend&&J>g&&(h=g,g=J,J=h),h=Le(t,J),f=Le(t,g),h&&f&&(1!==v.rangeCount||v.anchorNode!==h.node||v.anchorOffset!==h.offset||v.focusNode!==f.node||v.focusOffset!==f.offset)&&(q=q.createRange(),q.setStart(h.node,h.offset),v.removeAllRanges(),J>g?(v.addRange(q),v.extend(f.node,f.offset)):(q.setEnd(f.node,f.offset),v.addRange(q))))));q=[];for(v=t;v=v.parentNode;)1===v.nodeType&&q.push({element:v,left:v.scrollLeft,top:v.scrollTop});\"function\"===typeof t.focus&&t.focus();for(t=\n0;t<q.length;t++)v=q[t],v.element.scrollLeft=v.left,v.element.scrollTop=v.top}fd=!!kf;lf=kf=null;a.current=c;Z=d;do try{for(t=a;null!==Z;){var K=Z.flags;K&36&&Yi(t,Z.alternate,Z);if(K&128){q=void 0;var Q=Z.ref;if(null!==Q){var L=Z.stateNode;switch(Z.tag){case 5:q=L;break;default:q=L}\"function\"===typeof Q?Q(q):Q.current=q}}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Z=null;$f();X=e}else a.current=c;if(xj)xj=!1,yj=a,zj=b;else for(Z=d;null!==Z;)b=\nZ.nextEffect,Z.nextEffect=null,Z.flags&8&&(K=Z,K.sibling=null,K.stateNode=null),Z=b;d=a.pendingLanes;0===d&&(Ti=null);1===d?a===Ej?Dj++:(Dj=0,Ej=a):Dj=0;c=c.stateNode;if(Mf&&\"function\"===typeof Mf.onCommitFiberRoot)try{Mf.onCommitFiberRoot(Lf,c,void 0,64===(c.current.flags&64))}catch(va){}Mj(a,O());if(Qi)throw Qi=!1,a=Ri,Ri=null,a;if(0!==(X&8))return null;ig();return null}\nfunction ek(){for(;null!==Z;){var a=Z.alternate;Jj||null===Ij||(0!==(Z.flags&8)?dc(Z,Ij)&&(Jj=!0):13===Z.tag&&mj(a,Z)&&dc(Z,Ij)&&(Jj=!0));var b=Z.flags;0!==(b&256)&&Xi(a,Z);0===(b&512)||xj||(xj=!0,hg(97,function(){Oj();return null}));Z=Z.nextEffect}}function Oj(){if(90!==zj){var a=97<zj?97:zj;zj=90;return gg(a,fk)}return!1}function $i(a,b){Aj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}function Zi(a,b){Bj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}\nfunction fk(){if(null===yj)return!1;var a=yj;yj=null;if(0!==(X&48))throw Error(y(331));var b=X;X|=32;var c=Bj;Bj=[];for(var d=0;d<c.length;d+=2){var e=c[d],f=c[d+1],g=e.destroy;e.destroy=void 0;if(\"function\"===typeof g)try{g()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}c=Aj;Aj=[];for(d=0;d<c.length;d+=2){e=c[d];f=c[d+1];try{var h=e.create;e.destroy=h()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}for(h=a.current.firstEffect;null!==h;)a=h.nextEffect,h.nextEffect=null,h.flags&8&&(h.sibling=\nnull,h.stateNode=null),h=a;X=b;ig();return!0}function gk(a,b,c){b=Mi(c,b);b=Pi(a,b,1);Ag(a,b);b=Hg();a=Kj(a,1);null!==a&&($c(a,1,b),Mj(a,b))}\nfunction Wi(a,b){if(3===a.tag)gk(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){gk(c,a,b);break}else if(1===c.tag){var d=c.stateNode;if(\"function\"===typeof c.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d))){a=Mi(b,a);var e=Si(c,a,1);Ag(c,e);e=Hg();c=Kj(c,1);if(null!==c)$c(c,1,e),Mj(c,e);else if(\"function\"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d)))try{d.componentDidCatch(b,a)}catch(f){}break}}c=c.return}}\nfunction Yj(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=Hg();a.pingedLanes|=a.suspendedLanes&c;U===a&&(W&c)===c&&(4===V||3===V&&(W&62914560)===W&&500>O()-jj?Qj(a,0):uj|=c);Mj(a,b)}function lj(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=0;0===b&&(b=a.mode,0===(b&2)?b=1:0===(b&4)?b=99===eg()?1:2:(0===Gj&&(Gj=tj),b=Yc(62914560&~Gj),0===b&&(b=4194304)));c=Hg();a=Kj(a,b);null!==a&&($c(a,b,c),Mj(a,c))}var ck;\nck=function(a,b,c){var d=b.lanes;if(null!==a)if(a.memoizedProps!==b.pendingProps||N.current)ug=!0;else if(0!==(c&d))ug=0!==(a.flags&16384)?!0:!1;else{ug=!1;switch(b.tag){case 3:ri(b);sh();break;case 5:gh(b);break;case 1:Ff(b.type)&&Jf(b);break;case 4:eh(b,b.stateNode.containerInfo);break;case 10:d=b.memoizedProps.value;var e=b.type._context;I(mg,e._currentValue);e._currentValue=d;break;case 13:if(null!==b.memoizedState){if(0!==(c&b.child.childLanes))return ti(a,b,c);I(P,P.current&1);b=hi(a,b,c);return null!==\nb?b.sibling:null}I(P,P.current&1);break;case 19:d=0!==(c&b.childLanes);if(0!==(a.flags&64)){if(d)return Ai(a,b,c);b.flags|=64}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);I(P,P.current);if(d)break;else return null;case 23:case 24:return b.lanes=0,mi(a,b,c)}return hi(a,b,c)}else ug=!1;b.lanes=0;switch(b.tag){case 2:d=b.type;null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);a=b.pendingProps;e=Ef(b,M.current);tg(b,c);e=Ch(null,b,d,a,e,c);b.flags|=1;if(\"object\"===\ntypeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof){b.tag=1;b.memoizedState=null;b.updateQueue=null;if(Ff(d)){var f=!0;Jf(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;xg(b);var g=d.getDerivedStateFromProps;\"function\"===typeof g&&Gg(b,d,g,a);e.updater=Kg;b.stateNode=e;e._reactInternals=b;Og(b,d,a,c);b=qi(null,b,d,!0,f,c)}else b.tag=0,fi(null,b,e,c),b=b.child;return b;case 16:e=b.elementType;a:{null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);\na=b.pendingProps;f=e._init;e=f(e._payload);b.type=e;f=b.tag=hk(e);a=lg(e,a);switch(f){case 0:b=li(null,b,e,a,c);break a;case 1:b=pi(null,b,e,a,c);break a;case 11:b=gi(null,b,e,a,c);break a;case 14:b=ii(null,b,e,lg(e.type,a),d,c);break a}throw Error(y(306,e,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),li(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),pi(a,b,d,e,c);case 3:ri(b);d=b.updateQueue;if(null===a||null===d)throw Error(y(282));\nd=b.pendingProps;e=b.memoizedState;e=null!==e?e.element:null;yg(a,b);Cg(b,d,null,c);d=b.memoizedState.element;if(d===e)sh(),b=hi(a,b,c);else{e=b.stateNode;if(f=e.hydrate)kh=rf(b.stateNode.containerInfo.firstChild),jh=b,f=lh=!0;if(f){a=e.mutableSourceEagerHydrationData;if(null!=a)for(e=0;e<a.length;e+=2)f=a[e],f._workInProgressVersionPrimary=a[e+1],th.push(f);c=Zg(b,null,d,c);for(b.child=c;c;)c.flags=c.flags&-3|1024,c=c.sibling}else fi(a,b,d,c),sh();b=b.child}return b;case 5:return gh(b),null===a&&\nph(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,nf(d,e)?g=null:null!==f&&nf(d,f)&&(b.flags|=16),oi(a,b),fi(a,b,g,c),b.child;case 6:return null===a&&ph(b),null;case 13:return ti(a,b,c);case 4:return eh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Yg(b,null,d,c):fi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),gi(a,b,d,e,c);case 7:return fi(a,b,b.pendingProps,c),b.child;case 8:return fi(a,b,b.pendingProps.children,\nc),b.child;case 12:return fi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;g=b.memoizedProps;f=e.value;var h=b.type._context;I(mg,h._currentValue);h._currentValue=f;if(null!==g)if(h=g.value,f=He(h,f)?0:(\"function\"===typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823)|0,0===f){if(g.children===e.children&&!N.current){b=hi(a,b,c);break a}}else for(h=b.child,null!==h&&(h.return=b);null!==h;){var k=h.dependencies;if(null!==k){g=h.child;for(var l=\nk.firstContext;null!==l;){if(l.context===d&&0!==(l.observedBits&f)){1===h.tag&&(l=zg(-1,c&-c),l.tag=2,Ag(h,l));h.lanes|=c;l=h.alternate;null!==l&&(l.lanes|=c);sg(h.return,c);k.lanes|=c;break}l=l.next}}else g=10===h.tag?h.type===b.type?null:h.child:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}h=g.sibling;if(null!==h){h.return=g.return;g=h;break}g=g.return}h=g}fi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,tg(b,c),e=vg(e,\nf.unstable_observedBits),d=d(e),b.flags|=1,fi(a,b,d,c),b.child;case 14:return e=b.type,f=lg(e,b.pendingProps),f=lg(e.type,f),ii(a,b,e,f,d,c);case 15:return ki(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),b.tag=1,Ff(d)?(a=!0,Jf(b)):a=!1,tg(b,c),Mg(b,d,e),Og(b,d,e,c),qi(null,b,d,!0,a,c);case 19:return Ai(a,b,c);case 23:return mi(a,b,c);case 24:return mi(a,b,c)}throw Error(y(156,b.tag));\n};function ik(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function nh(a,b,c,d){return new ik(a,b,c,d)}function ji(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction hk(a){if(\"function\"===typeof a)return ji(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Aa)return 11;if(a===Da)return 14}return 2}\nfunction Tg(a,b){var c=a.alternate;null===c?(c=nh(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Vg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)ji(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ua:return Xg(c.children,e,f,b);case Ha:g=8;e|=16;break;case wa:g=8;e|=1;break;case xa:return a=nh(12,c,b,e|8),a.elementType=xa,a.type=xa,a.lanes=f,a;case Ba:return a=nh(13,c,b,e),a.type=Ba,a.elementType=Ba,a.lanes=f,a;case Ca:return a=nh(19,c,b,e),a.elementType=Ca,a.lanes=f,a;case Ia:return vi(c,e,f,b);case Ja:return a=nh(24,c,b,e),a.elementType=Ja,a.lanes=f,a;default:if(\"object\"===\ntypeof a&&null!==a)switch(a.$$typeof){case ya:g=10;break a;case za:g=9;break a;case Aa:g=11;break a;case Da:g=14;break a;case Ea:g=16;d=null;break a;case Fa:g=22;break a}throw Error(y(130,null==a?a:typeof a,\"\"));}b=nh(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Xg(a,b,c,d){a=nh(7,a,d,b);a.lanes=c;return a}function vi(a,b,c,d){a=nh(23,a,d,b);a.elementType=Ia;a.lanes=c;return a}function Ug(a,b,c){a=nh(6,a,null,b);a.lanes=c;return a}\nfunction Wg(a,b,c){b=nh(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction jk(a,b,c){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=c;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=Zc(0);this.expirationTimes=Zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=Zc(0);this.mutableSourceEagerHydrationData=null}\nfunction kk(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ta,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction lk(a,b,c,d){var e=b.current,f=Hg(),g=Ig(e);a:if(c){c=c._reactInternals;b:{if(Zb(c)!==c||1!==c.tag)throw Error(y(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break b;case 1:if(Ff(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break b}}h=h.return}while(null!==h);throw Error(y(171));}if(1===c.tag){var k=c.type;if(Ff(k)){c=If(c,k,h);break a}}c=h}else c=Cf;null===b.context?b.context=c:b.pendingContext=c;b=zg(f,g);b.payload={element:a};d=void 0===d?null:d;null!==\nd&&(b.callback=d);Ag(e,b);Jg(e,g,f);return g}function mk(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function nk(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function ok(a,b){nk(a,b);(a=a.alternate)&&nk(a,b)}function pk(){return null}\nfunction qk(a,b,c){var d=null!=c&&null!=c.hydrationOptions&&c.hydrationOptions.mutableSources||null;c=new jk(a,b,null!=c&&!0===c.hydrate);b=nh(3,null,null,2===b?7:1===b?3:0);c.current=b;b.stateNode=c;xg(b);a[ff]=c.current;cf(8===a.nodeType?a.parentNode:a);if(d)for(a=0;a<d.length;a++){b=d[a];var e=b._getVersion;e=e(b._source);null==c.mutableSourceEagerHydrationData?c.mutableSourceEagerHydrationData=[b,e]:c.mutableSourceEagerHydrationData.push(b,e)}this._internalRoot=c}\nqk.prototype.render=function(a){lk(a,this._internalRoot,null,null)};qk.prototype.unmount=function(){var a=this._internalRoot,b=a.containerInfo;lk(null,a,null,function(){b[ff]=null})};function rk(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}\nfunction sk(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute(\"data-reactroot\")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new qk(a,0,b?{hydrate:!0}:void 0)}\nfunction tk(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f._internalRoot;if(\"function\"===typeof e){var h=e;e=function(){var a=mk(g);h.call(a)}}lk(b,g,a,e)}else{f=c._reactRootContainer=sk(c,d);g=f._internalRoot;if(\"function\"===typeof e){var k=e;e=function(){var a=mk(g);k.call(a)}}Xj(function(){lk(b,g,a,e)})}return mk(g)}ec=function(a){if(13===a.tag){var b=Hg();Jg(a,4,b);ok(a,4)}};fc=function(a){if(13===a.tag){var b=Hg();Jg(a,67108864,b);ok(a,67108864)}};\ngc=function(a){if(13===a.tag){var b=Hg(),c=Ig(a);Jg(a,c,b);ok(a,c)}};hc=function(a,b){return b()};\nyb=function(a,b,c){switch(b){case \"input\":ab(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(y(90));Wa(d);ab(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Wj;\nHb=function(a,b,c,d,e){var f=X;X|=4;try{return gg(98,a.bind(null,b,c,d,e))}finally{X=f,0===X&&(wj(),ig())}};Ib=function(){0===(X&49)&&(Vj(),Oj())};Jb=function(a,b){var c=X;X|=2;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}};function uk(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!rk(b))throw Error(y(200));return kk(a,b,null,c)}var vk={Events:[Cb,ue,Db,Eb,Fb,Oj,{current:!1}]},wk={findFiberByHostInstance:wc,bundleType:0,version:\"17.0.2\",rendererPackageName:\"react-dom\"};\nvar xk={bundleType:wk.bundleType,version:wk.version,rendererPackageName:wk.rendererPackageName,rendererConfig:wk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=cc(a);return null===a?null:a.stateNode},findFiberByHostInstance:wk.findFiberByHostInstance||\npk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var yk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yk.isDisabled&&yk.supportsFiber)try{Lf=yk.inject(xk),Mf=yk}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;exports.createPortal=uk;\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(y(188));throw Error(y(268,Object.keys(a)));}a=cc(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a,b){var c=X;if(0!==(c&48))return a(b);X|=1;try{if(a)return gg(99,a.bind(null,b))}finally{X=c,ig()}};exports.hydrate=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!0,c)};\nexports.render=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!rk(a))throw Error(y(40));return a._reactRootContainer?(Xj(function(){tk(null,null,a,!1,function(){a._reactRootContainer=null;a[ff]=null})}),!0):!1};exports.unstable_batchedUpdates=Wj;exports.unstable_createPortal=function(a,b){return uk(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!rk(c))throw Error(y(200));if(null==a||void 0===a._reactInternals)throw Error(y(38));return tk(a,b,c,!1,d)};exports.version=\"17.0.2\";\n","/** @license React v0.20.2\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f,g,h,k;if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}\nif(\"undefined\"===typeof window||\"function\"!==typeof MessageChannel){var t=null,u=null,w=function(){if(null!==t)try{var a=exports.unstable_now();t(!0,a);t=null}catch(b){throw setTimeout(w,0),b;}};f=function(a){null!==t?setTimeout(f,0,a):(t=a,setTimeout(w,0))};g=function(a,b){u=setTimeout(a,b)};h=function(){clearTimeout(u)};exports.unstable_shouldYield=function(){return!1};k=exports.unstable_forceFrameRate=function(){}}else{var x=window.setTimeout,y=window.clearTimeout;if(\"undefined\"!==typeof console){var z=\nwindow.cancelAnimationFrame;\"function\"!==typeof window.requestAnimationFrame&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills\");\"function\"!==typeof z&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills\")}var A=!1,B=null,C=-1,D=5,E=0;exports.unstable_shouldYield=function(){return exports.unstable_now()>=\nE};k=function(){};exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):D=0<a?Math.floor(1E3/a):5};var F=new MessageChannel,G=F.port2;F.port1.onmessage=function(){if(null!==B){var a=exports.unstable_now();E=a+D;try{B(!0,a)?G.postMessage(null):(A=!1,B=null)}catch(b){throw G.postMessage(null),b;}}else A=!1};f=function(a){B=a;A||(A=!0,G.postMessage(null))};g=function(a,b){C=\nx(function(){a(exports.unstable_now())},b)};h=function(){y(C);C=-1}}function H(a,b){var c=a.length;a.push(b);a:for(;;){var d=c-1>>>1,e=a[d];if(void 0!==e&&0<I(e,b))a[d]=b,a[c]=e,c=d;else break a}}function J(a){a=a[0];return void 0===a?null:a}\nfunction K(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>I(n,c))void 0!==r&&0>I(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else if(void 0!==r&&0>I(r,c))a[d]=r,a[v]=c,d=v;else break a}}return b}return null}function I(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var L=[],M=[],N=1,O=null,P=3,Q=!1,R=!1,S=!1;\nfunction T(a){for(var b=J(M);null!==b;){if(null===b.callback)K(M);else if(b.startTime<=a)K(M),b.sortIndex=b.expirationTime,H(L,b);else break;b=J(M)}}function U(a){S=!1;T(a);if(!R)if(null!==J(L))R=!0,f(V);else{var b=J(M);null!==b&&g(U,b.startTime-a)}}\nfunction V(a,b){R=!1;S&&(S=!1,h());Q=!0;var c=P;try{T(b);for(O=J(L);null!==O&&(!(O.expirationTime>b)||a&&!exports.unstable_shouldYield());){var d=O.callback;if(\"function\"===typeof d){O.callback=null;P=O.priorityLevel;var e=d(O.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?O.callback=e:O===J(L)&&K(L);T(b)}else K(L);O=J(L)}if(null!==O)var m=!0;else{var n=J(M);null!==n&&g(U,n.startTime-b);m=!1}return m}finally{O=null,P=c,Q=!1}}var W=k;exports.unstable_IdlePriority=5;\nexports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){R||Q||(R=!0,f(V))};exports.unstable_getCurrentPriorityLevel=function(){return P};exports.unstable_getFirstCallbackNode=function(){return J(L)};\nexports.unstable_next=function(a){switch(P){case 1:case 2:case 3:var b=3;break;default:b=P}var c=P;P=b;try{return a()}finally{P=c}};exports.unstable_pauseExecution=function(){};exports.unstable_requestPaint=W;exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=P;P=a;try{return b()}finally{P=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:N++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,H(M,a),null===J(L)&&a===J(M)&&(S?h():S=!0,g(U,c-d))):(a.sortIndex=e,H(L,a),R||Q||(R=!0,f(V)));return a};\nexports.unstable_wrapCallback=function(a){var b=P;return function(){var c=P;P=b;try{return a.apply(this,arguments)}finally{P=c}}};\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","/** @license React v17.0.2\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n","/** @license React v0.26.2\n * react-reconciler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nmodule.exports = function $$$reconciler($$$hostConfig) {\n    var exports = {};\n'use strict';var aa=require(\"object-assign\"),ba=require(\"react\"),m=require(\"scheduler\");function q(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}\nvar ca=ba.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,da=60103,ea=60106,fa=60107,ha=60108,ia=60114,ja=60109,ka=60110,la=60112,ma=60113,na=60120,oa=60115,pa=60116,qa=60121,ra=60129,sa=60130,ta=60131;\nif(\"function\"===typeof Symbol&&Symbol.for){var r=Symbol.for;da=r(\"react.element\");ea=r(\"react.portal\");fa=r(\"react.fragment\");ha=r(\"react.strict_mode\");ia=r(\"react.profiler\");ja=r(\"react.provider\");ka=r(\"react.context\");la=r(\"react.forward_ref\");ma=r(\"react.suspense\");na=r(\"react.suspense_list\");oa=r(\"react.memo\");pa=r(\"react.lazy\");qa=r(\"react.block\");r(\"react.scope\");ra=r(\"react.debug_trace_mode\");sa=r(\"react.offscreen\");ta=r(\"react.legacy_hidden\")}var ua=\"function\"===typeof Symbol&&Symbol.iterator;\nfunction va(a){if(null===a||\"object\"!==typeof a)return null;a=ua&&a[ua]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nfunction wa(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case fa:return\"Fragment\";case ea:return\"Portal\";case ia:return\"Profiler\";case ha:return\"StrictMode\";case ma:return\"Suspense\";case na:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case ka:return(a.displayName||\"Context\")+\".Consumer\";case ja:return(a._context.displayName||\"Context\")+\".Provider\";case la:var b=a.render;b=b.displayName||b.name||\"\";\nreturn a.displayName||(\"\"!==b?\"ForwardRef(\"+b+\")\":\"ForwardRef\");case oa:return wa(a.type);case qa:return wa(a._render);case pa:b=a._payload;a=a._init;try{return wa(a(b))}catch(c){}}return null}function xa(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&1026)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function ya(a){if(xa(a)!==a)throw Error(q(188));}\nfunction za(a){var b=a.alternate;if(!b){b=xa(a);if(null===b)throw Error(q(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return ya(e),a;if(f===d)return ya(e),b;f=f.sibling}throw Error(q(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(q(189));}}if(c.alternate!==d)throw Error(q(190));}if(3!==c.tag)throw Error(q(188));return c.stateNode.current===c?a:b}function Aa(a){a=za(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}\nfunction Ba(a){a=za(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child&&4!==b.tag)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}function Ca(a,b){for(var c=a.alternate;null!==b;){if(b===a||b===c)return!0;b=b.return}return!1}\nvar Da=$$$hostConfig.getPublicInstance,Ea=$$$hostConfig.getRootHostContext,Fa=$$$hostConfig.getChildHostContext,Ga=$$$hostConfig.prepareForCommit,Ha=$$$hostConfig.resetAfterCommit,Ia=$$$hostConfig.createInstance,Ja=$$$hostConfig.appendInitialChild,Ka=$$$hostConfig.finalizeInitialChildren,La=$$$hostConfig.prepareUpdate,Ma=$$$hostConfig.shouldSetTextContent,Na=$$$hostConfig.createTextInstance,Pa=$$$hostConfig.scheduleTimeout,Qa=$$$hostConfig.cancelTimeout,Ra=$$$hostConfig.noTimeout,Sa=$$$hostConfig.isPrimaryRenderer,\nTa=$$$hostConfig.supportsMutation,Ua=$$$hostConfig.supportsPersistence,Va=$$$hostConfig.supportsHydration,Wa=$$$hostConfig.getInstanceFromNode,Xa=$$$hostConfig.makeOpaqueHydratingObject,Ya=$$$hostConfig.makeClientId,Za=$$$hostConfig.beforeActiveInstanceBlur,$a=$$$hostConfig.afterActiveInstanceBlur,ab=$$$hostConfig.preparePortalMount,bb=$$$hostConfig.supportsTestSelectors,cb=$$$hostConfig.findFiberRoot,db=$$$hostConfig.getBoundingRect,eb=$$$hostConfig.getTextContent,fb=$$$hostConfig.isHiddenSubtree,\ngb=$$$hostConfig.matchAccessibilityRole,hb=$$$hostConfig.setFocusIfFocusable,ib=$$$hostConfig.setupIntersectionObserver,jb=$$$hostConfig.appendChild,kb=$$$hostConfig.appendChildToContainer,lb=$$$hostConfig.commitTextUpdate,mb=$$$hostConfig.commitMount,nb=$$$hostConfig.commitUpdate,ob=$$$hostConfig.insertBefore,pb=$$$hostConfig.insertInContainerBefore,qb=$$$hostConfig.removeChild,rb=$$$hostConfig.removeChildFromContainer,sb=$$$hostConfig.resetTextContent,tb=$$$hostConfig.hideInstance,ub=$$$hostConfig.hideTextInstance,\nvb=$$$hostConfig.unhideInstance,wb=$$$hostConfig.unhideTextInstance,xb=$$$hostConfig.clearContainer,yb=$$$hostConfig.cloneInstance,zb=$$$hostConfig.createContainerChildSet,Ab=$$$hostConfig.appendChildToContainerChildSet,Bb=$$$hostConfig.finalizeContainerChildren,Cb=$$$hostConfig.replaceContainerChildren,Db=$$$hostConfig.cloneHiddenInstance,Eb=$$$hostConfig.cloneHiddenTextInstance,Fb=$$$hostConfig.canHydrateInstance,Gb=$$$hostConfig.canHydrateTextInstance,Hb=$$$hostConfig.isSuspenseInstancePending,\nIb=$$$hostConfig.isSuspenseInstanceFallback,Jb=$$$hostConfig.getNextHydratableSibling,Kb=$$$hostConfig.getFirstHydratableChild,Lb=$$$hostConfig.hydrateInstance,Mb=$$$hostConfig.hydrateTextInstance,Nb=$$$hostConfig.getNextHydratableInstanceAfterSuspenseInstance,Ob=$$$hostConfig.commitHydratedContainer,Pb=$$$hostConfig.commitHydratedSuspenseInstance,Qb;function Rb(a){if(void 0===Qb)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);Qb=b&&b[1]||\"\"}return\"\\n\"+Qb+a}var Sb=!1;\nfunction Tb(a,b){if(!a||Sb)return\"\";Sb=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(k){var d=k}Reflect.construct(a,[],b)}else{try{b.call()}catch(k){d=k}a.call(b.prototype)}else{try{throw Error();}catch(k){d=k}a()}}catch(k){if(k&&d&&\"string\"===typeof k.stack){for(var e=k.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h])return\"\\n\"+e[g].replace(\" at new \",\" at \");while(1<=g&&0<=h)}break}}}finally{Sb=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Rb(a):\"\"}var Ub=[],Vb=-1;function Wb(a){return{current:a}}function z(a){0>Vb||(a.current=Ub[Vb],Ub[Vb]=null,Vb--)}function A(a,b){Vb++;Ub[Vb]=a.current;a.current=b}\nvar Xb={},B=Wb(Xb),D=Wb(!1),Yb=Xb;function Zb(a,b){var c=a.type.contextTypes;if(!c)return Xb;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function E(a){a=a.childContextTypes;return null!==a&&void 0!==a}function $b(){z(D);z(B)}\nfunction ac(a,b,c){if(B.current!==Xb)throw Error(q(168));A(B,b);A(D,c)}function bc(a,b,c){var d=a.stateNode;a=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in a))throw Error(q(108,wa(b)||\"Unknown\",e));return aa({},c,d)}function cc(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Xb;Yb=B.current;A(B,a);A(D,D.current);return!0}\nfunction dc(a,b,c){var d=a.stateNode;if(!d)throw Error(q(169));c?(a=bc(a,b,Yb),d.__reactInternalMemoizedMergedChildContext=a,z(D),z(B),A(B,a)):z(D);A(D,c)}var ec=null,fc=null,gc=m.unstable_now;gc();var hc=0,F=8;\nfunction ic(a){if(0!==(1&a))return F=15,1;if(0!==(2&a))return F=14,2;if(0!==(4&a))return F=13,4;var b=24&a;if(0!==b)return F=12,b;if(0!==(a&32))return F=11,32;b=192&a;if(0!==b)return F=10,b;if(0!==(a&256))return F=9,256;b=3584&a;if(0!==b)return F=8,b;if(0!==(a&4096))return F=7,4096;b=4186112&a;if(0!==b)return F=6,b;b=62914560&a;if(0!==b)return F=5,b;if(a&67108864)return F=4,67108864;if(0!==(a&134217728))return F=3,134217728;b=805306368&a;if(0!==b)return F=2,b;if(0!==(1073741824&a))return F=1,1073741824;\nF=8;return a}function jc(a){switch(a){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function kc(a){switch(a){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(q(358,a));}}\nfunction lc(a,b){var c=a.pendingLanes;if(0===c)return F=0;var d=0,e=0,f=a.expiredLanes,g=a.suspendedLanes,h=a.pingedLanes;if(0!==f)d=f,e=F=15;else if(f=c&134217727,0!==f){var k=f&~g;0!==k?(d=ic(k),e=F):(h&=f,0!==h&&(d=ic(h),e=F))}else f=c&~g,0!==f?(d=ic(f),e=F):0!==h&&(d=ic(h),e=F);if(0===d)return 0;d=31-mc(d);d=c&((0>d?0:1<<d)<<1)-1;if(0!==b&&b!==d&&0===(b&g)){ic(b);if(e<=F)return b;F=e}b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-mc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction nc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function oc(a,b){switch(a){case 15:return 1;case 14:return 2;case 12:return a=pc(24&~b),0===a?oc(10,b):a;case 10:return a=pc(192&~b),0===a?oc(8,b):a;case 8:return a=pc(3584&~b),0===a&&(a=pc(4186112&~b),0===a&&(a=512)),a;case 2:return b=pc(805306368&~b),0===b&&(b=268435456),b}throw Error(q(358,a));}function pc(a){return a&-a}function qc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction rc(a,b,c){a.pendingLanes|=b;var d=b-1;a.suspendedLanes&=d;a.pingedLanes&=d;a=a.eventTimes;b=31-mc(b);a[b]=c}var mc=Math.clz32?Math.clz32:sc,tc=Math.log,uc=Math.LN2;function sc(a){return 0===a?32:31-(tc(a)/uc|0)|0}\nvar vc=m.unstable_runWithPriority,wc=m.unstable_scheduleCallback,xc=m.unstable_cancelCallback,yc=m.unstable_shouldYield,zc=m.unstable_requestPaint,Ac=m.unstable_now,Bc=m.unstable_getCurrentPriorityLevel,Cc=m.unstable_ImmediatePriority,Dc=m.unstable_UserBlockingPriority,Ec=m.unstable_NormalPriority,Fc=m.unstable_LowPriority,Gc=m.unstable_IdlePriority,Hc={},Ic=void 0!==zc?zc:function(){},Jc=null,Kc=null,Lc=!1,Mc=Ac(),G=1E4>Mc?Ac:function(){return Ac()-Mc};\nfunction Nc(){switch(Bc()){case Cc:return 99;case Dc:return 98;case Ec:return 97;case Fc:return 96;case Gc:return 95;default:throw Error(q(332));}}function Oc(a){switch(a){case 99:return Cc;case 98:return Dc;case 97:return Ec;case 96:return Fc;case 95:return Gc;default:throw Error(q(332));}}function Pc(a,b){a=Oc(a);return vc(a,b)}function Qc(a,b,c){a=Oc(a);return wc(a,b,c)}function H(){if(null!==Kc){var a=Kc;Kc=null;xc(a)}Rc()}\nfunction Rc(){if(!Lc&&null!==Jc){Lc=!0;var a=0;try{var b=Jc;Pc(99,function(){for(;a<b.length;a++){var c=b[a];do c=c(!0);while(null!==c)}});Jc=null}catch(c){throw null!==Jc&&(Jc=Jc.slice(a+1)),wc(Cc,H),c;}finally{Lc=!1}}}var Sc=ca.ReactCurrentBatchConfig;function Tc(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var I=\"function\"===typeof Object.is?Object.is:Tc,Uc=Object.prototype.hasOwnProperty;\nfunction Vc(a,b){if(I(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!Uc.call(b,c[d])||!I(a[c[d]],b[c[d]]))return!1;return!0}\nfunction Wc(a){switch(a.tag){case 5:return Rb(a.type);case 16:return Rb(\"Lazy\");case 13:return Rb(\"Suspense\");case 19:return Rb(\"SuspenseList\");case 0:case 2:case 15:return a=Tb(a.type,!1),a;case 11:return a=Tb(a.type.render,!1),a;case 22:return a=Tb(a.type._render,!1),a;case 1:return a=Tb(a.type,!0),a;default:return\"\"}}function Xc(a,b){if(a&&a.defaultProps){b=aa({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}var Yc=Wb(null),Zc=null,$c=null,ad=null;\nfunction bd(){ad=$c=Zc=null}function cd(a,b){a=a.type._context;Sa?(A(Yc,a._currentValue),a._currentValue=b):(A(Yc,a._currentValue2),a._currentValue2=b)}function dd(a){var b=Yc.current;z(Yc);a=a.type._context;Sa?a._currentValue=b:a._currentValue2=b}function ed(a,b){for(;null!==a;){var c=a.alternate;if((a.childLanes&b)===b)if(null===c||(c.childLanes&b)===b)break;else c.childLanes|=b;else a.childLanes|=b,null!==c&&(c.childLanes|=b);a=a.return}}\nfunction fd(a,b){Zc=a;ad=$c=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(gd=!0),a.firstContext=null)}function J(a,b){if(ad!==a&&!1!==b&&0!==b){if(\"number\"!==typeof b||1073741823===b)ad=a,b=1073741823;b={context:a,observedBits:b,next:null};if(null===$c){if(null===Zc)throw Error(q(308));$c=b;Zc.dependencies={lanes:0,firstContext:b,responders:null}}else $c=$c.next=b}return Sa?a._currentValue:a._currentValue2}var hd=!1;\nfunction id(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function jd(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function kd(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}\nfunction md(a,b){a=a.updateQueue;if(null!==a){a=a.shared;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}}\nfunction nd(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction od(a,b,c,d){var e=a.updateQueue;hd=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var n=a.alternate;if(null!==n){n=n.updateQueue;var t=n.lastBaseUpdate;t!==g&&(null===t?n.firstBaseUpdate=l:t.next=l,n.lastBaseUpdate=k)}}if(null!==f){t=e.baseState;g=0;n=l=k=null;do{h=f.lane;var p=f.eventTime;if((d&h)===h){null!==n&&(n=n.next={eventTime:p,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,\nnext:null});a:{var y=a,x=f;h=b;p=c;switch(x.tag){case 1:y=x.payload;if(\"function\"===typeof y){t=y.call(p,t,h);break a}t=y;break a;case 3:y.flags=y.flags&-4097|64;case 0:y=x.payload;h=\"function\"===typeof y?y.call(p,t,h):y;if(null===h||void 0===h)break a;t=aa({},t,h);break a;case 2:hd=!0}}null!==f.callback&&(a.flags|=32,h=e.effects,null===h?e.effects=[f]:h.push(f))}else p={eventTime:p,lane:h,tag:f.tag,payload:f.payload,callback:f.callback,next:null},null===n?(l=n=p,k=t):n=n.next=p,g|=h;f=f.next;if(null===\nf)if(h=e.shared.pending,null===h)break;else f=h.next,h.next=null,e.lastBaseUpdate=h,e.shared.pending=null}while(1);null===n&&(k=t);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=n;pd|=g;a.lanes=g;a.memoizedState=t}}function qd(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(q(191,e));e.call(d)}}}var rd=(new ba.Component).refs;\nfunction sd(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:aa({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar vd={isMounted:function(a){return(a=a._reactInternals)?xa(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=K(),e=td(a),f=kd(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);md(a,f);ud(a,e,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=K(),e=td(a),f=kd(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);md(a,f);ud(a,e,d)},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=K(),d=td(a),e=kd(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=\nb);md(a,e);ud(a,d,c)}};function wd(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Vc(c,d)||!Vc(e,f):!0}\nfunction xd(a,b,c){var d=!1,e=Xb;var f=b.contextType;\"object\"===typeof f&&null!==f?f=J(f):(e=E(b)?Yb:B.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Zb(a,e):Xb);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=vd;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction yd(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&vd.enqueueReplaceState(b,b.state,null)}\nfunction zd(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=rd;id(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=J(f):(f=E(b)?Yb:B.current,e.context=Zb(a,f));od(a,c,e,d);e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(sd(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||\n(b=e.state,\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&vd.enqueueReplaceState(e,e.state,null),od(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4)}var Ad=Array.isArray;\nfunction Bd(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(q(309));var d=c.stateNode}if(!d)throw Error(q(147,a));var e=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===rd&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}if(\"string\"!==typeof a)throw Error(q(284));if(!c._owner)throw Error(q(290,a));}return a}\nfunction Cd(a,b){if(\"textarea\"!==a.type)throw Error(q(31,\"[object Object]\"===Object.prototype.toString.call(b)?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":b));}\nfunction Dd(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.flags=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Ed(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags=2,\nc):d;b.flags=2;return c}function g(b){a&&null===b.alternate&&(b.flags=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Fd(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props),d.ref=Bd(a,b,c),d.return=a,d;d=Gd(c.type,c.key,c.props,null,a.mode,d);d.ref=Bd(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=\nHd(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function n(a,b,c,d,f){if(null===b||7!==b.tag)return b=Id(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function t(a,b,c){if(\"string\"===typeof b||\"number\"===typeof b)return b=Fd(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case da:return c=Gd(b.type,b.key,b.props,null,a.mode,c),c.ref=Bd(a,null,b),c.return=a,c;case ea:return b=Hd(b,a.mode,c),b.return=a,b}if(Ad(b)||va(b))return b=Id(b,\na.mode,c,null),b.return=a,b;Cd(a,b)}return null}function p(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case da:return c.key===e?c.type===fa?n(a,b,c.props.children,d,e):k(a,b,c,d):null;case ea:return c.key===e?l(a,b,c,d):null}if(Ad(c)||va(c))return null!==e?null:n(a,b,c,d,null);Cd(a,c)}return null}function y(a,b,c,d,e){if(\"string\"===typeof d||\"number\"===typeof d)return a=a.get(c)||\nnull,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case da:return a=a.get(null===d.key?c:d.key)||null,d.type===fa?n(b,a,d.props.children,e,d.key):k(b,a,d,e);case ea:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e)}if(Ad(d)||va(d))return a=a.get(c)||null,n(b,a,d,e,null);Cd(b,d)}return null}function x(e,g,h,k){for(var l=null,v=null,u=g,C=g=0,n=null;null!==u&&C<h.length;C++){u.index>C?(n=u,u=null):n=u.sibling;var w=p(e,u,h[C],k);if(null===w){null===u&&(u=n);break}a&&u&&null===\nw.alternate&&b(e,u);g=f(w,g,C);null===v?l=w:v.sibling=w;v=w;u=n}if(C===h.length)return c(e,u),l;if(null===u){for(;C<h.length;C++)u=t(e,h[C],k),null!==u&&(g=f(u,g,C),null===v?l=u:v.sibling=u,v=u);return l}for(u=d(e,u);C<h.length;C++)n=y(u,e,C,h[C],k),null!==n&&(a&&null!==n.alternate&&u.delete(null===n.key?C:n.key),g=f(n,g,C),null===v?l=n:v.sibling=n,v=n);a&&u.forEach(function(a){return b(e,a)});return l}function Y(e,g,h,k){var l=va(h);if(\"function\"!==typeof l)throw Error(q(150));h=l.call(h);if(null==\nh)throw Error(q(151));for(var u=l=null,v=g,n=g=0,C=null,w=h.next();null!==v&&!w.done;n++,w=h.next()){v.index>n?(C=v,v=null):C=v.sibling;var x=p(e,v,w.value,k);if(null===x){null===v&&(v=C);break}a&&v&&null===x.alternate&&b(e,v);g=f(x,g,n);null===u?l=x:u.sibling=x;u=x;v=C}if(w.done)return c(e,v),l;if(null===v){for(;!w.done;n++,w=h.next())w=t(e,w.value,k),null!==w&&(g=f(w,g,n),null===u?l=w:u.sibling=w,u=w);return l}for(v=d(e,v);!w.done;n++,w=h.next())w=y(v,e,n,w.value,k),null!==w&&(a&&null!==w.alternate&&\nv.delete(null===w.key?n:w.key),g=f(w,g,n),null===u?l=w:u.sibling=w,u=w);a&&v.forEach(function(a){return b(e,a)});return l}return function(a,d,f,h){var k=\"object\"===typeof f&&null!==f&&f.type===fa&&null===f.key;k&&(f=f.props.children);var l=\"object\"===typeof f&&null!==f;if(l)switch(f.$$typeof){case da:a:{l=f.key;for(k=d;null!==k;){if(k.key===l){switch(k.tag){case 7:if(f.type===fa){c(a,k.sibling);d=e(k,f.props.children);d.return=a;a=d;break a}break;default:if(k.elementType===f.type){c(a,k.sibling);\nd=e(k,f.props);d.ref=Bd(a,k,f);d.return=a;a=d;break a}}c(a,k);break}else b(a,k);k=k.sibling}f.type===fa?(d=Id(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Gd(f.type,f.key,f.props,null,a.mode,h),h.ref=Bd(a,d,f),h.return=a,a=h)}return g(a);case ea:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=\nHd(f,a.mode,h);d.return=a;a=d}return g(a)}if(\"string\"===typeof f||\"number\"===typeof f)return f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):(c(a,d),d=Fd(f,a.mode,h),d.return=a,a=d),g(a);if(Ad(f))return x(a,d,f,h);if(va(f))return Y(a,d,f,h);l&&Cd(a,f);if(\"undefined\"===typeof f&&!k)switch(a.tag){case 1:case 22:case 0:case 11:case 15:throw Error(q(152,wa(a.type)||\"Component\"));}return c(a,d)}}var Jd=Dd(!0),Kd=Dd(!1),Ld={},L=Wb(Ld),Md=Wb(Ld),Nd=Wb(Ld);\nfunction Od(a){if(a===Ld)throw Error(q(174));return a}function Pd(a,b){A(Nd,b);A(Md,a);A(L,Ld);a=Ea(b);z(L);A(L,a)}function Qd(){z(L);z(Md);z(Nd)}function Rd(a){var b=Od(Nd.current),c=Od(L.current);b=Fa(c,a.type,b);c!==b&&(A(Md,a),A(L,b))}function Sd(a){Md.current===a&&(z(L),z(Md))}var M=Wb(0);\nfunction Td(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||Hb(c)||Ib(c)))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&64))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var Ud=null,Vd=null,Wd=!1;\nfunction Xd(a,b){var c=Yd(5,null,null,0);c.elementType=\"DELETED\";c.type=\"DELETED\";c.stateNode=b;c.return=a;c.flags=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function Zd(a,b){switch(a.tag){case 5:return b=Fb(b,a.type,a.pendingProps),null!==b?(a.stateNode=b,!0):!1;case 6:return b=Gb(b,a.pendingProps),null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}\nfunction $d(a){if(Wd){var b=Vd;if(b){var c=b;if(!Zd(a,b)){b=Jb(c);if(!b||!Zd(a,b)){a.flags=a.flags&-1025|2;Wd=!1;Ud=a;return}Xd(Ud,c)}Ud=a;Vd=Kb(b)}else a.flags=a.flags&-1025|2,Wd=!1,Ud=a}}function ae(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;Ud=a}\nfunction be(a){if(!Va||a!==Ud)return!1;if(!Wd)return ae(a),Wd=!0,!1;var b=a.type;if(5!==a.tag||\"head\"!==b&&\"body\"!==b&&!Ma(b,a.memoizedProps))for(b=Vd;b;)Xd(a,b),b=Jb(b);ae(a);if(13===a.tag){if(!Va)throw Error(q(316));a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(q(317));Vd=Nb(a)}else Vd=Ud?Jb(a.stateNode):null;return!0}function ce(){Va&&(Vd=Ud=null,Wd=!1)}var de=[];\nfunction ee(){for(var a=0;a<de.length;a++){var b=de[a];Sa?b._workInProgressVersionPrimary=null:b._workInProgressVersionSecondary=null}de.length=0}var fe=ca.ReactCurrentDispatcher,ge=ca.ReactCurrentBatchConfig,he=0,N=null,O=null,P=null,ie=!1,je=!1;function Q(){throw Error(q(321));}function ke(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!I(a[c],b[c]))return!1;return!0}\nfunction le(a,b,c,d,e,f){he=f;N=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;fe.current=null===a||null===a.memoizedState?me:ne;a=c(d,e);if(je){f=0;do{je=!1;if(!(25>f))throw Error(q(301));f+=1;P=O=null;b.updateQueue=null;fe.current=oe;a=c(d,e)}while(je)}fe.current=pe;b=null!==O&&null!==O.next;he=0;P=O=N=null;ie=!1;if(b)throw Error(q(300));return a}function qe(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===P?N.memoizedState=P=a:P=P.next=a;return P}\nfunction re(){if(null===O){var a=N.alternate;a=null!==a?a.memoizedState:null}else a=O.next;var b=null===P?N.memoizedState:P.next;if(null!==b)P=b,O=a;else{if(null===a)throw Error(q(310));O=a;a={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null};null===P?N.memoizedState=P=a:P=P.next=a}return P}function se(a,b){return\"function\"===typeof b?b(a):b}\nfunction te(a){var b=re(),c=b.queue;if(null===c)throw Error(q(311));c.lastRenderedReducer=a;var d=O,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){e=e.next;d=d.baseState;var h=g=f=null,k=e;do{var l=k.lane;if((he&l)===l)null!==h&&(h=h.next={lane:0,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null}),d=k.eagerReducer===a?k.eagerState:a(d,k.action);else{var n={lane:l,action:k.action,eagerReducer:k.eagerReducer,\neagerState:k.eagerState,next:null};null===h?(g=h=n,f=d):h=h.next=n;N.lanes|=l;pd|=l}k=k.next}while(null!==k&&k!==e);null===h?f=d:h.next=g;I(d,b.memoizedState)||(gd=!0);b.memoizedState=d;b.baseState=f;b.baseQueue=h;c.lastRenderedState=d}return[b.memoizedState,c.dispatch]}\nfunction ue(a){var b=re(),c=b.queue;if(null===c)throw Error(q(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);I(f,b.memoizedState)||(gd=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}\nfunction ve(a,b,c){var d=b._getVersion;d=d(b._source);var e=Sa?b._workInProgressVersionPrimary:b._workInProgressVersionSecondary;if(null!==e)a=e===d;else if(a=a.mutableReadLanes,a=(he&a)===a)Sa?b._workInProgressVersionPrimary=d:b._workInProgressVersionSecondary=d,de.push(b);if(a)return c(b._source);de.push(b);throw Error(q(350));}\nfunction we(a,b,c,d){var e=R;if(null===e)throw Error(q(349));var f=b._getVersion,g=f(b._source),h=fe.current,k=h.useState(function(){return ve(e,b,c)}),l=k[1],n=k[0];k=P;var t=a.memoizedState,p=t.refs,y=p.getSnapshot,x=t.source;t=t.subscribe;var Y=N;a.memoizedState={refs:p,source:b,subscribe:d};h.useEffect(function(){p.getSnapshot=c;p.setSnapshot=l;var a=f(b._source);if(!I(g,a)){a=c(b._source);I(n,a)||(l(a),a=td(Y),e.mutableReadLanes|=a&e.pendingLanes);a=e.mutableReadLanes;e.entangledLanes|=a;for(var d=\ne.entanglements,h=a;0<h;){var k=31-mc(h),t=1<<k;d[k]|=a;h&=~t}}},[c,b,d]);h.useEffect(function(){return d(b._source,function(){var a=p.getSnapshot,c=p.setSnapshot;try{c(a(b._source));var d=td(Y);e.mutableReadLanes|=d&e.pendingLanes}catch(Oa){c(function(){throw Oa;})}})},[b,d]);I(y,c)&&I(x,b)&&I(t,d)||(a={pending:null,dispatch:null,lastRenderedReducer:se,lastRenderedState:n},a.dispatch=l=xe.bind(null,N,a),k.queue=a,k.baseQueue=null,n=ve(e,b,c),k.memoizedState=k.baseState=n);return n}\nfunction ye(a,b,c){var d=re();return we(d,a,b,c)}function ze(a){var b=qe();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a=b.queue={pending:null,dispatch:null,lastRenderedReducer:se,lastRenderedState:a};a=a.dispatch=xe.bind(null,N,a);return[b.memoizedState,a]}\nfunction Ae(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=N.updateQueue;null===b?(b={lastEffect:null},N.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function Be(a){var b=qe();a={current:a};return b.memoizedState=a}function Ce(){return re().memoizedState}function De(a,b,c,d){var e=qe();N.flags|=a;e.memoizedState=Ae(1|b,c,void 0,void 0===d?null:d)}\nfunction Ee(a,b,c,d){var e=re();d=void 0===d?null:d;var f=void 0;if(null!==O){var g=O.memoizedState;f=g.destroy;if(null!==d&&ke(d,g.deps)){Ae(b,c,f,d);return}}N.flags|=a;e.memoizedState=Ae(1|b,c,f,d)}function Fe(a,b){return De(516,4,a,b)}function Ge(a,b){return Ee(516,4,a,b)}function He(a,b){return Ee(4,2,a,b)}function Ie(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}\nfunction Je(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Ee(4,2,Ie.bind(null,b,a),c)}function Ke(){}function Le(a,b){var c=re();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&ke(b,d[1]))return d[0];c.memoizedState=[a,b];return a}function Me(a,b){var c=re();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&ke(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}\nfunction Ne(a,b){var c=Nc();Pc(98>c?98:c,function(){a(!0)});Pc(97<c?97:c,function(){var c=ge.transition;ge.transition=1;try{a(!1),b()}finally{ge.transition=c}})}\nfunction xe(a,b,c){var d=K(),e=td(a),f={lane:e,action:c,eagerReducer:null,eagerState:null,next:null},g=b.pending;null===g?f.next=f:(f.next=g.next,g.next=f);b.pending=f;g=a.alternate;if(a===N||null!==g&&g===N)je=ie=!0;else{if(0===a.lanes&&(null===g||0===g.lanes)&&(g=b.lastRenderedReducer,null!==g))try{var h=b.lastRenderedState,k=g(h,c);f.eagerReducer=g;f.eagerState=k;if(I(k,h))return}catch(l){}finally{}ud(a,e,d)}}\nvar pe={readContext:J,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useOpaqueIdentifier:Q,unstable_isNewReconciler:!1},me={readContext:J,useCallback:function(a,b){qe().memoizedState=[a,void 0===b?null:b];return a},useContext:J,useEffect:Fe,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return De(4,2,Ie.bind(null,b,a),c)},useLayoutEffect:function(a,\nb){return De(4,2,a,b)},useMemo:function(a,b){var c=qe();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=qe();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};a=a.dispatch=xe.bind(null,N,a);return[d.memoizedState,a]},useRef:Be,useState:ze,useDebugValue:Ke,useDeferredValue:function(a){var b=ze(a),c=b[0],d=b[1];Fe(function(){var b=ge.transition;ge.transition=1;try{d(a)}finally{ge.transition=\nb}},[a]);return c},useTransition:function(){var a=ze(!1),b=a[0];a=Ne.bind(null,a[1]);Be(a);return[a,b]},useMutableSource:function(a,b,c){var d=qe();d.memoizedState={refs:{getSnapshot:b,setSnapshot:null},source:a,subscribe:c};return we(d,a,b,c)},useOpaqueIdentifier:function(){if(Wd){var a=!1,b=Xa(function(){a||(a=!0,c(Ya()));throw Error(q(355));}),c=ze(b)[1];0===(N.mode&2)&&(N.flags|=516,Ae(5,function(){c(Ya())},void 0,null));return b}b=Ya();ze(b);return b},unstable_isNewReconciler:!1},ne={readContext:J,\nuseCallback:Le,useContext:J,useEffect:Ge,useImperativeHandle:Je,useLayoutEffect:He,useMemo:Me,useReducer:te,useRef:Ce,useState:function(){return te(se)},useDebugValue:Ke,useDeferredValue:function(a){var b=te(se),c=b[0],d=b[1];Ge(function(){var b=ge.transition;ge.transition=1;try{d(a)}finally{ge.transition=b}},[a]);return c},useTransition:function(){var a=te(se)[0];return[Ce().current,a]},useMutableSource:ye,useOpaqueIdentifier:function(){return te(se)[0]},unstable_isNewReconciler:!1},oe={readContext:J,\nuseCallback:Le,useContext:J,useEffect:Ge,useImperativeHandle:Je,useLayoutEffect:He,useMemo:Me,useReducer:ue,useRef:Ce,useState:function(){return ue(se)},useDebugValue:Ke,useDeferredValue:function(a){var b=ue(se),c=b[0],d=b[1];Ge(function(){var b=ge.transition;ge.transition=1;try{d(a)}finally{ge.transition=b}},[a]);return c},useTransition:function(){var a=ue(se)[0];return[Ce().current,a]},useMutableSource:ye,useOpaqueIdentifier:function(){return ue(se)[0]},unstable_isNewReconciler:!1},Oe=ca.ReactCurrentOwner,\ngd=!1;function S(a,b,c,d){b.child=null===a?Kd(b,null,c,d):Jd(b,a.child,c,d)}function Pe(a,b,c,d,e){c=c.render;var f=b.ref;fd(b,e);d=le(a,b,c,d,f,e);if(null!==a&&!gd)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,Re(a,b,e);b.flags|=1;S(a,b,d,e);return b.child}\nfunction Se(a,b,c,d,e,f){if(null===a){var g=c.type;if(\"function\"===typeof g&&!Te(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,Ue(a,b,g,d,e,f);a=Gd(c.type,null,d,b,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(0===(e&f)&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:Vc,c(e,d)&&a.ref===b.ref))return Re(a,b,f);b.flags|=1;a=Ed(g,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction Ue(a,b,c,d,e,f){if(null!==a&&Vc(a.memoizedProps,d)&&a.ref===b.ref)if(gd=!1,0!==(f&e))0!==(a.flags&16384)&&(gd=!0);else return b.lanes=a.lanes,Re(a,b,f);return Ve(a,b,c,d,f)}\nfunction We(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode||\"unstable-defer-without-hiding\"===d.mode)if(0===(b.mode&4))b.memoizedState={baseLanes:0},Xe(b,c);else if(0!==(c&1073741824))b.memoizedState={baseLanes:0},Xe(b,null!==f?f.baseLanes:c);else return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a},Xe(b,a),null;else null!==f?(d=f.baseLanes|c,b.memoizedState=null):d=c,Xe(b,d);S(a,b,e,c);return b.child}\nfunction Ye(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=128}function Ve(a,b,c,d,e){var f=E(c)?Yb:B.current;f=Zb(b,f);fd(b,e);c=le(a,b,c,d,f,e);if(null!==a&&!gd)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,Re(a,b,e);b.flags|=1;S(a,b,c,e);return b.child}\nfunction Ze(a,b,c,d,e){if(E(c)){var f=!0;cc(b)}else f=!1;fd(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),xd(b,c,d),zd(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=J(l):(l=E(c)?Yb:B.current,l=Zb(b,l));var n=c.getDerivedStateFromProps,t=\"function\"===typeof n||\"function\"===typeof g.getSnapshotBeforeUpdate;t||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==\ntypeof g.componentWillReceiveProps||(h!==d||k!==l)&&yd(b,g,d,l);hd=!1;var p=b.memoizedState;g.state=p;od(b,d,g,e);k=b.memoizedState;h!==d||p!==k||D.current||hd?(\"function\"===typeof n&&(sd(b,c,n,d),k=b.memoizedState),(h=hd||wd(b,c,h,d,p,k,l))?(t||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&\n(b.flags|=4)):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),d=!1)}else{g=b.stateNode;jd(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:Xc(b.type,h);g.props=l;t=b.pendingProps;p=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=J(k):(k=E(c)?Yb:B.current,k=Zb(b,k));var y=c.getDerivedStateFromProps;(n=\"function\"===typeof y||\"function\"===typeof g.getSnapshotBeforeUpdate)||\n\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==t||p!==k)&&yd(b,g,d,k);hd=!1;p=b.memoizedState;g.state=p;od(b,d,g,e);var x=b.memoizedState;h!==t||p!==x||D.current||hd?(\"function\"===typeof y&&(sd(b,c,y,d),x=b.memoizedState),(l=hd||wd(b,c,l,d,p,x,k))?(n||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,x,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&\ng.UNSAFE_componentWillUpdate(d,x,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=256)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),b.memoizedProps=d,b.memoizedState=x),g.props=d,g.state=x,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&p===a.memoizedState||\n(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),d=!1)}return $e(a,b,c,d,f,e)}function $e(a,b,c,d,e,f){Ye(a,b);var g=0!==(b.flags&64);if(!d&&!g)return e&&dc(b,c,!1),Re(a,b,f);d=b.stateNode;Oe.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Jd(b,a.child,null,f),b.child=Jd(b,null,h,f)):S(a,b,h,f);b.memoizedState=d.state;e&&dc(b,c,!0);return b.child}\nfunction af(a){var b=a.stateNode;b.pendingContext?ac(a,b.pendingContext,b.pendingContext!==b.context):b.context&&ac(a,b.context,!1);Pd(a,b.containerInfo)}var bf={dehydrated:null,retryLane:0};\nfunction cf(a,b,c){var d=b.pendingProps,e=M.current,f=!1,g;(g=0!==(b.flags&64))||(g=null!==a&&null===a.memoizedState?!1:0!==(e&2));g?(f=!0,b.flags&=-65):null!==a&&null===a.memoizedState||void 0===d.fallback||!0===d.unstable_avoidThisFallback||(e|=1);A(M,e&1);if(null===a){void 0!==d.fallback&&$d(b);a=d.children;e=d.fallback;if(f)return a=df(b,a,e,c),b.child.memoizedState={baseLanes:c},b.memoizedState=bf,a;if(\"number\"===typeof d.unstable_expectedLoadTime)return a=df(b,a,e,c),b.child.memoizedState={baseLanes:c},\nb.memoizedState=bf,b.lanes=33554432,a;c=ef({mode:\"visible\",children:a},b.mode,c,null);c.return=b;return b.child=c}if(null!==a.memoizedState){if(f)return d=ff(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=bf,d;c=gf(a,b,d.children,c);b.memoizedState=null;return c}if(f)return d=ff(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:\n{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=bf,d;c=gf(a,b,d.children,c);b.memoizedState=null;return c}function df(a,b,c,d){var e=a.mode,f=a.child;b={mode:\"hidden\",children:b};0===(e&2)&&null!==f?(f.childLanes=0,f.pendingProps=b):f=ef(b,e,0,null);c=Id(c,e,d,null);f.return=a;c.return=a;f.sibling=c;a.child=f;return c}\nfunction gf(a,b,c,d){var e=a.child;a=e.sibling;c=Ed(e,{mode:\"visible\",children:c});0===(b.mode&2)&&(c.lanes=d);c.return=b;c.sibling=null;null!==a&&(a.nextEffect=null,a.flags=8,b.firstEffect=b.lastEffect=a);return b.child=c}\nfunction ff(a,b,c,d,e){var f=b.mode,g=a.child;a=g.sibling;var h={mode:\"hidden\",children:c};0===(f&2)&&b.child!==g?(c=b.child,c.childLanes=0,c.pendingProps=h,g=c.lastEffect,null!==g?(b.firstEffect=c.firstEffect,b.lastEffect=g,g.nextEffect=null):b.firstEffect=b.lastEffect=null):c=Ed(g,h);null!==a?d=Ed(a,d):(d=Id(d,f,e,null),d.flags|=2);d.return=b;c.return=b;c.sibling=d;b.child=c;return d}function hf(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);ed(a.return,b)}\nfunction jf(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e,lastEffect:f}:(g.isBackwards=b,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailMode=e,g.lastEffect=f)}\nfunction kf(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;S(a,b,d.children,c);d=M.current;if(0!==(d&2))d=d&1|2,b.flags|=64;else{if(null!==a&&0!==(a.flags&64))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&hf(a,c);else if(19===a.tag)hf(a,c);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}A(M,d);if(0===(b.mode&2))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===Td(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);jf(b,!1,e,c,f,b.lastEffect);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===Td(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}jf(b,!0,c,null,f,b.lastEffect);break;case \"together\":jf(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}\nfunction Re(a,b,c){null!==a&&(b.dependencies=a.dependencies);pd|=b.lanes;if(0!==(c&b.childLanes)){if(null!==a&&b.child!==a.child)throw Error(q(153));if(null!==b.child){a=b.child;c=Ed(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Ed(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}return null}function lf(a){a.flags|=4}var mf,nf,of,pf;\nif(Ta)mf=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)Ja(a,c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}},nf=function(){},of=function(a,b,c,d,e){a=a.memoizedProps;if(a!==d){var f=b.stateNode,g=Od(L.current);c=La(f,c,a,d,e,g);(b.updateQueue=c)&&lf(b)}},pf=function(a,b,c,d){c!==d&&lf(b)};else if(Ua){mf=function(a,\nb,c,d){for(var e=b.child;null!==e;){if(5===e.tag){var f=e.stateNode;c&&d&&(f=Db(f,e.type,e.memoizedProps,e));Ja(a,f)}else if(6===e.tag)f=e.stateNode,c&&d&&(f=Eb(f,e.memoizedProps,e)),Ja(a,f);else if(4!==e.tag){if(13===e.tag&&0!==(e.flags&4)&&(f=null!==e.memoizedState)){var g=e.child;if(null!==g&&(null!==g.child&&(g.child.return=g,mf(a,g,!0,f)),f=g.sibling,null!==f)){f.return=e;e=f;continue}}if(null!==e.child){e.child.return=e;e=e.child;continue}}if(e===b)break;for(;null===e.sibling;){if(null===e.return||\ne.return===b)return;e=e.return}e.sibling.return=e.return;e=e.sibling}};var qf=function(a,b,c,d){for(var e=b.child;null!==e;){if(5===e.tag){var f=e.stateNode;c&&d&&(f=Db(f,e.type,e.memoizedProps,e));Ab(a,f)}else if(6===e.tag)f=e.stateNode,c&&d&&(f=Eb(f,e.memoizedProps,e)),Ab(a,f);else if(4!==e.tag){if(13===e.tag&&0!==(e.flags&4)&&(f=null!==e.memoizedState)){var g=e.child;if(null!==g&&(null!==g.child&&(g.child.return=g,qf(a,g,!0,f)),f=g.sibling,null!==f)){f.return=e;e=f;continue}}if(null!==e.child){e.child.return=\ne;e=e.child;continue}}if(e===b)break;for(;null===e.sibling;){if(null===e.return||e.return===b)return;e=e.return}e.sibling.return=e.return;e=e.sibling}};nf=function(a){var b=a.stateNode;if(null!==a.firstEffect){var c=b.containerInfo,d=zb(c);qf(d,a,!1,!1);b.pendingChildren=d;lf(a);Bb(c,d)}};of=function(a,b,c,d,e){var f=a.stateNode,g=a.memoizedProps;if((a=null===b.firstEffect)&&g===d)b.stateNode=f;else{var h=b.stateNode,k=Od(L.current),l=null;g!==d&&(l=La(h,c,g,d,e,k));a&&null===l?b.stateNode=f:(f=yb(f,\nl,c,g,d,b,a,h),Ka(f,c,d,e,k)&&lf(b),b.stateNode=f,a?lf(b):mf(f,b,!1,!1))}};pf=function(a,b,c,d){c!==d?(a=Od(Nd.current),c=Od(L.current),b.stateNode=Na(d,a,c,b),lf(b)):b.stateNode=a.stateNode}}else nf=function(){},of=function(){},pf=function(){};\nfunction rf(a,b){if(!Wd)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction sf(a,b,c){var d=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return E(b.type)&&$b(),null;case 3:Qd();z(D);z(B);ee();d=b.stateNode;d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)be(b)?lf(b):d.hydrate||(b.flags|=256);nf(b);return null;case 5:Sd(b);var e=Od(Nd.current);c=b.type;if(null!==a&&null!=b.stateNode)of(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=128);else{if(!d){if(null===\nb.stateNode)throw Error(q(166));return null}a=Od(L.current);if(be(b)){if(!Va)throw Error(q(175));a=Lb(b.stateNode,b.type,b.memoizedProps,e,a,b);b.updateQueue=a;null!==a&&lf(b)}else{var f=Ia(c,d,e,a,b);mf(f,b,!1,!1);b.stateNode=f;Ka(f,c,d,e,a)&&lf(b)}null!==b.ref&&(b.flags|=128)}return null;case 6:if(a&&null!=b.stateNode)pf(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(q(166));a=Od(Nd.current);e=Od(L.current);if(be(b)){if(!Va)throw Error(q(176));Mb(b.stateNode,\nb.memoizedProps,b)&&lf(b)}else b.stateNode=Na(d,a,e,b)}return null;case 13:z(M);d=b.memoizedState;if(0!==(b.flags&64))return b.lanes=c,b;d=null!==d;e=!1;null===a?void 0!==b.memoizedProps.fallback&&be(b):e=null!==a.memoizedState;if(d&&!e&&0!==(b.mode&2))if(null===a&&!0!==b.memoizedProps.unstable_avoidThisFallback||0!==(M.current&1))0===T&&(T=3);else{if(0===T||3===T)T=4;null===R||0===(pd&134217727)&&0===(tf&134217727)||uf(R,U)}Ua&&d&&(b.flags|=4);Ta&&(d||e)&&(b.flags|=4);return null;case 4:return Qd(),\nnf(b),null===a&&ab(b.stateNode.containerInfo),null;case 10:return dd(b),null;case 17:return E(b.type)&&$b(),null;case 19:z(M);d=b.memoizedState;if(null===d)return null;e=0!==(b.flags&64);f=d.rendering;if(null===f)if(e)rf(d,!1);else{if(0!==T||null!==a&&0!==(a.flags&64))for(a=b.child;null!==a;){f=Td(a);if(null!==f){b.flags|=64;rf(d,!1);a=f.updateQueue;null!==a&&(b.updateQueue=a,b.flags|=4);null===d.lastEffect&&(b.firstEffect=null);b.lastEffect=d.lastEffect;a=c;for(d=b.child;null!==d;)e=d,c=a,e.flags&=\n2,e.nextEffect=null,e.firstEffect=null,e.lastEffect=null,f=e.alternate,null===f?(e.childLanes=0,e.lanes=c,e.child=null,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=f.childLanes,e.lanes=f.lanes,e.child=f.child,e.memoizedProps=f.memoizedProps,e.memoizedState=f.memoizedState,e.updateQueue=f.updateQueue,e.type=f.type,c=f.dependencies,e.dependencies=null===c?null:{lanes:c.lanes,firstContext:c.firstContext}),d=d.sibling;A(M,M.current&1|\n2);return b.child}a=a.sibling}null!==d.tail&&G()>vf&&(b.flags|=64,e=!0,rf(d,!1),b.lanes=33554432)}else{if(!e)if(a=Td(f),null!==a){if(b.flags|=64,e=!0,a=a.updateQueue,null!==a&&(b.updateQueue=a,b.flags|=4),rf(d,!0),null===d.tail&&\"hidden\"===d.tailMode&&!f.alternate&&!Wd)return b=b.lastEffect=d.lastEffect,null!==b&&(b.nextEffect=null),null}else 2*G()-d.renderingStartTime>vf&&1073741824!==c&&(b.flags|=64,e=!0,rf(d,!1),b.lanes=33554432);d.isBackwards?(f.sibling=b.child,b.child=f):(a=d.last,null!==a?a.sibling=\nf:b.child=f,d.last=f)}return null!==d.tail?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.lastEffect=b.lastEffect,d.renderingStartTime=G(),a.sibling=null,b=M.current,A(M,e?b&1|2:b&1),a):null;case 23:case 24:return wf(),null!==a&&null!==a.memoizedState!==(null!==b.memoizedState)&&\"unstable-defer-without-hiding\"!==d.mode&&(b.flags|=4),null}throw Error(q(156,b.tag));}\nfunction xf(a){switch(a.tag){case 1:E(a.type)&&$b();var b=a.flags;return b&4096?(a.flags=b&-4097|64,a):null;case 3:Qd();z(D);z(B);ee();b=a.flags;if(0!==(b&64))throw Error(q(285));a.flags=b&-4097|64;return a;case 5:return Sd(a),null;case 13:return z(M),b=a.flags,b&4096?(a.flags=b&-4097|64,a):null;case 19:return z(M),null;case 4:return Qd(),null;case 10:return dd(a),null;case 23:case 24:return wf(),null;default:return null}}\nfunction yf(a,b){try{var c=\"\",d=b;do c+=Wc(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e}}function zf(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Af=\"function\"===typeof WeakMap?WeakMap:Map;function Bf(a,b,c){c=kd(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Cf||(Cf=!0,Df=d);zf(a,b)};return c}\nfunction Ef(a,b,c){c=kd(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){zf(a,b);return d(e)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){\"function\"!==typeof d&&(null===Ff?Ff=new Set([this]):Ff.add(this),zf(a,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}var Gf=\"function\"===typeof WeakSet?WeakSet:Set;\nfunction Hf(a){var b=a.ref;if(null!==b)if(\"function\"===typeof b)try{b(null)}catch(c){If(a,c)}else b.current=null}\nfunction Jf(a,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(b.flags&256&&null!==a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;b=a.getSnapshotBeforeUpdate(b.elementType===b.type?c:Xc(b.type,c),d);a.__reactInternalSnapshotBeforeUpdate=b}return;case 3:Ta&&b.flags&256&&xb(b.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(q(163));}\nfunction Kf(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.destroy;c.destroy=void 0;void 0!==d&&d()}c=c.next}while(c!==b)}}\nfunction Lf(a,b,c){switch(c.tag){case 0:case 11:case 15:case 22:b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{if(3===(a.tag&3)){var d=a.create;a.destroy=d()}a=a.next}while(a!==b)}b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{var e=a;d=e.next;e=e.tag;0!==(e&4)&&0!==(e&1)&&(Mf(c,a),Nf(c,a));a=d}while(a!==b)}return;case 1:a=c.stateNode;c.flags&4&&(null===b?a.componentDidMount():(d=c.elementType===c.type?b.memoizedProps:Xc(c.type,b.memoizedProps),a.componentDidUpdate(d,\nb.memoizedState,a.__reactInternalSnapshotBeforeUpdate)));b=c.updateQueue;null!==b&&qd(c,b,a);return;case 3:b=c.updateQueue;if(null!==b){a=null;if(null!==c.child)switch(c.child.tag){case 5:a=Da(c.child.stateNode);break;case 1:a=c.child.stateNode}qd(c,b,a)}return;case 5:a=c.stateNode;null===b&&c.flags&4&&mb(a,c.type,c.memoizedProps,c);return;case 6:return;case 4:return;case 12:return;case 13:Va&&null===c.memoizedState&&(c=c.alternate,null!==c&&(c=c.memoizedState,null!==c&&(c=c.dehydrated,null!==c&&\nPb(c))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(q(163));}\nfunction Of(a,b){if(Ta)for(var c=a;;){if(5===c.tag){var d=c.stateNode;b?tb(d):vb(c.stateNode,c.memoizedProps)}else if(6===c.tag)d=c.stateNode,b?ub(d):wb(d,c.memoizedProps);else if((23!==c.tag&&24!==c.tag||null===c.memoizedState||c===a)&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===a)break;for(;null===c.sibling;){if(null===c.return||c.return===a)return;c=c.return}c.sibling.return=c.return;c=c.sibling}}\nfunction Pf(a,b){if(fc&&\"function\"===typeof fc.onCommitFiberUnmount)try{fc.onCommitFiberUnmount(ec,b)}catch(f){}switch(b.tag){case 0:case 11:case 14:case 15:case 22:a=b.updateQueue;if(null!==a&&(a=a.lastEffect,null!==a)){var c=a=a.next;do{var d=c,e=d.destroy;d=d.tag;if(void 0!==e)if(0!==(d&4))Mf(b,c);else{d=b;try{e()}catch(f){If(d,f)}}c=c.next}while(c!==a)}break;case 1:Hf(b);a=b.stateNode;if(\"function\"===typeof a.componentWillUnmount)try{a.props=b.memoizedProps,a.state=b.memoizedState,a.componentWillUnmount()}catch(f){If(b,\nf)}break;case 5:Hf(b);break;case 4:Ta?Qf(a,b):Ua&&Ua&&(b=b.stateNode.containerInfo,a=zb(b),Cb(b,a))}}function Rf(a,b){for(var c=b;;)if(Pf(a,c),null===c.child||Ta&&4===c.tag){if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}else c.child.return=c,c=c.child}\nfunction Sf(a){a.alternate=null;a.child=null;a.dependencies=null;a.firstEffect=null;a.lastEffect=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.return=null;a.updateQueue=null}function Tf(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction Uf(a){if(Ta){a:{for(var b=a.return;null!==b;){if(Tf(b))break a;b=b.return}throw Error(q(160));}var c=b;b=c.stateNode;switch(c.tag){case 5:var d=!1;break;case 3:b=b.containerInfo;d=!0;break;case 4:b=b.containerInfo;d=!0;break;default:throw Error(q(161));}c.flags&16&&(sb(b),c.flags&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||Tf(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.flags&2)continue b;if(null===\nc.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.flags&2)){c=c.stateNode;break a}}d?Vf(a,c,b):Wf(a,c,b)}}function Vf(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?pb(c,a,b):kb(c,a);else if(4!==d&&(a=a.child,null!==a))for(Vf(a,b,c),a=a.sibling;null!==a;)Vf(a,b,c),a=a.sibling}\nfunction Wf(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?ob(c,a,b):jb(c,a);else if(4!==d&&(a=a.child,null!==a))for(Wf(a,b,c),a=a.sibling;null!==a;)Wf(a,b,c),a=a.sibling}\nfunction Qf(a,b){for(var c=b,d=!1,e,f;;){if(!d){d=c.return;a:for(;;){if(null===d)throw Error(q(160));e=d.stateNode;switch(d.tag){case 5:f=!1;break a;case 3:e=e.containerInfo;f=!0;break a;case 4:e=e.containerInfo;f=!0;break a}d=d.return}d=!0}if(5===c.tag||6===c.tag)Rf(a,c),f?rb(e,c.stateNode):qb(e,c.stateNode);else if(4===c.tag){if(null!==c.child){e=c.stateNode.containerInfo;f=!0;c.child.return=c;c=c.child;continue}}else if(Pf(a,c),null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;\nfor(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return;4===c.tag&&(d=!1)}c.sibling.return=c.return;c=c.sibling}}\nfunction Xf(a,b){if(Ta){switch(b.tag){case 0:case 11:case 14:case 15:case 22:Kf(3,b);return;case 1:return;case 5:var c=b.stateNode;if(null!=c){var d=b.memoizedProps;a=null!==a?a.memoizedProps:d;var e=b.type,f=b.updateQueue;b.updateQueue=null;null!==f&&nb(c,f,e,a,d,b)}return;case 6:if(null===b.stateNode)throw Error(q(162));c=b.memoizedProps;lb(b.stateNode,null!==a?a.memoizedProps:c,c);return;case 3:Va&&(b=b.stateNode,b.hydrate&&(b.hydrate=!1,Ob(b.containerInfo)));return;case 12:return;case 13:Yf(b);\nZf(b);return;case 19:Zf(b);return;case 17:return;case 23:case 24:Of(b,null!==b.memoizedState);return}throw Error(q(163));}switch(b.tag){case 0:case 11:case 14:case 15:case 22:Kf(3,b);return;case 12:return;case 13:Yf(b);Zf(b);return;case 19:Zf(b);return;case 3:Va&&(c=b.stateNode,c.hydrate&&(c.hydrate=!1,Ob(c.containerInfo)));break;case 23:case 24:return}a:if(Ua){switch(b.tag){case 1:case 5:case 6:case 20:break a;case 3:case 4:b=b.stateNode;Cb(b.containerInfo,b.pendingChildren);break a}throw Error(q(163));\n}}function Yf(a){null!==a.memoizedState&&($f=G(),Ta&&Of(a.child,!0))}function Zf(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Gf);b.forEach(function(b){var d=ag.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}function bg(a,b){return null!==a&&(a=a.memoizedState,null===a||null!==a.dehydrated)?(b=b.memoizedState,null!==b&&null===b.dehydrated):!1}var cg=0,dg=1,eg=2,fg=3,gg=4;\nif(\"function\"===typeof Symbol&&Symbol.for){var hg=Symbol.for;cg=hg(\"selector.component\");dg=hg(\"selector.has_pseudo_class\");eg=hg(\"selector.role\");fg=hg(\"selector.test_id\");gg=hg(\"selector.text\")}function ig(a){var b=Wa(a);if(null!=b){if(\"string\"!==typeof b.memoizedProps[\"data-testname\"])throw Error(q(364));return b}a=cb(a);if(null===a)throw Error(q(362));return a.stateNode.current}\nfunction jg(a,b){switch(b.$$typeof){case cg:if(a.type===b.value)return!0;break;case dg:a:{b=b.value;a=[a,0];for(var c=0;c<a.length;){var d=a[c++],e=a[c++],f=b[e];if(5!==d.tag||!fb(d)){for(;null!=f&&jg(d,f);)e++,f=b[e];if(e===b.length){b=!0;break a}else for(d=d.child;null!==d;)a.push(d,e),d=d.sibling}}b=!1}return b;case eg:if(5===a.tag&&gb(a.stateNode,b.value))return!0;break;case gg:if(5===a.tag||6===a.tag)if(a=eb(a),null!==a&&0<=a.indexOf(b.value))return!0;break;case fg:if(5===a.tag&&(a=a.memoizedProps[\"data-testname\"],\n\"string\"===typeof a&&a.toLowerCase()===b.value.toLowerCase()))return!0;break;default:throw Error(q(365,b));}return!1}function kg(a){switch(a.$$typeof){case cg:return\"<\"+(wa(a.value)||\"Unknown\")+\">\";case dg:return\":has(\"+(kg(a)||\"\")+\")\";case eg:return'[role=\"'+a.value+'\"]';case gg:return'\"'+a.value+'\"';case fg:return'[data-testname=\"'+a.value+'\"]';default:throw Error(q(365,a));}}\nfunction lg(a,b){var c=[];a=[a,0];for(var d=0;d<a.length;){var e=a[d++],f=a[d++],g=b[f];if(5!==e.tag||!fb(e)){for(;null!=g&&jg(e,g);)f++,g=b[f];if(f===b.length)c.push(e);else for(e=e.child;null!==e;)a.push(e,f),e=e.sibling}}return c}function mg(a,b){if(!bb)throw Error(q(363));a=ig(a);a=lg(a,b);b=[];a=Array.from(a);for(var c=0;c<a.length;){var d=a[c++];if(5===d.tag)fb(d)||b.push(d.stateNode);else for(d=d.child;null!==d;)a.push(d),d=d.sibling}return b}var ng=null;\nfunction og(a){if(null===ng)try{var b=(\"require\"+Math.random()).slice(0,7);ng=(module&&module[b]).call(module,\"timers\").setImmediate}catch(c){ng=function(a){var b=new MessageChannel;b.port1.onmessage=a;b.port2.postMessage(void 0)}}return ng(a)}var pg=Math.ceil,qg=ca.ReactCurrentDispatcher,rg=ca.ReactCurrentOwner,sg=ca.IsSomeRendererActing,V=0,R=null,W=null,U=0,tg=0,ug=Wb(0),T=0,vg=null,wg=0,pd=0,tf=0,xg=0,yg=null,$f=0,vf=Infinity;function zg(){vf=G()+500}\nvar X=null,Cf=!1,Df=null,Ff=null,Ag=!1,Bg=null,Cg=90,Dg=[],Eg=[],Fg=null,Gg=0,Hg=null,Ig=-1,Jg=0,Kg=0,Lg=null,Mg=!1;function K(){return 0!==(V&48)?G():-1!==Ig?Ig:Ig=G()}function td(a){a=a.mode;if(0===(a&2))return 1;if(0===(a&4))return 99===Nc()?1:2;0===Jg&&(Jg=wg);if(0!==Sc.transition){0!==Kg&&(Kg=null!==yg?yg.pendingLanes:0);a=Jg;var b=4186112&~Kg;b&=-b;0===b&&(a=4186112&~a,b=a&-a,0===b&&(b=8192));return b}a=Nc();0!==(V&4)&&98===a?a=oc(12,Jg):(a=jc(a),a=oc(a,Jg));return a}\nfunction ud(a,b,c){if(50<Gg)throw Gg=0,Hg=null,Error(q(185));a=Ng(a,b);if(null===a)return null;rc(a,b,c);a===R&&(tf|=b,4===T&&uf(a,U));var d=Nc();1===b?0!==(V&8)&&0===(V&48)?Og(a):(Z(a,c),0===V&&(zg(),H())):(0===(V&4)||98!==d&&99!==d||(null===Fg?Fg=new Set([a]):Fg.add(a)),Z(a,c));yg=a}function Ng(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}\nfunction Z(a,b){for(var c=a.callbackNode,d=a.suspendedLanes,e=a.pingedLanes,f=a.expirationTimes,g=a.pendingLanes;0<g;){var h=31-mc(g),k=1<<h,l=f[h];if(-1===l){if(0===(k&d)||0!==(k&e)){l=b;ic(k);var n=F;f[h]=10<=n?l+250:6<=n?l+5E3:-1}}else l<=b&&(a.expiredLanes|=k);g&=~k}d=lc(a,a===R?U:0);b=F;if(0===d)null!==c&&(c!==Hc&&xc(c),a.callbackNode=null,a.callbackPriority=0);else{if(null!==c){if(a.callbackPriority===b)return;c!==Hc&&xc(c)}15===b?(c=Og.bind(null,a),null===Jc?(Jc=[c],Kc=wc(Cc,Rc)):Jc.push(c),\nc=Hc):14===b?c=Qc(99,Og.bind(null,a)):(c=kc(b),c=Qc(c,Pg.bind(null,a)));a.callbackPriority=b;a.callbackNode=c}}\nfunction Pg(a){Ig=-1;Kg=Jg=0;if(0!==(V&48))throw Error(q(327));var b=a.callbackNode;if(Qg()&&a.callbackNode!==b)return null;var c=lc(a,a===R?U:0);if(0===c)return null;var d=c;var e=V;V|=16;var f=Rg();if(R!==a||U!==d)zg(),Sg(a,d);do try{Tg();break}catch(h){Ug(a,h)}while(1);bd();qg.current=f;V=e;null!==W?d=0:(R=null,U=0,d=T);if(0!==(wg&tf))Sg(a,0);else if(0!==d){2===d&&(V|=64,a.hydrate&&(a.hydrate=!1,xb(a.containerInfo)),c=nc(a),0!==c&&(d=Vg(a,c)));if(1===d)throw b=vg,Sg(a,0),uf(a,c),Z(a,G()),b;a.finishedWork=\na.current.alternate;a.finishedLanes=c;switch(d){case 0:case 1:throw Error(q(345));case 2:Zg(a);break;case 3:uf(a,c);if((c&62914560)===c&&(d=$f+500-G(),10<d)){if(0!==lc(a,0))break;e=a.suspendedLanes;if((e&c)!==c){K();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=Pa(Zg.bind(null,a),d);break}Zg(a);break;case 4:uf(a,c);if((c&4186112)===c)break;d=a.eventTimes;for(e=-1;0<c;){var g=31-mc(c);f=1<<g;g=d[g];g>e&&(e=g);c&=~f}c=e;c=G()-c;c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3E3>c?3E3:4320>\nc?4320:1960*pg(c/1960))-c;if(10<c){a.timeoutHandle=Pa(Zg.bind(null,a),c);break}Zg(a);break;case 5:Zg(a);break;default:throw Error(q(329));}}Z(a,G());return a.callbackNode===b?Pg.bind(null,a):null}function uf(a,b){b&=~xg;b&=~tf;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-mc(b),d=1<<c;a[c]=-1;b&=~d}}\nfunction Og(a){if(0!==(V&48))throw Error(q(327));Qg();if(a===R&&0!==(a.expiredLanes&U)){var b=U;var c=Vg(a,b);0!==(wg&tf)&&(b=lc(a,b),c=Vg(a,b))}else b=lc(a,0),c=Vg(a,b);0!==a.tag&&2===c&&(V|=64,a.hydrate&&(a.hydrate=!1,xb(a.containerInfo)),b=nc(a),0!==b&&(c=Vg(a,b)));if(1===c)throw c=vg,Sg(a,0),uf(a,b),Z(a,G()),c;a.finishedWork=a.current.alternate;a.finishedLanes=b;Zg(a);Z(a,G());return null}\nfunction $g(){if(null!==Fg){var a=Fg;Fg=null;a.forEach(function(a){a.expiredLanes|=24&a.pendingLanes;Z(a,G())})}H()}function ah(a,b){var c=V;V|=1;try{return a(b)}finally{V=c,0===V&&(zg(),H())}}function bh(a,b){var c=V;if(0!==(c&48))return a(b);V|=1;try{if(a)return Pc(99,a.bind(null,b))}finally{V=c,H()}}function Xe(a,b){A(ug,tg);tg|=b;wg|=b}function wf(){tg=ug.current;z(ug)}\nfunction Sg(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;c!==Ra&&(a.timeoutHandle=Ra,Qa(c));if(null!==W)for(c=W.return;null!==c;){var d=c;switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&$b();break;case 3:Qd();z(D);z(B);ee();break;case 5:Sd(d);break;case 4:Qd();break;case 13:z(M);break;case 19:z(M);break;case 10:dd(d);break;case 23:case 24:wf()}c=c.return}R=a;W=Ed(a.current,null);U=tg=wg=b;T=0;vg=null;xg=tf=pd=0}\nfunction Ug(a,b){do{var c=W;try{bd();fe.current=pe;if(ie){for(var d=N.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}ie=!1}he=0;P=O=N=null;je=!1;rg.current=null;if(null===c||null===c.return){T=1;vg=b;W=null;break}a:{var f=a,g=c.return,h=c,k=b;b=U;h.flags|=2048;h.firstEffect=h.lastEffect=null;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k;if(0===(h.mode&2)){var n=h.alternate;n?(h.updateQueue=n.updateQueue,h.memoizedState=n.memoizedState,h.lanes=n.lanes):\n(h.updateQueue=null,h.memoizedState=null)}var t=0!==(M.current&1),p=g;do{var y;if(y=13===p.tag){var x=p.memoizedState;if(null!==x)y=null!==x.dehydrated?!0:!1;else{var Y=p.memoizedProps;y=void 0===Y.fallback?!1:!0!==Y.unstable_avoidThisFallback?!0:t?!1:!0}}if(y){var u=p.updateQueue;if(null===u){var v=new Set;v.add(l);p.updateQueue=v}else u.add(l);if(0===(p.mode&2)){p.flags|=64;h.flags|=16384;h.flags&=-2981;if(1===h.tag)if(null===h.alternate)h.tag=17;else{var C=kd(-1,1);C.tag=2;md(h,C)}h.lanes|=1;break a}k=\nvoid 0;h=b;var Oa=f.pingCache;null===Oa?(Oa=f.pingCache=new Af,k=new Set,Oa.set(l,k)):(k=Oa.get(l),void 0===k&&(k=new Set,Oa.set(l,k)));if(!k.has(h)){k.add(h);var Qe=ch.bind(null,f,l,h);l.then(Qe,Qe)}p.flags|=4096;p.lanes=b;break a}p=p.return}while(null!==p);k=Error((wa(h.type)||\"A React component\")+\" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\")}5!==T&&(T=2);k=\nyf(k,h);p=g;do{switch(p.tag){case 3:f=k;p.flags|=4096;b&=-b;p.lanes|=b;var Wg=Bf(p,f,b);nd(p,Wg);break a;case 1:f=k;var Xg=p.type,ld=p.stateNode;if(0===(p.flags&64)&&(\"function\"===typeof Xg.getDerivedStateFromError||null!==ld&&\"function\"===typeof ld.componentDidCatch&&(null===Ff||!Ff.has(ld)))){p.flags|=4096;b&=-b;p.lanes|=b;var Yg=Ef(p,f,b);nd(p,Yg);break a}}p=p.return}while(null!==p)}dh(c)}catch(w){b=w;W===c&&null!==c&&(W=c=c.return);continue}break}while(1)}\nfunction Rg(){var a=qg.current;qg.current=pe;return null===a?pe:a}function Vg(a,b){var c=V;V|=16;var d=Rg();R===a&&U===b||Sg(a,b);do try{eh();break}catch(e){Ug(a,e)}while(1);bd();V=c;qg.current=d;if(null!==W)throw Error(q(261));R=null;U=0;return T}function eh(){for(;null!==W;)fh(W)}function Tg(){for(;null!==W&&!yc();)fh(W)}function fh(a){var b=gh(a.alternate,a,tg);a.memoizedProps=a.pendingProps;null===b?dh(a):W=b;rg.current=null}\nfunction dh(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&2048)){c=sf(c,b,tg);if(null!==c){W=c;return}c=b;if(24!==c.tag&&23!==c.tag||null===c.memoizedState||0!==(tg&1073741824)||0===(c.mode&4)){for(var d=0,e=c.child;null!==e;)d|=e.lanes|e.childLanes,e=e.sibling;c.childLanes=d}null!==a&&0===(a.flags&2048)&&(null===a.firstEffect&&(a.firstEffect=b.firstEffect),null!==b.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=b.firstEffect),a.lastEffect=b.lastEffect),1<b.flags&&(null!==\na.lastEffect?a.lastEffect.nextEffect=b:a.firstEffect=b,a.lastEffect=b))}else{c=xf(b);if(null!==c){c.flags&=2047;W=c;return}null!==a&&(a.firstEffect=a.lastEffect=null,a.flags|=2048)}b=b.sibling;if(null!==b){W=b;return}W=b=a}while(null!==b);0===T&&(T=5)}function Zg(a){var b=Nc();Pc(99,hh.bind(null,a,b));return null}\nfunction hh(a,b){do Qg();while(null!==Bg);if(0!==(V&48))throw Error(q(327));var c=a.finishedWork;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(q(177));a.callbackNode=null;var d=c.lanes|c.childLanes,e=d,f=a.pendingLanes&~e;a.pendingLanes=e;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=e;a.mutableReadLanes&=e;a.entangledLanes&=e;e=a.entanglements;for(var g=a.eventTimes,h=a.expirationTimes;0<f;){var k=31-mc(f),l=1<<k;e[k]=0;g[k]=-1;h[k]=-1;f&=~l}null!==\nFg&&0===(d&24)&&Fg.has(a)&&Fg.delete(a);a===R&&(W=R=null,U=0);1<c.flags?null!==c.lastEffect?(c.lastEffect.nextEffect=c,d=c.firstEffect):d=c:d=c.firstEffect;if(null!==d){e=V;V|=32;rg.current=null;Lg=Ga(a.containerInfo);Mg=!1;X=d;do try{ih()}catch(v){if(null===X)throw Error(q(330));If(X,v);X=X.nextEffect}while(null!==X);Lg=null;X=d;do try{for(g=a;null!==X;){var n=X.flags;n&16&&Ta&&sb(X.stateNode);if(n&128){var t=X.alternate;if(null!==t){var p=t.ref;null!==p&&(\"function\"===typeof p?p(null):p.current=\nnull)}}switch(n&1038){case 2:Uf(X);X.flags&=-3;break;case 6:Uf(X);X.flags&=-3;Xf(X.alternate,X);break;case 1024:X.flags&=-1025;break;case 1028:X.flags&=-1025;Xf(X.alternate,X);break;case 4:Xf(X.alternate,X);break;case 8:h=g;f=X;Ta?Qf(h,f):Rf(h,f);var y=f.alternate;Sf(f);null!==y&&Sf(y)}X=X.nextEffect}}catch(v){if(null===X)throw Error(q(330));If(X,v);X=X.nextEffect}while(null!==X);Mg&&$a();Ha(a.containerInfo);a.current=c;X=d;do try{for(n=a;null!==X;){var x=X.flags;x&36&&Lf(n,X.alternate,X);if(x&128){t=\nvoid 0;var Y=X.ref;if(null!==Y){var u=X.stateNode;switch(X.tag){case 5:t=Da(u);break;default:t=u}\"function\"===typeof Y?Y(t):Y.current=t}}X=X.nextEffect}}catch(v){if(null===X)throw Error(q(330));If(X,v);X=X.nextEffect}while(null!==X);X=null;Ic();V=e}else a.current=c;if(Ag)Ag=!1,Bg=a,Cg=b;else for(X=d;null!==X;)b=X.nextEffect,X.nextEffect=null,X.flags&8&&(x=X,x.sibling=null,x.stateNode=null),X=b;d=a.pendingLanes;0===d&&(Ff=null);1===d?a===Hg?Gg++:(Gg=0,Hg=a):Gg=0;c=c.stateNode;if(fc&&\"function\"===typeof fc.onCommitFiberRoot)try{fc.onCommitFiberRoot(ec,\nc,void 0,64===(c.current.flags&64))}catch(v){}Z(a,G());if(Cf)throw Cf=!1,a=Df,Df=null,a;if(0!==(V&8))return null;H();return null}function ih(){for(;null!==X;){var a=X.alternate;Mg||null===Lg||(0!==(X.flags&8)?Ca(X,Lg)&&(Mg=!0,Za()):13===X.tag&&bg(a,X)&&Ca(X,Lg)&&(Mg=!0,Za()));var b=X.flags;0!==(b&256)&&Jf(a,X);0===(b&512)||Ag||(Ag=!0,Qc(97,function(){Qg();return null}));X=X.nextEffect}}function Qg(){if(90!==Cg){var a=97<Cg?97:Cg;Cg=90;return Pc(a,jh)}return!1}\nfunction Nf(a,b){Dg.push(b,a);Ag||(Ag=!0,Qc(97,function(){Qg();return null}))}function Mf(a,b){Eg.push(b,a);Ag||(Ag=!0,Qc(97,function(){Qg();return null}))}\nfunction jh(){if(null===Bg)return!1;var a=Bg;Bg=null;if(0!==(V&48))throw Error(q(331));var b=V;V|=32;var c=Eg;Eg=[];for(var d=0;d<c.length;d+=2){var e=c[d],f=c[d+1],g=e.destroy;e.destroy=void 0;if(\"function\"===typeof g)try{g()}catch(k){if(null===f)throw Error(q(330));If(f,k)}}c=Dg;Dg=[];for(d=0;d<c.length;d+=2){e=c[d];f=c[d+1];try{var h=e.create;e.destroy=h()}catch(k){if(null===f)throw Error(q(330));If(f,k)}}for(h=a.current.firstEffect;null!==h;)a=h.nextEffect,h.nextEffect=null,h.flags&8&&(h.sibling=\nnull,h.stateNode=null),h=a;V=b;H();return!0}function kh(a,b,c){b=yf(c,b);b=Bf(a,b,1);md(a,b);b=K();a=Ng(a,1);null!==a&&(rc(a,1,b),Z(a,b))}\nfunction If(a,b){if(3===a.tag)kh(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){kh(c,a,b);break}else if(1===c.tag){var d=c.stateNode;if(\"function\"===typeof c.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ff||!Ff.has(d))){a=yf(b,a);var e=Ef(c,a,1);md(c,e);e=K();c=Ng(c,1);if(null!==c)rc(c,1,e),Z(c,e);else if(\"function\"===typeof d.componentDidCatch&&(null===Ff||!Ff.has(d)))try{d.componentDidCatch(b,a)}catch(f){}break}}c=c.return}}\nfunction ch(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=K();a.pingedLanes|=a.suspendedLanes&c;R===a&&(U&c)===c&&(4===T||3===T&&(U&62914560)===U&&500>G()-$f?Sg(a,0):xg|=c);Z(a,b)}function ag(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=0;0===b&&(b=a.mode,0===(b&2)?b=1:0===(b&4)?b=99===Nc()?1:2:(0===Jg&&(Jg=wg),b=pc(62914560&~Jg),0===b&&(b=4194304)));c=K();a=Ng(a,b);null!==a&&(rc(a,b,c),Z(a,c))}var gh;\ngh=function(a,b,c){var d=b.lanes;if(null!==a)if(a.memoizedProps!==b.pendingProps||D.current)gd=!0;else if(0!==(c&d))gd=0!==(a.flags&16384)?!0:!1;else{gd=!1;switch(b.tag){case 3:af(b);ce();break;case 5:Rd(b);break;case 1:E(b.type)&&cc(b);break;case 4:Pd(b,b.stateNode.containerInfo);break;case 10:cd(b,b.memoizedProps.value);break;case 13:if(null!==b.memoizedState){if(0!==(c&b.child.childLanes))return cf(a,b,c);A(M,M.current&1);b=Re(a,b,c);return null!==b?b.sibling:null}A(M,M.current&1);break;case 19:d=\n0!==(c&b.childLanes);if(0!==(a.flags&64)){if(d)return kf(a,b,c);b.flags|=64}var e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);A(M,M.current);if(d)break;else return null;case 23:case 24:return b.lanes=0,We(a,b,c)}return Re(a,b,c)}else gd=!1;b.lanes=0;switch(b.tag){case 2:d=b.type;null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);a=b.pendingProps;e=Zb(b,B.current);fd(b,c);e=le(null,b,d,a,e,c);b.flags|=1;if(\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&\nvoid 0===e.$$typeof){b.tag=1;b.memoizedState=null;b.updateQueue=null;if(E(d)){var f=!0;cc(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;id(b);var g=d.getDerivedStateFromProps;\"function\"===typeof g&&sd(b,d,g,a);e.updater=vd;b.stateNode=e;e._reactInternals=b;zd(b,d,a,c);b=$e(null,b,d,!0,f,c)}else b.tag=0,S(null,b,e,c),b=b.child;return b;case 16:e=b.elementType;a:{null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);a=b.pendingProps;f=e._init;e=f(e._payload);b.type=e;\nf=b.tag=lh(e);a=Xc(e,a);switch(f){case 0:b=Ve(null,b,e,a,c);break a;case 1:b=Ze(null,b,e,a,c);break a;case 11:b=Pe(null,b,e,a,c);break a;case 14:b=Se(null,b,e,Xc(e.type,a),d,c);break a}throw Error(q(306,e,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Xc(d,e),Ve(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Xc(d,e),Ze(a,b,d,e,c);case 3:af(b);d=b.updateQueue;if(null===a||null===d)throw Error(q(282));d=b.pendingProps;e=b.memoizedState;e=null!==\ne?e.element:null;jd(a,b);od(b,d,null,c);d=b.memoizedState.element;if(d===e)ce(),b=Re(a,b,c);else{e=b.stateNode;if(f=e.hydrate)Va?(Vd=Kb(b.stateNode.containerInfo),Ud=b,f=Wd=!0):f=!1;if(f){if(Va&&(a=e.mutableSourceEagerHydrationData,null!=a))for(e=0;e<a.length;e+=2)f=a[e],g=a[e+1],Sa?f._workInProgressVersionPrimary=g:f._workInProgressVersionSecondary=g,de.push(f);c=Kd(b,null,d,c);for(b.child=c;c;)c.flags=c.flags&-3|1024,c=c.sibling}else S(a,b,d,c),ce();b=b.child}return b;case 5:return Rd(b),null===\na&&$d(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ma(d,e)?g=null:null!==f&&Ma(d,f)&&(b.flags|=16),Ye(a,b),S(a,b,g,c),b.child;case 6:return null===a&&$d(b),null;case 13:return cf(a,b,c);case 4:return Pd(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Jd(b,null,d,c):S(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Xc(d,e),Pe(a,b,d,e,c);case 7:return S(a,b,b.pendingProps,c),b.child;case 8:return S(a,b,b.pendingProps.children,\nc),b.child;case 12:return S(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;g=b.memoizedProps;f=e.value;cd(b,f);if(null!==g){var h=g.value;f=I(h,f)?0:(\"function\"===typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823)|0;if(0===f){if(g.children===e.children&&!D.current){b=Re(a,b,c);break a}}else for(h=b.child,null!==h&&(h.return=b);null!==h;){var k=h.dependencies;if(null!==k){g=h.child;for(var l=k.firstContext;null!==l;){if(l.context===d&&0!==\n(l.observedBits&f)){1===h.tag&&(l=kd(-1,c&-c),l.tag=2,md(h,l));h.lanes|=c;l=h.alternate;null!==l&&(l.lanes|=c);ed(h.return,c);k.lanes|=c;break}l=l.next}}else g=10===h.tag?h.type===b.type?null:h.child:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}h=g.sibling;if(null!==h){h.return=g.return;g=h;break}g=g.return}h=g}}S(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,fd(b,c),e=J(e,f.unstable_observedBits),d=d(e),b.flags|=1,S(a,b,\nd,c),b.child;case 14:return e=b.type,f=Xc(e,b.pendingProps),f=Xc(e.type,f),Se(a,b,e,f,d,c);case 15:return Ue(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Xc(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),b.tag=1,E(d)?(a=!0,cc(b)):a=!1,fd(b,c),xd(b,d,e),zd(b,d,e,c),$e(null,b,d,!0,a,c);case 19:return kf(a,b,c);case 23:return We(a,b,c);case 24:return We(a,b,c)}throw Error(q(156,b.tag));};\nvar mh={current:!1},nh=m.unstable_flushAllWithoutAsserting,oh=\"function\"===typeof nh;function ph(){if(void 0!==nh)return nh();for(var a=!1;Qg();)a=!0;return a}function qh(a){try{ph(),og(function(){ph()?qh(a):a()})}catch(b){a(b)}}var rh=0,sh=!1;\nfunction th(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function Yd(a,b,c,d){return new th(a,b,c,d)}function Te(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction lh(a){if(\"function\"===typeof a)return Te(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===la)return 11;if(a===oa)return 14}return 2}\nfunction Ed(a,b){var c=a.alternate;null===c?(c=Yd(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Gd(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)Te(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case fa:return Id(c.children,e,f,b);case ra:g=8;e|=16;break;case ha:g=8;e|=1;break;case ia:return a=Yd(12,c,b,e|8),a.elementType=ia,a.type=ia,a.lanes=f,a;case ma:return a=Yd(13,c,b,e),a.type=ma,a.elementType=ma,a.lanes=f,a;case na:return a=Yd(19,c,b,e),a.elementType=na,a.lanes=f,a;case sa:return ef(c,e,f,b);case ta:return a=Yd(24,c,b,e),a.elementType=ta,a.lanes=f,a;default:if(\"object\"===\ntypeof a&&null!==a)switch(a.$$typeof){case ja:g=10;break a;case ka:g=9;break a;case la:g=11;break a;case oa:g=14;break a;case pa:g=16;d=null;break a;case qa:g=22;break a}throw Error(q(130,null==a?a:typeof a,\"\"));}b=Yd(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Id(a,b,c,d){a=Yd(7,a,d,b);a.lanes=c;return a}function ef(a,b,c,d){a=Yd(23,a,d,b);a.elementType=sa;a.lanes=c;return a}function Fd(a,b,c){a=Yd(6,a,null,b);a.lanes=c;return a}\nfunction Hd(a,b,c){b=Yd(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction uh(a,b,c){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=Ra;this.pendingContext=this.context=null;this.hydrate=c;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=qc(0);this.expirationTimes=qc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=qc(0);Va&&(this.mutableSourceEagerHydrationData=null)}\nfunction vh(a){var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(q(188));throw Error(q(268,Object.keys(a)));}a=Aa(b);return null===a?null:a.stateNode}function wh(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function xh(a,b){wh(a,b);(a=a.alternate)&&wh(a,b)}function yh(a){a=Aa(a);return null===a?null:a.stateNode}function zh(){return null}exports.IsThisRendererActing=mh;\nexports.act=function(a){function b(){rh--;sg.current=c;mh.current=d}!1===sh&&(sh=!0,console.error(\"act(...) is not supported in production builds of React, and might not behave as expected.\"));rh++;var c=sg.current,d=mh.current;sg.current=!0;mh.current=!0;try{var e=ah(a)}catch(f){throw b(),f;}if(null!==e&&\"object\"===typeof e&&\"function\"===typeof e.then)return{then:function(a,d){e.then(function(){1<rh||!0===oh&&!0===c?(b(),a()):qh(function(c){b();c?d(c):a()})},function(a){b();d(a)})}};try{1!==rh||\n!1!==oh&&!1!==c||ph(),b()}catch(f){throw b(),f;}return{then:function(a){a()}}};exports.attemptContinuousHydration=function(a){if(13===a.tag){var b=K();ud(a,67108864,b);xh(a,67108864)}};exports.attemptHydrationAtCurrentPriority=function(a){if(13===a.tag){var b=K(),c=td(a);ud(a,c,b);xh(a,c)}};\nexports.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.hydrate){var c=ic(b.pendingLanes);b.expiredLanes|=c&b.pendingLanes;Z(b,G());0===(V&48)&&(zg(),H())}break;case 13:var d=K();bh(function(){return ud(a,1,d)});xh(a,4)}};exports.attemptUserBlockingHydration=function(a){if(13===a.tag){var b=K();ud(a,4,b);xh(a,4)}};exports.batchedEventUpdates=function(a,b){var c=V;V|=2;try{return a(b)}finally{V=c,0===V&&(zg(),H())}};exports.batchedUpdates=ah;\nexports.createComponentSelector=function(a){return{$$typeof:cg,value:a}};exports.createContainer=function(a,b,c){a=new uh(a,b,c);b=Yd(3,null,null,2===b?7:1===b?3:0);a.current=b;b.stateNode=a;id(b);return a};exports.createHasPsuedoClassSelector=function(a){return{$$typeof:dg,value:a}};exports.createPortal=function(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ea,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}};\nexports.createRoleSelector=function(a){return{$$typeof:eg,value:a}};exports.createTestNameSelector=function(a){return{$$typeof:fg,value:a}};exports.createTextSelector=function(a){return{$$typeof:gg,value:a}};exports.deferredUpdates=function(a){return Pc(97,a)};exports.discreteUpdates=function(a,b,c,d,e){var f=V;V|=4;try{return Pc(98,a.bind(null,b,c,d,e))}finally{V=f,0===V&&(zg(),H())}};exports.findAllNodes=mg;\nexports.findBoundingRects=function(a,b){if(!bb)throw Error(q(363));b=mg(a,b);a=[];for(var c=0;c<b.length;c++)a.push(db(b[c]));for(b=a.length-1;0<b;b--){c=a[b];for(var d=c.x,e=d+c.width,f=c.y,g=f+c.height,h=b-1;0<=h;h--)if(b!==h){var k=a[h],l=k.x,n=l+k.width,t=k.y,p=t+k.height;if(d>=l&&f>=t&&e<=n&&g<=p){a.splice(b,1);break}else if(!(d!==l||c.width!==k.width||p<f||t>g)){t>f&&(k.height+=t-f,k.y=f);p<g&&(k.height=g-t);a.splice(b,1);break}else if(!(f!==t||c.height!==k.height||n<d||l>e)){l>d&&(k.width+=\nl-d,k.x=d);n<e&&(k.width=e-l);a.splice(b,1);break}}}return a};exports.findHostInstance=vh;exports.findHostInstanceWithNoPortals=function(a){a=Ba(a);return null===a?null:20===a.tag?a.stateNode.instance:a.stateNode};exports.findHostInstanceWithWarning=function(a){return vh(a)};exports.flushControlled=function(a){var b=V;V|=1;try{Pc(99,a)}finally{V=b,0===V&&(zg(),H())}};exports.flushDiscreteUpdates=function(){0===(V&49)&&($g(),Qg())};exports.flushPassiveEffects=Qg;exports.flushSync=bh;\nexports.focusWithin=function(a,b){if(!bb)throw Error(q(363));a=ig(a);b=lg(a,b);b=Array.from(b);for(a=0;a<b.length;){var c=b[a++];if(!fb(c)){if(5===c.tag&&hb(c.stateNode))return!0;for(c=c.child;null!==c;)b.push(c),c=c.sibling}}return!1};exports.getCurrentUpdateLanePriority=function(){return hc};\nexports.getFindAllNodesFailureDescription=function(a,b){if(!bb)throw Error(q(363));var c=0,d=[];a=[ig(a),0];for(var e=0;e<a.length;){var f=a[e++],g=a[e++],h=b[g];if(5!==f.tag||!fb(f))if(jg(f,h)&&(d.push(kg(h)),g++,g>c&&(c=g)),g<b.length)for(f=f.child;null!==f;)a.push(f,g),f=f.sibling}if(c<b.length){for(a=[];c<b.length;c++)a.push(kg(b[c]));return\"findAllNodes was able to match part of the selector:\\n  \"+(d.join(\" > \")+\"\\n\\nNo matching component was found for:\\n  \")+a.join(\" > \")}return null};\nexports.getPublicRootInstance=function(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return Da(a.child.stateNode);default:return a.child.stateNode}};\nexports.injectIntoDevTools=function(a){a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ca.ReactCurrentDispatcher,findHostInstanceByFiber:yh,findFiberByHostInstance:a.findFiberByHostInstance||zh,findHostInstancesForRefresh:null,\nscheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(\"undefined\"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)a=!1;else{var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!b.isDisabled&&b.supportsFiber)try{ec=b.inject(a),fc=b}catch(c){}a=!0}return a};exports.observeVisibleRects=function(a,b,c,d){if(!bb)throw Error(q(363));a=mg(a,b);var e=ib(a,c,d).disconnect;return{disconnect:function(){e()}}};\nexports.registerMutableSourceForHydration=function(a,b){var c=b._getVersion;c=c(b._source);null==a.mutableSourceEagerHydrationData?a.mutableSourceEagerHydrationData=[b,c]:a.mutableSourceEagerHydrationData.push(b,c)};exports.runWithPriority=function(a,b){var c=hc;try{return hc=a,b()}finally{hc=c}};exports.shouldSuspend=function(){return!1};exports.unbatchedUpdates=function(a,b){var c=V;V&=-2;V|=8;try{return a(b)}finally{V=c,0===V&&(zg(),H())}};\nexports.updateContainer=function(a,b,c,d){var e=b.current,f=K(),g=td(e);a:if(c){c=c._reactInternals;b:{if(xa(c)!==c||1!==c.tag)throw Error(q(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break b;case 1:if(E(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break b}}h=h.return}while(null!==h);throw Error(q(171));}if(1===c.tag){var k=c.type;if(E(k)){c=bc(c,k,h);break a}}c=h}else c=Xb;null===b.context?b.context=c:b.pendingContext=c;b=kd(f,g);b.payload={element:a};d=void 0===\nd?null:d;null!==d&&(b.callback=d);md(e,b);ud(e,g,f);return g};\n\n    return exports;\n};\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { forwardRef, useMemo, useRef, useLayoutEffect, createElement } from 'react';\nimport { Shape } from 'three';\n\nconst eps = 0.00001;\n\nfunction createShape(width, height, radius0) {\n  const shape = new Shape();\n  const radius = radius0 - eps;\n  shape.absarc(eps, eps, eps, -Math.PI / 2, -Math.PI, true);\n  shape.absarc(eps, height - radius * 2, eps, Math.PI, Math.PI / 2, true);\n  shape.absarc(width - radius * 2, height - radius * 2, eps, Math.PI / 2, 0, true);\n  shape.absarc(width - radius * 2, eps, eps, 0, -Math.PI / 2, true);\n  return shape;\n}\n\nconst RoundedBox = /*#__PURE__*/forwardRef(function RoundedBox(_ref, ref) {\n  let {\n    args: [width = 1, height = 1, depth = 1] = [],\n    radius = 0.05,\n    smoothness = 4,\n    children\n  } = _ref,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"args\", \"radius\", \"smoothness\", \"children\"]);\n\n  const shape = useMemo(() => createShape(width, height, radius), [width, height, radius]);\n  const params = useMemo(() => ({\n    depth: depth - radius * 2,\n    bevelEnabled: true,\n    bevelSegments: smoothness * 2,\n    steps: 1,\n    bevelSize: radius - eps,\n    bevelThickness: radius,\n    curveSegments: smoothness\n  }), [depth, radius, smoothness]);\n  const geomRef = useRef();\n  useLayoutEffect(() => {\n    if (geomRef.current) {\n      geomRef.current.center();\n    }\n  }, [shape, params]);\n  return /*#__PURE__*/createElement(\"mesh\", _extends({\n    ref: ref\n  }, rest), /*#__PURE__*/createElement(\"extrudeBufferGeometry\", {\n    attach: \"geometry\",\n    ref: geomRef,\n    args: [shape, params]\n  }), children);\n});\n\nexport { RoundedBox };\n","import { forwardRef, useRef, useMemo, useState, createElement } from 'react';\nimport { Color, Vector3, Spherical, AdditiveBlending, ShaderMaterial } from 'three';\nimport { useFrame } from '@react-three/fiber';\n\nclass StarfieldMaterial extends ShaderMaterial {\n  constructor() {\n    super({\n      uniforms: {\n        time: {\n          value: 0.0\n        },\n        fade: {\n          value: 1.0\n        }\n      },\n      vertexShader:\n      /* glsl */\n      \"\\n      uniform float time;\\n      attribute float size;\\n      varying vec3 vColor;\\n      void main() {\\n        vColor = color;\\n        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);\\n        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(mvPosition.x + 2.0 * time + 100.0));\\n        gl_Position = projectionMatrix * mvPosition;\\n      }\",\n      fragmentShader:\n      /* glsl */\n      \"\\n      uniform sampler2D pointTexture;\\n      uniform float fade;\\n      varying vec3 vColor;\\n      void main() {\\n        float opacity = 1.0;\\n        if (fade == 1.0) {\\n          float d = distance(gl_PointCoord, vec2(0.5, 0.5));\\n          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));\\n        }\\n        gl_FragColor = vec4(vColor, opacity);\\n      }\"\n    });\n  }\n\n}\n\nconst genStar = r => {\n  return new Vector3().setFromSpherical(new Spherical(r, Math.acos(1 - Math.random() * 2), Math.random() * 2 * Math.PI));\n};\n\nconst Stars = /*#__PURE__*/forwardRef(({\n  radius = 100,\n  depth = 50,\n  count = 5000,\n  saturation = 0,\n  factor = 4,\n  fade = false\n}, ref) => {\n  const material = useRef();\n  const [position, color, size] = useMemo(() => {\n    const positions = [];\n    const colors = [];\n    const sizes = Array.from({\n      length: count\n    }, () => (0.5 + 0.5 * Math.random()) * factor);\n    const color = new Color();\n    let r = radius + depth;\n    const increment = depth / count;\n\n    for (let i = 0; i < count; i++) {\n      r -= increment * Math.random();\n      positions.push(...genStar(r).toArray());\n      color.setHSL(i / count, saturation, 0.9);\n      colors.push(color.r, color.g, color.b);\n    }\n\n    return [new Float32Array(positions), new Float32Array(colors), new Float32Array(sizes)];\n  }, [count, depth, factor, radius, saturation]);\n  useFrame(state => material.current && (material.current.uniforms.time.value = state.clock.getElapsedTime()));\n  const [starfieldMaterial] = useState(() => new StarfieldMaterial());\n  return /*#__PURE__*/createElement(\"points\", {\n    ref: ref\n  }, /*#__PURE__*/createElement(\"bufferGeometry\", {\n    attach: \"geometry\"\n  }, /*#__PURE__*/createElement(\"bufferAttribute\", {\n    attachObject: ['attributes', 'position'],\n    args: [position, 3]\n  }), /*#__PURE__*/createElement(\"bufferAttribute\", {\n    attachObject: ['attributes', 'color'],\n    args: [color, 3]\n  }), /*#__PURE__*/createElement(\"bufferAttribute\", {\n    attachObject: ['attributes', 'size'],\n    args: [size, 1]\n  })), /*#__PURE__*/createElement(\"primitive\", {\n    dispose: undefined,\n    ref: material,\n    object: starfieldMaterial,\n    attach: \"material\",\n    blending: AdditiveBlending,\n    \"uniforms-fade-value\": fade,\n    transparent: true,\n    vertexColors: true\n  }));\n});\n\nexport { Stars };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport { ShaderChunk } from 'three';\n\nconst pcss = ({\n  frustrum,\n  frustum = 3.75,\n  size = 0.005,\n  near = 9.5,\n  samples = 17,\n  rings = 11\n} = {}) => \"#define LIGHT_WORLD_SIZE \" + size + \"\\n#define LIGHT_FRUSTUM_WIDTH \" + (frustrum != null ? frustrum : frustum) + \"\\n#define LIGHT_SIZE_UV (LIGHT_WORLD_SIZE / LIGHT_FRUSTUM_WIDTH)\\n#define NEAR_PLANE \" + near + \"\\n\\n#define NUM_SAMPLES \" + samples + \"\\n#define NUM_RINGS \" + rings + \"\\n#define BLOCKER_SEARCH_NUM_SAMPLES NUM_SAMPLES\\n#define PCF_NUM_SAMPLES NUM_SAMPLES\\n\\nvec2 poissonDisk[NUM_SAMPLES];\\n\\nvoid initPoissonSamples(const in vec2 randomSeed) {\\n\\tfloat ANGLE_STEP = PI2 * float(NUM_RINGS) / float(NUM_SAMPLES);\\n\\tfloat INV_NUM_SAMPLES = 1.0 / float(NUM_SAMPLES);\\n\\tfloat angle = rand(randomSeed) * PI2;\\n\\tfloat radius = INV_NUM_SAMPLES;\\n\\tfloat radiusStep = radius;\\n\\tfor (int i = 0; i < NUM_SAMPLES; i++) {\\n\\t\\tpoissonDisk[i] = vec2(cos(angle), sin(angle)) * pow(radius, 0.75);\\n\\t\\tradius += radiusStep;\\n\\t\\tangle += ANGLE_STEP;\\n\\t}\\n}\\n\\nfloat penumbraSize(const in float zReceiver, const in float zBlocker) { // Parallel plane estimation\\n\\treturn (zReceiver - zBlocker) / zBlocker;\\n}\\n\\nfloat findBlocker(sampler2D shadowMap, const in vec2 uv, const in float zReceiver) {\\n\\tfloat searchRadius = LIGHT_SIZE_UV * (zReceiver - NEAR_PLANE) / zReceiver;\\n\\tfloat blockerDepthSum = 0.0;\\n\\tint numBlockers = 0;\\n\\tfor (int i = 0; i < BLOCKER_SEARCH_NUM_SAMPLES; i++) {\\n\\t\\tfloat shadowMapDepth = unpackRGBAToDepth(texture2D(shadowMap, uv + poissonDisk[i] * searchRadius));\\n\\t\\tif (shadowMapDepth < zReceiver) {\\n\\t\\t\\tblockerDepthSum += shadowMapDepth;\\n\\t\\t\\tnumBlockers++;\\n\\t\\t}\\n\\t}\\n\\tif (numBlockers == 0) return -1.0;\\n\\treturn blockerDepthSum / float(numBlockers);\\n}\\n\\nfloat PCF_Filter(sampler2D shadowMap, vec2 uv, float zReceiver, float filterRadius) {\\n\\tfloat sum = 0.0;\\n\\tfor (int i = 0; i < PCF_NUM_SAMPLES; i++) {\\n\\t\\tfloat depth = unpackRGBAToDepth(texture2D(shadowMap, uv + poissonDisk[ i ] * filterRadius));\\n\\t\\tif (zReceiver <= depth) sum += 1.0;\\n\\t}\\n\\tfor (int i = 0; i < PCF_NUM_SAMPLES; i++) {\\n\\t\\tfloat depth = unpackRGBAToDepth(texture2D(shadowMap, uv + -poissonDisk[ i ].yx * filterRadius));\\n\\t\\tif (zReceiver <= depth) sum += 1.0;\\n\\t}\\n\\treturn sum / (2.0 * float(PCF_NUM_SAMPLES));\\n}\\n\\nfloat PCSS(sampler2D shadowMap, vec4 coords) {\\n\\tvec2 uv = coords.xy;\\n\\tfloat zReceiver = coords.z; // Assumed to be eye-space z in this code\\n\\tinitPoissonSamples(uv);\\n\\tfloat avgBlockerDepth = findBlocker(shadowMap, uv, zReceiver);\\n\\tif (avgBlockerDepth == -1.0) return 1.0;\\n\\tfloat penumbraRatio = penumbraSize(zReceiver, avgBlockerDepth);\\n\\tfloat filterRadius = penumbraRatio * LIGHT_SIZE_UV * NEAR_PLANE / zReceiver;\\n\\treturn PCF_Filter(shadowMap, uv, zReceiver, filterRadius);\\n}\";\n\nlet deployed = false;\nconst softShadows = props => {\n  // Avoid adding the effect twice, which may happen in HMR scenarios\n  if (!deployed) {\n    if (props == null ? void 0 : props.frustrum) {\n      console.warn('You have used an incorrect spelling of frustrum, this will be deprecated in the future');\n    }\n\n    deployed = true;\n    let shader = ShaderChunk.shadowmap_pars_fragment;\n    shader = shader.replace('#ifdef USE_SHADOWMAP', '#ifdef USE_SHADOWMAP\\n' + pcss(_extends({}, props)));\n    shader = shader.replace('#if defined( SHADOWMAP_TYPE_PCF )', '\\nreturn PCSS(shadowMap, shadowCoord);\\n#if defined( SHADOWMAP_TYPE_PCF )');\n    ShaderChunk.shadowmap_pars_fragment = shader;\n  }\n};\n\nexport { softShadows };\n","import { useEffect } from 'react';\nimport { useThree } from '@react-three/fiber';\n\nfunction AdaptiveDpr({\n  pixelated\n}) {\n  const gl = useThree(state => state.gl);\n  const active = useThree(state => state.internal.active);\n  const current = useThree(state => state.performance.current);\n  const initialDpr = useThree(state => state.viewport.initialDpr);\n  const setDpr = useThree(state => state.setDpr); // Restore initial pixelratio on unmount\n\n  useEffect(() => {\n    const domElement = gl.domElement;\n    return () => {\n      if (active) setDpr(initialDpr);\n      if (pixelated && domElement) domElement.style.imageRendering = 'auto';\n    };\n  }, []); // Set adaptive pixelratio\n\n  useEffect(() => {\n    setDpr(current * initialDpr);\n    if (pixelated && gl.domElement) gl.domElement.style.imageRendering = current === 1 ? 'auto' : 'pixelated';\n  }, [current]);\n  return null;\n}\n\nexport { AdaptiveDpr };\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","var distort = \"#define GLSLIFY 1\\nvec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}\"; // eslint-disable-line\n\nexport default distort;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { forwardRef, useState, createElement } from 'react';\nimport { MeshPhysicalMaterial } from 'three';\nimport { useFrame } from '@react-three/fiber';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport distort from '../helpers/glsl/distort.vert.glsl.js';\n\nclass DistortMaterialImpl extends MeshPhysicalMaterial {\n  constructor(parameters = {}) {\n    super(parameters);\n\n    _defineProperty(this, \"_time\", void 0);\n\n    _defineProperty(this, \"_distort\", void 0);\n\n    _defineProperty(this, \"_radius\", void 0);\n\n    this.setValues(parameters);\n    this._time = {\n      value: 0\n    };\n    this._distort = {\n      value: 0.4\n    };\n    this._radius = {\n      value: 1\n    };\n  }\n\n  onBeforeCompile(shader) {\n    shader.uniforms.time = this._time;\n    shader.uniforms.radius = this._radius;\n    shader.uniforms.distort = this._distort;\n    shader.vertexShader = \"\\n      uniform float time;\\n      uniform float radius;\\n      uniform float distort;\\n      \" + distort + \"\\n      \" + shader.vertexShader + \"\\n    \";\n    shader.vertexShader = shader.vertexShader.replace('#include <begin_vertex>', \"\\n        float updateTime = time / 50.0;\\n        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));\\n        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));\\n        \");\n  }\n\n  get time() {\n    return this._time.value;\n  }\n\n  set time(v) {\n    this._time.value = v;\n  }\n\n  get distort() {\n    return this._distort.value;\n  }\n\n  set distort(v) {\n    this._distort.value = v;\n  }\n\n  get radius() {\n    return this._radius.value;\n  }\n\n  set radius(v) {\n    this._radius.value = v;\n  }\n\n}\n\nconst MeshDistortMaterial = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    speed = 1\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, [\"speed\"]);\n\n  const [material] = useState(() => new DistortMaterialImpl());\n  useFrame(state => material && (material.time = state.clock.getElapsedTime() * speed));\n  return /*#__PURE__*/createElement(\"primitive\", _extends({\n    dispose: undefined,\n    object: material,\n    ref: ref,\n    attach: \"material\"\n  }, props));\n});\n\nexport { MeshDistortMaterial };\n","import * as React from \"react\";\n\nexport default function mergeRefs<T = any>(\n  refs: Array<React.MutableRefObject<T> | React.LegacyRef<T>>\n): React.RefCallback<T> {\n  return (value) => {\n    refs.forEach((ref) => {\n      if (typeof ref === \"function\") {\n        ref(value);\n      } else if (ref != null) {\n        (ref as React.MutableRefObject<T | null>).current = value;\n      }\n    });\n  };\n}\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { forwardRef, useRef, useLayoutEffect, createElement } from 'react';\nimport { useThree } from '@react-three/fiber';\nimport mergeRefs from 'react-merge-refs';\n\nconst PerspectiveCamera = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n    makeDefault = false\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, [\"makeDefault\"]);\n\n  const set = useThree(({\n    set\n  }) => set);\n  const camera = useThree(({\n    camera\n  }) => camera);\n  const size = useThree(({\n    size\n  }) => size);\n  const cameraRef = useRef();\n  useLayoutEffect(() => {\n    const {\n      current: cam\n    } = cameraRef;\n\n    if (cam) {\n      cam.aspect = size.width / size.height;\n      cam.updateProjectionMatrix();\n    }\n  }, [size, props]);\n  useLayoutEffect(() => {\n    if (makeDefault && cameraRef.current) {\n      const oldCam = camera;\n      set(() => ({\n        camera: cameraRef.current\n      }));\n      return () => set(() => ({\n        camera: oldCam\n      }));\n    }\n  }, [camera, cameraRef, makeDefault, set]);\n  return /*#__PURE__*/createElement(\"perspectiveCamera\", _extends({\n    ref: mergeRefs([cameraRef, ref])\n  }, props));\n});\n\nexport { PerspectiveCamera };\n","import { useState, useLayoutEffect } from 'react';\n\nfunction call(ref, value) {\n  if (typeof ref === 'function') ref(value);else if (ref != null) ref.current = value;\n}\n\nfunction useEffectfulState(fn, deps = [], cb) {\n  const [state, set] = useState();\n  useLayoutEffect(() => {\n    const value = fn();\n    set(value);\n    call(cb, value);\n    return () => call(cb, null); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n  return state;\n}\n\nexport default useEffectfulState;\n","import { useEffect } from 'react';\nimport { addEffect, addAfterEffect } from '@react-three/fiber';\nimport StatsImpl from 'three/examples/js/libs/stats.min';\nimport useEffectfulState from '../helpers/useEffectfulState.js';\n\nfunction Stats({\n  showPanel = 0,\n  className,\n  parent\n}) {\n  const stats = useEffectfulState(() => new StatsImpl(), []);\n  useEffect(() => {\n    if (stats) {\n      const node = parent && parent.current || document.body;\n      stats.showPanel(showPanel);\n      node == null ? void 0 : node.appendChild(stats.dom);\n      if (className) stats.dom.classList.add(className);\n      const begin = addEffect(() => stats.begin());\n      const end = addAfterEffect(() => stats.end());\n      return () => {\n        node == null ? void 0 : node.removeChild(stats.dom);\n        begin();\n        end();\n      };\n    }\n  }, [parent, stats, className, showPanel]);\n  return null;\n}\n\nexport { Stats };\n"],"sourceRoot":""}